const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BdAV_C_H.js","assets/tex-CxkMU7Pf.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-CE9lU5zL.js","assets/csharp-K5feNrxe.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-DnHKYNfI.js","assets/vue-html-CChd_i61.js","assets/vue-vine-8moa0y9V.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function N1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},Ko={};var dw;function wO(){if(dw)return Ko;dw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Ko.Fragment=e,Ko.jsx=n,Ko.jsxs=n,Ko}var pw;function xO(){return pw||(pw=1,Ip.exports=wO()),Ip.exports}var O=xO(),Np={exports:{}},Me={};var mw;function SO(){if(mw)return Me;mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),_=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=_&&N[_]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function S(N,U,A){this.props=N,this.context=U,this.refs=C,this.updater=A||v}S.prototype.isReactComponent={},S.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=S.prototype;function T(N,U,A){this.props=N,this.context=U,this.refs=C,this.updater=A||v}var L=T.prototype=new I;L.constructor=T,w(L,S.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function E(){}var M={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function q(N,U,A){var W=A.ref;return{$$typeof:t,type:N,key:U,ref:W!==void 0?W:null,props:A}}function P(N,U){return q(N.type,U,N.props)}function K(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function ie(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(A){return U[A]})}var ge=/\/+/g;function he(N,U){return typeof N=="object"&&N!==null&&N.key!=null?ie(""+N.key):U.toString(36)}function re(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(E,E):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,U,A,W,ee){var ue=typeof N;(ue==="undefined"||ue==="boolean")&&(N=null);var oe=!1;if(N===null)oe=!0;else switch(ue){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(N.$$typeof){case t:case e:oe=!0;break;case m:return oe=N._init,F(oe(N._payload),U,A,W,ee)}}if(oe)return ee=ee(N),oe=W===""?"."+he(N,0):W,z(ee)?(A="",oe!=null&&(A=oe.replace(ge,"$&/")+"/"),F(ee,U,A,"",function(Ke){return Ke})):ee!=null&&(K(ee)&&(ee=P(ee,A+(ee.key==null||N&&N.key===ee.key?"":(""+ee.key).replace(ge,"$&/")+"/")+oe)),U.push(ee)),1;oe=0;var _e=W===""?".":W+":";if(z(N))for(var ye=0;ye<N.length;ye++)W=N[ye],ue=_e+he(W,ye),oe+=F(W,U,A,ue,ee);else if(ye=y(N),typeof ye=="function")for(N=ye.call(N),ye=0;!(W=N.next()).done;)W=W.value,ue=_e+he(W,ye++),oe+=F(W,U,A,ue,ee);else if(ue==="object"){if(typeof N.then=="function")return F(re(N),U,A,W,ee);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return oe}function te(N,U,A){if(N==null)return N;var W=[],ee=0;return F(N,W,"","",function(ue){return U.call(A,ue,ee++)}),W}function de(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(A){(N._status===0||N._status===-1)&&(N._status=1,N._result=A)},function(A){(N._status===0||N._status===-1)&&(N._status=2,N._result=A)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var fe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},k={map:te,forEach:function(N,U,A){te(N,function(){U.apply(this,arguments)},A)},count:function(N){var U=0;return te(N,function(){U++}),U},toArray:function(N){return te(N,function(U){return U})||[]},only:function(N){if(!K(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Me.Activity=p,Me.Children=k,Me.Component=S,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=T,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return M.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(N,U,A){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=w({},N.props),ee=N.key;if(U!=null)for(ue in U.key!==void 0&&(ee=""+U.key),U)!$.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(W[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)W.children=A;else if(1<ue){for(var oe=Array(ue),_e=0;_e<ue;_e++)oe[_e]=arguments[_e+2];W.children=oe}return q(N.type,ee,W)},Me.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},Me.createElement=function(N,U,A){var W,ee={},ue=null;if(U!=null)for(W in U.key!==void 0&&(ue=""+U.key),U)$.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ee[W]=U[W]);var oe=arguments.length-2;if(oe===1)ee.children=A;else if(1<oe){for(var _e=Array(oe),ye=0;ye<oe;ye++)_e[ye]=arguments[ye+2];ee.children=_e}if(N&&N.defaultProps)for(W in oe=N.defaultProps,oe)ee[W]===void 0&&(ee[W]=oe[W]);return q(N,ue,ee)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:c,render:N}},Me.isValidElement=K,Me.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:de}},Me.memo=function(N,U){return{$$typeof:d,type:N,compare:U===void 0?null:U}},Me.startTransition=function(N){var U=M.T,A={};M.T=A;try{var W=N(),ee=M.S;ee!==null&&ee(A,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(E,fe)}catch(ue){fe(ue)}finally{U!==null&&A.types!==null&&(U.types=A.types),M.T=U}},Me.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Me.use=function(N){return M.H.use(N)},Me.useActionState=function(N,U,A){return M.H.useActionState(N,U,A)},Me.useCallback=function(N,U){return M.H.useCallback(N,U)},Me.useContext=function(N){return M.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,U){return M.H.useDeferredValue(N,U)},Me.useEffect=function(N,U){return M.H.useEffect(N,U)},Me.useEffectEvent=function(N){return M.H.useEffectEvent(N)},Me.useId=function(){return M.H.useId()},Me.useImperativeHandle=function(N,U,A){return M.H.useImperativeHandle(N,U,A)},Me.useInsertionEffect=function(N,U){return M.H.useInsertionEffect(N,U)},Me.useLayoutEffect=function(N,U){return M.H.useLayoutEffect(N,U)},Me.useMemo=function(N,U){return M.H.useMemo(N,U)},Me.useOptimistic=function(N,U){return M.H.useOptimistic(N,U)},Me.useReducer=function(N,U,A){return M.H.useReducer(N,U,A)},Me.useRef=function(N){return M.H.useRef(N)},Me.useState=function(N){return M.H.useState(N)},Me.useSyncExternalStore=function(N,U,A){return M.H.useSyncExternalStore(N,U,A)},Me.useTransition=function(){return M.H.useTransition()},Me.version="19.2.3",Me}var gw;function Ff(){return gw||(gw=1,Np.exports=SO()),Np.exports}var J=Ff(),Dp={exports:{}},Zo={},Mp={exports:{}},Lp={};var yw;function EO(){return yw||(yw=1,(function(t){function e(F,te){var de=F.length;F.push(te);e:for(;0<de;){var fe=de-1>>>1,k=F[fe];if(0<i(k,te))F[fe]=te,F[de]=k,de=fe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],de=F.pop();if(de!==te){F[0]=de;e:for(var fe=0,k=F.length,N=k>>>1;fe<N;){var U=2*(fe+1)-1,A=F[U],W=U+1,ee=F[W];if(0>i(A,de))W<k&&0>i(ee,A)?(F[fe]=ee,F[W]=de,fe=W):(F[fe]=A,F[U]=de,fe=U);else if(W<k&&0>i(ee,de))F[fe]=ee,F[W]=de,fe=W;else break e}}return te}function i(F,te){var de=F.sortIndex-te.sortIndex;return de!==0?de:F.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,p=null,_=3,y=!1,v=!1,w=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(F){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=F)r(d),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(d)}}function z(F){if(w=!1,L(F),!v)if(n(f)!==null)v=!0,E||(E=!0,ie());else{var te=n(d);te!==null&&re(z,te.startTime-F)}}var E=!1,M=-1,$=5,q=-1;function P(){return C?!0:!(t.unstable_now()-q<$)}function K(){if(C=!1,E){var F=t.unstable_now();q=F;var te=!0;try{e:{v=!1,w&&(w=!1,I(M),M=-1),y=!0;var de=_;try{t:{for(L(F),p=n(f);p!==null&&!(p.expirationTime>F&&P());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,_=p.priorityLevel;var k=fe(p.expirationTime<=F);if(F=t.unstable_now(),typeof k=="function"){p.callback=k,L(F),te=!0;break t}p===n(f)&&r(f),L(F)}else r(f);p=n(f)}if(p!==null)te=!0;else{var N=n(d);N!==null&&re(z,N.startTime-F),te=!1}}break e}finally{p=null,_=de,y=!1}te=void 0}}finally{te?ie():E=!1}}}var ie;if(typeof T=="function")ie=function(){T(K)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,he=ge.port2;ge.port1.onmessage=K,ie=function(){he.postMessage(null)}}else ie=function(){S(K,0)};function re(F,te){M=S(function(){F(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(F){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var de=_;_=te;try{return F()}finally{_=de}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=_;_=F;try{return te()}finally{_=de}},t.unstable_scheduleCallback=function(F,te,de){var fe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?fe+de:fe):de=fe,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=de+k,F={id:m++,callback:te,priorityLevel:F,startTime:de,expirationTime:k,sortIndex:-1},de>fe?(F.sortIndex=de,e(d,F),n(f)===null&&F===n(d)&&(w?(I(M),M=-1):w=!0,re(z,de-fe))):(F.sortIndex=k,e(f,F),v||y||(v=!0,E||(E=!0,ie()))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var te=_;return function(){var de=_;_=te;try{return F.apply(this,arguments)}finally{_=de}}}})(Lp)),Lp}var _w;function kO(){return _w||(_w=1,Mp.exports=EO()),Mp.exports}var zp={exports:{}},fn={};var bw;function CO(){if(bw)return fn;bw=1;var t=Ff();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},fn.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},fn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},fn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:_,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:_,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},fn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},fn.requestFormReset=function(f){r.d.r(f)},fn.unstable_batchedUpdates=function(f,d){return f(d)},fn.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var vw;function TO(){if(vw)return zp.exports;vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=CO(),zp.exports}var ww;function AO(){if(ww)return Zo;ww=1;var t=kO(),e=Ff(),n=TO();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,h=o;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return f(g),s;if(b===h)return f(g),o;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=b;else{for(var x=!1,R=g.child;R;){if(R===u){x=!0,u=g,h=b;break}if(R===h){x=!0,h=g,u=b;break}R=R.sibling}if(!x){for(R=b.child;R;){if(R===u){x=!0,u=b,h=g;break}if(R===h){x=!0,h=b,u=g;break}R=R.sibling}if(!x)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var ge=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ge?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case E:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case T:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:he(s.type)||"Memo";case $:o=s._payload,s=s._init;try{return he(s(o))}catch{}}return null}var re=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],k=-1;function N(s){return{current:s}}function U(s){0>k||(s.current=fe[k],fe[k]=null,k--)}function A(s,o){k++,fe[k]=s.current,s.current=o}var W=N(null),ee=N(null),ue=N(null),oe=N(null);function _e(s,o){switch(A(ue,o),A(ee,s),A(W,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?zv(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=zv(o),s=Pv(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}U(W),A(W,s)}function ye(){U(W),U(ee),U(ue)}function Ke(s){s.memoizedState!==null&&A(oe,s);var o=W.current,u=Pv(o,s.type);o!==u&&(A(ee,s),A(W,u))}function We(s){ee.current===s&&(U(W),U(ee)),oe.current===s&&(U(oe),Fo._currentValue=de)}var et,ft;function Mt(s){if(et===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);et=o&&o[1]||"",ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+s+ft}var Vt=!1;function _n(s,o){if(!s||Vt)return"";Vt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Y){var Q=Y}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(Y){Q=Y}s.call(ae.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),x=b[0],R=b[1];if(x&&R){var j=x.split(`
`),G=R.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===G.length)for(h=j.length-1,g=G.length-1;1<=h&&0<=g&&j[h]!==G[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==G[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==G[g]){var ne=`
`+j[h].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=h&&0<=g);break}}}finally{Vt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Mt(u):""}function Xt(s,o){switch(s.tag){case 26:case 27:case 5:return Mt(s.type);case 16:return Mt("Lazy");case 13:return s.child!==o&&o!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return _n(s.type,!1);case 11:return _n(s.type.render,!1);case 1:return _n(s.type,!0);case 31:return Mt("Activity");default:return""}}function Cn(s){try{var o="",u=null;do o+=Xt(s,u),u=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var $n=Object.prototype.hasOwnProperty,Tn=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,Be=t.unstable_shouldYield,Ue=t.unstable_requestPaint,Ae=t.unstable_now,Je=t.unstable_getCurrentPriorityLevel,X=t.unstable_ImmediatePriority,le=t.unstable_UserBlockingPriority,ve=t.unstable_NormalPriority,Ee=t.unstable_LowPriority,Ie=t.unstable_IdlePriority,wt=t.log,cn=t.unstable_setDisableYieldValue,Ht=null,bt=null;function An(s){if(typeof wt=="function"&&cn(s),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ht,s)}catch{}}var lt=Math.clz32?Math.clz32:oA,pi=Math.log,vr=Math.LN2;function oA(s){return s>>>=0,s===0?32:31-(pi(s)/vr|0)|0}var nu=256,ru=262144,iu=4194304;function ts(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function su(s,o,u){var h=s.pendingLanes;if(h===0)return 0;var g=0,b=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~b,h!==0?g=ts(h):(x&=R,x!==0?g=ts(x):u||(u=R&~s,u!==0&&(g=ts(u))))):(R=h&~b,R!==0?g=ts(R):x!==0?g=ts(x):u||(u=h&~s,u!==0&&(g=ts(u)))),g===0?0:o!==0&&o!==g&&(o&b)===0&&(b=g&-g,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:g}function to(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function lA(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(){var s=iu;return iu<<=1,(iu&62914560)===0&&(iu=4194304),s}function bh(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function no(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function uA(s,o,u,h,g,b){var x=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var R=s.entanglements,j=s.expirationTimes,G=s.hiddenUpdates;for(u=x&~u;0<u;){var ne=31-lt(u),ae=1<<ne;R[ne]=0,j[ne]=-1;var Q=G[ne];if(Q!==null)for(G[ne]=null,ne=0;ne<Q.length;ne++){var Y=Q[ne];Y!==null&&(Y.lane&=-536870913)}u&=~ae}h!==0&&_0(s,h,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(x&~o))}function _0(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-lt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function b0(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-lt(u),g=1<<h;g&o|s[h]&o&&(s[h]|=o),u&=~g}}function v0(s,o){var u=o&-o;return u=(u&42)!==0?1:vh(u),(u&(s.suspendedLanes|o))!==0?0:u}function vh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wh(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function w0(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:aw(s.type))}function x0(s,o){var u=te.p;try{return te.p=s,o()}finally{te.p=u}}var mi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+mi,Rn="__reactProps$"+mi,js="__reactContainer$"+mi,xh="__reactEvents$"+mi,cA="__reactListeners$"+mi,fA="__reactHandles$"+mi,S0="__reactResources$"+mi,ro="__reactMarker$"+mi;function Sh(s){delete s[Wt],delete s[Rn],delete s[xh],delete s[cA],delete s[fA]}function Bs(s){var o=s[Wt];if(o)return o;for(var u=s.parentNode;u;){if(o=u[js]||u[Wt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Vv(s);s!==null;){if(u=s[Wt])return u;s=Vv(s)}return o}s=u,u=s.parentNode}return null}function Us(s){if(s=s[Wt]||s[js]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function io(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function $s(s){var o=s[S0];return o||(o=s[S0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(s){s[ro]=!0}var E0=new Set,k0={};function ns(s,o){qs(s,o),qs(s+"Capture",o)}function qs(s,o){for(k0[s]=o,s=0;s<o.length;s++)E0.add(o[s])}var hA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),C0={},T0={};function dA(s){return $n.call(T0,s)?!0:$n.call(C0,s)?!1:hA.test(s)?T0[s]=!0:(C0[s]=!0,!1)}function au(s,o,u){if(dA(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function ou(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Fr(s,o,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+h)}}function nr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function A0(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pA(s,o,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,b=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){u=""+x,b.call(this,x)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Eh(s){if(!s._valueTracker){var o=A0(s)?"checked":"value";s._valueTracker=pA(s,o,""+s[o])}}function R0(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=A0(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function lu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var mA=/[\n"\\]/g;function rr(s){return s.replace(mA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kh(s,o,u,h,g,b,x,R){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),o!=null?x==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+nr(o)):s.value!==""+nr(o)&&(s.value=""+nr(o)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),o!=null?Ch(s,x,nr(o)):u!=null?Ch(s,x,nr(u)):h!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+nr(R):s.removeAttribute("name")}function O0(s,o,u,h,g,b,x,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Eh(s);return}u=u!=null?""+nr(u):"",o=o!=null?""+nr(o):u,R||o===s.value||(s.value=o),s.defaultValue=o}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Eh(s)}function Ch(s,o,u){o==="number"&&lu(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Fs(s,o,u,h){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+nr(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function I0(s,o,u){if(o!=null&&(o=""+nr(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+nr(u):""}function N0(s,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(re(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=nr(o),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),Eh(s)}function Vs(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var gA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D0(s,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,u):typeof u!="number"||u===0||gA.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function M0(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in o)h=o[g],o.hasOwnProperty(g)&&u[g]!==h&&D0(s,g,h)}else for(var b in o)o.hasOwnProperty(b)&&D0(s,b,o[b])}function Th(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_A=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(s){return _A.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Vr(){}var Ah=null;function Rh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hs=null,Gs=null;function L0(s){var o=Us(s);if(o&&(s=o.stateNode)){var u=s[Rn]||null;e:switch(s=o.stateNode,o.type){case"input":if(kh(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+rr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var g=h[Rn]||null;if(!g)throw Error(r(90));kh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===s.form&&R0(h)}break e;case"textarea":I0(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Fs(s,!!u.multiple,o,!1)}}}var Oh=!1;function z0(s,o,u){if(Oh)return s(o,u);Oh=!0;try{var h=s(o);return h}finally{if(Oh=!1,(Hs!==null||Gs!==null)&&(Ju(),Hs&&(o=Hs,s=Gs,Gs=Hs=null,L0(o),s)))for(o=0;o<s.length;o++)L0(s[o])}}function so(s,o){var u=s.stateNode;if(u===null)return null;var h=u[Rn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=!1;if(Hr)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Ih=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Ih=!1}var gi=null,Nh=null,cu=null;function P0(){if(cu)return cu;var s,o=Nh,u=o.length,h,g="value"in gi?gi.value:gi.textContent,b=g.length;for(s=0;s<u&&o[s]===g[s];s++);var x=u-s;for(h=1;h<=x&&o[u-h]===g[b-h];h++);return cu=g.slice(s,1<h?1-h:void 0)}function fu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function hu(){return!0}function j0(){return!1}function On(s){function o(u,h,g,b,x){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=x,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?hu:j0,this.isPropagationStopped=j0,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),o}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=On(rs),oo=p({},rs,{view:0,detail:0}),bA=On(oo),Dh,Mh,lo,pu=p({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==lo&&(lo&&s.type==="mousemove"?(Dh=s.screenX-lo.screenX,Mh=s.screenY-lo.screenY):Mh=Dh=0,lo=s),Dh)},movementY:function(s){return"movementY"in s?s.movementY:Mh}}),B0=On(pu),vA=p({},pu,{dataTransfer:0}),wA=On(vA),xA=p({},oo,{relatedTarget:0}),Lh=On(xA),SA=p({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),EA=On(SA),kA=p({},rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),CA=On(kA),TA=p({},rs,{data:0}),U0=On(TA),AA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=OA[s])?!!o[s]:!1}function zh(){return IA}var NA=p({},oo,{key:function(s){if(s.key){var o=AA[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=fu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?RA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(s){return s.type==="keypress"?fu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),DA=On(NA),MA=p({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$0=On(MA),LA=p({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),zA=On(LA),PA=p({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jA=On(PA),BA=p({},pu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=On(BA),$A=p({},rs,{newState:0,oldState:0}),qA=On($A),FA=[9,13,27,32],Ph=Hr&&"CompositionEvent"in window,uo=null;Hr&&"documentMode"in document&&(uo=document.documentMode);var VA=Hr&&"TextEvent"in window&&!uo,q0=Hr&&(!Ph||uo&&8<uo&&11>=uo),F0=" ",V0=!1;function H0(s,o){switch(s){case"keyup":return FA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ks=!1;function HA(s,o){switch(s){case"compositionend":return G0(o);case"keypress":return o.which!==32?null:(V0=!0,F0);case"textInput":return s=o.data,s===F0&&V0?null:s;default:return null}}function GA(s,o){if(Ks)return s==="compositionend"||!Ph&&H0(s,o)?(s=P0(),cu=Nh=gi=null,Ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return q0&&o.locale!=="ko"?null:o.data;default:return null}}var KA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!KA[s.type]:o==="textarea"}function Z0(s,o,u,h){Hs?Gs?Gs.push(h):Gs=[h]:Hs=h,o=rc(o,"onChange"),0<o.length&&(u=new du("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var co=null,fo=null;function ZA(s){Ov(s,0)}function mu(s){var o=io(s);if(R0(o))return s}function Q0(s,o){if(s==="change")return o}var J0=!1;if(Hr){var jh;if(Hr){var Bh="oninput"in document;if(!Bh){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),Bh=typeof Y0.oninput=="function"}jh=Bh}else jh=!1;J0=jh&&(!document.documentMode||9<document.documentMode)}function X0(){co&&(co.detachEvent("onpropertychange",W0),fo=co=null)}function W0(s){if(s.propertyName==="value"&&mu(fo)){var o=[];Z0(o,fo,s,Rh(s)),z0(ZA,o)}}function QA(s,o,u){s==="focusin"?(X0(),co=o,fo=u,co.attachEvent("onpropertychange",W0)):s==="focusout"&&X0()}function JA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mu(fo)}function YA(s,o){if(s==="click")return mu(o)}function XA(s,o){if(s==="input"||s==="change")return mu(o)}function WA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var qn=typeof Object.is=="function"?Object.is:WA;function ho(s,o){if(qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!$n.call(o,g)||!qn(s[g],o[g]))return!1}return!0}function e_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t_(s,o){var u=e_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=e_(u)}}function n_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?n_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function r_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=lu(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=lu(s.document)}return o}function Uh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var eR=Hr&&"documentMode"in document&&11>=document.documentMode,Zs=null,$h=null,po=null,qh=!1;function i_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qh||Zs==null||Zs!==lu(h)||(h=Zs,"selectionStart"in h&&Uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),po&&ho(po,h)||(po=h,h=rc($h,"onSelect"),0<h.length&&(o=new du("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Zs)))}function is(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Qs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Fh={},s_={};Hr&&(s_=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ss(s){if(Fh[s])return Fh[s];if(!Qs[s])return s;var o=Qs[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in s_)return Fh[s]=o[u];return s}var a_=ss("animationend"),o_=ss("animationiteration"),l_=ss("animationstart"),tR=ss("transitionrun"),nR=ss("transitionstart"),rR=ss("transitioncancel"),u_=ss("transitionend"),c_=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function wr(s,o){c_.set(s,o),ns(o,[s])}var gu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ir=[],Js=0,Hh=0;function yu(){for(var s=Js,o=Hh=Js=0;o<s;){var u=ir[o];ir[o++]=null;var h=ir[o];ir[o++]=null;var g=ir[o];ir[o++]=null;var b=ir[o];if(ir[o++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}b!==0&&f_(u,g,b)}}function _u(s,o,u,h){ir[Js++]=s,ir[Js++]=o,ir[Js++]=u,ir[Js++]=h,Hh|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Gh(s,o,u,h){return _u(s,o,u,h),bu(s)}function as(s,o){return _u(s,null,null,o),bu(s)}function f_(s,o,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var g=!1,b=s.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&o!==null&&(g=31-lt(u),s=b.hiddenUpdates,h=s[g],h===null?s[g]=[o]:h.push(o),o.lane=u|536870912),b):null}function bu(s){if(50<zo)throw zo=0,tp=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Ys={};function iR(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,o,u,h){return new iR(s,o,u,h)}function Kh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Gr(s,o){var u=s.alternate;return u===null?(u=Fn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function h_(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function vu(s,o,u,h,g,b){var x=0;if(h=s,typeof s=="function")Kh(s)&&(x=1);else if(typeof s=="string")x=uO(s,u,W.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Fn(31,u,o,g),s.elementType=q,s.lanes=b,s;case w:return os(u.children,g,b,o);case C:x=8,g|=24;break;case S:return s=Fn(12,u,o,g|2),s.elementType=S,s.lanes=b,s;case z:return s=Fn(13,u,o,g),s.elementType=z,s.lanes=b,s;case E:return s=Fn(19,u,o,g),s.elementType=E,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:x=10;break e;case I:x=9;break e;case L:x=11;break e;case M:x=14;break e;case $:x=16,h=null;break e}x=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Fn(x,u,o,g),o.elementType=s,o.type=h,o.lanes=b,o}function os(s,o,u,h){return s=Fn(7,s,h,o),s.lanes=u,s}function Zh(s,o,u){return s=Fn(6,s,null,o),s.lanes=u,s}function d_(s){var o=Fn(18,null,null,0);return o.stateNode=s,o}function Qh(s,o,u){return o=Fn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var p_=new WeakMap;function sr(s,o){if(typeof s=="object"&&s!==null){var u=p_.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Cn(o)},p_.set(s,o),o)}return{value:s,source:o,stack:Cn(o)}}var Xs=[],Ws=0,wu=null,mo=0,ar=[],or=0,yi=null,Tr=1,Ar="";function Kr(s,o){Xs[Ws++]=mo,Xs[Ws++]=wu,wu=s,mo=o}function m_(s,o,u){ar[or++]=Tr,ar[or++]=Ar,ar[or++]=yi,yi=s;var h=Tr;s=Ar;var g=32-lt(h)-1;h&=~(1<<g),u+=1;var b=32-lt(o)+g;if(30<b){var x=g-g%5;b=(h&(1<<x)-1).toString(32),h>>=x,g-=x,Tr=1<<32-lt(o)+g|u<<g|h,Ar=b+s}else Tr=1<<b|u<<g|h,Ar=s}function Jh(s){s.return!==null&&(Kr(s,1),m_(s,1,0))}function Yh(s){for(;s===wu;)wu=Xs[--Ws],Xs[Ws]=null,mo=Xs[--Ws],Xs[Ws]=null;for(;s===yi;)yi=ar[--or],ar[or]=null,Ar=ar[--or],ar[or]=null,Tr=ar[--or],ar[or]=null}function g_(s,o){ar[or++]=Tr,ar[or++]=Ar,ar[or++]=yi,Tr=o.id,Ar=o.overflow,yi=s}var en=null,dt=null,Ze=!1,_i=null,lr=!1,Xh=Error(r(519));function bi(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(sr(o,s)),Xh}function y_(s){var o=s.stateNode,u=s.type,h=s.memoizedProps;switch(o[Wt]=s,o[Rn]=h,u){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(u=0;u<jo.length;u++)qe(jo[u],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":qe("invalid",o),O0(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":qe("invalid",o);break;case"textarea":qe("invalid",o),N0(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Mv(o.textContent,u)?(h.popover!=null&&(qe("beforetoggle",o),qe("toggle",o)),h.onScroll!=null&&qe("scroll",o),h.onScrollEnd!=null&&qe("scrollend",o),h.onClick!=null&&(o.onclick=Vr),o=!0):o=!1,o||bi(s,!0)}function __(s){for(en=s.return;en;)switch(en.tag){case 5:case 31:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:en=en.return}}function ea(s){if(s!==en)return!1;if(!Ze)return __(s),Ze=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||gp(s.type,s.memoizedProps)),u=!u),u&&dt&&bi(s),__(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));dt=Fv(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));dt=Fv(s)}else o===27?(o=dt,Di(s.type)?(s=wp,wp=null,dt=s):dt=o):dt=en?cr(s.stateNode.nextSibling):null;return!0}function ls(){dt=en=null,Ze=!1}function Wh(){var s=_i;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),_i=null),s}function go(s){_i===null?_i=[s]:_i.push(s)}var ed=N(null),us=null,Zr=null;function vi(s,o,u){A(ed,o._currentValue),o._currentValue=u}function Qr(s){s._currentValue=ed.current,U(ed)}function td(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function nd(s,o,u,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var x=g.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=g;for(var j=0;j<o.length;j++)if(R.context===o[j]){b.lanes|=u,R=b.alternate,R!==null&&(R.lanes|=u),td(b.return,u,s),h||(x=null);break e}b=R.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=u,b=x.alternate,b!==null&&(b.lanes|=u),td(x,u,s),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function ta(s,o,u,h){s=null;for(var g=o,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var R=g.type;qn(g.pendingProps.value,x.value)||(s!==null?s.push(R):s=[R])}}else if(g===oe.current){if(x=g.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Fo):s=[Fo])}g=g.return}s!==null&&nd(o,s,u,h),o.flags|=262144}function xu(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function cs(s){us=s,Zr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tn(s){return b_(us,s)}function Su(s,o){return us===null&&cs(s),b_(s,o)}function b_(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Zr===null){if(s===null)throw Error(r(308));Zr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Zr=Zr.next=o;return u}var sR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},aR=t.unstable_scheduleCallback,oR=t.unstable_NormalPriority,Ct={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new sR,data:new Map,refCount:0}}function yo(s){s.refCount--,s.refCount===0&&aR(oR,function(){s.controller.abort()})}var _o=null,id=0,na=0,ra=null;function lR(s,o){if(_o===null){var u=_o=[];id=0,na=op(),ra={status:"pending",value:void 0,then:function(h){u.push(h)}}}return id++,o.then(v_,v_),o}function v_(){if(--id===0&&_o!==null){ra!==null&&(ra.status="fulfilled");var s=_o;_o=null,na=0,ra=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function uR(s,o){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var w_=F.S;F.S=function(s,o){iv=Ae(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&lR(s,o),w_!==null&&w_(s,o)};var fs=N(null);function sd(){var s=fs.current;return s!==null?s:ut.pooledCache}function Eu(s,o){o===null?A(fs,fs.current):A(fs,o.pool)}function x_(){var s=sd();return s===null?null:{parent:Ct._currentValue,pool:s}}var ia=Error(r(460)),ad=Error(r(474)),ku=Error(r(542)),Cu={then:function(){}};function S_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function E_(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Vr,Vr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,C_(s),s;default:if(typeof o.status=="string")o.then(Vr,Vr);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=h}},function(h){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,C_(s),s}throw ds=o,ia}}function hs(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ds=u,ia):u}}var ds=null;function k_(){if(ds===null)throw Error(r(459));var s=ds;return ds=null,s}function C_(s){if(s===ia||s===ku)throw Error(r(483))}var sa=null,bo=0;function Tu(s){var o=bo;return bo+=1,sa===null&&(sa=[]),E_(sa,s,o)}function vo(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Au(s,o){throw o.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function T_(s){function o(V,B){if(s){var H=V.deletions;H===null?(V.deletions=[B],V.flags|=16):H.push(B)}}function u(V,B){if(!s)return null;for(;B!==null;)o(V,B),B=B.sibling;return null}function h(V){for(var B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function g(V,B){return V=Gr(V,B),V.index=0,V.sibling=null,V}function b(V,B,H){return V.index=H,s?(H=V.alternate,H!==null?(H=H.index,H<B?(V.flags|=67108866,B):H):(V.flags|=67108866,B)):(V.flags|=1048576,B)}function x(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function R(V,B,H,se){return B===null||B.tag!==6?(B=Zh(H,V.mode,se),B.return=V,B):(B=g(B,H),B.return=V,B)}function j(V,B,H,se){var Ce=H.type;return Ce===w?ne(V,B,H.props.children,se,H.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===$&&hs(Ce)===B.type)?(B=g(B,H.props),vo(B,H),B.return=V,B):(B=vu(H.type,H.key,H.props,null,V.mode,se),vo(B,H),B.return=V,B)}function G(V,B,H,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=Qh(H,V.mode,se),B.return=V,B):(B=g(B,H.children||[]),B.return=V,B)}function ne(V,B,H,se,Ce){return B===null||B.tag!==7?(B=os(H,V.mode,se,Ce),B.return=V,B):(B=g(B,H),B.return=V,B)}function ae(V,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zh(""+B,V.mode,H),B.return=V,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return H=vu(B.type,B.key,B.props,null,V.mode,H),vo(H,B),H.return=V,H;case v:return B=Qh(B,V.mode,H),B.return=V,B;case $:return B=hs(B),ae(V,B,H)}if(re(B)||ie(B))return B=os(B,V.mode,H,null),B.return=V,B;if(typeof B.then=="function")return ae(V,Tu(B),H);if(B.$$typeof===T)return ae(V,Su(V,B),H);Au(V,B)}return null}function Q(V,B,H,se){var Ce=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ce!==null?null:R(V,B,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return H.key===Ce?j(V,B,H,se):null;case v:return H.key===Ce?G(V,B,H,se):null;case $:return H=hs(H),Q(V,B,H,se)}if(re(H)||ie(H))return Ce!==null?null:ne(V,B,H,se,null);if(typeof H.then=="function")return Q(V,B,Tu(H),se);if(H.$$typeof===T)return Q(V,B,Su(V,H),se);Au(V,H)}return null}function Y(V,B,H,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return V=V.get(H)||null,R(B,V,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return V=V.get(se.key===null?H:se.key)||null,j(B,V,se,Ce);case v:return V=V.get(se.key===null?H:se.key)||null,G(B,V,se,Ce);case $:return se=hs(se),Y(V,B,H,se,Ce)}if(re(se)||ie(se))return V=V.get(H)||null,ne(B,V,se,Ce,null);if(typeof se.then=="function")return Y(V,B,H,Tu(se),Ce);if(se.$$typeof===T)return Y(V,B,H,Su(B,se),Ce);Au(B,se)}return null}function we(V,B,H,se){for(var Ce=null,Ye=null,Se=B,ze=B=0,He=null;Se!==null&&ze<H.length;ze++){Se.index>ze?(He=Se,Se=null):He=Se.sibling;var Xe=Q(V,Se,H[ze],se);if(Xe===null){Se===null&&(Se=He);break}s&&Se&&Xe.alternate===null&&o(V,Se),B=b(Xe,B,ze),Ye===null?Ce=Xe:Ye.sibling=Xe,Ye=Xe,Se=He}if(ze===H.length)return u(V,Se),Ze&&Kr(V,ze),Ce;if(Se===null){for(;ze<H.length;ze++)Se=ae(V,H[ze],se),Se!==null&&(B=b(Se,B,ze),Ye===null?Ce=Se:Ye.sibling=Se,Ye=Se);return Ze&&Kr(V,ze),Ce}for(Se=h(Se);ze<H.length;ze++)He=Y(Se,V,ze,H[ze],se),He!==null&&(s&&He.alternate!==null&&Se.delete(He.key===null?ze:He.key),B=b(He,B,ze),Ye===null?Ce=He:Ye.sibling=He,Ye=He);return s&&Se.forEach(function(ji){return o(V,ji)}),Ze&&Kr(V,ze),Ce}function Oe(V,B,H,se){if(H==null)throw Error(r(151));for(var Ce=null,Ye=null,Se=B,ze=B=0,He=null,Xe=H.next();Se!==null&&!Xe.done;ze++,Xe=H.next()){Se.index>ze?(He=Se,Se=null):He=Se.sibling;var ji=Q(V,Se,Xe.value,se);if(ji===null){Se===null&&(Se=He);break}s&&Se&&ji.alternate===null&&o(V,Se),B=b(ji,B,ze),Ye===null?Ce=ji:Ye.sibling=ji,Ye=ji,Se=He}if(Xe.done)return u(V,Se),Ze&&Kr(V,ze),Ce;if(Se===null){for(;!Xe.done;ze++,Xe=H.next())Xe=ae(V,Xe.value,se),Xe!==null&&(B=b(Xe,B,ze),Ye===null?Ce=Xe:Ye.sibling=Xe,Ye=Xe);return Ze&&Kr(V,ze),Ce}for(Se=h(Se);!Xe.done;ze++,Xe=H.next())Xe=Y(Se,V,ze,Xe.value,se),Xe!==null&&(s&&Xe.alternate!==null&&Se.delete(Xe.key===null?ze:Xe.key),B=b(Xe,B,ze),Ye===null?Ce=Xe:Ye.sibling=Xe,Ye=Xe);return s&&Se.forEach(function(vO){return o(V,vO)}),Ze&&Kr(V,ze),Ce}function ot(V,B,H,se){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case y:e:{for(var Ce=H.key;B!==null;){if(B.key===Ce){if(Ce=H.type,Ce===w){if(B.tag===7){u(V,B.sibling),se=g(B,H.props.children),se.return=V,V=se;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===$&&hs(Ce)===B.type){u(V,B.sibling),se=g(B,H.props),vo(se,H),se.return=V,V=se;break e}u(V,B);break}else o(V,B);B=B.sibling}H.type===w?(se=os(H.props.children,V.mode,se,H.key),se.return=V,V=se):(se=vu(H.type,H.key,H.props,null,V.mode,se),vo(se,H),se.return=V,V=se)}return x(V);case v:e:{for(Ce=H.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){u(V,B.sibling),se=g(B,H.children||[]),se.return=V,V=se;break e}else{u(V,B);break}else o(V,B);B=B.sibling}se=Qh(H,V.mode,se),se.return=V,V=se}return x(V);case $:return H=hs(H),ot(V,B,H,se)}if(re(H))return we(V,B,H,se);if(ie(H)){if(Ce=ie(H),typeof Ce!="function")throw Error(r(150));return H=Ce.call(H),Oe(V,B,H,se)}if(typeof H.then=="function")return ot(V,B,Tu(H),se);if(H.$$typeof===T)return ot(V,B,Su(V,H),se);Au(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(u(V,B.sibling),se=g(B,H),se.return=V,V=se):(u(V,B),se=Zh(H,V.mode,se),se.return=V,V=se),x(V)):u(V,B)}return function(V,B,H,se){try{bo=0;var Ce=ot(V,B,H,se);return sa=null,Ce}catch(Se){if(Se===ia||Se===ku)throw Se;var Ye=Fn(29,Se,null,V.mode);return Ye.lanes=se,Ye.return=V,Ye}}}var ps=T_(!0),A_=T_(!1),wi=!1;function od(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Si(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(tt&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,o=bu(s),f_(s,null,u),o}return _u(s,h,o,u),bu(s)}function wo(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,b0(s,u)}}function ud(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=x:b=b.next=x,u=u.next}while(u!==null);b===null?g=b=o:b=b.next=o}else g=b=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var cd=!1;function xo(){if(cd){var s=ra;if(s!==null)throw s}}function So(s,o,u,h){cd=!1;var g=s.updateQueue;wi=!1;var b=g.firstBaseUpdate,x=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var j=R,G=j.next;j.next=null,x===null?b=G:x.next=G,x=j;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==x&&(R===null?ne.firstBaseUpdate=G:R.next=G,ne.lastBaseUpdate=j))}if(b!==null){var ae=g.baseState;x=0,ne=G=j=null,R=b;do{var Q=R.lane&-536870913,Y=Q!==R.lane;if(Y?(Ve&Q)===Q:(h&Q)===Q){Q!==0&&Q===na&&(cd=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var we=s,Oe=R;Q=o;var ot=u;switch(Oe.tag){case 1:if(we=Oe.payload,typeof we=="function"){ae=we.call(ot,ae,Q);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Oe.payload,Q=typeof we=="function"?we.call(ot,ae,Q):we,Q==null)break e;ae=p({},ae,Q);break e;case 2:wi=!0}}Q=R.callback,Q!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(G=ne=Y,j=ae):ne=ne.next=Y,x|=Q;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);ne===null&&(j=ae),g.baseState=j,g.firstBaseUpdate=G,g.lastBaseUpdate=ne,b===null&&(g.shared.lanes=0),Ai|=x,s.lanes=x,s.memoizedState=ae}}function R_(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function O_(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)R_(u[s],o)}var aa=N(null),Ru=N(0);function I_(s,o){s=ii,A(Ru,s),A(aa,o),ii=s|o.baseLanes}function fd(){A(Ru,ii),A(aa,aa.current)}function hd(){ii=Ru.current,U(aa),U(Ru)}var Vn=N(null),ur=null;function Ei(s){var o=s.alternate;A(Et,Et.current&1),A(Vn,s),ur===null&&(o===null||aa.current!==null||o.memoizedState!==null)&&(ur=s)}function dd(s){A(Et,Et.current),A(Vn,s),ur===null&&(ur=s)}function N_(s){s.tag===22?(A(Et,Et.current),A(Vn,s),ur===null&&(ur=s)):ki()}function ki(){A(Et,Et.current),A(Vn,Vn.current)}function Hn(s){U(Vn),ur===s&&(ur=null),U(Et)}var Et=N(0);function Ou(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||bp(u)||vp(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jr=0,Le=null,st=null,Tt=null,Iu=!1,oa=!1,ms=!1,Nu=0,Eo=0,la=null,cR=0;function xt(){throw Error(r(321))}function pd(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!qn(s[u],o[u]))return!1;return!0}function md(s,o,u,h,g,b){return Jr=b,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=s===null||s.memoizedState===null?mb:Od,ms=!1,b=u(h,g),ms=!1,oa&&(b=M_(o,u,h,g)),D_(s),b}function D_(s){F.H=To;var o=st!==null&&st.next!==null;if(Jr=0,Tt=st=Le=null,Iu=!1,Eo=0,la=null,o)throw Error(r(300));s===null||At||(s=s.dependencies,s!==null&&xu(s)&&(At=!0))}function M_(s,o,u,h){Le=s;var g=0;do{if(oa&&(la=null),Eo=0,oa=!1,25<=g)throw Error(r(301));if(g+=1,Tt=st=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=gb,b=o(u,h)}while(oa);return b}function fR(){var s=F.H,o=s.useState()[0];return o=typeof o.then=="function"?ko(o):o,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Le.flags|=1024),o}function gd(){var s=Nu!==0;return Nu=0,s}function yd(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function _d(s){if(Iu){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Iu=!1}Jr=0,Tt=st=Le=null,oa=!1,Eo=Nu=0,la=null}function bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Le.memoizedState=Tt=s:Tt=Tt.next=s,Tt}function kt(){if(st===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var o=Tt===null?Le.memoizedState:Tt.next;if(o!==null)Tt=o,st=s;else{if(s===null)throw Le.alternate===null?Error(r(467)):Error(r(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Tt===null?Le.memoizedState=Tt=s:Tt=Tt.next=s}return Tt}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(s){var o=Eo;return Eo+=1,la===null&&(la=[]),s=E_(la,s,o),o=Le,(Tt===null?o.memoizedState:Tt.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?mb:Od),s}function Mu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ko(s);if(s.$$typeof===T)return tn(s)}throw Error(r(438,String(s)))}function bd(s){var o=null,u=Le.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Le.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Du(),Le.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),h=0;h<s;h++)u[h]=P;return o.index++,u}function Yr(s,o){return typeof o=="function"?o(s):o}function Lu(s){var o=kt();return vd(o,st,s)}function vd(s,o,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=s.baseQueue,b=h.pending;if(b!==null){if(g!==null){var x=g.next;g.next=b.next,b.next=x}o.baseQueue=g=b,h.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{o=g.next;var R=x=null,j=null,G=o,ne=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Ve&ae)===ae:(Jr&ae)===ae){var Q=G.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===na&&(ne=!0);else if((Jr&Q)===Q){G=G.next,Q===na&&(ne=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(R=j=ae,x=b):j=j.next=ae,Le.lanes|=Q,Ai|=Q;ae=G.action,ms&&u(b,ae),b=G.hasEagerState?G.eagerState:u(b,ae)}else Q={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(R=j=Q,x=b):j=j.next=Q,Le.lanes|=ae,Ai|=ae;G=G.next}while(G!==null&&G!==o);if(j===null?x=b:j.next=R,!qn(b,s.memoizedState)&&(At=!0,ne&&(u=ra,u!==null)))throw u;s.memoizedState=b,s.baseState=x,s.baseQueue=j,h.lastRenderedState=b}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function wd(s){var o=kt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,b=o.memoizedState;if(g!==null){u.pending=null;var x=g=g.next;do b=s(b,x.action),x=x.next;while(x!==g);qn(b,o.memoizedState)||(At=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,h]}function L_(s,o,u){var h=Le,g=kt(),b=Ze;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var x=!qn((st||g).memoizedState,u);if(x&&(g.memoizedState=u,At=!0),g=g.queue,Ed(j_.bind(null,h,g,s),[s]),g.getSnapshot!==o||x||Tt!==null&&Tt.memoizedState.tag&1){if(h.flags|=2048,ua(9,{destroy:void 0},P_.bind(null,h,g,u,o),null),ut===null)throw Error(r(349));b||(Jr&127)!==0||z_(h,o,u)}return u}function z_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Le.updateQueue,o===null?(o=Du(),Le.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function P_(s,o,u,h){o.value=u,o.getSnapshot=h,B_(o)&&U_(s)}function j_(s,o,u){return u(function(){B_(o)&&U_(s)})}function B_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!qn(s,u)}catch{return!0}}function U_(s){var o=as(s,2);o!==null&&Ln(o,s,2)}function xd(s){var o=bn();if(typeof s=="function"){var u=s;if(s=u(),ms){An(!0);try{u()}finally{An(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},o}function $_(s,o,u,h){return s.baseState=u,vd(s,st,typeof h=="function"?h:Yr)}function hR(s,o,u,h,g){if(ju(s))throw Error(r(485));if(s=o.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){b.listeners.push(x)}};F.T!==null?u(!0):b.isTransition=!1,h(b),u=o.pending,u===null?(b.next=o.pending=b,q_(o,b)):(b.next=u.next,o.pending=u.next=b)}}function q_(s,o){var u=o.action,h=o.payload,g=s.state;if(o.isTransition){var b=F.T,x={};F.T=x;try{var R=u(g,h),j=F.S;j!==null&&j(x,R),F_(s,o,R)}catch(G){Sd(s,o,G)}finally{b!==null&&x.types!==null&&(b.types=x.types),F.T=b}}else try{b=u(g,h),F_(s,o,b)}catch(G){Sd(s,o,G)}}function F_(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){V_(s,o,h)},function(h){return Sd(s,o,h)}):V_(s,o,u)}function V_(s,o,u){o.status="fulfilled",o.value=u,H_(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,q_(s,u)))}function Sd(s,o,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,H_(o),o=o.next;while(o!==h)}s.action=null}function H_(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function G_(s,o){return o}function K_(s,o){if(Ze){var u=ut.formState;if(u!==null){e:{var h=Le;if(Ze){if(dt){t:{for(var g=dt,b=lr;g.nodeType!==8;){if(!b){g=null;break t}if(g=cr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){dt=cr(g.nextSibling),h=g.data==="F!";break e}}bi(h)}h=!1}h&&(o=u[0])}}return u=bn(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:o},u.queue=h,u=hb.bind(null,Le,h),h.dispatch=u,h=xd(!1),b=Rd.bind(null,Le,!1,h.queue),h=bn(),g={state:o,dispatch:null,action:s,pending:null},h.queue=g,u=hR.bind(null,Le,g,b,u),g.dispatch=u,h.memoizedState=s,[o,u,!1]}function Z_(s){var o=kt();return Q_(o,st,s)}function Q_(s,o,u){if(o=vd(s,o,G_)[0],s=Lu(Yr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=ko(o)}catch(x){throw x===ia?ku:x}else h=o;o=kt();var g=o.queue,b=g.dispatch;return u!==o.memoizedState&&(Le.flags|=2048,ua(9,{destroy:void 0},dR.bind(null,g,u),null)),[h,b,s]}function dR(s,o){s.action=o}function J_(s){var o=kt(),u=st;if(u!==null)return Q_(o,u,s);kt(),o=o.memoizedState,u=kt();var h=u.queue.dispatch;return u.memoizedState=s,[o,h,!1]}function ua(s,o,u,h){return s={tag:s,create:u,deps:h,inst:o,next:null},o=Le.updateQueue,o===null&&(o=Du(),Le.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s),s}function Y_(){return kt().memoizedState}function zu(s,o,u,h){var g=bn();Le.flags|=s,g.memoizedState=ua(1|o,{destroy:void 0},u,h===void 0?null:h)}function Pu(s,o,u,h){var g=kt();h=h===void 0?null:h;var b=g.memoizedState.inst;st!==null&&h!==null&&pd(h,st.memoizedState.deps)?g.memoizedState=ua(o,b,u,h):(Le.flags|=s,g.memoizedState=ua(1|o,b,u,h))}function X_(s,o){zu(8390656,8,s,o)}function Ed(s,o){Pu(2048,8,s,o)}function pR(s){Le.flags|=4;var o=Le.updateQueue;if(o===null)o=Du(),Le.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function W_(s){var o=kt().memoizedState;return pR({ref:o,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function eb(s,o){return Pu(4,2,s,o)}function tb(s,o){return Pu(4,4,s,o)}function nb(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function rb(s,o,u){u=u!=null?u.concat([s]):null,Pu(4,4,nb.bind(null,o,s),u)}function kd(){}function ib(s,o){var u=kt();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&pd(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function sb(s,o){var u=kt();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&pd(o,h[1]))return h[0];if(h=s(),ms){An(!0);try{s()}finally{An(!1)}}return u.memoizedState=[h,o],h}function Cd(s,o,u){return u===void 0||(Jr&1073741824)!==0&&(Ve&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=av(),Le.lanes|=s,Ai|=s,u)}function ab(s,o,u,h){return qn(u,o)?u:aa.current!==null?(s=Cd(s,u,h),qn(s,o)||(At=!0),s):(Jr&42)===0||(Jr&1073741824)!==0&&(Ve&261930)===0?(At=!0,s.memoizedState=u):(s=av(),Le.lanes|=s,Ai|=s,o)}function ob(s,o,u,h,g){var b=te.p;te.p=b!==0&&8>b?b:8;var x=F.T,R={};F.T=R,Rd(s,!1,o,u);try{var j=g(),G=F.S;if(G!==null&&G(R,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=uR(j,h);Co(s,o,ne,Zn(s))}else Co(s,o,h,Zn(s))}catch(ae){Co(s,o,{then:function(){},status:"rejected",reason:ae},Zn())}finally{te.p=b,x!==null&&R.types!==null&&(x.types=R.types),F.T=x}}function mR(){}function Td(s,o,u,h){if(s.tag!==5)throw Error(r(476));var g=lb(s).queue;ob(s,g,o,de,u===null?mR:function(){return ub(s),u(h)})}function lb(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:de},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function ub(s){var o=lb(s);o.next===null&&(o=s.alternate.memoizedState),Co(s,o.next.queue,{},Zn())}function Ad(){return tn(Fo)}function cb(){return kt().memoizedState}function fb(){return kt().memoizedState}function gR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Zn();s=xi(u);var h=Si(o,s,u);h!==null&&(Ln(h,o,u),wo(h,o,u)),o={cache:rd()},s.payload=o;return}o=o.return}}function yR(s,o,u){var h=Zn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ju(s)?db(o,u):(u=Gh(s,o,u,h),u!==null&&(Ln(u,s,h),pb(u,o,h)))}function hb(s,o,u){var h=Zn();Co(s,o,u,h)}function Co(s,o,u,h){var g={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ju(s))db(o,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var x=o.lastRenderedState,R=b(x,u);if(g.hasEagerState=!0,g.eagerState=R,qn(R,x))return _u(s,o,g,0),ut===null&&yu(),!1}catch{}if(u=Gh(s,o,g,h),u!==null)return Ln(u,s,h),pb(u,o,h),!0}return!1}function Rd(s,o,u,h){if(h={lane:2,revertLane:op(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ju(s)){if(o)throw Error(r(479))}else o=Gh(s,u,h,2),o!==null&&Ln(o,s,2)}function ju(s){var o=s.alternate;return s===Le||o!==null&&o===Le}function db(s,o){oa=Iu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function pb(s,o,u){if((u&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,b0(s,u)}}var To={readContext:tn,use:Mu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};To.useEffectEvent=xt;var mb={readContext:tn,use:Mu,useCallback:function(s,o){return bn().memoizedState=[s,o===void 0?null:o],s},useContext:tn,useEffect:X_,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,zu(4194308,4,nb.bind(null,o,s),u)},useLayoutEffect:function(s,o){return zu(4194308,4,s,o)},useInsertionEffect:function(s,o){zu(4,2,s,o)},useMemo:function(s,o){var u=bn();o=o===void 0?null:o;var h=s();if(ms){An(!0);try{s()}finally{An(!1)}}return u.memoizedState=[h,o],h},useReducer:function(s,o,u){var h=bn();if(u!==void 0){var g=u(o);if(ms){An(!0);try{u(o)}finally{An(!1)}}}else g=o;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=yR.bind(null,Le,s),[h.memoizedState,s]},useRef:function(s){var o=bn();return s={current:s},o.memoizedState=s},useState:function(s){s=xd(s);var o=s.queue,u=hb.bind(null,Le,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:kd,useDeferredValue:function(s,o){var u=bn();return Cd(u,s,o)},useTransition:function(){var s=xd(!1);return s=ob.bind(null,Le,s.queue,!0,!1),bn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var h=Le,g=bn();if(Ze){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),ut===null)throw Error(r(349));(Ve&127)!==0||z_(h,o,u)}g.memoizedState=u;var b={value:u,getSnapshot:o};return g.queue=b,X_(j_.bind(null,h,b,s),[s]),h.flags|=2048,ua(9,{destroy:void 0},P_.bind(null,h,b,u,o),null),u},useId:function(){var s=bn(),o=ut.identifierPrefix;if(Ze){var u=Ar,h=Tr;u=(h&~(1<<32-lt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Nu++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=cR++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Ad,useFormState:K_,useActionState:K_,useOptimistic:function(s){var o=bn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Rd.bind(null,Le,!0,u),u.dispatch=o,[s,o]},useMemoCache:bd,useCacheRefresh:function(){return bn().memoizedState=gR.bind(null,Le)},useEffectEvent:function(s){var o=bn(),u={impl:s};return o.memoizedState=u,function(){if((tt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Od={readContext:tn,use:Mu,useCallback:ib,useContext:tn,useEffect:Ed,useImperativeHandle:rb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:Lu,useRef:Y_,useState:function(){return Lu(Yr)},useDebugValue:kd,useDeferredValue:function(s,o){var u=kt();return ab(u,st.memoizedState,s,o)},useTransition:function(){var s=Lu(Yr)[0],o=kt().memoizedState;return[typeof s=="boolean"?s:ko(s),o]},useSyncExternalStore:L_,useId:cb,useHostTransitionStatus:Ad,useFormState:Z_,useActionState:Z_,useOptimistic:function(s,o){var u=kt();return $_(u,st,s,o)},useMemoCache:bd,useCacheRefresh:fb};Od.useEffectEvent=W_;var gb={readContext:tn,use:Mu,useCallback:ib,useContext:tn,useEffect:Ed,useImperativeHandle:rb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:wd,useRef:Y_,useState:function(){return wd(Yr)},useDebugValue:kd,useDeferredValue:function(s,o){var u=kt();return st===null?Cd(u,s,o):ab(u,st.memoizedState,s,o)},useTransition:function(){var s=wd(Yr)[0],o=kt().memoizedState;return[typeof s=="boolean"?s:ko(s),o]},useSyncExternalStore:L_,useId:cb,useHostTransitionStatus:Ad,useFormState:J_,useActionState:J_,useOptimistic:function(s,o){var u=kt();return st!==null?$_(u,st,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:bd,useCacheRefresh:fb};gb.useEffectEvent=W_;function Id(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nd={enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Zn(),g=xi(h);g.payload=o,u!=null&&(g.callback=u),o=Si(s,g,h),o!==null&&(Ln(o,s,h),wo(o,s,h))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Zn(),g=xi(h);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=Si(s,g,h),o!==null&&(Ln(o,s,h),wo(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Zn(),h=xi(u);h.tag=2,o!=null&&(h.callback=o),o=Si(s,h,u),o!==null&&(Ln(o,s,u),wo(o,s,u))}};function yb(s,o,u,h,g,b,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,x):o.prototype&&o.prototype.isPureReactComponent?!ho(u,h)||!ho(g,b):!0}function _b(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Nd.enqueueReplaceState(o,o.state,null)}function gs(s,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}function bb(s){gu(s)}function vb(s){console.error(s)}function wb(s){gu(s)}function Bu(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function xb(s,o,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Dd(s,o,u){return u=xi(u),u.tag=3,u.payload={element:null},u.callback=function(){Bu(s,o)},u}function Sb(s){return s=xi(s),s.tag=3,s}function Eb(s,o,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;s.payload=function(){return g(b)},s.callback=function(){xb(o,u,h)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){xb(o,u,h),typeof g!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function _R(s,o,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&ta(o,u,g,!0),u=Vn.current,u!==null){switch(u.tag){case 31:case 13:return ur===null?Yu():u.alternate===null&&St===0&&(St=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Cu?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),ip(s,h,g)),!1;case 22:return u.flags|=65536,h===Cu?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),ip(s,h,g)),!1}throw Error(r(435,u.tag))}return ip(s,h,g),Yu(),!1}if(Ze)return o=Vn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,h!==Xh&&(s=Error(r(422),{cause:h}),go(sr(s,u)))):(h!==Xh&&(o=Error(r(423),{cause:h}),go(sr(o,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=sr(h,u),g=Dd(s.stateNode,h,g),ud(s,g),St!==4&&(St=2)),!1;var b=Error(r(520),{cause:h});if(b=sr(b,u),Lo===null?Lo=[b]:Lo.push(b),St!==4&&(St=2),o===null)return!0;h=sr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=Dd(u.stateNode,h,s),ud(u,s),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ri===null||!Ri.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Sb(g),Eb(g,s,u,h),ud(u,g),!1}u=u.return}while(u!==null);return!1}var Md=Error(r(461)),At=!1;function nn(s,o,u,h){o.child=s===null?A_(o,null,u,h):ps(o,s.child,u,h)}function kb(s,o,u,h,g){u=u.render;var b=o.ref;if("ref"in h){var x={};for(var R in h)R!=="ref"&&(x[R]=h[R])}else x=h;return cs(o),h=md(s,o,u,x,b,g),R=gd(),s!==null&&!At?(yd(s,o,g),Xr(s,o,g)):(Ze&&R&&Jh(o),o.flags|=1,nn(s,o,h,g),o.child)}function Cb(s,o,u,h,g){if(s===null){var b=u.type;return typeof b=="function"&&!Kh(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,Tb(s,o,b,h,g)):(s=vu(u.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!qd(s,g)){var x=b.memoizedProps;if(u=u.compare,u=u!==null?u:ho,u(x,h)&&s.ref===o.ref)return Xr(s,o,g)}return o.flags|=1,s=Gr(b,h),s.ref=o.ref,s.return=o,o.child=s}function Tb(s,o,u,h,g){if(s!==null){var b=s.memoizedProps;if(ho(b,h)&&s.ref===o.ref)if(At=!1,o.pendingProps=h=b,qd(s,g))(s.flags&131072)!==0&&(At=!0);else return o.lanes=s.lanes,Xr(s,o,g)}return Ld(s,o,u,h,g)}function Ab(s,o,u,h){var g=h.children,b=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(h=o.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~b}else h=0,o.child=null;return Rb(s,o,b,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Eu(o,b!==null?b.cachePool:null),b!==null?I_(o,b):fd(),N_(o);else return h=o.lanes=536870912,Rb(s,o,b!==null?b.baseLanes|u:u,u,h)}else b!==null?(Eu(o,b.cachePool),I_(o,b),ki(),o.memoizedState=null):(s!==null&&Eu(o,null),fd(),ki());return nn(s,o,g,u),o.child}function Ao(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Rb(s,o,u,h,g){var b=sd();return b=b===null?null:{parent:Ct._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},s!==null&&Eu(o,null),fd(),N_(o),s!==null&&ta(s,o,h,!0),o.childLanes=g,null}function Uu(s,o){return o=qu({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Ob(s,o,u){return ps(o,s.child,null,u),s=Uu(o,o.pendingProps),s.flags|=2,Hn(o),o.memoizedState=null,s}function bR(s,o,u){var h=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Ze){if(h.mode==="hidden")return s=Uu(o,h),o.lanes=536870912,Ao(null,s);if(dd(o),(s=dt)?(s=qv(s,lr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:yi!==null?{id:Tr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},u=d_(s),u.return=o,o.child=u,en=o,dt=null)):s=null,s===null)throw bi(o);return o.lanes=536870912,null}return Uu(o,h)}var b=s.memoizedState;if(b!==null){var x=b.dehydrated;if(dd(o),g)if(o.flags&256)o.flags&=-257,o=Ob(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(At||ta(s,o,u,!1),g=(u&s.childLanes)!==0,At||g){if(h=ut,h!==null&&(x=v0(h,u),x!==0&&x!==b.retryLane))throw b.retryLane=x,as(s,x),Ln(h,s,x),Md;Yu(),o=Ob(s,o,u)}else s=b.treeContext,dt=cr(x.nextSibling),en=o,Ze=!0,_i=null,lr=!1,s!==null&&g_(o,s),o=Uu(o,h),o.flags|=4096;return o}return s=Gr(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function $u(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Ld(s,o,u,h,g){return cs(o),u=md(s,o,u,h,void 0,g),h=gd(),s!==null&&!At?(yd(s,o,g),Xr(s,o,g)):(Ze&&h&&Jh(o),o.flags|=1,nn(s,o,u,g),o.child)}function Ib(s,o,u,h,g,b){return cs(o),o.updateQueue=null,u=M_(o,h,u,g),D_(s),h=gd(),s!==null&&!At?(yd(s,o,b),Xr(s,o,b)):(Ze&&h&&Jh(o),o.flags|=1,nn(s,o,u,b),o.child)}function Nb(s,o,u,h,g){if(cs(o),o.stateNode===null){var b=Ys,x=u.contextType;typeof x=="object"&&x!==null&&(b=tn(x)),b=new u(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Nd,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},od(o),x=u.contextType,b.context=typeof x=="object"&&x!==null?tn(x):Ys,b.state=o.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(Id(o,u,x,h),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(x=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),x!==b.state&&Nd.enqueueReplaceState(b,b.state,null),So(o,h,b,g),xo(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){b=o.stateNode;var R=o.memoizedProps,j=gs(u,R);b.props=j;var G=b.context,ne=u.contextType;x=Ys,typeof ne=="object"&&ne!==null&&(x=tn(ne));var ae=u.getDerivedStateFromProps;ne=typeof ae=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||G!==x)&&_b(o,b,h,x),wi=!1;var Q=o.memoizedState;b.state=Q,So(o,h,b,g),xo(),G=o.memoizedState,R||Q!==G||wi?(typeof ae=="function"&&(Id(o,u,ae,h),G=o.memoizedState),(j=wi||yb(o,u,j,h,Q,G,x))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=G),b.props=h,b.state=G,b.context=x,h=j):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,ld(s,o),x=o.memoizedProps,ne=gs(u,x),b.props=ne,ae=o.pendingProps,Q=b.context,G=u.contextType,j=Ys,typeof G=="object"&&G!==null&&(j=tn(G)),R=u.getDerivedStateFromProps,(G=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==ae||Q!==j)&&_b(o,b,h,j),wi=!1,Q=o.memoizedState,b.state=Q,So(o,h,b,g),xo();var Y=o.memoizedState;x!==ae||Q!==Y||wi||s!==null&&s.dependencies!==null&&xu(s.dependencies)?(typeof R=="function"&&(Id(o,u,R,h),Y=o.memoizedState),(ne=wi||yb(o,u,ne,h,Q,Y,j)||s!==null&&s.dependencies!==null&&xu(s.dependencies))?(G||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Y,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Y,j)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Y),b.props=h,b.state=Y,b.context=j,h=ne):(typeof b.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),h=!1)}return b=h,$u(s,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&h?(o.child=ps(o,s.child,null,g),o.child=ps(o,null,u,g)):nn(s,o,u,g),o.memoizedState=b.state,s=o.child):s=Xr(s,o,g),s}function Db(s,o,u,h){return ls(),o.flags|=256,nn(s,o,u,h),o.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(s){return{baseLanes:s,cachePool:x_()}}function jd(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Kn),s}function Mb(s,o,u){var h=o.pendingProps,g=!1,b=(o.flags&128)!==0,x;if((x=b)||(x=s!==null&&s.memoizedState===null?!1:(Et.current&2)!==0),x&&(g=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ze){if(g?Ei(o):ki(),(s=dt)?(s=qv(s,lr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:yi!==null?{id:Tr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},u=d_(s),u.return=o,o.child=u,en=o,dt=null)):s=null,s===null)throw bi(o);return vp(s)?o.lanes=32:o.lanes=536870912,null}var R=h.children;return h=h.fallback,g?(ki(),g=o.mode,R=qu({mode:"hidden",children:R},g),h=os(h,g,u,null),R.return=o,h.return=o,R.sibling=h,o.child=R,h=o.child,h.memoizedState=Pd(u),h.childLanes=jd(s,x,u),o.memoizedState=zd,Ao(null,h)):(Ei(o),Bd(o,R))}var j=s.memoizedState;if(j!==null&&(R=j.dehydrated,R!==null)){if(b)o.flags&256?(Ei(o),o.flags&=-257,o=Ud(s,o,u)):o.memoizedState!==null?(ki(),o.child=s.child,o.flags|=128,o=null):(ki(),R=h.fallback,g=o.mode,h=qu({mode:"visible",children:h.children},g),R=os(R,g,u,null),R.flags|=2,h.return=o,R.return=o,h.sibling=R,o.child=h,ps(o,s.child,null,u),h=o.child,h.memoizedState=Pd(u),h.childLanes=jd(s,x,u),o.memoizedState=zd,o=Ao(null,h));else if(Ei(o),vp(R)){if(x=R.nextSibling&&R.nextSibling.dataset,x)var G=x.dgst;x=G,h=Error(r(419)),h.stack="",h.digest=x,go({value:h,source:null,stack:null}),o=Ud(s,o,u)}else if(At||ta(s,o,u,!1),x=(u&s.childLanes)!==0,At||x){if(x=ut,x!==null&&(h=v0(x,u),h!==0&&h!==j.retryLane))throw j.retryLane=h,as(s,h),Ln(x,s,h),Md;bp(R)||Yu(),o=Ud(s,o,u)}else bp(R)?(o.flags|=192,o.child=s.child,o=null):(s=j.treeContext,dt=cr(R.nextSibling),en=o,Ze=!0,_i=null,lr=!1,s!==null&&g_(o,s),o=Bd(o,h.children),o.flags|=4096);return o}return g?(ki(),R=h.fallback,g=o.mode,j=s.child,G=j.sibling,h=Gr(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,G!==null?R=Gr(G,R):(R=os(R,g,u,null),R.flags|=2),R.return=o,h.return=o,h.sibling=R,o.child=h,Ao(null,h),h=o.child,R=s.child.memoizedState,R===null?R=Pd(u):(g=R.cachePool,g!==null?(j=Ct._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=x_(),R={baseLanes:R.baseLanes|u,cachePool:g}),h.memoizedState=R,h.childLanes=jd(s,x,u),o.memoizedState=zd,Ao(s.child,h)):(Ei(o),u=s.child,s=u.sibling,u=Gr(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,s!==null&&(x=o.deletions,x===null?(o.deletions=[s],o.flags|=16):x.push(s)),o.child=u,o.memoizedState=null,u)}function Bd(s,o){return o=qu({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function qu(s,o){return s=Fn(22,s,null,o),s.lanes=0,s}function Ud(s,o,u){return ps(o,s.child,null,u),s=Bd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Lb(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),td(s.return,o,u)}function $d(s,o,u,h,g,b){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g,treeForkCount:b}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=u,x.tailMode=g,x.treeForkCount=b)}function zb(s,o,u){var h=o.pendingProps,g=h.revealOrder,b=h.tail;h=h.children;var x=Et.current,R=(x&2)!==0;if(R?(x=x&1|2,o.flags|=128):x&=1,A(Et,x),nn(s,o,h,u),h=Ze?mo:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lb(s,u,o);else if(s.tag===19)Lb(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Ou(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),$d(o,!1,g,u,b,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Ou(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}$d(o,!0,u,null,b,h);break;case"together":$d(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Xr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ai|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ta(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Gr(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Gr(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function qd(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&xu(s)))}function vR(s,o,u){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),vi(o,Ct,s.memoizedState.cache),ls();break;case 27:case 5:Ke(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:vi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,dd(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ei(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Mb(s,o,u):(Ei(o),s=Xr(s,o,u),s!==null?s.sibling:null);Ei(o);break;case 19:var g=(s.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(ta(s,o,u,!1),h=(u&o.childLanes)!==0),g){if(h)return zb(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),A(Et,Et.current),h)break;return null;case 22:return o.lanes=0,Ab(s,o,u,o.pendingProps);case 24:vi(o,Ct,s.memoizedState.cache)}return Xr(s,o,u)}function Pb(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)At=!0;else{if(!qd(s,u)&&(o.flags&128)===0)return At=!1,vR(s,o,u);At=(s.flags&131072)!==0}else At=!1,Ze&&(o.flags&1048576)!==0&&m_(o,mo,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=hs(o.elementType),o.type=s,typeof s=="function")Kh(s)?(h=gs(s,h),o.tag=1,o=Nb(null,o,s,h,u)):(o.tag=0,o=Ld(null,o,s,h,u));else{if(s!=null){var g=s.$$typeof;if(g===L){o.tag=11,o=kb(null,o,s,h,u);break e}else if(g===M){o.tag=14,o=Cb(null,o,s,h,u);break e}}throw o=he(s)||s,Error(r(306,o,""))}}return o;case 0:return Ld(s,o,o.type,o.pendingProps,u);case 1:return h=o.type,g=gs(h,o.pendingProps),Nb(s,o,h,g,u);case 3:e:{if(_e(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var b=o.memoizedState;g=b.element,ld(s,o),So(o,h,null,u);var x=o.memoizedState;if(h=x.cache,vi(o,Ct,h),h!==b.cache&&nd(o,[Ct],u,!0),xo(),h=x.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Db(s,o,h,u);break e}else if(h!==g){g=sr(Error(r(424)),o),go(g),o=Db(s,o,h,u);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,dt=cr(s.firstChild),en=o,Ze=!0,_i=null,lr=!0,u=A_(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ls(),h===g){o=Xr(s,o,u);break e}nn(s,o,h,u)}o=o.child}return o;case 26:return $u(s,o),s===null?(u=Zv(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ze||(u=o.type,s=o.pendingProps,h=ic(ue.current).createElement(u),h[Wt]=o,h[Rn]=s,rn(h,u,s),Gt(h),o.stateNode=h):o.memoizedState=Zv(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ke(o),s===null&&Ze&&(h=o.stateNode=Hv(o.type,o.pendingProps,ue.current),en=o,lr=!0,g=dt,Di(o.type)?(wp=g,dt=cr(h.firstChild)):dt=g),nn(s,o,o.pendingProps.children,u),$u(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ze&&((g=h=dt)&&(h=JR(h,o.type,o.pendingProps,lr),h!==null?(o.stateNode=h,en=o,dt=cr(h.firstChild),lr=!1,g=!0):g=!1),g||bi(o)),Ke(o),g=o.type,b=o.pendingProps,x=s!==null?s.memoizedProps:null,h=b.children,gp(g,b)?h=null:x!==null&&gp(g,x)&&(o.flags|=32),o.memoizedState!==null&&(g=md(s,o,fR,null,null,u),Fo._currentValue=g),$u(s,o),nn(s,o,h,u),o.child;case 6:return s===null&&Ze&&((s=u=dt)&&(u=YR(u,o.pendingProps,lr),u!==null?(o.stateNode=u,en=o,dt=null,s=!0):s=!1),s||bi(o)),null;case 13:return Mb(s,o,u);case 4:return _e(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ps(o,null,h,u):nn(s,o,h,u),o.child;case 11:return kb(s,o,o.type,o.pendingProps,u);case 7:return nn(s,o,o.pendingProps,u),o.child;case 8:return nn(s,o,o.pendingProps.children,u),o.child;case 12:return nn(s,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,vi(o,o.type,h.value),nn(s,o,h.children,u),o.child;case 9:return g=o.type._context,h=o.pendingProps.children,cs(o),g=tn(g),h=h(g),o.flags|=1,nn(s,o,h,u),o.child;case 14:return Cb(s,o,o.type,o.pendingProps,u);case 15:return Tb(s,o,o.type,o.pendingProps,u);case 19:return zb(s,o,u);case 31:return bR(s,o,u);case 22:return Ab(s,o,u,o.pendingProps);case 24:return cs(o),h=tn(Ct),s===null?(g=sd(),g===null&&(g=ut,b=rd(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),o.memoizedState={parent:h,cache:g},od(o),vi(o,Ct,g)):((s.lanes&u)!==0&&(ld(s,o),So(o,null,null,u),xo()),g=s.memoizedState,b=o.memoizedState,g.parent!==h?(g={parent:h,cache:h},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),vi(o,Ct,h)):(h=b.cache,vi(o,Ct,h),h!==g.cache&&nd(o,[Ct],u,!0))),nn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wr(s){s.flags|=4}function Fd(s,o,u,h,g){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(cv())s.flags|=8192;else throw ds=Cu,ad}else s.flags&=-16777217}function jb(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Wv(o))if(cv())s.flags|=8192;else throw ds=Cu,ad}function Fu(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?y0():536870912,s.lanes|=o,da|=o)}function Ro(s,o){if(!Ze)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function pt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function wR(s,o,u){var h=o.pendingProps;switch(Yh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(o),null;case 1:return pt(o),null;case 3:return u=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Qr(Ct),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ea(o)?Wr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wh())),pt(o),null;case 26:var g=o.type,b=o.memoizedState;return s===null?(Wr(o),b!==null?(pt(o),jb(o,b)):(pt(o),Fd(o,g,null,h,u))):b?b!==s.memoizedState?(Wr(o),pt(o),jb(o,b)):(pt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&Wr(o),pt(o),Fd(o,g,s,h,u)),null;case 27:if(We(o),u=ue.current,g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Wr(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return pt(o),null}s=W.current,ea(o)?y_(o):(s=Hv(g,h,u),o.stateNode=s,Wr(o))}return pt(o),null;case 5:if(We(o),g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Wr(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return pt(o),null}if(b=W.current,ea(o))y_(o);else{var x=ic(ue.current);switch(b){case 1:b=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=x.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?x.createElement(g,{is:h.is}):x.createElement(g)}}b[Wt]=o,b[Rn]=h;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)b.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=b;e:switch(rn(b,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Wr(o)}}return pt(o),Fd(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Wr(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=ue.current,ea(o)){if(s=o.stateNode,u=o.memoizedProps,h=null,g=en,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Wt]=o,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Mv(s.nodeValue,u)),s||bi(o,!0)}else s=ic(s).createTextNode(h),s[Wt]=o,o.stateNode=s}return pt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(h=ea(o),u!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Wt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pt(o),s=!1}else u=Wh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(Hn(o),o):(Hn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return pt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ea(o),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Wt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pt(o),g=!1}else g=Wh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Hn(o),o):(Hn(o),null)}return Hn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=o.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Fu(o,o.updateQueue),pt(o),null);case 4:return ye(),s===null&&fp(o.stateNode.containerInfo),pt(o),null;case 10:return Qr(o.type),pt(o),null;case 19:if(U(Et),h=o.memoizedState,h===null)return pt(o),null;if(g=(o.flags&128)!==0,b=h.rendering,b===null)if(g)Ro(h,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Ou(s),b!==null){for(o.flags|=128,Ro(h,!1),s=b.updateQueue,o.updateQueue=s,Fu(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)h_(u,s),u=u.sibling;return A(Et,Et.current&1|2),Ze&&Kr(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&Ae()>Zu&&(o.flags|=128,g=!0,Ro(h,!1),o.lanes=4194304)}else{if(!g)if(s=Ou(b),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,Fu(o,s),Ro(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Ze)return pt(o),null}else 2*Ae()-h.renderingStartTime>Zu&&u!==536870912&&(o.flags|=128,g=!0,Ro(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(s=h.last,s!==null?s.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ae(),s.sibling=null,u=Et.current,A(Et,g?u&1|2:u&1),Ze&&Kr(o,h.treeForkCount),s):(pt(o),null);case 22:case 23:return Hn(o),hd(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(pt(o),o.subtreeFlags&6&&(o.flags|=8192)):pt(o),u=o.updateQueue,u!==null&&Fu(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),s!==null&&U(fs),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Qr(Ct),pt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function xR(s,o){switch(Yh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Qr(Ct),ye(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return We(o),null;case 31:if(o.memoizedState!==null){if(Hn(o),o.alternate===null)throw Error(r(340));ls()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Hn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ls()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return U(Et),null;case 4:return ye(),null;case 10:return Qr(o.type),null;case 22:case 23:return Hn(o),hd(),s!==null&&U(fs),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Qr(Ct),null;case 25:return null;default:return null}}function Bb(s,o){switch(Yh(o),o.tag){case 3:Qr(Ct),ye();break;case 26:case 27:case 5:We(o);break;case 4:ye();break;case 31:o.memoizedState!==null&&Hn(o);break;case 13:Hn(o);break;case 19:U(Et);break;case 10:Qr(o.type);break;case 22:case 23:Hn(o),hd(),s!==null&&U(fs);break;case 24:Qr(Ct)}}function Oo(s,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&s)===s){h=void 0;var b=u.create,x=u.inst;h=b(),x.destroy=h}u=u.next}while(u!==g)}}catch(R){rt(o,o.return,R)}}function Ci(s,o,u){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&s)===s){var x=h.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,g=o;var j=u,G=R;try{G()}catch(ne){rt(g,j,ne)}}}h=h.next}while(h!==b)}}catch(ne){rt(o,o.return,ne)}}function Ub(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{O_(o,u)}catch(h){rt(s,s.return,h)}}}function $b(s,o,u){u.props=gs(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){rt(s,o,h)}}function Io(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(g){rt(s,o,g)}}function Rr(s,o){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){rt(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){rt(s,o,g)}else u.current=null}function qb(s){var o=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){rt(s,s.return,g)}}function Vd(s,o,u){try{var h=s.stateNode;VR(h,s.type,u,o),h[Rn]=o}catch(g){rt(s,s.return,g)}}function Fb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Di(s.type)||s.tag===4}function Hd(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Di(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gd(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Vr));else if(h!==4&&(h===27&&Di(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Gd(s,o,u),s=s.sibling;s!==null;)Gd(s,o,u),s=s.sibling}function Vu(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(h===27&&Di(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Vu(s,o,u),s=s.sibling;s!==null;)Vu(s,o,u),s=s.sibling}function Vb(s){var o=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);rn(o,h,u),o[Wt]=s,o[Rn]=u}catch(b){rt(s,s.return,b)}}var ei=!1,Rt=!1,Kd=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function SR(s,o){if(s=s.containerInfo,pp=fc,s=r_(s),Uh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var x=0,R=-1,j=-1,G=0,ne=0,ae=s,Q=null;t:for(;;){for(var Y;ae!==u||g!==0&&ae.nodeType!==3||(R=x+g),ae!==b||h!==0&&ae.nodeType!==3||(j=x+h),ae.nodeType===3&&(x+=ae.nodeValue.length),(Y=ae.firstChild)!==null;)Q=ae,ae=Y;for(;;){if(ae===s)break t;if(Q===u&&++G===g&&(R=x),Q===b&&++ne===h&&(j=x),(Y=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=Y}u=R===-1||j===-1?null:{start:R,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(mp={focusedElem:s,selectionRange:u},fc=!1,Kt=o;Kt!==null;)if(o=Kt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Kt=s;else for(;Kt!==null;){switch(o=Kt,b=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)g=s[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=o,g=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var we=gs(u.type,g);s=h.getSnapshotBeforeUpdate(we,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(Oe){rt(u,u.return,Oe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)_p(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_p(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Kt=s;break}Kt=o.return}}function Gb(s,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ni(s,u),h&4&&Oo(5,u);break;case 1:if(ni(s,u),h&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(x){rt(u,u.return,x)}else{var g=gs(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(x){rt(u,u.return,x)}}h&64&&Ub(u),h&512&&Io(u,u.return);break;case 3:if(ni(s,u),h&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{O_(s,o)}catch(x){rt(u,u.return,x)}}break;case 27:o===null&&h&4&&Vb(u);case 26:case 5:ni(s,u),o===null&&h&4&&qb(u),h&512&&Io(u,u.return);break;case 12:ni(s,u);break;case 31:ni(s,u),h&4&&Qb(s,u);break;case 13:ni(s,u),h&4&&Jb(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=NR.bind(null,u),XR(s,u))));break;case 22:if(h=u.memoizedState!==null||ei,!h){o=o!==null&&o.memoizedState!==null||Rt,g=ei;var b=Rt;ei=h,(Rt=o)&&!b?ri(s,u,(u.subtreeFlags&8772)!==0):ni(s,u),ei=g,Rt=b}break;case 30:break;default:ni(s,u)}}function Kb(s){var o=s.alternate;o!==null&&(s.alternate=null,Kb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Sh(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gt=null,In=!1;function ti(s,o,u){for(u=u.child;u!==null;)Zb(s,o,u),u=u.sibling}function Zb(s,o,u){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 26:Rt||Rr(u,o),ti(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||Rr(u,o);var h=gt,g=In;Di(u.type)&&(gt=u.stateNode,In=!1),ti(s,o,u),Uo(u.stateNode),gt=h,In=g;break;case 5:Rt||Rr(u,o);case 6:if(h=gt,g=In,gt=null,ti(s,o,u),gt=h,In=g,gt!==null)if(In)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(u.stateNode)}catch(b){rt(u,o,b)}else try{gt.removeChild(u.stateNode)}catch(b){rt(u,o,b)}break;case 18:gt!==null&&(In?(s=gt,Uv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),wa(s)):Uv(gt,u.stateNode));break;case 4:h=gt,g=In,gt=u.stateNode.containerInfo,In=!0,ti(s,o,u),gt=h,In=g;break;case 0:case 11:case 14:case 15:Ci(2,u,o),Rt||Ci(4,u,o),ti(s,o,u);break;case 1:Rt||(Rr(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&$b(u,o,h)),ti(s,o,u);break;case 21:ti(s,o,u);break;case 22:Rt=(h=Rt)||u.memoizedState!==null,ti(s,o,u),Rt=h;break;default:ti(s,o,u)}}function Qb(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{wa(s)}catch(u){rt(o,o.return,u)}}}function Jb(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{wa(s)}catch(u){rt(o,o.return,u)}}function ER(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Hb),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Hb),o;default:throw Error(r(435,s.tag))}}function Hu(s,o){var u=ER(s);o.forEach(function(h){if(!u.has(h)){u.add(h);var g=DR.bind(null,s,h);h.then(g,g)}})}function Nn(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],b=s,x=o,R=x;e:for(;R!==null;){switch(R.tag){case 27:if(Di(R.type)){gt=R.stateNode,In=!1;break e}break;case 5:gt=R.stateNode,In=!1;break e;case 3:case 4:gt=R.stateNode.containerInfo,In=!0;break e}R=R.return}if(gt===null)throw Error(r(160));Zb(b,x,g),gt=null,In=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Yb(o,s),o=o.sibling}var xr=null;function Yb(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(o,s),Dn(s),h&4&&(Ci(3,s,s.return),Oo(3,s),Ci(5,s,s.return));break;case 1:Nn(o,s),Dn(s),h&512&&(Rt||u===null||Rr(u,u.return)),h&64&&ei&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=xr;if(Nn(o,s),Dn(s),h&512&&(Rt||u===null||Rr(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ro]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),rn(b,h,u),b[Wt]=s,Gt(b),h=b;break e;case"link":var x=Yv("link","href",g).get(h+(u.href||""));if(x){for(var R=0;R<x.length;R++)if(b=x[R],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(R,1);break t}}b=g.createElement(h),rn(b,h,u),g.head.appendChild(b);break;case"meta":if(x=Yv("meta","content",g).get(h+(u.content||""))){for(R=0;R<x.length;R++)if(b=x[R],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(R,1);break t}}b=g.createElement(h),rn(b,h,u),g.head.appendChild(b);break;default:throw Error(r(468,h))}b[Wt]=s,Gt(b),h=b}s.stateNode=h}else Xv(g,s.type,s.stateNode);else s.stateNode=Jv(g,h,s.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?Xv(g,s.type,s.stateNode):Jv(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Vd(s,s.memoizedProps,u.memoizedProps)}break;case 27:Nn(o,s),Dn(s),h&512&&(Rt||u===null||Rr(u,u.return)),u!==null&&h&4&&Vd(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Nn(o,s),Dn(s),h&512&&(Rt||u===null||Rr(u,u.return)),s.flags&32){g=s.stateNode;try{Vs(g,"")}catch(we){rt(s,s.return,we)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Vd(s,g,u!==null?u.memoizedProps:g)),h&1024&&(Kd=!0);break;case 6:if(Nn(o,s),Dn(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(we){rt(s,s.return,we)}}break;case 3:if(oc=null,g=xr,xr=sc(o.containerInfo),Nn(o,s),xr=g,Dn(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{wa(o.containerInfo)}catch(we){rt(s,s.return,we)}Kd&&(Kd=!1,Xb(s));break;case 4:h=xr,xr=sc(s.stateNode.containerInfo),Nn(o,s),Dn(s),xr=h;break;case 12:Nn(o,s),Dn(s);break;case 31:Nn(o,s),Dn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Hu(s,h)));break;case 13:Nn(o,s),Dn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ku=Ae()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Hu(s,h)));break;case 22:g=s.memoizedState!==null;var j=u!==null&&u.memoizedState!==null,G=ei,ne=Rt;if(ei=G||g,Rt=ne||j,Nn(o,s),Rt=ne,ei=G,Dn(s),h&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||j||ei||Rt||ys(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){j=u=o;try{if(b=j.stateNode,g)x=b.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{R=j.stateNode;var ae=j.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(we){rt(j,j.return,we)}}}else if(o.tag===6){if(u===null){j=o;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(we){rt(j,j.return,we)}}}else if(o.tag===18){if(u===null){j=o;try{var Y=j.stateNode;g?$v(Y,!0):$v(j.stateNode,!1)}catch(we){rt(j,j.return,we)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Hu(s,u))));break;case 19:Nn(o,s),Dn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Hu(s,h)));break;case 30:break;case 21:break;default:Nn(o,s),Dn(s)}}function Dn(s){var o=s.flags;if(o&2){try{for(var u,h=s.return;h!==null;){if(Fb(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,b=Hd(s);Vu(s,b,g);break;case 5:var x=u.stateNode;u.flags&32&&(Vs(x,""),u.flags&=-33);var R=Hd(s);Vu(s,R,x);break;case 3:case 4:var j=u.stateNode.containerInfo,G=Hd(s);Gd(s,G,j);break;default:throw Error(r(161))}}catch(ne){rt(s,s.return,ne)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Xb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Xb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function ni(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gb(s,o.alternate,o),o=o.sibling}function ys(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ci(4,o,o.return),ys(o);break;case 1:Rr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&$b(o,o.return,u),ys(o);break;case 27:Uo(o.stateNode);case 26:case 5:Rr(o,o.return),ys(o);break;case 22:o.memoizedState===null&&ys(o);break;case 30:ys(o);break;default:ys(o)}s=s.sibling}}function ri(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,g=s,b=o,x=b.flags;switch(b.tag){case 0:case 11:case 15:ri(g,b,u),Oo(4,b);break;case 1:if(ri(g,b,u),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){rt(h,h.return,G)}if(h=b,g=h.updateQueue,g!==null){var R=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)R_(j[g],R)}catch(G){rt(h,h.return,G)}}u&&x&64&&Ub(b),Io(b,b.return);break;case 27:Vb(b);case 26:case 5:ri(g,b,u),u&&h===null&&x&4&&qb(b),Io(b,b.return);break;case 12:ri(g,b,u);break;case 31:ri(g,b,u),u&&x&4&&Qb(g,b);break;case 13:ri(g,b,u),u&&x&4&&Jb(g,b);break;case 22:b.memoizedState===null&&ri(g,b,u),Io(b,b.return);break;case 30:break;default:ri(g,b,u)}o=o.sibling}}function Zd(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&yo(u))}function Qd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&yo(s))}function Sr(s,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Wb(s,o,u,h),o=o.sibling}function Wb(s,o,u,h){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Sr(s,o,u,h),g&2048&&Oo(9,o);break;case 1:Sr(s,o,u,h);break;case 3:Sr(s,o,u,h),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&yo(s)));break;case 12:if(g&2048){Sr(s,o,u,h),s=o.stateNode;try{var b=o.memoizedProps,x=b.id,R=b.onPostCommit;typeof R=="function"&&R(x,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){rt(o,o.return,j)}}else Sr(s,o,u,h);break;case 31:Sr(s,o,u,h);break;case 13:Sr(s,o,u,h);break;case 23:break;case 22:b=o.stateNode,x=o.alternate,o.memoizedState!==null?b._visibility&2?Sr(s,o,u,h):No(s,o):b._visibility&2?Sr(s,o,u,h):(b._visibility|=2,ca(s,o,u,h,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Zd(x,o);break;case 24:Sr(s,o,u,h),g&2048&&Qd(o.alternate,o);break;default:Sr(s,o,u,h)}}function ca(s,o,u,h,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=s,x=o,R=u,j=h,G=x.flags;switch(x.tag){case 0:case 11:case 15:ca(b,x,R,j,g),Oo(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?ca(b,x,R,j,g):No(b,x):(ne._visibility|=2,ca(b,x,R,j,g)),g&&G&2048&&Zd(x.alternate,x);break;case 24:ca(b,x,R,j,g),g&&G&2048&&Qd(x.alternate,x);break;default:ca(b,x,R,j,g)}o=o.sibling}}function No(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,h=o,g=h.flags;switch(h.tag){case 22:No(u,h),g&2048&&Zd(h.alternate,h);break;case 24:No(u,h),g&2048&&Qd(h.alternate,h);break;default:No(u,h)}o=o.sibling}}var Do=8192;function fa(s,o,u){if(s.subtreeFlags&Do)for(s=s.child;s!==null;)ev(s,o,u),s=s.sibling}function ev(s,o,u){switch(s.tag){case 26:fa(s,o,u),s.flags&Do&&s.memoizedState!==null&&cO(u,xr,s.memoizedState,s.memoizedProps);break;case 5:fa(s,o,u);break;case 3:case 4:var h=xr;xr=sc(s.stateNode.containerInfo),fa(s,o,u),xr=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Do,Do=16777216,fa(s,o,u),Do=h):fa(s,o,u));break;default:fa(s,o,u)}}function tv(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Mo(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Kt=h,rv(h,s)}tv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nv(s),s=s.sibling}function nv(s){switch(s.tag){case 0:case 11:case 15:Mo(s),s.flags&2048&&Ci(9,s,s.return);break;case 3:Mo(s);break;case 12:Mo(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Gu(s)):Mo(s);break;default:Mo(s)}}function Gu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Kt=h,rv(h,s)}tv(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ci(8,o,o.return),Gu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Gu(o));break;default:Gu(o)}s=s.sibling}}function rv(s,o){for(;Kt!==null;){var u=Kt;switch(u.tag){case 0:case 11:case 15:Ci(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yo(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Kt=h;else e:for(u=s;Kt!==null;){h=Kt;var g=h.sibling,b=h.return;if(Kb(h),h===u){Kt=null;break e}if(g!==null){g.return=b,Kt=g;break e}Kt=b}}}var kR={getCacheForType:function(s){var o=tn(Ct),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return tn(Ct).controller.signal}},CR=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,$e=null,Ve=0,nt=0,Gn=null,Ti=!1,ha=!1,Jd=!1,ii=0,St=0,Ai=0,_s=0,Yd=0,Kn=0,da=0,Lo=null,Mn=null,Xd=!1,Ku=0,iv=0,Zu=1/0,Qu=null,Ri=null,Lt=0,Oi=null,pa=null,si=0,Wd=0,ep=null,sv=null,zo=0,tp=null;function Zn(){return(tt&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?op():w0()}function av(){if(Kn===0)if((Ve&536870912)===0||Ze){var s=ru;ru<<=1,(ru&3932160)===0&&(ru=262144),Kn=s}else Kn=536870912;return s=Vn.current,s!==null&&(s.flags|=32),Kn}function Ln(s,o,u){(s===ut&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(ma(s,0),Ii(s,Ve,Kn,!1)),no(s,u),((tt&2)===0||s!==ut)&&(s===ut&&((tt&2)===0&&(_s|=u),St===4&&Ii(s,Ve,Kn,!1)),Or(s))}function ov(s,o,u){if((tt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&s.expiredLanes)===0||to(s,o),g=h?RR(s,o):rp(s,o,!0),b=h;do{if(g===0){ha&&!h&&Ii(s,o,0,!1);break}else{if(u=s.current.alternate,b&&!TR(u)){g=rp(s,o,!1),b=!1;continue}if(g===2){if(b=o,s.errorRecoveryDisabledLanes&b)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var R=s;g=Lo;var j=R.current.memoizedState.isDehydrated;if(j&&(ma(R,x).flags|=256),x=rp(R,x,!1),x!==2){if(Jd&&!j){R.errorRecoveryDisabledLanes|=b,_s|=b,g=4;break e}b=Mn,Mn=g,b!==null&&(Mn===null?Mn=b:Mn.push.apply(Mn,b))}g=x}if(b=!1,g!==2)continue}}if(g===1){ma(s,0),Ii(s,o,0,!0);break}e:{switch(h=s,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ii(h,o,Kn,!Ti);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=Ku+300-Ae(),10<g)){if(Ii(h,o,Kn,!Ti),su(h,0,!0)!==0)break e;si=o,h.timeoutHandle=jv(lv.bind(null,h,u,Mn,Qu,Xd,o,Kn,_s,da,Ti,b,"Throttled",-0,0),g);break e}lv(h,u,Mn,Qu,Xd,o,Kn,_s,da,Ti,b,null,-0,0)}}break}while(!0);Or(s)}function lv(s,o,u,h,g,b,x,R,j,G,ne,ae,Q,Y){if(s.timeoutHandle=-1,ae=o.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vr},ev(o,b,ae);var we=(b&62914560)===b?Ku-Ae():(b&4194048)===b?iv-Ae():0;if(we=fO(ae,we),we!==null){si=b,s.cancelPendingCommit=we(gv.bind(null,s,o,b,u,h,g,x,R,j,ne,ae,null,Q,Y)),Ii(s,b,x,!G);return}}gv(s,o,b,u,h,g,x,R,j)}function TR(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],b=g.getSnapshot;g=g.value;try{if(!qn(b(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ii(s,o,u,h){o&=~Yd,o&=~_s,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var g=o;0<g;){var b=31-lt(g),x=1<<b;h[b]=-1,g&=~x}u!==0&&_0(s,u,o)}function Ju(){return(tt&6)===0?(Po(0),!1):!0}function np(){if($e!==null){if(nt===0)var s=$e.return;else s=$e,Zr=us=null,_d(s),sa=null,bo=0,s=$e;for(;s!==null;)Bb(s.alternate,s),s=s.return;$e=null}}function ma(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,KR(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),si=0,np(),ut=s,$e=u=Gr(s.current,null),Ve=o,nt=0,Gn=null,Ti=!1,ha=to(s,o),Jd=!1,da=Kn=Yd=_s=Ai=St=0,Mn=Lo=null,Xd=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var g=31-lt(h),b=1<<g;o|=s[g],h&=~b}return ii=o,yu(),u}function uv(s,o){Le=null,F.H=To,o===ia||o===ku?(o=k_(),nt=3):o===ad?(o=k_(),nt=4):nt=o===Md?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gn=o,$e===null&&(St=1,Bu(s,sr(o,s.current)))}function cv(){var s=Vn.current;return s===null?!0:(Ve&4194048)===Ve?ur===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?s===ur:!1}function fv(){var s=F.H;return F.H=To,s===null?To:s}function hv(){var s=F.A;return F.A=kR,s}function Yu(){St=4,Ti||(Ve&4194048)!==Ve&&Vn.current!==null||(ha=!0),(Ai&134217727)===0&&(_s&134217727)===0||ut===null||Ii(ut,Ve,Kn,!1)}function rp(s,o,u){var h=tt;tt|=2;var g=fv(),b=hv();(ut!==s||Ve!==o)&&(Qu=null,ma(s,o)),o=!1;var x=St;e:do try{if(nt!==0&&$e!==null){var R=$e,j=Gn;switch(nt){case 8:np(),x=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(o=!0);var G=nt;if(nt=0,Gn=null,ga(s,R,j,G),u&&ha){x=0;break e}break;default:G=nt,nt=0,Gn=null,ga(s,R,j,G)}}AR(),x=St;break}catch(ne){uv(s,ne)}while(!0);return o&&s.shellSuspendCounter++,Zr=us=null,tt=h,F.H=g,F.A=b,$e===null&&(ut=null,Ve=0,yu()),x}function AR(){for(;$e!==null;)dv($e)}function RR(s,o){var u=tt;tt|=2;var h=fv(),g=hv();ut!==s||Ve!==o?(Qu=null,Zu=Ae()+500,ma(s,o)):ha=to(s,o);e:do try{if(nt!==0&&$e!==null){o=$e;var b=Gn;t:switch(nt){case 1:nt=0,Gn=null,ga(s,o,b,1);break;case 2:case 9:if(S_(b)){nt=0,Gn=null,pv(o);break}o=function(){nt!==2&&nt!==9||ut!==s||(nt=7),Or(s)},b.then(o,o);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:S_(b)?(nt=0,Gn=null,pv(o)):(nt=0,Gn=null,ga(s,o,b,7));break;case 5:var x=null;switch($e.tag){case 26:x=$e.memoizedState;case 5:case 27:var R=$e;if(x?Wv(x):R.stateNode.complete){nt=0,Gn=null;var j=R.sibling;if(j!==null)$e=j;else{var G=R.return;G!==null?($e=G,Xu(G)):$e=null}break t}}nt=0,Gn=null,ga(s,o,b,5);break;case 6:nt=0,Gn=null,ga(s,o,b,6);break;case 8:np(),St=6;break e;default:throw Error(r(462))}}OR();break}catch(ne){uv(s,ne)}while(!0);return Zr=us=null,F.H=h,F.A=g,tt=u,$e!==null?0:(ut=null,Ve=0,yu(),St)}function OR(){for(;$e!==null&&!Be();)dv($e)}function dv(s){var o=Pb(s.alternate,s,ii);s.memoizedProps=s.pendingProps,o===null?Xu(s):$e=o}function pv(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Ib(u,o,o.pendingProps,o.type,void 0,Ve);break;case 11:o=Ib(u,o,o.pendingProps,o.type.render,o.ref,Ve);break;case 5:_d(o);default:Bb(u,o),o=$e=h_(o,ii),o=Pb(u,o,ii)}s.memoizedProps=s.pendingProps,o===null?Xu(s):$e=o}function ga(s,o,u,h){Zr=us=null,_d(o),sa=null,bo=0;var g=o.return;try{if(_R(s,g,o,u,Ve)){St=1,Bu(s,sr(u,s.current)),$e=null;return}}catch(b){if(g!==null)throw $e=g,b;St=1,Bu(s,sr(u,s.current)),$e=null;return}o.flags&32768?(Ze||h===1?s=!0:ha||(Ve&536870912)!==0?s=!1:(Ti=s=!0,(h===2||h===9||h===3||h===6)&&(h=Vn.current,h!==null&&h.tag===13&&(h.flags|=16384))),mv(o,s)):Xu(o)}function Xu(s){var o=s;do{if((o.flags&32768)!==0){mv(o,Ti);return}s=o.return;var u=wR(o.alternate,o,ii);if(u!==null){$e=u;return}if(o=o.sibling,o!==null){$e=o;return}$e=o=s}while(o!==null);St===0&&(St=5)}function mv(s,o){do{var u=xR(s.alternate,s);if(u!==null){u.flags&=32767,$e=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){$e=s;return}$e=s=u}while(s!==null);St=6,$e=null}function gv(s,o,u,h,g,b,x,R,j){s.cancelPendingCommit=null;do Wu();while(Lt!==0);if((tt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Hh,uA(s,u,b,x,R,j),s===ut&&($e=ut=null,Ve=0),pa=o,Oi=s,si=u,Wd=b,ep=g,sv=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,MR(ve,function(){return wv(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,g=te.p,te.p=2,x=tt,tt|=4;try{SR(s,o,u)}finally{tt=x,te.p=g,F.T=h}}Lt=1,yv(),_v(),bv()}}function yv(){if(Lt===1){Lt=0;var s=Oi,o=pa,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var h=te.p;te.p=2;var g=tt;tt|=4;try{Yb(o,s);var b=mp,x=r_(s.containerInfo),R=b.focusedElem,j=b.selectionRange;if(x!==R&&R&&R.ownerDocument&&n_(R.ownerDocument.documentElement,R)){if(j!==null&&Uh(R)){var G=j.start,ne=j.end;if(ne===void 0&&(ne=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(ne,R.value.length);else{var ae=R.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),we=R.textContent.length,Oe=Math.min(j.start,we),ot=j.end===void 0?Oe:Math.min(j.end,we);!Y.extend&&Oe>ot&&(x=ot,ot=Oe,Oe=x);var V=t_(R,Oe),B=t_(R,ot);if(V&&B&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var H=ae.createRange();H.setStart(V.node,V.offset),Y.removeAllRanges(),Oe>ot?(Y.addRange(H),Y.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),Y.addRange(H))}}}}for(ae=[],Y=R;Y=Y.parentNode;)Y.nodeType===1&&ae.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var se=ae[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}fc=!!pp,mp=pp=null}finally{tt=g,te.p=h,F.T=u}}s.current=o,Lt=2}}function _v(){if(Lt===2){Lt=0;var s=Oi,o=pa,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var h=te.p;te.p=2;var g=tt;tt|=4;try{Gb(s,o.alternate,o)}finally{tt=g,te.p=h,F.T=u}}Lt=3}}function bv(){if(Lt===4||Lt===3){Lt=0,Ue();var s=Oi,o=pa,u=si,h=sv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Lt=5:(Lt=0,pa=Oi=null,vv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Ri=null),wh(u),o=o.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ht,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=F.T,g=te.p,te.p=2,F.T=null;try{for(var b=s.onRecoverableError,x=0;x<h.length;x++){var R=h[x];b(R.value,{componentStack:R.stack})}}finally{F.T=o,te.p=g}}(si&3)!==0&&Wu(),Or(s),g=s.pendingLanes,(u&261930)!==0&&(g&42)!==0?s===tp?zo++:(zo=0,tp=s):zo=0,Po(0)}}function vv(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,yo(o)))}function Wu(){return yv(),_v(),bv(),wv()}function wv(){if(Lt!==5)return!1;var s=Oi,o=Wd;Wd=0;var u=wh(si),h=F.T,g=te.p;try{te.p=32>u?32:u,F.T=null,u=ep,ep=null;var b=Oi,x=si;if(Lt=0,pa=Oi=null,si=0,(tt&6)!==0)throw Error(r(331));var R=tt;if(tt|=4,nv(b.current),Wb(b,b.current,x,u),tt=R,Po(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ht,b)}catch{}return!0}finally{te.p=g,F.T=h,vv(s,o)}}function xv(s,o,u){o=sr(u,o),o=Dd(s.stateNode,o,2),s=Si(s,o,2),s!==null&&(no(s,2),Or(s))}function rt(s,o,u){if(s.tag===3)xv(s,s,u);else for(;o!==null;){if(o.tag===3){xv(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){s=sr(u,s),u=Sb(2),h=Si(o,u,2),h!==null&&(Eb(u,h,o,s),no(h,2),Or(h));break}}o=o.return}}function ip(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new CR;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(Jd=!0,g.add(u),s=IR.bind(null,s,o,u),o.then(s,s))}function IR(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ut===s&&(Ve&u)===u&&(St===4||St===3&&(Ve&62914560)===Ve&&300>Ae()-Ku?(tt&2)===0&&ma(s,0):Yd|=u,da===Ve&&(da=0)),Or(s)}function Sv(s,o){o===0&&(o=y0()),s=as(s,o),s!==null&&(no(s,o),Or(s))}function NR(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Sv(s,u)}function DR(s,o){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Sv(s,u)}function MR(s,o){return Tn(s,o)}var ec=null,ya=null,sp=!1,tc=!1,ap=!1,Ni=0;function Or(s){s!==ya&&s.next===null&&(ya===null?ec=ya=s:ya=ya.next=s),tc=!0,sp||(sp=!0,zR())}function Po(s,o){if(!ap&&tc){ap=!0;do for(var u=!1,h=ec;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var x=h.suspendedLanes,R=h.pingedLanes;b=(1<<31-lt(42|s)+1)-1,b&=g&~(x&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Tv(h,b))}else b=Ve,b=su(h,h===ut?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||to(h,b)||(u=!0,Tv(h,b));h=h.next}while(u);ap=!1}}function LR(){Ev()}function Ev(){tc=sp=!1;var s=0;Ni!==0&&GR()&&(s=Ni);for(var o=Ae(),u=null,h=ec;h!==null;){var g=h.next,b=kv(h,o);b===0?(h.next=null,u===null?ec=g:u.next=g,g===null&&(ya=u)):(u=h,(s!==0||(b&3)!==0)&&(tc=!0)),h=g}Lt!==0&&Lt!==5||Po(s),Ni!==0&&(Ni=0)}function kv(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var x=31-lt(b),R=1<<x,j=g[x];j===-1?((R&u)===0||(R&h)!==0)&&(g[x]=lA(R,o)):j<=o&&(s.expiredLanes|=R),b&=~R}if(o=ut,u=Ve,u=su(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===o&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&be(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||to(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(h!==null&&be(h),wh(u)){case 2:case 8:u=le;break;case 32:u=ve;break;case 268435456:u=Ie;break;default:u=ve}return h=Cv.bind(null,s),u=Tn(u,h),s.callbackPriority=o,s.callbackNode=u,o}return h!==null&&h!==null&&be(h),s.callbackPriority=2,s.callbackNode=null,2}function Cv(s,o){if(Lt!==0&&Lt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Wu()&&s.callbackNode!==u)return null;var h=Ve;return h=su(s,s===ut?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(ov(s,h,o),kv(s,Ae()),s.callbackNode!=null&&s.callbackNode===u?Cv.bind(null,s):null)}function Tv(s,o){if(Wu())return null;ov(s,o,!0)}function zR(){ZR(function(){(tt&6)!==0?Tn(X,LR):Ev()})}function op(){if(Ni===0){var s=na;s===0&&(s=nu,nu<<=1,(nu&261888)===0&&(nu=256)),Ni=s}return Ni}function Av(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uu(""+s)}function Rv(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function PR(s,o,u,h,g){if(o==="submit"&&u&&u.stateNode===g){var b=Av((g[Rn]||null).action),x=h.submitter;x&&(o=(o=x[Rn]||null)?Av(o.formAction):x.getAttribute("formAction"),o!==null&&(b=o,x=null));var R=new du("action","action",null,h,g);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ni!==0){var j=x?Rv(g,x):new FormData(g);Td(u,{pending:!0,data:j,method:g.method,action:b},null,j)}}else typeof b=="function"&&(R.preventDefault(),j=x?Rv(g,x):new FormData(g),Td(u,{pending:!0,data:j,method:g.method,action:b},b,j))},currentTarget:g}]})}}for(var lp=0;lp<Vh.length;lp++){var up=Vh[lp],jR=up.toLowerCase(),BR=up[0].toUpperCase()+up.slice(1);wr(jR,"on"+BR)}wr(a_,"onAnimationEnd"),wr(o_,"onAnimationIteration"),wr(l_,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(tR,"onTransitionRun"),wr(nR,"onTransitionStart"),wr(rR,"onTransitionCancel"),wr(u_,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Ov(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var x=h.length-1;0<=x;x--){var R=h[x],j=R.instance,G=R.currentTarget;if(R=R.listener,j!==b&&g.isPropagationStopped())break e;b=R,g.currentTarget=G;try{b(g)}catch(ne){gu(ne)}g.currentTarget=null,b=j}else for(x=0;x<h.length;x++){if(R=h[x],j=R.instance,G=R.currentTarget,R=R.listener,j!==b&&g.isPropagationStopped())break e;b=R,g.currentTarget=G;try{b(g)}catch(ne){gu(ne)}g.currentTarget=null,b=j}}}}function qe(s,o){var u=o[xh];u===void 0&&(u=o[xh]=new Set);var h=s+"__bubble";u.has(h)||(Iv(o,s,2,!1),u.add(h))}function cp(s,o,u){var h=0;o&&(h|=4),Iv(u,s,h,o)}var nc="_reactListening"+Math.random().toString(36).slice(2);function fp(s){if(!s[nc]){s[nc]=!0,E0.forEach(function(u){u!=="selectionchange"&&(UR.has(u)||cp(u,!1,s),cp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[nc]||(o[nc]=!0,cp("selectionchange",!1,o))}}function Iv(s,o,u,h){switch(aw(o)){case 2:var g=pO;break;case 8:g=mO;break;default:g=Cp}u=g.bind(null,o,u,s),g=void 0,!Ih||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function hp(s,o,u,h,g){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var R=h.stateNode.containerInfo;if(R===g)break;if(x===4)for(x=h.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;R!==null;){if(x=Bs(R),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){h=b=x;continue e}R=R.parentNode}}h=h.return}z0(function(){var G=b,ne=Rh(u),ae=[];e:{var Q=c_.get(s);if(Q!==void 0){var Y=du,we=s;switch(s){case"keypress":if(fu(u)===0)break e;case"keydown":case"keyup":Y=DA;break;case"focusin":we="focus",Y=Lh;break;case"focusout":we="blur",Y=Lh;break;case"beforeblur":case"afterblur":Y=Lh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=B0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=zA;break;case a_:case o_:case l_:Y=EA;break;case u_:Y=jA;break;case"scroll":case"scrollend":Y=bA;break;case"wheel":Y=UA;break;case"copy":case"cut":case"paste":Y=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=$0;break;case"toggle":case"beforetoggle":Y=qA}var Oe=(o&4)!==0,ot=!Oe&&(s==="scroll"||s==="scrollend"),V=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var B=G,H;B!==null;){var se=B;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||V===null||(se=so(B,V),se!=null&&Oe.push(Bo(B,se,H))),ot)break;B=B.return}0<Oe.length&&(Q=new Y(Q,we,null,u,ne),ae.push({event:Q,listeners:Oe}))}}if((o&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",Q&&u!==Ah&&(we=u.relatedTarget||u.fromElement)&&(Bs(we)||we[js]))break e;if((Y||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(we=u.relatedTarget||u.toElement,Y=G,we=we?Bs(we):null,we!==null&&(ot=a(we),Oe=we.tag,we!==ot||Oe!==5&&Oe!==27&&Oe!==6)&&(we=null)):(Y=null,we=G),Y!==we)){if(Oe=B0,se="onMouseLeave",V="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=$0,se="onPointerLeave",V="onPointerEnter",B="pointer"),ot=Y==null?Q:io(Y),H=we==null?Q:io(we),Q=new Oe(se,B+"leave",Y,u,ne),Q.target=ot,Q.relatedTarget=H,se=null,Bs(ne)===G&&(Oe=new Oe(V,B+"enter",we,u,ne),Oe.target=H,Oe.relatedTarget=ot,se=Oe),ot=se,Y&&we)t:{for(Oe=$R,V=Y,B=we,H=0,se=V;se;se=Oe(se))H++;se=0;for(var Ce=B;Ce;Ce=Oe(Ce))se++;for(;0<H-se;)V=Oe(V),H--;for(;0<se-H;)B=Oe(B),se--;for(;H--;){if(V===B||B!==null&&V===B.alternate){Oe=V;break t}V=Oe(V),B=Oe(B)}Oe=null}else Oe=null;Y!==null&&Nv(ae,Q,Y,Oe,!1),we!==null&&ot!==null&&Nv(ae,ot,we,Oe,!0)}}e:{if(Q=G?io(G):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var Ye=Q0;else if(K0(Q))if(J0)Ye=XA;else{Ye=JA;var Se=QA}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Th(G.elementType)&&(Ye=Q0):Ye=YA;if(Ye&&(Ye=Ye(s,G))){Z0(ae,Ye,u,ne);break e}Se&&Se(s,Q,G),s==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Ch(Q,"number",Q.value)}switch(Se=G?io(G):window,s){case"focusin":(K0(Se)||Se.contentEditable==="true")&&(Zs=Se,$h=G,po=null);break;case"focusout":po=$h=Zs=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,i_(ae,u,ne);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":i_(ae,u,ne)}var ze;if(Ph)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ks?H0(s,u)&&(He="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(He="onCompositionStart");He&&(q0&&u.locale!=="ko"&&(Ks||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ks&&(ze=P0()):(gi=ne,Nh="value"in gi?gi.value:gi.textContent,Ks=!0)),Se=rc(G,He),0<Se.length&&(He=new U0(He,s,null,u,ne),ae.push({event:He,listeners:Se}),ze?He.data=ze:(ze=G0(u),ze!==null&&(He.data=ze)))),(ze=VA?HA(s,u):GA(s,u))&&(He=rc(G,"onBeforeInput"),0<He.length&&(Se=new U0("onBeforeInput","beforeinput",null,u,ne),ae.push({event:Se,listeners:He}),Se.data=ze)),PR(ae,s,G,u,ne)}Ov(ae,o)})}function Bo(s,o,u){return{instance:s,listener:o,currentTarget:u}}function rc(s,o){for(var u=o+"Capture",h=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=so(s,u),g!=null&&h.unshift(Bo(s,g,b)),g=so(s,o),g!=null&&h.push(Bo(s,g,b))),s.tag===3)return h;s=s.return}return[]}function $R(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Nv(s,o,u,h,g){for(var b=o._reactName,x=[];u!==null&&u!==h;){var R=u,j=R.alternate,G=R.stateNode;if(R=R.tag,j!==null&&j===h)break;R!==5&&R!==26&&R!==27||G===null||(j=G,g?(G=so(u,b),G!=null&&x.unshift(Bo(u,G,j))):g||(G=so(u,b),G!=null&&x.push(Bo(u,G,j)))),u=u.return}x.length!==0&&s.push({event:o,listeners:x})}var qR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function Dv(s){return(typeof s=="string"?s:""+s).replace(qR,`
`).replace(FR,"")}function Mv(s,o){return o=Dv(o),Dv(s)===o}function at(s,o,u,h,g,b){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Vs(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Vs(s,""+h);break;case"className":ou(s,"class",h);break;case"tabIndex":ou(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ou(s,u,h);break;case"style":M0(s,h,b);break;case"data":if(o!=="object"){ou(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=uu(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&at(s,o,"name",g.name,g,null),at(s,o,"formEncType",g.formEncType,g,null),at(s,o,"formMethod",g.formMethod,g,null),at(s,o,"formTarget",g.formTarget,g,null)):(at(s,o,"encType",g.encType,g,null),at(s,o,"method",g.method,g,null),at(s,o,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=uu(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Vr);break;case"onScroll":h!=null&&qe("scroll",s);break;case"onScrollEnd":h!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=uu(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":qe("beforetoggle",s),qe("toggle",s),au(s,"popover",h);break;case"xlinkActuate":Fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Fr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Fr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Fr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Fr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":au(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=yA.get(u)||u,au(s,u,h))}}function dp(s,o,u,h,g,b){switch(u){case"style":M0(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Vs(s,h):(typeof h=="number"||typeof h=="bigint")&&Vs(s,""+h);break;case"onScroll":h!=null&&qe("scroll",s);break;case"onScrollEnd":h!=null&&qe("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!k0.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),b=s[Rn]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(o,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,h,g);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):au(s,u,h)}}}function rn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var h=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var x=u[b];if(x!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:at(s,o,b,x,u,null)}}g&&at(s,o,"srcSet",u.srcSet,u,null),h&&at(s,o,"src",u.src,u,null);return;case"input":qe("invalid",s);var R=b=x=g=null,j=null,G=null;for(h in u)if(u.hasOwnProperty(h)){var ne=u[h];if(ne!=null)switch(h){case"name":g=ne;break;case"type":x=ne;break;case"checked":j=ne;break;case"defaultChecked":G=ne;break;case"value":b=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:at(s,o,h,ne,u,null)}}O0(s,b,R,j,G,x,g,!1);return;case"select":qe("invalid",s),h=x=b=null;for(g in u)if(u.hasOwnProperty(g)&&(R=u[g],R!=null))switch(g){case"value":b=R;break;case"defaultValue":x=R;break;case"multiple":h=R;default:at(s,o,g,R,u,null)}o=b,u=x,s.multiple=!!h,o!=null?Fs(s,!!h,o,!1):u!=null&&Fs(s,!!h,u,!0);return;case"textarea":qe("invalid",s),b=g=h=null;for(x in u)if(u.hasOwnProperty(x)&&(R=u[x],R!=null))switch(x){case"value":h=R;break;case"defaultValue":g=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:at(s,o,x,R,u,null)}N0(s,h,g,b);return;case"option":for(j in u)u.hasOwnProperty(j)&&(h=u[j],h!=null)&&(j==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":at(s,o,j,h,u,null));return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(h=0;h<jo.length;h++)qe(jo[h],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(h=u[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:at(s,o,G,h,u,null)}return;default:if(Th(o)){for(ne in u)u.hasOwnProperty(ne)&&(h=u[ne],h!==void 0&&dp(s,o,ne,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&at(s,o,R,h,u,null))}function VR(s,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,x=null,R=null,j=null,G=null,ne=null;for(Y in u){var ae=u[Y];if(u.hasOwnProperty(Y)&&ae!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=ae;default:h.hasOwnProperty(Y)||at(s,o,Y,null,h,ae)}}for(var Q in h){var Y=h[Q];if(ae=u[Q],h.hasOwnProperty(Q)&&(Y!=null||ae!=null))switch(Q){case"type":b=Y;break;case"name":g=Y;break;case"checked":G=Y;break;case"defaultChecked":ne=Y;break;case"value":x=Y;break;case"defaultValue":R=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,o));break;default:Y!==ae&&at(s,o,Q,Y,h,ae)}}kh(s,x,R,j,G,ne,b,g);return;case"select":Y=x=R=Q=null;for(b in u)if(j=u[b],u.hasOwnProperty(b)&&j!=null)switch(b){case"value":break;case"multiple":Y=j;default:h.hasOwnProperty(b)||at(s,o,b,null,h,j)}for(g in h)if(b=h[g],j=u[g],h.hasOwnProperty(g)&&(b!=null||j!=null))switch(g){case"value":Q=b;break;case"defaultValue":R=b;break;case"multiple":x=b;default:b!==j&&at(s,o,g,b,h,j)}o=R,u=x,h=Y,Q!=null?Fs(s,!!u,Q,!1):!!h!=!!u&&(o!=null?Fs(s,!!u,o,!0):Fs(s,!!u,u?[]:"",!1));return;case"textarea":Y=Q=null;for(R in u)if(g=u[R],u.hasOwnProperty(R)&&g!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:at(s,o,R,null,h,g)}for(x in h)if(g=h[x],b=u[x],h.hasOwnProperty(x)&&(g!=null||b!=null))switch(x){case"value":Q=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&at(s,o,x,g,h,b)}I0(s,Q,Y);return;case"option":for(var we in u)Q=u[we],u.hasOwnProperty(we)&&Q!=null&&!h.hasOwnProperty(we)&&(we==="selected"?s.selected=!1:at(s,o,we,null,h,Q));for(j in h)Q=h[j],Y=u[j],h.hasOwnProperty(j)&&Q!==Y&&(Q!=null||Y!=null)&&(j==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":at(s,o,j,Q,h,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in u)Q=u[Oe],u.hasOwnProperty(Oe)&&Q!=null&&!h.hasOwnProperty(Oe)&&at(s,o,Oe,null,h,Q);for(G in h)if(Q=h[G],Y=u[G],h.hasOwnProperty(G)&&Q!==Y&&(Q!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,o));break;default:at(s,o,G,Q,h,Y)}return;default:if(Th(o)){for(var ot in u)Q=u[ot],u.hasOwnProperty(ot)&&Q!==void 0&&!h.hasOwnProperty(ot)&&dp(s,o,ot,void 0,h,Q);for(ne in h)Q=h[ne],Y=u[ne],!h.hasOwnProperty(ne)||Q===Y||Q===void 0&&Y===void 0||dp(s,o,ne,Q,h,Y);return}}for(var V in u)Q=u[V],u.hasOwnProperty(V)&&Q!=null&&!h.hasOwnProperty(V)&&at(s,o,V,null,h,Q);for(ae in h)Q=h[ae],Y=u[ae],!h.hasOwnProperty(ae)||Q===Y||Q==null&&Y==null||at(s,o,ae,Q,h,Y)}function Lv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var g=u[h],b=g.transferSize,x=g.initiatorType,R=g.duration;if(b&&R&&Lv(x)){for(x=0,R=g.responseEnd,h+=1;h<u.length;h++){var j=u[h],G=j.startTime;if(G>R)break;var ne=j.transferSize,ae=j.initiatorType;ne&&Lv(ae)&&(j=j.responseEnd,x+=ne*(j<R?1:(R-G)/(j-G)))}if(--h,o+=8*(b+x)/(g.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pp=null,mp=null;function ic(s){return s.nodeType===9?s:s.ownerDocument}function zv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function gp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yp=null;function GR(){var s=window.event;return s&&s.type==="popstate"?s===yp?!1:(yp=s,!0):(yp=null,!1)}var jv=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,ZR=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(s){return Bv.resolve(null).then(s).catch(QR)}:jv;function QR(s){setTimeout(function(){throw s})}function Di(s){return s==="head"}function Uv(s,o){var u=o,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(g),wa(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Uo(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Uo(u);for(var b=u.firstChild;b;){var x=b.nextSibling,R=b.nodeName;b[ro]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=x}}else u==="body"&&Uo(s.ownerDocument.body);u=g}while(u);wa(o)}function $v(s,o){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function _p(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_p(u),Sh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function JR(s,o,u,h){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ro])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=cr(s.nextSibling),s===null)break}return null}function YR(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=cr(s.nextSibling),s===null))return null;return s}function qv(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=cr(s.nextSibling),s===null))return null;return s}function bp(s){return s.data==="$?"||s.data==="$~"}function vp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function XR(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function cr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var wp=null;function Fv(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return cr(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function Vv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function Hv(s,o,u){switch(o=ic(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Uo(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Sh(s)}var fr=new Map,Gv=new Set;function sc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ai=te.d;te.d={f:WR,r:eO,D:tO,C:nO,L:rO,m:iO,X:aO,S:sO,M:oO};function WR(){var s=ai.f(),o=Ju();return s||o}function eO(s){var o=Us(s);o!==null&&o.tag===5&&o.type==="form"?ub(o):ai.r(s)}var _a=typeof document>"u"?null:document;function Kv(s,o,u){var h=_a;if(h&&typeof o=="string"&&o){var g=rr(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Gv.has(g)||(Gv.add(g),s={rel:s,crossOrigin:u,href:o},h.querySelector(g)===null&&(o=h.createElement("link"),rn(o,"link",s),Gt(o),h.head.appendChild(o)))}}function tO(s){ai.D(s),Kv("dns-prefetch",s,null)}function nO(s,o){ai.C(s,o),Kv("preconnect",s,o)}function rO(s,o,u){ai.L(s,o,u);var h=_a;if(h&&s&&o){var g='link[rel="preload"][as="'+rr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+rr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+rr(u.imageSizes)+'"]')):g+='[href="'+rr(s)+'"]';var b=g;switch(o){case"style":b=ba(s);break;case"script":b=va(s)}fr.has(b)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),fr.set(b,s),h.querySelector(g)!==null||o==="style"&&h.querySelector($o(b))||o==="script"&&h.querySelector(qo(b))||(o=h.createElement("link"),rn(o,"link",s),Gt(o),h.head.appendChild(o)))}}function iO(s,o){ai.m(s,o);var u=_a;if(u&&s){var h=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+rr(h)+'"][href="'+rr(s)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=va(s)}if(!fr.has(b)&&(s=p({rel:"modulepreload",href:s},o),fr.set(b,s),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(qo(b)))return}h=u.createElement("link"),rn(h,"link",s),Gt(h),u.head.appendChild(h)}}}function sO(s,o,u){ai.S(s,o,u);var h=_a;if(h&&s){var g=$s(h).hoistableStyles,b=ba(s);o=o||"default";var x=g.get(b);if(!x){var R={loading:0,preload:null};if(x=h.querySelector($o(b)))R.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=fr.get(b))&&xp(s,u);var j=x=h.createElement("link");Gt(j),rn(j,"link",s),j._p=new Promise(function(G,ne){j.onload=G,j.onerror=ne}),j.addEventListener("load",function(){R.loading|=1}),j.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ac(x,o,h)}x={type:"stylesheet",instance:x,count:1,state:R},g.set(b,x)}}}function aO(s,o){ai.X(s,o);var u=_a;if(u&&s){var h=$s(u).hoistableScripts,g=va(s),b=h.get(g);b||(b=u.querySelector(qo(g)),b||(s=p({src:s,async:!0},o),(o=fr.get(g))&&Sp(s,o),b=u.createElement("script"),Gt(b),rn(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function oO(s,o){ai.M(s,o);var u=_a;if(u&&s){var h=$s(u).hoistableScripts,g=va(s),b=h.get(g);b||(b=u.querySelector(qo(g)),b||(s=p({src:s,async:!0,type:"module"},o),(o=fr.get(g))&&Sp(s,o),b=u.createElement("script"),Gt(b),rn(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function Zv(s,o,u,h){var g=(g=ue.current)?sc(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ba(u.href),u=$s(g).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=ba(u.href);var b=$s(g).hoistableStyles,x=b.get(s);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,x),(b=g.querySelector($o(s)))&&!b._p&&(x.instance=b,x.state.loading=5),fr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},fr.set(s,u),b||lO(g,s,u,x.state))),o&&h===null)throw Error(r(528,""));return x}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=va(u),u=$s(g).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ba(s){return'href="'+rr(s)+'"'}function $o(s){return'link[rel="stylesheet"]['+s+"]"}function Qv(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function lO(s,o,u,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),rn(o,"link",u),Gt(o),s.head.appendChild(o))}function va(s){return'[src="'+rr(s)+'"]'}function qo(s){return"script[async]"+s}function Jv(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+rr(u.href)+'"]');if(h)return o.instance=h,Gt(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Gt(h),rn(h,"style",g),ac(h,u.precedence,s),o.instance=h;case"stylesheet":g=ba(u.href);var b=s.querySelector($o(g));if(b)return o.state.loading|=4,o.instance=b,Gt(b),b;h=Qv(u),(g=fr.get(g))&&xp(h,g),b=(s.ownerDocument||s).createElement("link"),Gt(b);var x=b;return x._p=new Promise(function(R,j){x.onload=R,x.onerror=j}),rn(b,"link",h),o.state.loading|=4,ac(b,u.precedence,s),o.instance=b;case"script":return b=va(u.src),(g=s.querySelector(qo(b)))?(o.instance=g,Gt(g),g):(h=u,(g=fr.get(b))&&(h=p({},u),Sp(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Gt(g),rn(g,"link",h),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,ac(h,u.precedence,s));return o.instance}function ac(s,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,x=0;x<h.length;x++){var R=h[x];if(R.dataset.precedence===o)b=R;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function xp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Sp(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var oc=null;function Yv(s,o,u){if(oc===null){var h=new Map,g=oc=new Map;g.set(u,h)}else g=oc,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var b=u[g];if(!(b[ro]||b[Wt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var x=b.getAttribute(o)||"";x=s+x;var R=h.get(x);R?R.push(b):h.set(x,[b])}}return h}function Xv(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function uO(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Wv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function cO(s,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=ba(h.href),b=o.querySelector($o(g));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=lc.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=b,Gt(b);return}b=o.ownerDocument||o,h=Qv(h),(g=fr.get(g))&&xp(h,g),b=b.createElement("link"),Gt(b);var x=b;x._p=new Promise(function(R,j){x.onload=R,x.onerror=j}),rn(b,"link",h),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=lc.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var Ep=0;function fO(s,o){return s.stylesheets&&s.count===0&&cc(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&cc(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+o);0<s.imgBytes&&Ep===0&&(Ep=62500*HR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cc(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Ep?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uc=null;function cc(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uc=new Map,o.forEach(hO,s),uc=null,lc.call(s))}function hO(s,o){if(!(o.state.loading&4)){var u=uc.get(s);if(u)var h=u.get(null);else{u=new Map,uc.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var x=g[b];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),h=x)}h&&u.set(null,h)}g=o.instance,x=g.getAttribute("data-precedence"),b=u.get(x)||h,b===h&&u.set(null,g),u.set(x,g),this.count++,h=lc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var Fo={$$typeof:T,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function dO(s,o,u,h,g,b,x,R,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.hiddenUpdates=bh(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function ew(s,o,u,h,g,b,x,R,j,G,ne,ae){return s=new dO(s,o,u,x,j,G,ne,ae,R),o=1,b===!0&&(o|=24),b=Fn(3,null,null,o),s.current=b,b.stateNode=s,o=rd(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:o},od(b),s}function tw(s){return s?(s=Ys,s):Ys}function nw(s,o,u,h,g,b){g=tw(g),h.context===null?h.context=g:h.pendingContext=g,h=xi(o),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=Si(s,h,o),u!==null&&(Ln(u,s,o),wo(u,s,o))}function rw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function kp(s,o){rw(s,o),(s=s.alternate)&&rw(s,o)}function iw(s){if(s.tag===13||s.tag===31){var o=as(s,67108864);o!==null&&Ln(o,s,67108864),kp(s,67108864)}}function sw(s){if(s.tag===13||s.tag===31){var o=Zn();o=vh(o);var u=as(s,o);u!==null&&Ln(u,s,o),kp(s,o)}}var fc=!0;function pO(s,o,u,h){var g=F.T;F.T=null;var b=te.p;try{te.p=2,Cp(s,o,u,h)}finally{te.p=b,F.T=g}}function mO(s,o,u,h){var g=F.T;F.T=null;var b=te.p;try{te.p=8,Cp(s,o,u,h)}finally{te.p=b,F.T=g}}function Cp(s,o,u,h){if(fc){var g=Tp(h);if(g===null)hp(s,o,h,hc,u),ow(s,h);else if(yO(g,s,o,u,h))h.stopPropagation();else if(ow(s,h),o&4&&-1<gO.indexOf(s)){for(;g!==null;){var b=Us(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=ts(b.pendingLanes);if(x!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var j=1<<31-lt(x);R.entanglements[1]|=j,x&=~j}Or(b),(tt&6)===0&&(Zu=Ae()+500,Po(0))}}break;case 31:case 13:R=as(b,2),R!==null&&Ln(R,b,2),Ju(),kp(b,2)}if(b=Tp(h),b===null&&hp(s,o,h,hc,u),b===g)break;g=b}g!==null&&h.stopPropagation()}else hp(s,o,h,null,u)}}function Tp(s){return s=Rh(s),Ap(s)}var hc=null;function Ap(s){if(hc=null,s=Bs(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return hc=s,null}function aw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case X:return 2;case le:return 8;case ve:case Ee:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Rp=!1,Mi=null,Li=null,zi=null,Vo=new Map,Ho=new Map,Pi=[],gO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ow(s,o){switch(s){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Vo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(o.pointerId)}}function Go(s,o,u,h,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},o!==null&&(o=Us(o),o!==null&&iw(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function yO(s,o,u,h,g){switch(o){case"focusin":return Mi=Go(Mi,s,o,u,h,g),!0;case"dragenter":return Li=Go(Li,s,o,u,h,g),!0;case"mouseover":return zi=Go(zi,s,o,u,h,g),!0;case"pointerover":var b=g.pointerId;return Vo.set(b,Go(Vo.get(b)||null,s,o,u,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Ho.set(b,Go(Ho.get(b)||null,s,o,u,h,g)),!0}return!1}function lw(s){var o=Bs(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,x0(s.priority,function(){sw(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,x0(s.priority,function(){sw(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Tp(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Ah=h,u.target.dispatchEvent(h),Ah=null}else return o=Us(u),o!==null&&iw(o),s.blockedOn=u,!1;o.shift()}return!0}function uw(s,o,u){dc(s)&&u.delete(o)}function _O(){Rp=!1,Mi!==null&&dc(Mi)&&(Mi=null),Li!==null&&dc(Li)&&(Li=null),zi!==null&&dc(zi)&&(zi=null),Vo.forEach(uw),Ho.forEach(uw)}function pc(s,o){s.blockedOn===o&&(s.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_O)))}var mc=null;function cw(s){mc!==s&&(mc=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mc===s&&(mc=null);for(var o=0;o<s.length;o+=3){var u=s[o],h=s[o+1],g=s[o+2];if(typeof h!="function"){if(Ap(h||u)===null)continue;break}var b=Us(u);b!==null&&(s.splice(o,3),o-=3,Td(b,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function wa(s){function o(j){return pc(j,s)}Mi!==null&&pc(Mi,s),Li!==null&&pc(Li,s),zi!==null&&pc(zi,s),Vo.forEach(o),Ho.forEach(o);for(var u=0;u<Pi.length;u++){var h=Pi[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Pi.length&&(u=Pi[0],u.blockedOn===null);)lw(u),u.blockedOn===null&&Pi.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],b=u[h+1],x=g[Rn]||null;if(typeof b=="function")x||cw(u);else if(x){var R=null;if(b&&b.hasAttribute("formAction")){if(g=b,x=b[Rn]||null)R=x.formAction;else if(Ap(g)!==null)continue}else R=x.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),cw(u)}}}function fw(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function Op(s){this._internalRoot=s}gc.prototype.render=Op.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Zn();nw(u,h,s,o,null,null)},gc.prototype.unmount=Op.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;nw(s.current,2,null,s,null,null),Ju(),o[js]=null}};function gc(s){this._internalRoot=s}gc.prototype.unstable_scheduleHydration=function(s){if(s){var o=w0();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Pi.length&&o!==0&&o<Pi[u].priority;u++);Pi.splice(u,0,s),u===0&&lw(s)}};var hw=e.version;if(hw!=="19.2.3")throw Error(r(527,hw,"19.2.3"));te.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var bO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Ht=yc.inject(bO),bt=yc}catch{}}return Zo.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,h="",g=bb,b=vb,x=wb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=ew(s,1,!1,null,null,u,h,null,g,b,x,fw),s[js]=o.current,fp(s),new Op(o)},Zo.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var h=!1,g="",b=bb,x=vb,R=wb,j=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(j=u.formState)),o=ew(s,1,!0,o,u??null,h,g,j,b,x,R,fw),o.context=tw(null),u=o.current,h=Zn(),h=vh(h),g=xi(h),g.callback=null,Si(u,g,h),u=h,o.current.lanes=u,no(o,u),Or(o),s[js]=o.current,fp(s),new gc(o)},Zo.version="19.2.3",Zo}var xw;function RO(){if(xw)return Dp.exports;xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=AO(),Dp.exports}var OO=RO(),Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IO={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},NO=class{#e=IO;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Cs=new NO;function DO(t){setTimeout(t,0)}var qa=typeof window>"u"||"Deno"in globalThis;function dr(){}function MO(t,e){return typeof t=="function"?t(e):t}function Rm(t){return typeof t=="number"&&t>=0&&t!==1/0}function D1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hi(t,e){return typeof t=="function"?t(e):t}function pr(t,e){return typeof t=="function"?t(e):t}function Sw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==qg(l,e.options))return!1}else if(!Ol(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function Ew(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(fi(e.options.mutationKey)!==fi(a))return!1}else if(!Ol(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function qg(t,e){return(e?.queryKeyHashFn||fi)(t)}function fi(t){return JSON.stringify(t,(e,n)=>Im(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ol(t[n],e[n])):!1}var LO=Object.prototype.hasOwnProperty;function M1(t,e){if(t===e)return t;const n=kw(t)&&kw(e);if(!n&&!(Im(t)&&Im(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),l=a.length,c=n?new Array(l):{};let f=0;for(let d=0;d<l;d++){const m=n?d:a[d],p=t[m],_=e[m];if(p===_){c[m]=p,(n?d<i:LO.call(t,m))&&f++;continue}if(p===null||_===null||typeof p!="object"||typeof _!="object"){c[m]=_;continue}const y=M1(p,_);c[m]=y,y===p&&f++}return i===l&&f===i?t:c}function Om(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function kw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Im(t){if(!Cw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Cw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cw(t){return Object.prototype.toString.call(t)==="[object Object]"}function zO(t){return new Promise(e=>{Cs.setTimeout(e,t)})}function Nm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?M1(t,e):e}function PO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function jO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Fg=Symbol();function L1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Fg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function BO(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var UO=class extends Vl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!qa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Vg=new UO;function Dm(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var $O=DO;function qO(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=$O;const a=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{a(()=>{c(...f)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var pn=qO(),FO=class extends Vl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!qa&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},nf=new FO;function VO(t){return Math.min(1e3*2**t,3e4)}function z1(t){return(t??"online")==="online"?nf.isOnline():!0}var Mm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function P1(t){let e=!1,n=0,r;const i=Dm(),a=()=>i.status!=="pending",l=w=>{if(!a()){const C=new Mm(w);_(C),t.onCancel?.(C)}},c=()=>{e=!0},f=()=>{e=!1},d=()=>Vg.isFocused()&&(t.networkMode==="always"||nf.isOnline())&&t.canRun(),m=()=>z1(t.networkMode)&&t.canRun(),p=w=>{a()||(r?.(),i.resolve(w))},_=w=>{a()||(r?.(),i.reject(w))},y=()=>new Promise(w=>{r=C=>{(a()||d())&&w(C)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),v=()=>{if(a())return;let w;const C=n===0?t.initialPromise:void 0;try{w=C??t.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(p).catch(S=>{if(a())return;const I=t.retry??(qa?0:3),T=t.retryDelay??VO,L=typeof T=="function"?T(n,S):T,z=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,S);if(e||!z){_(S);return}n++,t.onFail?.(n,S),zO(L).then(()=>d()?void 0:y()).then(()=>{e?_(S):v()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:c,continueRetry:f,canStart:m,start:()=>(m()?v():y().then(v),i)}}var j1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rm(this.gcTime)&&(this.#e=Cs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Cs.clearTimeout(this.#e),this.#e=void 0)}},HO=class extends j1{#e;#t;#n;#r;#i;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Aw(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Aw(this.options);e.data!==void 0&&(this.setState(Tw(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Nm(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>pr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D1(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const c=L1(this.options,e),d=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#s=!1,this.options.persister?this.options.persister(c,d,this):c(d)},l=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#i=P1({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof Mm&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#a({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Mm){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...B1(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...Tw(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),pn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function B1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Tw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Aw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var GO=class extends Vl{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=Dm(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#s;#a;#p;#m;#u;#c;#l;#f;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Rw(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!Om(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Ow(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||pr(this.options.enabled,this.#t)!==pr(e.enabled,this.#t)||Hi(this.options.staleTime,this.#t)!==Hi(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||pr(this.options.enabled,this.#t)!==pr(e.enabled,this.#t)||i!==this.#f)&&this.#_(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return ZO(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(dr)),e}#g(){this.#v();const t=Hi(this.options.staleTime,this.#t);if(qa||this.#r.isStale||!Rm(t))return;const n=D1(this.#r.dataUpdatedAt,t)+1;this.#c=Cs.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#_(t){this.#w(),this.#f=t,!(qa||pr(this.options.enabled,this.#t)===!1||!Rm(this.#f)||this.#f===0)&&(this.#l=Cs.setInterval(()=>{(this.options.refetchIntervalInBackground||Vg.isFocused())&&this.#d()},this.#f))}#b(){this.#g(),this.#_(this.#y())}#v(){this.#c&&(Cs.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#l&&(Cs.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,a=this.#i,l=this.#o,f=t!==n?t.state:this.#n,{state:d}=t;let m={...d},p=!1,_;if(e._optimisticResults){const $=this.hasListeners(),q=!$&&Rw(t,e),P=$&&Ow(t,n,e,r);(q||P)&&(m={...m,...B1(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:w}=m;_=m.data;let C=!1;if(e.placeholderData!==void 0&&_===void 0&&w==="pending"){let $;i?.isPlaceholderData&&e.placeholderData===l?.placeholderData?($=i.data,C=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,$!==void 0&&(w="success",_=Nm(i?.data,$,e),p=!0)}if(e.select&&_!==void 0&&!C)if(i&&_===a?.data&&e.select===this.#p)_=this.#m;else try{this.#p=e.select,_=e.select(_),_=Nm(i?.data,_,e),this.#m=_,this.#a=null}catch($){this.#a=$}this.#a&&(y=this.#a,_=this.#m,v=Date.now(),w="error");const S=m.fetchStatus==="fetching",I=w==="pending",T=w==="error",L=I&&S,z=_!==void 0,M={status:w,fetchStatus:m.fetchStatus,isPending:I,isSuccess:w==="success",isError:T,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!I,isLoadingError:T&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&z,isStale:Hg(t,e),refetch:this.refetch,promise:this.#s,isEnabled:pr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=K=>{M.status==="error"?K.reject(M.error):M.data!==void 0&&K.resolve(M.data)},q=()=>{const K=this.#s=M.promise=Dm();$(K)},P=this.#s;switch(P.status){case"pending":t.queryHash===n.queryHash&&$(P);break;case"fulfilled":(M.status==="error"||M.data!==P.value)&&q();break;case"rejected":(M.status!=="error"||M.error!==P.reason)&&q();break}}return M}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#u=this.#t),Om(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#h.size)return!0;const a=new Set(i??this.#h);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(l=>{const c=l;return this.#r[c]!==t[c]&&a.has(c)})};this.#S({listeners:n()})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){pn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function KO(t,e){return pr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Rw(t,e){return KO(t,e)||t.state.data!==void 0&&Lm(t,e,e.refetchOnMount)}function Lm(t,e,n){if(pr(e.enabled,t)!==!1&&Hi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Hg(t,e)}return!1}function Ow(t,e,n,r){return(t!==e||pr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Hg(t,n)}function Hg(t,e){return pr(e.enabled,t)!==!1&&t.isStaleByTime(Hi(e.staleTime,t))}function ZO(t,e){return!Om(t.getCurrentResult(),e)}function Iw(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const d=async()=>{let m=!1;const p=v=>{BO(v,()=>e.signal,()=>m=!0)},_=L1(e.options,e.fetchOptions),y=async(v,w,C)=>{if(m)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const I=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return p(E),E})(),T=await _(I),{maxPages:L}=e.options,z=C?jO:PO;return{pages:z(v.pages,T,L),pageParams:z(v.pageParams,w,L)}};if(i&&a.length){const v=i==="backward",w=v?QO:Nw,C={pages:a,pageParams:l},S=w(r,C);c=await y(C,S,v)}else{const v=t??a.length;do{const w=f===0?l[0]??r.initialPageParam:Nw(r,c);if(f>0&&w==null)break;c=await y(c,w),f++}while(f<v)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function Nw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function QO(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var JO=class extends j1{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||YO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=P1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const l=await this.options.onMutate?.(t,n);l!==this.state.context&&this.#i({type:"pending",context:l,variables:t,isPaused:i})}const a=await this.#r.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#i({type:"success",data:a}),a}catch(a){try{await this.#n.config.onError?.(a,t,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(a,t,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,a,t,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#i({type:"error",error:a}),a}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function YO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XO=class extends Vl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new JO({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=_c(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=_c(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=_c(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=_c(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){pn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Ew(e,n))}findAll(t={}){return this.getAll().filter(e=>Ew(t,e))}notify(t){pn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pn.batch(()=>Promise.all(t.map(e=>e.continue().catch(dr))))}};function _c(t){return t.options.scope?.id}var WO=class extends Vl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??qg(r,e);let a=this.get(i);return a||(a=new HO({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Sw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Sw(t,n)):e}notify(t){pn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},e2=class{#e;#t;#n;#r;#i;#o;#s;#a;constructor(t={}){this.#e=t.queryCache||new WO,this.#t=t.mutationCache||new XO,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=Vg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=nf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=MO(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return pn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;pn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return pn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=pn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(dr).catch(dr)}invalidateQueries(t,e={}){return pn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=pn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(dr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Hi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dr).catch(dr)}fetchInfiniteQuery(t){return t.behavior=Iw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dr).catch(dr)}ensureInfiniteQueryData(t){return t.behavior=Iw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(fi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Ol(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(fi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Ol(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fg&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},t2=J.createContext(void 0),n2=({client:t,children:e})=>(J.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),O.jsx(t2.Provider,{value:t,children:e})),Pp={exports:{}},jp={};var Dw;function r2(){if(Dw)return jp;Dw=1;var t=Ff().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return jp.c=function(e){return t.H.useMemoCache(e)},jp}var Mw;function i2(){return Mw||(Mw=1,Pp.exports=r2()),Pp.exports}var yt=i2();class Ga{}class Fa extends Ga{constructor(e,n){super(),this.collection=e,this.alias=n,this.type="collectionRef"}}class gr extends Ga{constructor(e,n){super(),this.query=e,this.alias=n,this.type="queryRef"}}class kn extends Ga{constructor(e){super(),this.path=e,this.type="ref"}}class jn extends Ga{constructor(e){super(),this.value=e,this.type="val"}}class _r extends Ga{constructor(e,n){super(),this.name=e,this.args=n,this.type="func"}}class U1 extends Ga{constructor(e,n){super(),this.name=e,this.args=n,this.type="agg"}}function Gg(t){return t instanceof U1||t instanceof _r||t instanceof kn||t instanceof jn}function Kg(t){return typeof t=="object"&&"expression"in t?t.expression:t}function Lw(t){return typeof t=="object"&&"expression"in t?t.expression:t}function zw(t){return typeof t=="object"&&"expression"in t&&t.residual===!0}function s2(t){return{expression:t,residual:!0}}function a2(t,e){if(t.from.alias===e)return t.from;for(const n of t.join||[])if(n.from.alias===e)return n.from}function Il(t,e,n){if(e.path.length!==0){if(e.path.length===1){const r=e.path[0];if(t.select){const i=t.select[r];if(i&&i.type==="ref")return Il(t,i,n)}return{collection:n,path:[r]}}if(e.path.length>1){const[r,...i]=e.path,a=a2(t,r);return a?a.type==="queryRef"?Il(a.query,new kn(i),n):{collection:a.collection,path:i}:void 0}}}class er extends Error{constructor(e){super(e),this.name="TanStackDBError"}}class Pw extends er{constructor(e,n,r){const i=`${e==="insert"?"Insert":"Update"} validation failed: ${n.map(a=>`
- ${a.message} - path: ${a.path}`).join("")}`;super(r||i),this.name="SchemaValidationError",this.type=e,this.issues=n}}class Hl extends er{constructor(e){super(e),this.name="CollectionConfigurationError"}}class o2 extends Hl{constructor(){super("Collection requires a config")}}class l2 extends Hl{constructor(){super("Collection requires a sync config")}}class u2 extends Hl{constructor(){super("Schema must implement the standard-schema interface")}}class jw extends Hl{constructor(){super("Schema validation must be synchronous")}}class Gl extends er{constructor(e){super(e),this.name="CollectionStateError"}}class c2 extends Gl{constructor(e,n){super(`Cannot perform ${e} on collection "${n}" - collection is in error state. Try calling cleanup() and restarting the collection.`)}}class f2 extends Gl{constructor(e,n,r){super(`Invalid collection status transition from "${e}" to "${n}" for collection "${r}"`)}}class h2 extends Gl{constructor(){super("Collection is in error state")}}class d2 extends Gl{constructor(){super("Active subscribers count is negative - this should never happen")}}class jr extends er{constructor(e){super(e),this.name="CollectionOperationError"}}class p2 extends jr{constructor(e){super(`An object was created without a defined key: ${JSON.stringify(e)}`)}}class m2 extends jr{constructor(e,n){const r=e===null?"null":typeof e;super(`getKey returned an invalid key type. Expected string or number, but got ${r}: ${JSON.stringify(e)}. Item: ${JSON.stringify(n)}`)}}class g2 extends jr{constructor(e){super(`Cannot insert document with ID "${e}" because it already exists in the collection`)}}class y2 extends jr{constructor(e,n,r){const i=`Cannot insert document with key "${e}" from sync because it already exists in the collection "${n}"`;r?.hasCustomGetKey&&r.hasJoins?super(`${i}. This collection uses a custom getKey with joined queries. Joined queries can produce multiple rows with the same key when relationships are not 1:1. Consider: (1) using a composite key in your getKey function (e.g., \`\${item.key1}-\${item.key2}\`), (2) ensuring your join produces unique rows per key, or (3) removing the custom getKey to use the default composite key behavior.`):super(i)}}class _2 extends jr{constructor(){super("The first argument to update is missing")}}class b2 extends jr{constructor(){super("No keys were passed to update")}}class v2 extends jr{constructor(e){super(`The key "${e}" was passed to update but an object for this key was not found in the collection`)}}class w2 extends jr{constructor(e,n){super(`Updating the key of an item is not allowed. Original key: "${e}", Attempted new key: "${n}". Please delete the old item and create a new one if a key change is necessary.`)}}class x2 extends jr{constructor(){super("No keys were passed to delete")}}class S2 extends jr{constructor(e){super(`Collection.delete was called with key '${e}' but there is no item in the collection with this key`)}}class Zg extends er{constructor(e){super(e),this.name="MissingHandlerError"}}class E2 extends Zg{constructor(){super("Collection.insert called directly (not within an explicit transaction) but no 'onInsert' handler is configured.")}}class k2 extends Zg{constructor(){super("Collection.update called directly (not within an explicit transaction) but no 'onUpdate' handler is configured.")}}class C2 extends Zg{constructor(){super("Collection.delete called directly (not within an explicit transaction) but no 'onDelete' handler is configured.")}}class Zi extends er{constructor(e){super(e),this.name="TransactionError"}}class T2 extends Zi{constructor(){super("mutationFn is required when creating a transaction")}}class A2 extends Zi{constructor(){super("You can no longer call .mutate() as the transaction is no longer pending")}}class R2 extends Zi{constructor(){super("You can no longer call .rollback() as the transaction is already completed")}}class O2 extends Zi{constructor(){super("You can no longer call .commit() as the transaction is no longer pending")}}class Bw extends Zi{constructor(){super("No pending sync transaction to write to")}}class Uw extends Zi{constructor(){super("The pending sync transaction is already committed, you can't still write to it.")}}class I2 extends Zi{constructor(){super("No pending sync transaction to commit")}}class N2 extends Zi{constructor(){super("The pending sync transaction is already committed, you can't commit it again.")}}class Ka extends er{constructor(e){super(e),this.name="QueryBuilderError"}}class D2 extends Ka{constructor(e){super(`Only one source is allowed in the ${e}`)}}class M2 extends Ka{constructor(e){super(`A sub query passed to a ${e} must have a from clause itself`)}}class L2 extends Ka{constructor(e){super(`Invalid source for live query: The value provided for alias "${e}" is not a Collection or subquery. Live queries only accept Collection instances or subqueries. Please ensure you're passing a valid Collection or QueryBuilder, not a plain array or other data type.`)}}class bc extends Ka{constructor(e,n){super(`Invalid source for ${e}: Expected an object with a single key-value pair like { alias: collection }. For example: .from({ todos: todosCollection }). Got: ${n}`)}}class z2 extends Ka{constructor(){super("Join condition must be an equality expression")}}class P2 extends Ka{constructor(){super("Query must have a from clause")}}class tr extends er{constructor(e){super(e),this.name="QueryCompilationError"}}class j2 extends tr{constructor(){super("DISTINCT requires a SELECT clause.")}}class B2 extends tr{constructor(){super("HAVING clause requires GROUP BY clause")}}class U2 extends tr{constructor(){super("LIMIT and OFFSET require an ORDER BY clause to ensure deterministic results")}}class $1 extends tr{constructor(e,n,r){const i=n?`alias "${e}" (collection "${n}")`:`collection "${e}"`,a=r?.length?`. Available keys: ${r.join(", ")}`:"";super(`Input for ${i} not found in inputs map${a}`)}}class $2 extends tr{constructor(e,n){super(`Subquery uses alias "${e}" which is already used in the parent query. Each alias must be unique across parent and subquery contexts. Parent query aliases: ${n.join(", ")}. Please rename "${e}" in either the parent query or subquery to avoid conflicts.`)}}class q2 extends tr{constructor(e){super(`Unsupported FROM type: ${e}`)}}class F2 extends tr{constructor(e){super(`Unknown expression type: ${e}`)}}class V2 extends tr{constructor(){super("Reference path cannot be empty")}}class H2 extends tr{constructor(e){super(`Unknown function: ${e}`)}}class $w extends tr{constructor(e){super(`Collection "${e}" not found during compilation of join`)}}class Ls extends er{constructor(e){super(e),this.name="JoinError"}}class G2 extends Ls{constructor(e){super(`Unsupported join type: ${e}`)}}class K2 extends Ls{constructor(e){super(`Invalid join condition: both expressions refer to the same source "${e}"`)}}class Z2 extends Ls{constructor(){super("Invalid join condition: expressions must reference source aliases")}}class Q2 extends Ls{constructor(e){super(`Invalid join condition: left expression refers to an unavailable source "${e}"`)}}class J2 extends Ls{constructor(e){super(`Invalid join condition: right expression does not refer to the joined source "${e}"`)}}class Y2 extends Ls{constructor(){super("Invalid join condition")}}class X2 extends Ls{constructor(e){super(`Unsupported join source type: ${e}`)}}class Vf extends er{constructor(e){super(e),this.name="GroupByError"}}class W2 extends Vf{constructor(e){super(`Non-aggregate expression '${e}' in SELECT must also appear in GROUP BY clause`)}}class eI extends Vf{constructor(e){super(`Unsupported aggregate function: ${e}`)}}class tI extends Vf{constructor(e){super(`Aggregate function in HAVING clause must also be in SELECT clause: ${e}`)}}class nI extends Vf{constructor(e){super(`Unknown expression type in HAVING clause: ${e}`)}}class qw extends er{constructor(e,n){const r=n instanceof Error?n.message:String(n);super(`Collection "${e}" sync cleanup function threw an error: ${r}`),this.name="SyncCleanupError"}}class rI extends er{constructor(e){super(e),this.name="QueryOptimizerError"}}class iI extends rI{constructor(){super("Cannot combine empty expression list")}}class sI extends tr{constructor(e,n,r,i){super(`Internal error: subscription for alias '${e}' (remapped from '${n}', collection '${r}') is missing in join pipeline. Available aliases: ${i.join(", ")}. This indicates a bug in alias tracking.`)}}class aI extends tr{constructor(e){super(`Internal error: compiler returned aliases without inputs: ${e.join(", ")}. This indicates a bug in query compilation. Please report this issue.`)}}class oI extends tr{constructor(){super("setWindow() can only be called on collections with an ORDER BY clause. Add .orderBy() to your query to enable window movement.")}}const Bp=new WeakMap;let lI=1;function Fw(t){if(Bp.has(t))return Bp.get(t);const e=lI++;return Bp.set(t,e),e}const Qg=(t,e,n)=>{const{nulls:r}=n;if(t==null&&e==null)return 0;if(t==null)return r==="first"?-1:1;if(e==null)return r==="first"?1:-1;if(typeof t=="string"&&typeof e=="string"&&n.stringSort==="locale")return t.localeCompare(e,n.locale,n.localeOptions);if(Array.isArray(t)&&Array.isArray(e)){for(let l=0;l<Math.min(t.length,e.length);l++){const c=Qg(t[l],e[l],n);if(c!==0)return c}return t.length-e.length}if(t instanceof Date&&e instanceof Date)return t.getTime()-e.getTime();const i=typeof t=="object",a=typeof e=="object";if(i||a){if(i&&a){const l=Fw(t),c=Fw(e);return l-c}if(i)return 1;if(a)return-1}return t<e?-1:t>e?1:0},uI=(t,e,n)=>Qg(e,t,{...n,nulls:n.nulls==="first"?"last":"first"});function rf(t){return(e,n)=>t.direction==="asc"?Qg(e,n,t):uI(e,n,t)}const zm=rf({direction:"asc",nulls:"first",stringSort:"locale"});function cI(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}const fI=128;function ui(t){return t instanceof Date?t.getTime():(typeof Buffer<"u"&&t instanceof Buffer||t instanceof Uint8Array)&&t.byteLength<=fI?`__u8__${Array.from(t).join(",")}`:t}function hI(t,e){if(t===e)return!0;const n=typeof Buffer<"u"&&t instanceof Buffer||t instanceof Uint8Array,r=typeof Buffer<"u"&&e instanceof Buffer||e instanceof Uint8Array;return n&&r?cI(t,e):!1}function Zt(t){return t==null}function Pa(t){return t===!0}function Bn(t,e=!1){return Yg(t,e)}function Jg(t){return Yg(t,!0)}function Yg(t,e){switch(t.type){case"val":{const n=t.value;return()=>n}case"ref":return e?pI(t):dI(t);case"func":return mI(t,e);default:throw new F2(t.type)}}function dI(t){const[e,...n]=t.path;if(!e)throw new V2;if(n.length===0)return r=>r[e];if(n.length===1){const r=n[0];return i=>i[e]?.[r]}else return r=>{const i=r[e];if(i===void 0)return;let a=i;for(const l of n){if(a==null)return a;a=a[l]}return a}}function pI(t){const e=t.path;return n=>{let r=n;for(const i of e){if(r==null)return r;r=r[i]}return r}}function mI(t,e){const n=t.args.map(r=>Yg(r,e));switch(t.name){case"eq":{const r=n[0],i=n[1];return a=>{const l=ui(r(a)),c=ui(i(a));return Zt(l)||Zt(c)?null:hI(l,c)}}case"gt":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:l>c}}case"gte":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:l>=c}}case"lt":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:l<c}}case"lte":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:l<=c}}case"and":return r=>{let i=!1;for(const a of n){const l=a(r);if(l===!1)return!1;Zt(l)&&(i=!0)}return i?null:!0};case"or":return r=>{let i=!1;for(const a of n){const l=a(r);if(l===!0)return!0;Zt(l)&&(i=!0)}return i?null:!1};case"not":{const r=n[0];return i=>{const a=r(i);return Zt(a)?null:!a}}case"in":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)?null:Array.isArray(c)?c.includes(l):!1}}case"like":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:Vw(l,c,!1)}}case"ilike":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return Zt(l)||Zt(c)?null:Vw(l,c,!0)}}case"upper":{const r=n[0];return i=>{const a=r(i);return typeof a=="string"?a.toUpperCase():a}}case"lower":{const r=n[0];return i=>{const a=r(i);return typeof a=="string"?a.toLowerCase():a}}case"length":{const r=n[0];return i=>{const a=r(i);return typeof a=="string"||Array.isArray(a)?a.length:0}}case"concat":return r=>n.map(i=>{const a=i(r);try{return String(a??"")}catch{try{return JSON.stringify(a)||""}catch{return"[object]"}}}).join("");case"coalesce":return r=>{for(const i of n){const a=i(r);if(a!=null)return a}return null};case"add":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return(l??0)+(c??0)}}case"subtract":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return(l??0)-(c??0)}}case"multiply":{const r=n[0],i=n[1];return a=>{const l=r(a),c=i(a);return(l??0)*(c??0)}}case"divide":{const r=n[0],i=n[1];return a=>{const l=r(a),f=i(a)??0;return f!==0?(l??0)/f:null}}case"isUndefined":{const r=n[0];return i=>r(i)===void 0}case"isNull":{const r=n[0];return i=>r(i)===null}default:throw new H2(t.name)}}function Vw(t,e,n){if(typeof t!="string"||typeof e!="string")return!1;const r=n?t.toLowerCase():t;let a=(n?e.toLowerCase():e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return a=a.replace(/%/g,".*"),a=a.replace(/_/g,"."),new RegExp(`^${a}$`).test(r)}function kr(t,e){return $c(t,e,new Map)}function $c(t,e,n){if(t===e)return!0;if(t==null||e==null||typeof t!=typeof e)return!1;if(t instanceof Date)return e instanceof Date?t.getTime()===e.getTime():!1;if(t instanceof RegExp)return e instanceof RegExp?t.source===e.source&&t.flags===e.flags:!1;if(t instanceof Map){if(!(e instanceof Map)||t.size!==e.size)return!1;if(n.has(t))return n.get(t)===e;n.set(t,e);const i=Array.from(t.entries()).every(([a,l])=>e.has(a)&&$c(l,e.get(a),n));return n.delete(t),i}if(t instanceof Set){if(!(e instanceof Set)||t.size!==e.size)return!1;if(n.has(t))return n.get(t)===e;n.set(t,e);const r=Array.from(t),i=Array.from(e);if(r.every(l=>typeof l!="object"))return n.delete(t),r.every(l=>e.has(l));const a=r.length===i.length;return n.delete(t),a}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)&&!(t instanceof DataView)&&!(e instanceof DataView)){const r=t,i=e;if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++)if(r[a]!==i[a])return!1;return!0}if(sf(t)&&sf(e)){const r=Pm(t),i=Pm(e);return r!==i?!1:typeof t.equals=="function"?t.equals(e):t.toString()===e.toString()}if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;if(n.has(t))return n.get(t)===e;n.set(t,e);const r=t.every((i,a)=>$c(i,e[a],n));return n.delete(t),r}if(typeof t=="object"){if(n.has(t))return n.get(t)===e;n.set(t,e);const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return n.delete(t),!1;const a=r.every(l=>l in e&&$c(t[l],e[l],n));return n.delete(t),a}return!1}const gI=["Temporal.Duration","Temporal.Instant","Temporal.PlainDate","Temporal.PlainDateTime","Temporal.PlainMonthDay","Temporal.PlainTime","Temporal.PlainYearMonth","Temporal.ZonedDateTime"];function Pm(t){return t[Symbol.toStringTag]}function sf(t){const e=Pm(t);return typeof e=="string"&&gI.includes(e)}const Xg={direction:"asc",nulls:"first",stringSort:"locale"};class yI{constructor(e){this.originalIndex=e}lookup(e,n){const r=e==="gt"?"lt":e==="gte"?"lte":e==="lt"?"gt":e==="lte"?"gte":e;return this.originalIndex.lookup(r,n)}rangeQuery(e={}){return this.originalIndex.rangeQueryReversed(e)}rangeQueryReversed(e={}){return this.originalIndex.rangeQuery(e)}take(e,n,r){return this.originalIndex.takeReversed(e,n,r)}takeReversed(e,n,r){return this.originalIndex.take(e,n,r)}get orderedEntriesArray(){return this.originalIndex.orderedEntriesArrayReversed}get orderedEntriesArrayReversed(){return this.originalIndex.orderedEntriesArray}supports(e){return this.originalIndex.supports(e)}matchesField(e){return this.originalIndex.matchesField(e)}matchesCompareOptions(e){return this.originalIndex.matchesCompareOptions(e)}matchesDirection(e){return this.originalIndex.matchesDirection(e)}getStats(){return this.originalIndex.getStats()}add(e,n){this.originalIndex.add(e,n)}remove(e,n){this.originalIndex.remove(e,n)}update(e,n,r){this.originalIndex.update(e,n,r)}build(e){this.originalIndex.build(e)}clear(){this.originalIndex.clear()}get keyCount(){return this.originalIndex.keyCount}equalityLookup(e){return this.originalIndex.equalityLookup(e)}inArrayLookup(e){return this.originalIndex.inArrayLookup(e)}get indexedKeysSet(){return this.originalIndex.indexedKeysSet}get valueMapData(){return this.originalIndex.valueMapData}}function Kl(t,e,n){const r=n??{...Xg,...t.compareOptions};for(const i of t.indexes.values())if(i.matchesField(e)&&i.matchesCompareOptions(r))return i.matchesDirection(r.direction)?i:new yI(i)}function _I(t){if(t.length===0)return new Set;if(t.length===1)return new Set(t[0]);let e=new Set(t[0]);for(let n=1;n<t.length;n++){const r=new Set;for(const i of e)t[n].has(i)&&r.add(i);e=r}return e}function bI(t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}function vI(t,e){return Wg(t,e)}function Wg(t,e){if(t.type==="func")switch(t.name){case"eq":case"gt":case"gte":case"lt":case"lte":return xI(t,e);case"and":return SI(t,e);case"or":return EI(t,e);case"in":return kI(t,e)}return{canOptimize:!1,matchingKeys:new Set}}function wI(t,e){if(t.type!=="func"||t.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const n=new Map;for(const r of t.args)if(r.type==="func"&&["gt","gte","lt","lte"].includes(r.name)){const i=r;if(i.args.length===2){const a=i.args[0],l=i.args[1];let c=null,f=null,d=i.name;if(a.type==="ref"&&l.type==="val")c=a,f=l;else if(a.type==="val"&&l.type==="ref")switch(c=l,f=a,d){case"gt":d="lt";break;case"gte":d="lte";break;case"lt":d="gt";break;case"lte":d="gte";break}if(c&&f){const p=c.path.join("."),_=f.value;n.has(p)||n.set(p,[]),n.get(p).push({operation:d,value:_})}}}for(const[r,i]of n)if(i.length>=2){const a=r.split("."),l=Kl(e,a);if(l&&l.supports("gt")&&l.supports("lt")){let c,f,d=!0,m=!0;for(const{operation:_,value:y}of i)switch(_){case"gt":(c===void 0||y>c)&&(c=y,d=!1);break;case"gte":(c===void 0||y>c)&&(c=y,d=!0);break;case"lt":(f===void 0||y<f)&&(f=y,m=!1);break;case"lte":(f===void 0||y<f)&&(f=y,m=!0);break}return{canOptimize:!0,matchingKeys:l.rangeQuery({from:c,to:f,fromInclusive:d,toInclusive:m})}}}return{canOptimize:!1,matchingKeys:new Set}}function xI(t,e){if(t.type!=="func"||t.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const n=t.args[0],r=t.args[1];let i=null,a=null,l=t.name;if(n.type==="ref"&&r.type==="val")i=n,a=r;else if(n.type==="val"&&r.type==="ref")switch(i=r,a=n,l){case"gt":l="lt";break;case"gte":l="lte";break;case"lt":l="gt";break;case"lte":l="gte";break}if(i&&a){const c=i.path,f=Kl(e,c);if(f){const d=a.value,m=l;return f.supports(m)?{canOptimize:!0,matchingKeys:f.lookup(m,d)}:{canOptimize:!1,matchingKeys:new Set}}}return{canOptimize:!1,matchingKeys:new Set}}function SI(t,e){if(t.type!=="func"||t.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const n=wI(t,e);if(n.canOptimize)return n;const r=[];for(const i of t.args){const a=Wg(i,e);a.canOptimize&&r.push(a)}if(r.length>0){const i=r.map(l=>l.matchingKeys);return{canOptimize:!0,matchingKeys:_I(i)}}return{canOptimize:!1,matchingKeys:new Set}}function EI(t,e){if(t.type!=="func"||t.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const n=[];for(const r of t.args){const i=Wg(r,e);i.canOptimize&&n.push(i)}if(n.length>0){const r=n.map(a=>a.matchingKeys);return{canOptimize:!0,matchingKeys:bI(r)}}return{canOptimize:!1,matchingKeys:new Set}}function kI(t,e){if(t.type!=="func"||t.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const n=t.args[0],r=t.args[1];if(n.type==="ref"&&r.type==="val"&&Array.isArray(r.value)){const i=n.path,a=r.value,l=Kl(e,i);if(l){if(l.supports("in"))return{canOptimize:!0,matchingKeys:l.lookup("in",a)};if(l.supports("eq")){const c=new Set;for(const f of a){const d=l.lookup("eq",f);for(const m of d)c.add(m)}return{canOptimize:!0,matchingKeys:c}}}}return{canOptimize:!1,matchingKeys:new Set}}class CI extends Map{constructor(e,n){super(n),this.defaultValue=e}get(e){return this.has(e)?super.get(e):this.defaultValue()}update(e,n){const r=this.get(e),i=n(r);return this.set(e,i),i}}const Up=3e4;function $p(t,e){if(e.length<=Up)t.push(...e);else for(let n=0;n<e.length;n+=Up){const r=e.slice(n,n+Up);t.push(...r)}}function TI(t,e,n){let r=0,i=t.length;for(;r<i;){const a=Math.floor((r+i)/2),l=n(t[a],e);if(l<0)r=a+1;else if(l>0)i=a;else return a}return r}class AI{constructor(){this.objectIds=new WeakMap,this.nextId=0}getId(e){if(typeof e!="object"||e===null){const n=String(e);let r=0;for(let i=0;i<n.length;i++){const a=n.charCodeAt(i);r=(r<<5)-r+a,r=r&r}return r}return this.objectIds.has(e)||this.objectIds.set(e,this.nextId++),this.objectIds.get(e)}getStringId(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?`str_${String(e)}`:`obj_${this.getId(e)}`}}const qp=new AI;function RI(t,e){const[n,r]=t,[i,a]=e,l=[...vc(n,Math.min(r,i)),...vc(Math.max(n,a),r)],c=[...vc(i,Math.min(a,n)),...vc(Math.max(i,r),a)];return{onlyInA:l,onlyInB:c}}function vc(t,e){const n=[];for(let r=t;r<e;r++)n.push(r);return n}function af(t,e){return typeof t==typeof e?t<e?-1:t>e?1:0:typeof t=="string"?-1:1}const OI=un(),II=un(),NI=un(),DI=un(),MI=un();function un(){return Math.random()*(2**31-1)>>>0}const q1=new ArrayBuffer(8),LI=new DataView(q1),Bi=new Uint8Array(q1);class Hf{constructor(){this.hash=OI,this.length=0,this.carry=0,this.carryBytes=0}_mix(e){e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e,this.hash=this.hash<<13|this.hash>>>19,this.hash=Math.imul(this.hash,5)+3864292196}writeByte(e){this.carry|=(e&255)<<8*this.carryBytes,this.carryBytes++,this.length++,this.carryBytes===4&&(this._mix(this.carry>>>0),this.carry=0,this.carryBytes=0)}update(e){switch(typeof e){case"symbol":{this.update(MI);const n=e.description;if(!n)return;for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);this.writeByte(i&255),this.writeByte(i>>>8&255)}return}case"string":this.update(II);for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);this.writeByte(r&255),this.writeByte(r>>>8&255)}return;case"number":LI.setFloat64(0,e,!0),this.writeByte(Bi[0]),this.writeByte(Bi[1]),this.writeByte(Bi[2]),this.writeByte(Bi[3]),this.writeByte(Bi[4]),this.writeByte(Bi[5]),this.writeByte(Bi[6]),this.writeByte(Bi[7]);return;case"bigint":{let n=e;for(n<0n?(n=-n,this.update(DI)):this.update(NI);n>0n;)this.writeByte(Number(n&0xffn)),n>>=8n;e===0n&&this.writeByte(0);return}default:throw new TypeError(`Unsupported input type: ${typeof e}`)}}digest(){if(this.carryBytes>0){let e=this.carry>>>0;e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e}return this.hash^=this.length,this.hash^=this.hash>>>16,this.hash=Math.imul(this.hash,2246822507),this.hash^=this.hash>>>13,this.hash=Math.imul(this.hash,3266489909),this.hash^=this.hash>>>16,this.hash>>>0}}const zI=un(),PI=un(),jI=un(),BI=un(),UI=un(),$I=un(),qI=un(),FI=un(),VI=un(),HI=un(),GI=un(),KI=un(),ZI=128,Nl=new WeakMap;function xn(t){const e=new Hf;return F1(e,t),e.digest()}function QI(t){const e=Nl.get(t);if(e!==void 0)return e;let n;if(t instanceof Date)n=JI(t);else if(typeof Buffer<"u"&&t instanceof Buffer||t instanceof Uint8Array)if(t.byteLength<=ZI)n=YI(t);else return jm(t);else{if(t instanceof File)return jm(t);{let r=t,i=FI;t instanceof Array&&(i=VI),t instanceof Map&&(i=HI,r=[...t.entries()]),t instanceof Set&&(i=GI,r=[...t.entries()]),n=XI(r,i)}}return Nl.set(t,n),n}function JI(t){const e=new Hf;return e.update(qI),e.update(t.getTime()),e.digest()}function YI(t){const e=new Hf;e.update(KI),e.update(t.byteLength);for(let n=0;n<t.byteLength;n++)e.writeByte(t[n]);return e.digest()}function XI(t,e){const n=new Hf;n.update(e);const r=Object.keys(t);r.sort(eN);for(const i of r)n.update(UI),n.update(i),F1(n,t[i]);return n.digest()}function F1(t,e){if(e===null){t.update(jI);return}switch(typeof e){case"undefined":t.update(BI);return;case"boolean":t.update(e?zI:PI);return;case"number":t.update(isNaN(e)?NaN:e===0?0:e);return;case"bigint":case"string":case"symbol":t.update(e);return;case"object":t.update(WI(e));return;case"function":t.update(jm(e));return;default:console.warn(`Ignored input during hashing because it is of type ${typeof e} which is not supported`)}}function WI(t){let e=Nl.get(t);return e===void 0&&(e=QI(t)),e}let Hw=1;function jm(t){let e=Nl.get(t);return e===void 0&&(e=Hw^$I,Hw++,Nl.set(t,e)),e}function eN(t,e){return t.localeCompare(e)}class Bt{#e;constructor(e=[]){this.#e=e}toString(e=!1){return`MultiSet(${JSON.stringify(this.#e,null,e?2:void 0)})`}toJSON(){return JSON.stringify(Array.from(this.getInner()))}static fromJSON(e){return new Bt(JSON.parse(e))}map(e){return new Bt(this.#e.map(([n,r])=>[e(n),r]))}filter(e){return new Bt(this.#e.filter(([n,r])=>e(n)))}negate(){return new Bt(this.#e.map(([e,n])=>[e,-n]))}concat(e){const n=[];return $p(n,this.#e),$p(n,e.getInner()),new Bt(n)}consolidate(){if(this.#e.length>0){const e=this.#e[0]?.[0];if(Array.isArray(e)&&e.length===2)return this.#t()}return this.#n()}#t(){const e=new Map,n=new Map,r=a=>{if(a.length!==2)throw new Error("Expected tuple of length 2");const[l,c]=a;return`${qp.getStringId(l)}|${qp.getStringId(c)}`};for(const[a,l]of this.#e){if(!Array.isArray(a)||a.length!==2)return this.#n();const[c,f]=a;if(typeof c!="string"&&typeof c!="number")return this.#n();let d;Array.isArray(f)&&f.length===2?d=r(f):d=qp.getStringId(f);const m=c+"|"+d;e.set(m,(e.get(m)||0)+l),n.has(m)||n.set(m,a)}const i=[];for(const[a,l]of e)l!==0&&i.push([n.get(a),l]);return new Bt(i)}#n(){const e=new CI(()=>0),n=new Map;let r=!1,i=!1,a=!1;for(const[f,d]of this.#e)if(typeof f=="string")r=!0;else if(typeof f=="number")i=!0;else{a=!0;break}const l=a||r&&i;for(const[f,d]of this.#e){const m=l?xn(f):f;l&&!n.has(m)&&n.set(m,f),e.update(m,p=>p+d)}const c=[];for(const[f,d]of e.entries())if(d!==0){const m=l?n.get(f):f;c.push([m,d])}return new Bt(c)}extend(e){const n=e instanceof Bt?e.getInner():e;$p(this.#e,n)}add(e,n){n!==0&&this.#e.push([e,n])}getInner(){return this.#e}}class tN{#e;constructor(e){this.#e=e}drain(){const e=[...this.#e].reverse();return this.#e.length=0,e}isEmpty(){return this.#e.length===0}}class Br{#e=[];sendData(e){e instanceof Bt||(e=new Bt(e));for(const n of this.#e)n.unshift(e)}newReader(){const e=[];return this.#e.push(e),new tN(e)}}class V1{constructor(e,n,r){this.id=e,this.inputs=n,this.output=r}hasPendingWork(){return this.inputs.some(e=>!e.isEmpty())}}class Za extends V1{constructor(e,n,r){super(e,[n],r),this.id=e}inputMessages(){return this.inputs[0].drain()}}class nN extends V1{constructor(e,n,r,i){super(e,[n,r],i),this.id=e}inputAMessages(){return this.inputs[0].drain()}inputBMessages(){return this.inputs[1].drain()}}class ey extends Za{run(){for(const e of this.inputMessages())this.output.sendData(this.inner(e))}}class rN{#e=[];#t=0;#n=!1;constructor(){}#r(){if(this.#n)throw new Error("Graph already finalized")}getNextOperatorId(){return this.#r(),this.#t++}newInput(){this.#r();const e=new Br;return new iN(this,e)}addOperator(e){this.#r(),this.#e.push(e)}finalize(){this.#r(),this.#n=!0}step(){if(!this.#n)throw new Error("Graph not finalized");for(const e of this.#e)e.run()}pendingWork(){return this.#e.some(e=>e.hasPendingWork())}run(){for(;this.pendingWork();)this.step()}}class Ur{#e;#t;constructor(e,n){this.#e=e,this.#t=n}connectReader(){return this.#t.newReader()}get writer(){return this.#t}get graph(){return this.#e}pipe(...e){return e.reduce((n,r)=>r(n),this)}}class iN extends Ur{sendData(e){this.writer.sendData(e)}}class sN extends ey{#e;constructor(e,n,r,i){super(e,n,r),this.#e=i}inner(e){return e.map(this.#e)}}function Sn(t){return e=>{const n=new Ur(e.graph,new Br),r=new sN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}const rl=Symbol("NO_PREFIX");class Gw extends Map{addValue(e,n){if(n===0)return this.size===0;const r=bl(e),i=this.get(r);if(qc(i)){const[a,l]=i;if(bl(a)!==r)throw new Error("Mismatching prefixes, this should never happen");if(a===e||xn(a)===xn(e)){const f=l+n;f===0?this.delete(r):this.set(r,[e,f])}else{const f=new il;f.set(xn(a),i),f.set(xn(e),[e,n]),this.set(r,f)}}else i===void 0?this.set(r,[e,n]):i.addValue(e,n)&&this.delete(r);return this.size===0}}class il extends Map{addValue(e,n){if(n===0)return this.size===0;const r=xn(e),i=this.get(r);if(i){const[,a]=i,l=a+n;l===0?this.delete(r):this.set(r,[e,l])}else this.set(r,[e,n]);return this.size===0}}class Fi{#e;#t=new Map;constructor(){this.#e=new Map}static fromMultiSets(e){const n=new Fi;for(const r of e)for(const[i,a]of r.getInner()){const[l,c]=i;n.addValue(l,[c,a])}return n}toString(e=!1){return`Index(${JSON.stringify([...this.entries()],void 0,e?2:void 0)})`}get size(){return this.#e.size}has(e){return this.#e.has(e)}hasPresence(e){return(this.#t.get(e)||0)!==0}getConsolidatedMultiplicity(e){return this.#t.get(e)||0}getPresenceKeys(){return this.#t.keys()}get(e){return[...this.getIterator(e)]}*getIterator(e){const n=this.#e.get(e);if(qc(n))yield n;else{if(n===void 0)return;if(n instanceof il)for(const r of n.values())yield r;else for(const r of n.values())if(qc(r))yield r;else for(const i of r.values())yield i}}*entries(){for(const e of this.#e.keys())for(const n of this.getIterator(e))yield[e,n]}*entriesIterators(){for(const e of this.#e.keys())yield[e,this.getIterator(e)]}addValue(e,n){const[r,i]=n;if(i===0)return;const a=(this.#t.get(e)||0)+i;a===0?this.#t.delete(e):this.#t.set(e,a);const l=this.#e.get(e);if(l===void 0){this.#e.set(e,n);return}if(qc(l)){this.#n(e,l,r,i);return}if(l instanceof il){const c=bl(r);if(c!==rl){const f=new Gw;f.set(rl,l),f.set(c,n),this.#e.set(e,f)}else l.addValue(r,i)&&this.#e.delete(e)}else l.addValue(r,i)&&this.#e.delete(e)}#n(e,n,r,i){const[a,l]=n;if(a===r){const d=l+i;d===0?this.#e.delete(e):this.#e.set(e,[r,d]);return}const c=bl(r),f=bl(a);if(f===c&&(a===r||xn(a)===xn(r))){const d=l+i;d===0?this.#e.delete(e):this.#e.set(e,[r,d]);return}if(f===rl&&c===rl){const d=new il;d.set(xn(a),n),d.set(xn(r),[r,i]),this.#e.set(e,d)}else{const d=new Gw;if(f===c){const m=new il;m.set(xn(a),n),m.set(xn(r),[r,i]),d.set(f,m)}else d.set(f,n),d.set(c,[r,i]);this.#e.set(e,d)}}append(e){for(const[n,r]of e.entries())this.addValue(n,r)}join(e){const n=[];if(this.size<=e.size)for(const[r,i]of this.entriesIterators()){if(!e.has(r))continue;const a=e.get(r);for(const[l,c]of i)for(const[f,d]of a)c!==0&&d!==0&&n.push([[r,[l,f]],c*d])}else for(const[r,i]of e.entriesIterators()){if(!this.has(r))continue;const a=this.get(r);for(const[l,c]of i)for(const[f,d]of a)d!==0&&c!==0&&n.push([[r,[f,l]],d*c])}return new Bt(n)}}function bl(t){return Array.isArray(t)&&(typeof t[0]=="string"||typeof t[0]=="number"||typeof t[0]=="bigint")?t[0]:rl}function qc(t){return Array.isArray(t)}class aN extends Za{#e=new Fi;#t=new Fi;#n;constructor(e,n,r,i){super(e,n,r),this.#n=i}run(){const e=new Set;for(const r of this.inputMessages())for(const[i,a]of r.getInner()){const[l,c]=i;this.#e.addValue(l,[c,a]),e.add(l)}const n=[];for(const r of e){const i=this.#e.get(r),a=this.#t.get(r),l=this.#n(i),c=new Map,f=new Map;for(const[d,m]of l){const p=c.get(d)??0;c.set(d,p+m)}for(const[d,m]of a){const p=f.get(d)??0;f.set(d,p+m)}for(const[d,m]of f)c.has(d)||(n.push([[r,d],-m]),this.#t.addValue(r,[d,-m]));for(const[d,m]of c)f.has(d)||m!==0&&(n.push([[r,d],m]),this.#t.addValue(r,[d,m]));for(const[d,m]of c){const p=f.get(d);if(p!==void 0){const _=m-p;_!==0&&(n.push([[r,d],_]),this.#t.addValue(r,[d,_]))}}}n.length>0&&this.output.sendData(new Bt(n))}}function oN(t){return e=>{const n=new Ur(e.graph,new Br),r=new aN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}function Kw(t){return"pipe"in t}function Zw(t,e={}){const n=Object.fromEntries(Object.entries(e).filter(([r,i])=>!Kw(i)));return Object.fromEntries(Object.entries(e).filter(([r,i])=>Kw(i))),r=>{const i="__original_key__";return r.pipe(Sn(c=>{const f=t(c),d=JSON.stringify(f),m={};m[i]=f;for(const[p,_]of Object.entries(n))m[p]=_.preMap(c);return[d,m]})).pipe(oN(c=>{let f=0;for(const[p,_]of c)f+=_;if(f<=0)return[];const d={},m=c[0]?.[0]?.[i];d[i]=m;for(const[p,_]of Object.entries(n)){const y=c.map(([v,w])=>[v[p],w]);d[p]=_.reduce(y)}return[[d,1]]})).pipe(Sn(([c,f])=>{const d=f[i],m={};Object.assign(m,d);for(const[p,_]of Object.entries(n))_.postMap?m[p]=_.postMap(f[p]):m[p]=f[p];return[c,m]}))}}function lN(t=e=>e){return{preMap:e=>t(e),reduce:e=>{let n=0;for(const[r,i]of e)n+=r*i;return n}}}function uN(t=e=>e){return{preMap:e=>t(e)==null?0:1,reduce:e=>{let n=0;for(const[r,i]of e)n+=r*i;return n}}}function cN(t=e=>e){return{preMap:e=>({sum:t(e),count:0}),reduce:e=>{let n=0,r=0;for(const[i,a]of e)n+=i.sum*a,r+=a;return{sum:n,count:r}},postMap:e=>e.sum/e.count}}function fN(t){const e=t??(n=>n);return{preMap:n=>e(n),reduce:n=>{let r;for(const[i,a]of n)(!r||i&&i<r)&&(r=i);return r}}}function hN(t){const e=t??(n=>n);return{preMap:n=>e(n),reduce:n=>{let r;for(const[i,a]of n)(!r||i&&i>r)&&(r=i);return r}}}const dN={sum:lN,count:uN,avg:cN,min:fN,max:hN};class pN extends ey{#e;constructor(e,n,r,i){super(e,n,r),this.#e=i}inner(e){return this.#e(e),e}}function mN(t){return e=>{const n=new Ur(e.graph,new Br),r=new pN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class gN extends ey{#e;constructor(e,n,r,i){super(e,n,r),this.#e=i}inner(e){return e.filter(this.#e)}}function Vi(t){return e=>{const n=new Ur(e.graph,new Br),r=new gN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class yN extends Za{#e;constructor(e,n,r,i){super(e,n,r),this.#e=i}run(){for(const e of this.inputMessages())this.#e(e),this.output.sendData(e)}}function _N(t){return e=>{const n=new Ur(e.graph,new Br),r=new yN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class bN extends Za{run(){const e=this.inputMessages();if(e.length===0)return;const n=new Bt;for(const i of e)n.extend(i);const r=n.consolidate();r.getInner().length>0&&this.output.sendData(r)}}function vN(){return t=>{const e=new Ur(t.graph,new Br),n=new bN(t.graph.getNextOperatorId(),t.connectReader(),e.writer);return t.graph.addOperator(n),e}}class wN extends nN{#e=new Fi;#t=new Fi;#n;constructor(e,n,r,i,a="inner"){super(e,n,r,i),this.#n=a}run(){const e=Fi.fromMultiSets(this.inputAMessages()),n=Fi.fromMultiSets(this.inputBMessages());if(e.size===0&&n.size===0)return;const r=new Bt;this.#n!=="anti"&&this.emitInnerResults(e,n,r),(this.#n==="left"||this.#n==="full"||this.#n==="anti")&&this.emitLeftOuterResults(e,n,r),(this.#n==="right"||this.#n==="full")&&this.emitRightOuterResults(e,n,r),this.#e.append(e),this.#t.append(n),r.getInner().length>0&&this.output.sendData(r)}emitInnerResults(e,n,r){e.size>0&&r.extend(e.join(this.#t)),n.size>0&&r.extend(this.#e.join(n)),e.size>0&&n.size>0&&r.extend(e.join(n))}emitLeftOuterResults(e,n,r){if(e.size>0)for(const[i,a]of e.entriesIterators()){const l=this.#t.getConsolidatedMultiplicity(i),c=n.getConsolidatedMultiplicity(i);if(l+c===0)for(const[d,m]of a)m!==0&&r.add([i,[d,null]],m)}if(n.size>0)for(const i of n.getPresenceKeys()){const a=this.#t.getConsolidatedMultiplicity(i),l=n.getConsolidatedMultiplicity(i);if(l===0)continue;const c=a+l;if(a===0==(c===0))continue;const f=a===0;for(const[d,m]of this.#e.getIterator(i))m!==0&&r.add([i,[d,null]],f?-m:+m)}}emitRightOuterResults(e,n,r){if(n.size>0)for(const[i,a]of n.entriesIterators()){const l=this.#e.getConsolidatedMultiplicity(i),c=e.getConsolidatedMultiplicity(i);if(l+c===0)for(const[d,m]of a)m!==0&&r.add([i,[null,d]],m)}if(e.size>0)for(const i of e.getPresenceKeys()){const a=this.#e.getConsolidatedMultiplicity(i),l=e.getConsolidatedMultiplicity(i);if(l===0)continue;const c=a+l;if(a===0==(c===0))continue;const f=a===0;for(const[d,m]of this.#t.getIterator(i))m!==0&&r.add([i,[null,d]],f?-m:+m)}}}function xN(t,e="inner"){return n=>{if(n.graph!==t.graph)throw new Error("Cannot join streams from different graphs");const r=new Ur(n.graph,new Br),i=new wN(n.graph.getNextOperatorId(),n.connectReader(),t.connectReader(),r.writer,e);return n.graph.addOperator(i),r}}class SN extends Za{#e;#t;constructor(e,n,r,i=a=>a){super(e,n,r),this.#e=i,this.#t=new Map}run(){const e=new Map;for(const r of this.inputMessages())for(const[i,a]of r.getInner()){const l=xn(this.#e(i)),f=(e.get(l)?.[0]??this.#t.get(l)??0)+a;e.set(l,[f,i])}const n=[];for(const[r,[i,a]]of e.entries()){const l=this.#t.get(r)??0;i===0?this.#t.delete(r):this.#t.set(r,i),l<=0&&i>0?n.push([[xn(this.#e(a)),a[1]],1]):l>0&&i<=0&&n.push([[xn(this.#e(a)),a[1]],-1])}n.length>0&&this.output.sendData(new Bt(n))}}function EN(t=e=>e){return e=>{const n=new Ur(e.graph,new Br),r=new SN(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}const kN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Na(t,e,n){const r=n[0];if(e!=null&&t>=e)throw new Error(t+" >= "+e);if(t.slice(-1)===r||e&&e.slice(-1)===r)throw new Error("trailing zero");if(e){let l=0;for(;(t[l]||r)===e[l];)l++;if(l>0)return e.slice(0,l)+Na(t.slice(l),e.slice(l),n)}const i=t?n.indexOf(t[0]):0,a=e!=null?n.indexOf(e[0]):n.length;if(a-i>1){const l=Math.round(.5*(i+a));return n[l]}else return e&&e.length>1?e.slice(0,1):n[i]+Na(t.slice(1),null,n)}function H1(t){if(t.length!==G1(t[0]))throw new Error("invalid integer part of order key: "+t)}function G1(t){if(t>="a"&&t<="z")return t.charCodeAt(0)-97+2;if(t>="A"&&t<="Z")return 90-t.charCodeAt(0)+2;throw new Error("invalid order key head: "+t)}function sl(t){const e=G1(t[0]);if(e>t.length)throw new Error("invalid order key: "+t);return t.slice(0,e)}function Qw(t,e){if(t==="A"+e[0].repeat(26))throw new Error("invalid order key: "+t);const n=sl(t);if(t.slice(n.length).slice(-1)===e[0])throw new Error("invalid order key: "+t)}function Jw(t,e){H1(t);const[n,...r]=t.split("");let i=!0;for(let a=r.length-1;i&&a>=0;a--){const l=e.indexOf(r[a])+1;l===e.length?r[a]=e[0]:(r[a]=e[l],i=!1)}if(i){if(n==="Z")return"a"+e[0];if(n==="z")return null;const a=String.fromCharCode(n.charCodeAt(0)+1);return a>"a"?r.push(e[0]):r.pop(),a+r.join("")}else return n+r.join("")}function CN(t,e){H1(t);const[n,...r]=t.split("");let i=!0;for(let a=r.length-1;i&&a>=0;a--){const l=e.indexOf(r[a])-1;l===-1?r[a]=e.slice(-1):(r[a]=e[l],i=!1)}if(i){if(n==="a")return"Z"+e.slice(-1);if(n==="A")return null;const a=String.fromCharCode(n.charCodeAt(0)-1);return a<"Z"?r.push(e.slice(-1)):r.pop(),a+r.join("")}else return n+r.join("")}function TN(t,e,n=kN){if(t!=null&&Qw(t,n),e!=null&&Qw(e,n),t!=null&&e!=null&&t>=e)throw new Error(t+" >= "+e);if(t==null){if(e==null)return"a"+n[0];const f=sl(e),d=e.slice(f.length);if(f==="A"+n[0].repeat(26))return f+Na("",d,n);if(f<e)return f;const m=CN(f,n);if(m==null)throw new Error("cannot decrement any more");return m}if(e==null){const f=sl(t),d=t.slice(f.length),m=Jw(f,n);return m??f+Na(d,null,n)}const r=sl(t),i=t.slice(r.length),a=sl(e),l=e.slice(a.length);if(r===a)return r+Na(i,l,n);const c=Jw(r,n);if(c==null)throw new Error("cannot increment any more");return c<e?c:r+Na(i,null,n)}class Yw{#e=[];#t;#n;#r;constructor(e,n,r){this.#n=e,this.#r=e+n,this.#t=r}get size(){const e=this.#n,n=this.#r-this.#n,r=this.#e.length-e;return Math.max(0,Math.min(n,r))}move({offset:e,limit:n}){const r=this.#n,i=this.#r-this.#n,a=[this.#n,this.#r===1/0?this.#n+this.size:this.#r];this.#n=e??r,this.#r=this.#n+(n??i);const l=[this.#n,this.#r===1/0?Math.max(this.#n+this.size,a[1]):this.#r],{onlyInA:c,onlyInB:f}=RI(a,l),d=[];f.forEach(p=>{const _=this.#e[p];_&&d.push(_)});const m=[];return c.forEach(p=>{const _=this.#e[p];_&&m.push(_)}),{moveIns:d,moveOuts:m,changes:c.length+f.length>0}}insert(e){const n={moveIn:null,moveOut:null},r=this.#i(e),i=r===0?null:ex(this.#e[r-1]),a=r===this.#e.length?null:ex(this.#e[r]),l=TN(i,a),c=Xw(e,l);if(this.#e.splice(r,0,c),r<this.#r){const f=Math.max(r,this.#n);f<this.#e.length&&(n.moveIn=this.#e[f],this.#r<this.#e.length&&(n.moveOut=this.#e[this.#r]))}return n}delete(e){const n={moveIn:null,moveOut:null},r=this.#i(e),[i]=this.#e.splice(r,1);if(r<this.#r){if(n.moveOut=i,r<this.#n){const l=this.#n-1;l<this.#e.length?n.moveOut=this.#e[l]:n.moveOut=null}const a=this.#r-1;a<this.#e.length&&(n.moveIn=this.#e[a])}return n}#i(e){return TI(this.#e,Xw(e,""),(n,r)=>this.#t(Ww(n),Ww(r)))}}class AN extends Za{#e=new Map;#t;constructor(e,n,r,i,a){super(e,n,r);const l=a.limit??1/0,c=a.offset??0;this.#t=this.createTopK(c,l,ON(i)),a.setSizeCallback?.(()=>this.#t.size),a.setWindowFn?.(this.moveTopK.bind(this))}createTopK(e,n,r){return new Yw(e,n,r)}moveTopK({offset:e,limit:n}){if(!(this.#t instanceof Yw))throw new Error("Cannot move B+-tree implementation of TopK with fractional index");const r=[],i=this.#t.move({offset:e,limit:n});i.moveIns.forEach(a=>this.handleMoveIn(a,r)),i.moveOuts.forEach(a=>this.handleMoveOut(a,r)),i.changes&&this.output.sendData(new Bt(r))}run(){const e=[];for(const n of this.inputMessages())for(const[r,i]of n.getInner()){const[a,l]=r;this.processElement(a,l,i,e)}e.length>0&&this.output.sendData(new Bt(e))}processElement(e,n,r,i){const{oldMultiplicity:a,newMultiplicity:l}=this.addKey(e,r);let c={moveIn:null,moveOut:null};a<=0&&l>0?c=this.#t.insert([e,n]):a>0&&l<=0&&(c=this.#t.delete([e,n])),this.handleMoveIn(c.moveIn,i),this.handleMoveOut(c.moveOut,i)}handleMoveIn(e,n){if(e){const[[r,i],a]=e;n.push([[r,[i,a]],1])}}handleMoveOut(e,n){if(e){const[[r,i],a]=e;n.push([[r,[i,a]],-1])}}getMultiplicity(e){return this.#e.get(e)??0}addKey(e,n){const r=this.getMultiplicity(e),i=r+n;return i===0?this.#e.delete(e):this.#e.set(e,i),{oldMultiplicity:r,newMultiplicity:i}}}function RN(t,e){const n=e||{};return r=>{const i=new Ur(r.graph,new Br),a=new AN(r.graph.getNextOperatorId(),r.connectReader(),i.writer,t,n);return r.graph.addOperator(a),i}}function Xw(t,e){return[t,e]}function Ww(t){return t[0]}function ex(t){return t[1]}function ON(t){return([e,n],[r,i])=>{const a=t(n,i);return a!==0?a:af(e,r)}}function IN(t,e,n){const r=n?.limit??1/0,i=n?.offset??0,a=n?.setSizeCallback,l=n?.setWindowFn,c=n?.comparator??((f,d)=>f===d?0:f<d?-1:1);return f=>f.pipe(t((d,m)=>c(e(d),e(m)),{limit:r,offset:i,setSizeCallback:a,setWindowFn:l}),vN())}function NN(t,e){return IN(RN,t,e)}class DN{constructor(e,n,r){this._root=Fp,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=e,n&&this.setPairs(n)}get size(){return this._size}get length(){return this._size}get isEmpty(){return this._size===0}clear(){this._root=Fp,this._size=0}get(e,n){return this._root.get(e,n,this)}set(e,n,r){this._root.isShared&&(this._root=this._root.clone());const i=this._root.set(e,n,r,this);return i===!0||i===!1?i:(this._root=new ty([this._root,i]),!0)}has(e){return this.forRange(e,e,!0,void 0)!==0}delete(e){return this.editRange(e,e,!0,LN)!==0}get maxNodeSize(){return this._maxNodeSize}minKey(){return this._root.minKey()}maxKey(){return this._root.maxKey()}keysArray(){const e=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,(n,r)=>{e.push(n)}),e}nextHigherPair(e,n){return n=n||[],e===void 0?this._root.minPair(n):this._root.getPairOrNextHigher(e,this._compare,!1,n)}nextHigherKey(e){const n=this.nextHigherPair(e,tx);return n&&n[0]}nextLowerPair(e,n){return n=n||[],e===void 0?this._root.maxPair(n):this._root.getPairOrNextLower(e,this._compare,!1,n)}nextLowerKey(e){const n=this.nextLowerPair(e,tx);return n&&n[0]}setPairs(e,n){let r=0;for(const i of e)this.set(i[0],i[1],n)&&r++;return r}forRange(e,n,r,i,a){const l=this._root.forRange(e,n,r,!1,this,a||0,i);return typeof l=="number"?l:l.break}editRange(e,n,r,i,a){let l=this._root;l.isShared&&(this._root=l=l.clone());try{const c=l.forRange(e,n,r,!0,this,a||0,i);return typeof c=="number"?c:c.break}finally{let c;for(;l.keys.length<=1&&!l.isLeaf;)c||=l.isShared,this._root=l=l.keys.length===0?Fp:l.children[0];c&&(l.isShared=!0)}}}class Dl{get isLeaf(){return this.children===void 0}constructor(e=[],n){this.keys=e,this.values=n||hn,this.isShared=void 0}maxKey(){return this.keys[this.keys.length-1]}indexOf(e,n,r){const i=this.keys;let a=0,l=i.length,c=l>>1;for(;a<l;){const f=r(i[c],e);if(f<0)a=c+1;else if(f>0)l=c;else{if(f===0)return c;if(e===e)return i.length;throw new Error("BTree: NaN was used as a key")}c=a+l>>1}return c^n}minKey(){return this.keys[0]}minPair(e){if(this.keys.length!==0)return e[0]=this.keys[0],e[1]=this.values[0],e}maxPair(e){if(this.keys.length===0)return;const n=this.keys.length-1;return e[0]=this.keys[n],e[1]=this.values[n],e}clone(){const e=this.values;return new Dl(this.keys.slice(0),e===hn?e:e.slice(0))}get(e,n,r){const i=this.indexOf(e,-1,r._compare);return i<0?n:this.values[i]}getPairOrNextLower(e,n,r,i){const a=this.indexOf(e,-1,n),l=a<0?~a-1:r?a:a-1;if(l>=0)return i[0]=this.keys[l],i[1]=this.values[l],i}getPairOrNextHigher(e,n,r,i){const a=this.indexOf(e,-1,n),l=a<0?~a:r?a:a+1,c=this.keys;if(l<c.length)return i[0]=c[l],i[1]=this.values[l],i}set(e,n,r,i){let a=this.indexOf(e,-1,i._compare);if(a<0){if(a=~a,i._size++,this.keys.length<i._maxNodeSize)return this.insertInLeaf(a,e,n,i);{const l=this.splitOffRightSide();let c=this;return a>this.keys.length&&(a-=this.keys.length,c=l),c.insertInLeaf(a,e,n,i),l}}else return r!==!1&&(n!==void 0&&this.reifyValues(),this.keys[a]=e,this.values[a]=n),!1}reifyValues(){return this.values===hn?this.values=this.values.slice(0,this.keys.length):this.values}insertInLeaf(e,n,r,i){if(this.keys.splice(e,0,n),this.values===hn){for(;hn.length<i._maxNodeSize;)hn.push(void 0);if(r===void 0)return!0;this.values=hn.slice(0,this.keys.length-1)}return this.values.splice(e,0,r),!0}takeFromRight(e){let n=this.values;e.values===hn?n!==hn&&n.push(void 0):(n=this.reifyValues(),n.push(e.values.shift())),this.keys.push(e.keys.shift())}takeFromLeft(e){let n=this.values;e.values===hn?n!==hn&&n.unshift(void 0):(n=this.reifyValues(),n.unshift(e.values.pop())),this.keys.unshift(e.keys.pop())}splitOffRightSide(){const e=this.keys.length>>1,n=this.keys.splice(e),r=this.values===hn?hn:this.values.splice(e);return new Dl(n,r)}forRange(e,n,r,i,a,l,c){const f=a._compare;let d,m;if(n===e){if(!r||(m=(d=this.indexOf(e,-1,f))+1,d<0))return l}else d=this.indexOf(e,0,f),m=this.indexOf(n,-1,f),m<0?m=~m:r===!0&&m++;const p=this.keys,_=this.values;if(c!==void 0)for(let y=d;y<m;y++){const v=p[y],w=c(v,_[y],l++);if(w!==void 0){if(i===!0){if(v!==p[y]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");w.delete?(this.keys.splice(y,1),this.values!==hn&&this.values.splice(y,1),a._size--,y--,m--):w.hasOwnProperty("value")&&(_[y]=w.value)}if(w.break!==void 0)return w}}else l+=m-d;return l}mergeSibling(e,n){if(this.keys.push.apply(this.keys,e.keys),this.values===hn){if(e.values===hn)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,e.reifyValues())}}class ty extends Dl{constructor(e,n){if(!n){n=[];for(let r=0;r<e.length;r++)n[r]=e[r].maxKey()}super(n),this.children=e}minKey(){return this.children[0].minKey()}minPair(e){return this.children[0].minPair(e)}maxPair(e){return this.children[this.children.length-1].maxPair(e)}get(e,n,r){const i=this.indexOf(e,0,r._compare),a=this.children;return i<a.length?a[i].get(e,n,r):void 0}getPairOrNextLower(e,n,r,i){const a=this.indexOf(e,0,n),l=this.children;if(a>=l.length)return this.maxPair(i);const c=l[a].getPairOrNextLower(e,n,r,i);return c===void 0&&a>0?l[a-1].maxPair(i):c}getPairOrNextHigher(e,n,r,i){const a=this.indexOf(e,0,n),l=this.children,c=l.length;if(a>=c)return;const f=l[a].getPairOrNextHigher(e,n,r,i);return f===void 0&&a<c-1?l[a+1].minPair(i):f}set(e,n,r,i){const a=this.children,l=i._maxNodeSize,c=i._compare;let f=Math.min(this.indexOf(e,0,c),a.length-1),d=a[f];if(d.isShared&&(a[f]=d=d.clone()),d.keys.length>=l){let p;f>0&&(p=a[f-1]).keys.length<l&&c(d.keys[0],e)<0?(p.isShared&&(a[f-1]=p=p.clone()),p.takeFromRight(d),this.keys[f-1]=p.maxKey()):(p=a[f+1])!==void 0&&p.keys.length<l&&c(d.maxKey(),e)<0&&(p.isShared&&(a[f+1]=p=p.clone()),p.takeFromLeft(d),this.keys[f]=a[f].maxKey())}const m=d.set(e,n,r,i);if(m===!1)return!1;if(this.keys[f]=d.maxKey(),m===!0)return!0;if(this.keys.length<l)return this.insert(f+1,m),!0;{const p=this.splitOffRightSide();let _=this;return c(m.maxKey(),this.maxKey())>0&&(_=p,f-=this.keys.length),_.insert(f+1,m),p}}insert(e,n){this.children.splice(e,0,n),this.keys.splice(e,0,n.maxKey())}splitOffRightSide(){const e=this.children.length>>1;return new ty(this.children.splice(e),this.keys.splice(e))}takeFromRight(e){this.keys.push(e.keys.shift()),this.children.push(e.children.shift())}takeFromLeft(e){this.keys.unshift(e.keys.pop()),this.children.unshift(e.children.pop())}forRange(e,n,r,i,a,l,c){const f=a._compare,d=this.keys,m=this.children;let p=this.indexOf(e,0,f),_=p;const y=Math.min(n===e?p:this.indexOf(n,0,f),d.length-1);if(i){if(_<=y)try{for(;_<=y;_++){m[_].isShared&&(m[_]=m[_].clone());const v=m[_].forRange(e,n,r,i,a,l,c);if(d[_]=m[_].maxKey(),typeof v!="number")return v;l=v}}finally{const v=a._maxNodeSize>>1;for(p>0&&p--,_=y;_>=p;_--)m[_].keys.length<=v&&(m[_].keys.length!==0?this.tryMerge(_,a._maxNodeSize):(d.splice(_,1),m.splice(_,1)));m.length!==0&&m[0].keys.length===0&&zN(!1,"emptiness bug")}}else for(;_<=y;_++){const v=m[_].forRange(e,n,r,i,a,l,c);if(typeof v!="number")return v;l=v}return l}tryMerge(e,n){const r=this.children;return e>=0&&e+1<r.length&&r[e].keys.length+r[e+1].keys.length<=n?(r[e].isShared&&(r[e]=r[e].clone()),r[e].mergeSibling(r[e+1],n),r.splice(e+1,1),this.keys.splice(e+1,1),this.keys[e]=r[e].maxKey(),!0):!1}mergeSibling(e,n){const r=this.keys.length;this.keys.push.apply(this.keys,e.keys);const i=e.children;if(this.children.push.apply(this.children,i),e.isShared&&!this.isShared)for(const a of i)a.isShared=!0;this.tryMerge(r-1,n)}}const hn=[],MN={delete:!0},LN=()=>MN,Fp=(function(){const t=new Dl;return t.isShared=!0,t})(),tx=[];function zN(t,...e){throw e.unshift("B+ tree"),new Error(e.join(" "))}function PN(){const t=new Map;function e(n){const r=n.join(".");if(t.has(r))return t.get(r);const i=new Proxy({},{get(a,l,c){if(l==="__refProxy")return!0;if(l==="__path")return n;if(l==="__type")return;if(typeof l=="symbol")return Reflect.get(a,l,c);const f=[...n,String(l)];return e(f)},has(a,l){return l==="__refProxy"||l==="__path"||l==="__type"?!0:Reflect.has(a,l)},ownKeys(a){return Reflect.ownKeys(a)},getOwnPropertyDescriptor(a,l){return l==="__refProxy"||l==="__path"||l==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(a,l)}});return t.set(r,i),i}return e([])}function xa(t){const e=new Map;let n=0;function r(a){const l=a.join(".");if(e.has(l))return e.get(l);const c=new Proxy({},{get(f,d,m){if(d==="__refProxy")return!0;if(d==="__path")return a;if(d==="__type")return;if(typeof d=="symbol")return Reflect.get(f,d,m);const p=[...a,String(d)];return r(p)},has(f,d){return d==="__refProxy"||d==="__path"||d==="__type"?!0:Reflect.has(f,d)},ownKeys(f){const d=++n,m=`__SPREAD_SENTINEL__${a.join(".")}__${d}`;return Object.prototype.hasOwnProperty.call(f,m)||Object.defineProperty(f,m,{enumerable:!0,configurable:!0,value:!0}),Reflect.ownKeys(f)},getOwnPropertyDescriptor(f,d){return d==="__refProxy"||d==="__path"||d==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(f,d)}});return e.set(l,c),c}return new Proxy({},{get(a,l,c){if(l==="__refProxy")return!0;if(l==="__path")return[];if(l==="__type")return;if(typeof l=="symbol")return Reflect.get(a,l,c);const f=String(l);if(t.includes(f))return r([f])},has(a,l){return l==="__refProxy"||l==="__path"||l==="__type"||typeof l=="string"&&t.includes(l)?!0:Reflect.has(a,l)},ownKeys(a){return[...t,"__refProxy","__path","__type"]},getOwnPropertyDescriptor(a,l){if(l==="__refProxy"||l==="__path"||l==="__type")return{enumerable:!1,configurable:!0};if(typeof l=="string"&&t.includes(l))return{enumerable:!0,configurable:!0}}})}function Yt(t){return jN(t)?new kn(t.__path):t&&typeof t=="object"&&"type"in t&&(t.type==="func"||t.type==="ref"||t.type==="val"||t.type==="agg")?t:new jn(t)}function jN(t){return t&&typeof t=="object"&&t.__refProxy===!0}function Bm(t,e){return new _r("eq",[Yt(t),Yt(e)])}function nx(t,e){return new _r("gt",[Yt(t),Yt(e)])}function BN(t,e){return new _r("gte",[Yt(t),Yt(e)])}function Um(t,e){return new _r("lt",[Yt(t),Yt(e)])}function $m(t,e,...n){const r=[t,e,...n];return new _r("and",r.map(i=>Yt(i)))}function UN(t,e,...n){const r=[t,e,...n];return new _r("or",r.map(i=>Yt(i)))}function $N(t,e){return new _r("in",[Yt(t),Yt(e)])}class qN{constructor(e,n,r,i){this.lookupCount=0,this.totalLookupTime=0,this.lastUpdated=new Date,this.id=e,this.expression=n,this.compareOptions=Xg,this.name=r,this.initialize(i)}supports(e){return this.supportedOperations.has(e)}matchesField(e){return this.expression.type==="ref"&&this.expression.path.length===e.length&&this.expression.path.every((n,r)=>n===e[r])}matchesCompareOptions(e){const n={...this.compareOptions,direction:void 0},r={...e,direction:void 0};return kr(n,r)}matchesDirection(e){return this.compareOptions.direction===e}getStats(){return{entryCount:this.keyCount,lookupCount:this.lookupCount,averageLookupTime:this.lookupCount>0?this.totalLookupTime/this.lookupCount:0,lastUpdated:this.lastUpdated}}evaluateIndexExpression(e){return Jg(this.expression)(e)}trackLookup(e){const n=performance.now()-e;this.lookupCount++,this.totalLookupTime+=n}updateTimestamp(){this.lastUpdated=new Date}}class qm extends qN{constructor(e,n,r,i){super(e,n,r,i),this.supportedOperations=new Set(["eq","gt","gte","lt","lte","in"]),this.valueMap=new Map,this.indexedKeys=new Set,this.compareFn=zm,this.compareFn=i?.compareFn??zm,i?.compareOptions&&(this.compareOptions=i.compareOptions),this.orderedEntries=new DN(this.compareFn)}initialize(e){}add(e,n){let r;try{r=this.evaluateIndexExpression(n)}catch(a){throw new Error(`Failed to evaluate index expression for key ${e}: ${a}`)}const i=ui(r);if(this.valueMap.has(i))this.valueMap.get(i).add(e);else{const a=new Set([e]);this.valueMap.set(i,a),this.orderedEntries.set(i,void 0)}this.indexedKeys.add(e),this.updateTimestamp()}remove(e,n){let r;try{r=this.evaluateIndexExpression(n)}catch(a){console.warn(`Failed to evaluate index expression for key ${e} during removal:`,a);return}const i=ui(r);if(this.valueMap.has(i)){const a=this.valueMap.get(i);a.delete(e),a.size===0&&(this.valueMap.delete(i),this.orderedEntries.delete(i))}this.indexedKeys.delete(e),this.updateTimestamp()}update(e,n,r){this.remove(e,n),this.add(e,r)}build(e){this.clear();for(const[n,r]of e)this.add(n,r)}clear(){this.orderedEntries.clear(),this.valueMap.clear(),this.indexedKeys.clear(),this.updateTimestamp()}lookup(e,n){const r=performance.now();let i;switch(e){case"eq":i=this.equalityLookup(n);break;case"gt":i=this.rangeQuery({from:n,fromInclusive:!1});break;case"gte":i=this.rangeQuery({from:n,fromInclusive:!0});break;case"lt":i=this.rangeQuery({to:n,toInclusive:!1});break;case"lte":i=this.rangeQuery({to:n,toInclusive:!0});break;case"in":i=this.inArrayLookup(n);break;default:throw new Error(`Operation ${e} not supported by BTreeIndex`)}return this.trackLookup(r),i}get keyCount(){return this.indexedKeys.size}equalityLookup(e){const n=ui(e);return new Set(this.valueMap.get(n)??[])}rangeQuery(e={}){const{from:n,to:r,fromInclusive:i=!0,toInclusive:a=!0}=e,l=new Set,c=ui(n),f=ui(r),d=c??this.orderedEntries.minKey(),m=f??this.orderedEntries.maxKey();return this.orderedEntries.forRange(d,m,a,(p,_)=>{if(!i&&this.compareFn(p,n)===0)return;const y=this.valueMap.get(p);y&&y.forEach(v=>l.add(v))}),l}rangeQueryReversed(e={}){const{from:n,to:r,fromInclusive:i=!0,toInclusive:a=!0}=e;return this.rangeQuery({from:r??this.orderedEntries.maxKey(),to:n??this.orderedEntries.minKey(),fromInclusive:a,toInclusive:i})}takeInternal(e,n,r,i,a=!1){const l=new Set,c=[];let f,d=ui(r);for(;(f=n(d))!==void 0&&c.length<e;){d=f[0];const m=this.valueMap.get(d);if(m&&m.size>0){const p=Array.from(m).sort(af);a&&p.reverse();for(const _ of p){if(c.length>=e)break;!l.has(_)&&(i?.(_)??!0)&&(c.push(_),l.add(_))}}}return c}take(e,n,r){const i=a=>this.orderedEntries.nextHigherPair(a);return this.takeInternal(e,i,n,r)}takeReversed(e,n,r){const i=a=>this.orderedEntries.nextLowerPair(a);return this.takeInternal(e,i,n,r,!0)}inArrayLookup(e){const n=new Set;for(const r of e){const i=ui(r),a=this.valueMap.get(i);a&&a.forEach(l=>n.add(l))}return n}get indexedKeysSet(){return this.indexedKeys}get orderedEntriesArray(){return this.orderedEntries.keysArray().map(e=>[e,this.valueMap.get(e)??new Set])}get orderedEntriesArrayReversed(){return this.takeReversed(this.orderedEntries.size).map(e=>[e,this.valueMap.get(e)??new Set])}get valueMapData(){return this.valueMap}}function K1(t){return t.config.autoIndex==="eager"}function Gf(t,e,n,r,i){if(!K1(n))return;const a=r??{...Xg,...n.compareOptions};if(!Array.from(n.indexes.values()).find(c=>c.matchesField(e)&&c.matchesCompareOptions(a)))try{n.createIndex(c=>{let f=c;for(const d of e)f=f[d];return f},{name:`auto:${e.join(".")}`,indexType:qm,options:i?{compareFn:i,compareOptions:a}:{}})}catch(c){console.warn(`${n.id?`[${n.id}] `:""}Failed to create auto-index for field path "${e.join(".")}":`,c)}}function FN(t,e){if(!K1(e))return;const n=VN(t);for(const{fieldName:r,fieldPath:i}of n)Gf(r,i,e)}function VN(t){const e=[];function n(r){if(r.type!=="func")return;const i=r;if(i.name==="and"){for(const d of i.args)n(d);return}if(!["eq","gt","gte","lt","lte","in"].includes(i.name)||i.args.length<1||i.args[0].type!=="ref")return;const c=i.args[0].path;if(c.length===0)return;const f=c.join("_");e.push({fieldName:f,fieldPath:c})}return n(t),e}const{sum:HN,count:GN,avg:KN,min:ZN,max:QN}=dN;function JN(t,e){const n=new Map,r=[...t];if(!e)return{selectToGroupByIndex:n,groupByExpressions:r};for(const[i,a]of Object.entries(e)){if(a.type==="agg")continue;const l=r.findIndex(c=>of(a,c));if(l===-1)throw new W2(i);n.set(i,l)}return{selectToGroupByIndex:n,groupByExpressions:r}}function rx(t,e,n,r,i){if(e.length===0){const d={};if(r){for(const[p,_]of Object.entries(r))if(_.type==="agg"){const y=_;d[p]=ix(y)}}const m=()=>({__singleGroup:!0});if(t=t.pipe(Zw(m,d)),t=t.pipe(Sn(([,p])=>{const y={...p.__select_results||{}};if(r)for(const[v,w]of Object.entries(r))w.type==="agg"&&(y[v]=p[v]);return["single_group",{...p,__select_results:y}]})),n&&n.length>0)for(const p of n){const _=Lw(p),y=lf(_,r||{}),v=Bn(y);t=t.pipe(Vi(([,w])=>{const C={result:w.__select_results};return Pa(v(C))}))}if(i&&i.length>0)for(const p of i)t=t.pipe(Vi(([,_])=>{const y={result:_.__select_results};return Pa(p(y))}));return t}const a=JN(e,r),l=e.map(d=>Bn(d)),c=([,d])=>{const m={...d};delete m.__select_results;const p={};for(let _=0;_<e.length;_++){const y=l[_],v=y(m);p[`__key_${_}`]=v}return p},f={};if(r){for(const[d,m]of Object.entries(r))if(m.type==="agg"){const p=m;f[d]=ix(p)}}if(t=t.pipe(Zw(c,f)),t=t.pipe(Sn(([,d])=>{const m=d.__select_results||{},p={};if(r)for(const[y,v]of Object.entries(r))if(v.type!=="agg"){const w=a.selectToGroupByIndex.get(y);w!==void 0?p[y]=d[`__key_${w}`]:p[y]=m[y]}else p[y]=d[y];else for(let y=0;y<e.length;y++)p[`__key_${y}`]=d[`__key_${y}`];let _;if(e.length===1)_=d.__key_0;else{const y=[];for(let v=0;v<e.length;v++)y.push(d[`__key_${v}`]);_=JSON.stringify(y)}return[_,{...d,__select_results:p}]})),n&&n.length>0)for(const d of n){const m=Lw(d),p=lf(m,r||{}),_=Bn(p);t=t.pipe(Vi(([,y])=>{const v={result:y.__select_results};return _(v)}))}if(i&&i.length>0)for(const d of i)t=t.pipe(Vi(([,m])=>{const p={result:m.__select_results};return Pa(d(p))}));return t}function of(t,e){if(!t||!e||t.type!==e.type)return!1;switch(t.type){case"ref":return!t.path||!e.path||t.path.length!==e.path.length?!1:t.path.every((n,r)=>n===e.path[r]);case"val":return t.value===e.value;case"func":return t.name===e.name&&t.args?.length===e.args?.length&&(t.args||[]).every((n,r)=>of(n,e.args[r]));case"agg":return t.name===e.name&&t.args?.length===e.args?.length&&(t.args||[]).every((n,r)=>of(n,e.args[r]));default:return!1}}function ix(t){const e=Bn(t.args[0]),n=([,a])=>{const l=e(a);return typeof l=="number"?l:l!=null?Number(l):0},r=([,a])=>{const l=e(a);return typeof l=="number"||l instanceof Date?l:l!=null?Number(l):0},i=([,a])=>e(a);switch(t.name.toLowerCase()){case"sum":return HN(n);case"count":return GN(i);case"avg":return KN(n);case"min":return ZN(r);case"max":return QN(r);default:throw new eI(t.name)}}function lf(t,e,n="result"){switch(t.type){case"agg":{const r=t;for(const[i,a]of Object.entries(e))if(a.type==="agg"&&YN(r,a))return new kn([n,i]);throw new tI(r.name)}case"func":{const r=t,i=r.args.map(a=>lf(a,e));return new _r(r.name,i)}case"ref":return t;case"val":return t;default:throw new nI(t.type)}}function YN(t,e){return t.name===e.name&&t.args.length===e.args.length&&t.args.every((n,r)=>of(n,e.args[r]))}function XN(t,e,n,r,i,a,l,c,f){const d=n.map(v=>{const w=lf(v.expression,r,"__select_results");return{compiledExpression:Bn(w),compareOptions:Fm(v,i)}}),m=v=>{const w=v;return n.length>1?d.map(C=>C.compiledExpression(w)):n.length===1?d[0].compiledExpression(w):null},p=(v,w)=>{if(n.length>1){const C=v,S=w;for(let I=0;I<n.length;I++){const T=d[I],z=rf(T.compareOptions)(C[I],S[I]);if(z!==0)return z}return C.length-S.length}if(n.length===1){const C=d[0];return rf(C.compareOptions)(v,w)}return zm(v,w)};let _,y;if(c){let v,w,C,S=t.from.alias;const I=n[0],T=I.expression;if(T.type==="ref"){const L=Il(t,T,i);if(L){w=L.collection;const z=L.path[0],E=Fm(I,w);z&&Gf(z,L.path,w,E,p),C=Bn(new kn(L.path),!0),v=Kl(w,L.path,E),v?.supports("gt")||(v=void 0),S=T.path.length>1?String(T.path[0]):t.from.alias}}if(C){const z=n.every(q=>q.expression.type==="ref")?n.map(q=>{const P=q.expression,K=Il(t,P,i);return Bn(K?new kn(K.path):q.expression,!0)}):void 0;y={alias:S,offset:f??0,limit:c,comparator:(q,P)=>{if(n.length===1){const K=q&&C(q),ie=P&&C(P);return p(K,ie)}if(z){const K=ie=>ie&&z.map(ge=>ge(ie));return p(K(q),K(P))}return 0},valueExtractorForRawRow:q=>{if(n.length===1)return C(q);if(z)return z.map(P=>P(q))},firstColumnValueExtractor:C,index:v,orderBy:n};const $=w?.id??i.id;a[$]=y,v&&(_=q=>{a[$].dataNeeded=()=>{const P=q();return Math.max(0,y.limit-P)}})}}return e.pipe(NN(m,{limit:c,offset:f,comparator:p,setSizeCallback:_,setWindowFn:v=>{l(w=>{v(w),y&&(y.offset=w.offset??y.offset,y.limit=w.limit??y.limit)})}}))}function Fm(t,e){return t.compareOptions.stringSort!==void 0?t.compareOptions:{...e.compareOptions,direction:t.compareOptions.direction,nulls:t.compareOptions.nulls}}function WN(t,e={}){const n=r=>{const i=[];for(const[a,l]of t.entries())(r?.(l)??!0)&&i.push({type:"insert",key:a,value:l});return i};if(e.limit!==void 0&&!e.orderBy)throw new Error("limit cannot be used without orderBy");if(e.orderBy){const r=e.where?vl(e.where):void 0,i=tD(t,e.orderBy,e.limit,r,e.optimizedOnly);if(i===void 0)return;const a=[];for(const l of i){const c=t.get(l);c!==void 0&&a.push({type:"insert",key:l,value:c})}return a}if(!e.where)return n();try{const r=e.where,i=vI(r,t);if(i.canOptimize){const a=[];for(const l of i.matchingKeys){const c=t.get(l);c!==void 0&&a.push({type:"insert",key:l,value:c})}return a}else{if(e.optimizedOnly)return;const a=vl(r);return n(a)}}catch(r){console.warn(`${t.id?`[${t.id}] `:""}Error processing where clause, falling back to full scan:`,r);const i=vl(e.where);return e.optimizedOnly?void 0:n(i)}}function vl(t){const e=Jg(t);return n=>{try{const r=e(n);return Pa(r)}catch{return!1}}}function eD(t,e){const n=vl(e.whereExpression);return r=>{const i=[];for(const a of r)if(a.type==="insert")n(a.value)&&i.push(a);else if(a.type==="update"){const l=n(a.value),c=a.previousValue?n(a.previousValue):!1;l&&c?i.push(a):l&&!c?i.push({...a,type:"insert"}):!l&&c&&i.push({...a,type:"delete",value:a.previousValue})}else n(a.value)&&i.push(a);(i.length>0||r.length===0)&&t(i)}}function tD(t,e,n,r,i){if(e.length===1){const f=e[0],d=f.expression;if(d.type==="ref"){const p=d.path,_=Fm(f,t);Gf(p[0],p,t,_);const y=Kl(t,p,_);if(y&&y.supports("gt")){const v=w=>{const C=t.get(w);return C===void 0?!1:r?.(C)??!0};return y.take(n??y.keyCount,void 0,v)}}}if(i)return;const a=[];for(const[f,d]of t.entries())(r?.(d)??!0)&&a.push({key:f,value:d});const l=(f,d)=>{for(const m of e){const p=rf(m.compareOptions),_=sx(f.value,m.expression),y=sx(d.value,m.expression),v=p(_,y);if(v!==0)return v}return 0};a.sort(l);const c=a.map(f=>f.key);return n!==void 0?c.slice(0,n):c}function sx(t,e){if(e.type==="ref"){const n=e;let r=t;for(const i of n.path)r=r?.[i];return r}else return e.type==="val"?e.value:Jg(e)(t)}class ax{constructor(e){this.map=new Map,this.sortedKeys=[],this.comparator=e}indexOf(e,n){let r=0,i=this.sortedKeys.length;if(!this.comparator){for(;r<i;){const a=Math.floor((r+i)/2),l=this.sortedKeys[a],c=af(e,l);if(c<0)i=a;else if(c>0)r=a+1;else return a}return r}for(;r<i;){const a=Math.floor((r+i)/2),l=this.sortedKeys[a],c=this.map.get(l),f=this.comparator(n,c);if(f<0)i=a;else if(f>0)r=a+1;else{const d=af(e,l);if(d<0)i=a;else if(d>0)r=a+1;else return a}}return r}set(e,n){if(this.map.has(e)){const i=this.map.get(e),a=this.indexOf(e,i);this.sortedKeys.splice(a,1)}const r=this.indexOf(e,n);return this.sortedKeys.splice(r,0,e),this.map.set(e,n),this}get(e){return this.map.get(e)}delete(e){if(this.map.has(e)){const n=this.map.get(e),r=this.indexOf(e,n);return this.sortedKeys.splice(r,1),this.map.delete(e)}return!1}has(e){return this.map.has(e)}clear(){this.map.clear(),this.sortedKeys=[]}get size(){return this.map.size}*[Symbol.iterator](){for(const e of this.sortedKeys)yield[e,this.map.get(e)]}entries(){return this[Symbol.iterator]()}keys(){return this.sortedKeys[Symbol.iterator]()}values(){return(function*(){for(const e of this.sortedKeys)yield this.map.get(e)}).call(this)}forEach(e){for(const n of this.sortedKeys)e(this.map.get(n),n,this.map)}}class nD{constructor(e){this.pendingSyncedTransactions=[],this.syncedMetadata=new Map,this.optimisticUpserts=new Map,this.optimisticDeletes=new Set,this.size=0,this.syncedKeys=new Set,this.preSyncVisibleState=new Map,this.recentlySyncedKeys=new Set,this.hasReceivedFirstCommit=!1,this.isCommittingSyncTransactions=!1,this.commitPendingTransactions=()=>{let n=!1;for(const l of this.transactions.values())if(l.state==="persisting"){n=!0;break}const{committedSyncedTransactions:r,uncommittedSyncedTransactions:i,hasTruncateSync:a}=this.pendingSyncedTransactions.reduce((l,c)=>(c.committed?(l.committedSyncedTransactions.push(c),c.truncate===!0&&(l.hasTruncateSync=!0)):l.uncommittedSyncedTransactions.push(c),l),{committedSyncedTransactions:[],uncommittedSyncedTransactions:[],hasTruncateSync:!1});if(!n||a){this.isCommittingSyncTransactions=!0;const l=a?r.find(_=>_.truncate)?.optimisticSnapshot:null,c=new Set;for(const _ of r)for(const y of _.operations)c.add(y.key);let f=this.preSyncVisibleState;if(f.size===0){f=new Map;for(const _ of c){const y=this.get(_);y!==void 0&&f.set(_,y)}}const d=[],m=this.config.sync.rowUpdateMode||"partial";for(const _ of r){if(_.truncate){const y=new Set([...this.syncedData.keys(),...l?.upserts.keys()||[]]);for(const v of y){if(l?.deletes.has(v))continue;const w=l?.upserts.get(v)||this.syncedData.get(v);w!==void 0&&d.push({type:"delete",key:v,value:w})}this.syncedData.clear(),this.syncedMetadata.clear(),this.syncedKeys.clear();for(const v of c)f.delete(v);this._events.emit("truncate",{type:"truncate",collection:this.collection})}for(const y of _.operations){const v=y.key;switch(this.syncedKeys.add(v),y.type){case"insert":this.syncedMetadata.set(v,y.metadata);break;case"update":this.syncedMetadata.set(v,Object.assign({},this.syncedMetadata.get(v),y.metadata));break;case"delete":this.syncedMetadata.delete(v);break}switch(y.type){case"insert":this.syncedData.set(v,y.value);break;case"update":{if(m==="partial"){const w=Object.assign({},this.syncedData.get(v),y.value);this.syncedData.set(v,w)}else this.syncedData.set(v,y.value);break}case"delete":this.syncedData.delete(v);break}}}if(a){const _=new Set;for(const w of r)for(const C of w.operations)(C.type==="insert"||C.type==="update")&&_.add(C.key);const y=new Map(l.upserts),v=new Set(l.deletes);for(const[w,C]of y)if(!v.has(w))if(_.has(w)){let S=!1;for(let I=d.length-1;I>=0;I--){const T=d[I];if(T.key===w&&T.type==="insert"){T.value=C,S=!0;break}}S||d.push({type:"insert",key:w,value:C})}else d.push({type:"insert",key:w,value:C});if(d.length>0&&v.size>0){const w=[];for(const C of d)C.type==="insert"&&v.has(C.key)||w.push(C);d.length=0,d.push(...w)}this.lifecycle.status!=="ready"&&this.lifecycle.markReady()}if(this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.isCommittingSyncTransactions=!1,a&&l){for(const[_,y]of l.upserts)this.optimisticUpserts.set(_,y);for(const _ of l.deletes)this.optimisticDeletes.add(_)}for(const _ of this.transactions.values())if(!["completed","failed"].includes(_.state)){for(const y of _.mutations)if(this.isThisCollection(y.collection)&&y.optimistic)switch(y.type){case"insert":case"update":this.optimisticUpserts.set(y.key,y.modified),this.optimisticDeletes.delete(y.key);break;case"delete":this.optimisticUpserts.delete(y.key),this.optimisticDeletes.add(y.key);break}}const p=new Map;for(const _ of this.transactions.values())if(_.state==="completed")for(const y of _.mutations)y.optimistic&&this.isThisCollection(y.collection)&&c.has(y.key)&&p.set(y.key,{type:y.type,value:y.modified});for(const _ of c){const y=f.get(_),v=this.get(_),w=p.get(_);let C=!1;w&&(w.type==="delete"&&y!==void 0&&v===void 0&&kr(w.value,y)||v!==void 0&&kr(w.value,v))&&(C=!0),C||(y===void 0&&v!==void 0?d.push({type:"insert",key:_,value:v}):y!==void 0&&v===void 0?d.push({type:"delete",key:_,value:y}):y!==void 0&&v!==void 0&&!kr(y,v)&&d.push({type:"update",key:_,value:v,previousValue:y}))}this.size=this.calculateSize(),d.length>0&&this.indexes.updateIndexes(d),this.changes.emitEvents(d,!0),this.pendingSyncedTransactions=i,this.preSyncVisibleState.clear(),Promise.resolve().then(()=>{this.recentlySyncedKeys.clear()}),this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0)}},this.config=e,this.transactions=new ax((n,r)=>n.compareCreatedAt(r)),this.syncedData=new ax(e.compare)}setDeps(e){this.collection=e.collection,this.lifecycle=e.lifecycle,this.changes=e.changes,this.indexes=e.indexes,this._events=e.events}get(e){const{optimisticDeletes:n,optimisticUpserts:r,syncedData:i}=this;if(!n.has(e))return r.has(e)?r.get(e):i.get(e)}has(e){const{optimisticDeletes:n,optimisticUpserts:r,syncedData:i}=this;return n.has(e)?!1:r.has(e)?!0:i.has(e)}*keys(){const{syncedData:e,optimisticDeletes:n,optimisticUpserts:r}=this;for(const i of e.keys())n.has(i)||(yield i);for(const i of r.keys())!e.has(i)&&!n.has(i)&&(yield i)}*values(){for(const e of this.keys()){const n=this.get(e);n!==void 0&&(yield n)}}*entries(){for(const e of this.keys()){const n=this.get(e);n!==void 0&&(yield[e,n])}}*[Symbol.iterator](){for(const[e,n]of this.entries())yield[e,n]}forEach(e){let n=0;for(const[r,i]of this.entries())e(i,r,n++)}map(e){const n=[];let r=0;for(const[i,a]of this.entries())n.push(e(a,i,r++));return n}isThisCollection(e){return e===this.collection}recomputeOptimisticState(e=!1){if(this.isCommittingSyncTransactions&&!e)return;const n=new Map(this.optimisticUpserts),r=new Set(this.optimisticDeletes);this.optimisticUpserts.clear(),this.optimisticDeletes.clear();const i=[];for(const c of this.transactions.values())["completed","failed"].includes(c.state)||i.push(c);for(const c of i)for(const f of c.mutations)if(this.isThisCollection(f.collection)&&f.optimistic)switch(f.type){case"insert":case"update":this.optimisticUpserts.set(f.key,f.modified),this.optimisticDeletes.delete(f.key);break;case"delete":this.optimisticUpserts.delete(f.key),this.optimisticDeletes.add(f.key);break}this.size=this.calculateSize();const a=[];this.collectOptimisticChanges(n,r,a);const l=a.filter(c=>!!(!this.recentlySyncedKeys.has(c.key)||e));if(this.pendingSyncedTransactions.length>0&&!e){const c=new Set;for(const d of this.pendingSyncedTransactions)for(const m of d.operations)c.add(m.key);const f=l.filter(d=>!(d.type==="delete"&&c.has(d.key)&&!i.some(p=>p.mutations.some(_=>this.isThisCollection(_.collection)&&_.key===d.key))));f.length>0&&this.indexes.updateIndexes(f),this.changes.emitEvents(f,e)}else l.length>0&&this.indexes.updateIndexes(l),this.changes.emitEvents(l,e)}calculateSize(){const e=this.syncedData.size,n=Array.from(this.optimisticDeletes).filter(i=>this.syncedData.has(i)&&!this.optimisticUpserts.has(i)).length,r=Array.from(this.optimisticUpserts.keys()).filter(i=>!this.syncedData.has(i)).length;return e-n+r}collectOptimisticChanges(e,n,r){const i=new Set([...e.keys(),...this.optimisticUpserts.keys(),...n,...this.optimisticDeletes]);for(const a of i){const l=this.get(a),c=this.getPreviousValue(a,e,n);c!==void 0&&l===void 0?r.push({type:"delete",key:a,value:c}):c===void 0&&l!==void 0?r.push({type:"insert",key:a,value:l}):c!==void 0&&l!==void 0&&c!==l&&r.push({type:"update",key:a,value:l,previousValue:c})}}getPreviousValue(e,n,r){if(!r.has(e))return n.has(e)?n.get(e):this.syncedData.get(e)}scheduleTransactionCleanup(e){if(e.state==="completed"){this.transactions.delete(e.id);return}e.isPersisted.promise.then(()=>{this.transactions.delete(e.id)}).catch(()=>{})}capturePreSyncVisibleState(){if(this.pendingSyncedTransactions.length===0)return;const e=new Set;for(const n of this.pendingSyncedTransactions)for(const r of n.operations)e.add(r.key);for(const n of e)this.recentlySyncedKeys.add(n);for(const n of e)if(!this.preSyncVisibleState.has(n)){const r=this.get(n);r!==void 0&&this.preSyncVisibleState.set(n,r)}}onTransactionStateChange(){this.changes.shouldBatchEvents=this.pendingSyncedTransactions.length>0,this.capturePreSyncVisibleState(),this.recomputeOptimisticState(!1)}cleanup(){this.syncedData.clear(),this.syncedMetadata.clear(),this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.size=0,this.pendingSyncedTransactions=[],this.syncedKeys.clear(),this.hasReceivedFirstCommit=!1}}class Z1{constructor(){this.listeners=new Map}on(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n),()=>{this.listeners.get(e)?.delete(n)}}once(e,n){const r=this.on(e,i=>{n(i),r()});return r}off(e,n){this.listeners.get(e)?.delete(n)}waitFor(e,n){return new Promise((r,i)=>{let a;const l=this.on(e,c=>{a&&(clearTimeout(a),a=void 0),r(c),l()});n&&(a=setTimeout(()=>{a=void 0,l(),i(new Error(`Timeout waiting for event ${String(e)}`))},n))})}emitInner(e,n){this.listeners.get(e)?.forEach(r=>{try{r(n)}catch(i){queueMicrotask(()=>{throw i})}})}clearListeners(){this.listeners.clear()}}function rD(t,e){if(e.length===0||t.length===0)return;if(t.length===1){const{expression:r,compareOptions:i}=t[0];return(i.direction==="asc"?nx:Um)(r,new jn(e[0]))}const n=[];for(let r=0;r<t.length&&r<e.length;r++){const i=t[r],a=e[r],l=[];for(let d=0;d<r;d++){const m=t[d],p=e[d];l.push(Bm(m.expression,new jn(p)))}const f=(i.compareOptions.direction==="asc"?nx:Um)(i.expression,new jn(a));if(l.length===0)n.push(f);else{const d=[...l,f];n.push(d.reduce((m,p)=>$m(m,p)))}}return n.length===1?n[0]:n.reduce((r,i)=>UN(r,i))}class iD extends Z1{constructor(e,n,r){super(),this.collection=e,this.callback=n,this.options=r,this.loadedInitialState=!1,this.skipFiltering=!1,this.snapshotSent=!1,this.loadedSubsets=[],this.sentKeys=new Set,this.limitedSnapshotRowCount=0,this._status="ready",this.pendingLoadSubsetPromises=new Set,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches=new Set,r.onUnsubscribe&&this.on("unsubscribed",a=>r.onUnsubscribe(a)),r.whereExpression&&FN(r.whereExpression,this.collection);const i=a=>{n(a),this.trackSentKeys(a)};this.callback=i,this.filteredCallback=r.whereExpression?eD(this.callback,r):this.callback,this.truncateCleanup=this.collection.on("truncate",()=>{this.handleTruncate()})}get status(){return this._status}handleTruncate(){const e=[...this.loadedSubsets],n=this.collection._sync.syncLoadSubsetFn!==null;if(e.length===0||!n){this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[];return}this.isBufferingForTruncate=!0,this.truncateBuffer=[],this.pendingTruncateRefetches.clear(),this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[],queueMicrotask(()=>{if(this.isBufferingForTruncate){for(const r of e){const i=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),this.trackLoadSubsetPromise(i),i instanceof Promise&&(this.pendingTruncateRefetches.add(i),i.catch(()=>{}).finally(()=>{this.pendingTruncateRefetches.delete(i),this.checkTruncateRefetchComplete()}))}this.pendingTruncateRefetches.size===0&&this.flushTruncateBuffer()}})}checkTruncateRefetchComplete(){this.pendingTruncateRefetches.size===0&&this.isBufferingForTruncate&&this.flushTruncateBuffer()}flushTruncateBuffer(){this.isBufferingForTruncate=!1;const e=this.truncateBuffer.flat();e.length>0&&this.filteredCallback(e),this.truncateBuffer=[]}setOrderByIndex(e){this.orderByIndex=e}setStatus(e){if(this._status===e)return;const n=this._status;this._status=e,this.emitInner("status:change",{type:"status:change",subscription:this,previousStatus:n,status:e});const r=`status:${e}`;this.emitInner(r,{type:r,subscription:this,previousStatus:n,status:e})}trackLoadSubsetPromise(e){e instanceof Promise&&(this.pendingLoadSubsetPromises.add(e),this.setStatus("loadingSubset"),e.finally(()=>{this.pendingLoadSubsetPromises.delete(e),this.pendingLoadSubsetPromises.size===0&&this.setStatus("ready")}))}hasLoadedInitialState(){return this.loadedInitialState}hasSentAtLeastOneSnapshot(){return this.snapshotSent}emitEvents(e){const n=this.filterAndFlipChanges(e);this.isBufferingForTruncate?n.length>0&&this.truncateBuffer.push(n):this.filteredCallback(n)}requestSnapshot(e){if(this.loadedInitialState)return!1;const n={where:this.options.whereExpression,optimizedOnly:e?.optimizedOnly??!1};if(e){if("where"in e){const f=e.where;if(n.where){const d=n.where,m=$m(d,f);n.where=m}else n.where=f}}else this.loadedInitialState=!0;const r={where:n.where,subscription:this,orderBy:e?.orderBy,limit:e?.limit},i=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),(e?.trackLoadSubsetPromise??!0)&&this.trackLoadSubsetPromise(i);const l=this.collection.currentStateAsChanges(n);if(l===void 0)return!1;const c=l.filter(f=>!this.sentKeys.has(f.key));for(const f of c)this.sentKeys.add(f.key);return this.snapshotSent=!0,this.callback(c),!0}requestLimitedSnapshot({orderBy:e,limit:n,minValues:r,offset:i}){if(!n)throw new Error("limit is required");if(!this.orderByIndex)throw new Error("Ordered snapshot was requested but no index was found. You have to call setOrderByIndex before requesting an ordered snapshot.");const l=r?.[0],c=this.orderByIndex,f=this.options.whereExpression,d=f?vl(f):void 0,m=E=>{if(this.sentKeys.has(E))return!1;const M=this.collection.get(E);return M===void 0?!1:d?.(M)??!0};let p=l;const _=[];let y=[];if(l!==void 0){const{expression:E}=e[0],M=this.collection.currentStateAsChanges({where:Bm(E,new jn(l))});if(M){const $=M.map(P=>P.key).filter(P=>!this.sentKeys.has(P)&&m(P));y.push(...$);const q=c.take(n-y.length,l,m);y.push(...q)}else y=c.take(n,l,m)}else y=c.take(n,l,m);const v=()=>Math.max(n-_.length,0),w=()=>y.length===0,C=e[0].expression,S=C.type==="ref"?Bn(new kn(C.path),!0):null;for(;v()>0&&!w();){const E=new Set;for(const M of y){const $=this.collection.get(M);_.push({type:"insert",key:M,value:$}),p=S?S($):$,E.add(M)}y=c.take(v(),p,m)}const I=this.limitedSnapshotRowCount;for(const E of _)this.sentKeys.add(E.key);this.callback(_),this.limitedSnapshotRowCount+=_.length,_.length>0&&(this.lastSentKey=_[_.length-1].key);let T;if(r!==void 0&&r.length>0){const E=rD(e,r);if(E){const{expression:M}=e[0],$=r[0];let q;if($ instanceof Date){const P=new Date($.getTime()+1);q=$m(BN(M,new jn($)),Um(M,new jn(P)))}else q=Bm(M,new jn($));T={whereFrom:E,whereCurrent:q,lastKey:this.lastSentKey}}}const L={where:f,limit:n,orderBy:e,cursor:T,offset:i??I,subscription:this},z=this.collection._sync.loadSubset(L);this.loadedSubsets.push(L),this.trackLoadSubsetPromise(z)}filterAndFlipChanges(e){if(this.loadedInitialState||this.skipFiltering)return e;const n=this.isBufferingForTruncate,r=[];for(const i of e){let a=i;if(this.sentKeys.has(i.key)){if(i.type==="insert")continue;i.type==="delete"&&this.sentKeys.delete(i.key)}else{if(i.type==="update")a={...i,type:"insert",previousValue:void 0};else if(i.type==="delete"&&!n)continue;this.sentKeys.add(i.key)}r.push(a)}return r}trackSentKeys(e){if(!(this.loadedInitialState||this.skipFiltering))for(const n of e)n.type==="delete"?this.sentKeys.delete(n.key):this.sentKeys.add(n.key)}markAllStateAsSeen(){this.skipFiltering=!0}unsubscribe(){this.truncateCleanup?.(),this.truncateCleanup=void 0,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches.clear();for(const e of this.loadedSubsets)this.collection._sync.unloadSubset(e);this.loadedSubsets=[],this.emitInner("unsubscribed",{type:"unsubscribed",subscription:this}),this.clearListeners()}}class sD{constructor(){this.activeSubscribersCount=0,this.changeSubscriptions=new Set,this.batchedEvents=[],this.shouldBatchEvents=!1}setDeps(e){this.lifecycle=e.lifecycle,this.sync=e.sync,this.events=e.events,this.collection=e.collection}emitEmptyReadyEvent(){for(const e of this.changeSubscriptions)e.emitEvents([])}emitEvents(e,n=!1){if(this.shouldBatchEvents&&!n){this.batchedEvents.push(...e);return}let r=e;if(n&&(this.batchedEvents.length>0&&(r=[...this.batchedEvents,...e]),this.batchedEvents=[],this.shouldBatchEvents=!1),r.length!==0)for(const i of this.changeSubscriptions)i.emitEvents(r)}subscribeChanges(e,n={}){this.addSubscriber();const r=new iD(this.collection,e,{...n,onUnsubscribe:()=>{this.removeSubscriber(),this.changeSubscriptions.delete(r)}});return n.includeInitialState?r.requestSnapshot({trackLoadSubsetPromise:!1}):n.includeInitialState===!1&&r.markAllStateAsSeen(),this.changeSubscriptions.add(r),r}addSubscriber(){const e=this.activeSubscribersCount;this.activeSubscribersCount++,this.lifecycle.cancelGCTimer(),(this.lifecycle.status==="cleaned-up"||this.lifecycle.status==="idle")&&this.sync.startSync(),this.events.emitSubscribersChange(this.activeSubscribersCount,e)}removeSubscriber(){const e=this.activeSubscribersCount;if(this.activeSubscribersCount--,this.activeSubscribersCount===0)this.lifecycle.startGCTimer();else if(this.activeSubscribersCount<0)throw new d2;this.events.emitSubscribersChange(this.activeSubscribersCount,e)}cleanup(){this.batchedEvents=[],this.shouldBatchEvents=!1}}const aD=t=>setTimeout(()=>{t({didTimeout:!0,timeRemaining:()=>50})},0),oD=t=>{clearTimeout(t)},lD=typeof window<"u"&&"requestIdleCallback"in window?(t,e)=>window.requestIdleCallback(t,e):(t,e)=>aD(t),Vp=typeof window<"u"&&"cancelIdleCallback"in window?t=>window.cancelIdleCallback(t):oD;class uD{constructor(e,n){this.status="idle",this.hasBeenReady=!1,this.hasReceivedFirstCommit=!1,this.onFirstReadyCallbacks=[],this.gcTimeoutId=null,this.idleCallbackId=null,this.config=e,this.id=n}setDeps(e){this.indexes=e.indexes,this.events=e.events,this.changes=e.changes,this.sync=e.sync,this.state=e.state}validateStatusTransition(e,n){if(e===n)return;if(!{idle:["loading","error","cleaned-up"],loading:["ready","error","cleaned-up"],ready:["cleaned-up","error"],error:["cleaned-up","idle"],"cleaned-up":["loading","error"]}[e].includes(n))throw new f2(e,n,this.id)}setStatus(e,n=!1){if(e==="ready"&&!n)throw new Gl(`You can't directly call "setStatus('ready'). You must use markReady instead.`);this.validateStatusTransition(this.status,e);const r=this.status;this.status=e,e==="ready"&&!this.indexes.isIndexesResolved&&this.indexes.resolveAllIndexes().catch(i=>{console.warn(`${this.config.id?`[${this.config.id}] `:""}Failed to resolve indexes:`,i)}),this.events.emitStatusChange(e,r)}validateCollectionUsable(e){switch(this.status){case"error":throw new c2(e,this.id);case"cleaned-up":this.sync.startSync();break}}markReady(){if(this.validateStatusTransition(this.status,"ready"),this.status==="loading"){if(this.setStatus("ready",!0),!this.hasBeenReady){this.hasBeenReady=!0,this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0);const e=[...this.onFirstReadyCallbacks];this.onFirstReadyCallbacks=[],e.forEach(n=>n())}this.changes.changeSubscriptions.size>0&&this.changes.emitEmptyReadyEvent()}}startGCTimer(){this.gcTimeoutId&&clearTimeout(this.gcTimeoutId);const e=this.config.gcTime??3e5;e!==0&&(this.gcTimeoutId=setTimeout(()=>{this.changes.activeSubscribersCount===0&&this.scheduleIdleCleanup()},e))}cancelGCTimer(){this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.idleCallbackId!==null&&(Vp(this.idleCallbackId),this.idleCallbackId=null)}scheduleIdleCleanup(){this.idleCallbackId!==null&&Vp(this.idleCallbackId),this.idleCallbackId=lD(e=>{this.changes.activeSubscribersCount===0?this.performCleanup(e)&&(this.idleCallbackId=null):this.idleCallbackId=null},{timeout:1e3})}performCleanup(e){return!e||e.timeRemaining()>0||e.didTimeout?(this.sync.cleanup(),this.state.cleanup(),this.changes.cleanup(),this.indexes.cleanup(),this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.hasBeenReady=!1,this.onFirstReadyCallbacks=[],this.setStatus("cleaned-up"),this.events.cleanup(),!0):(this.scheduleIdleCleanup(),!1)}onFirstReady(e){if(this.hasBeenReady){e();return}this.onFirstReadyCallbacks.push(e)}cleanup(){this.idleCallbackId!==null&&(Vp(this.idleCallbackId),this.idleCallbackId=null),this.performCleanup()}}const ny=Symbol("liveQueryInternal");class cD{constructor(e,n){this.preloadPromise=null,this.syncCleanupFn=null,this.syncLoadSubsetFn=null,this.syncUnloadSubsetFn=null,this.pendingLoadSubsetPromises=new Set,this.config=e,this.id=n,this.syncMode=e.syncMode??"eager"}setDeps(e){this.collection=e.collection,this.state=e.state,this.lifecycle=e.lifecycle,this._events=e.events}startSync(){if(!(this.lifecycle.status!=="idle"&&this.lifecycle.status!=="cleaned-up")){this.lifecycle.setStatus("loading");try{const e=fD(this.config.sync.sync({collection:this.collection,begin:()=>{this.state.pendingSyncedTransactions.push({committed:!1,operations:[],deletedKeys:new Set})},write:n=>{const r=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!r)throw new Bw;if(r.committed)throw new Uw;let i;"key"in n?i=n.key:i=this.config.getKey(n.value);let a=n.type;if(n.type==="insert"){const c=this.state.syncedData.has(i),f=r.deletedKeys.has(i),d=r.truncate===!0;if(c&&!f&&!d){const m=this.state.syncedData.get(i);if(m!==void 0&&kr(m,n.value))a="update";else{const _=this.config.utils[ny];throw new y2(i,this.id,{hasCustomGetKey:_?.hasCustomGetKey??!1,hasJoins:_?.hasJoins??!1})}}}const l={...n,type:a,key:i};r.operations.push(l),a==="delete"&&r.deletedKeys.add(i)},commit:()=>{const n=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!n)throw new I2;if(n.committed)throw new N2;n.committed=!0,this.state.commitPendingTransactions()},markReady:()=>{this.lifecycle.markReady()},truncate:()=>{const n=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!n)throw new Bw;if(n.committed)throw new Uw;n.operations=[],n.deletedKeys.clear(),n.truncate=!0,n.optimisticSnapshot={upserts:new Map(this.state.optimisticUpserts),deletes:new Set(this.state.optimisticDeletes)}}}));if(this.syncCleanupFn=e?.cleanup??null,this.syncLoadSubsetFn=e?.loadSubset??null,this.syncUnloadSubsetFn=e?.unloadSubset??null,this.syncMode==="on-demand"&&!this.syncLoadSubsetFn)throw new Hl(`Collection "${this.id}" is configured with syncMode "on-demand" but the sync function did not return a loadSubset handler. Either provide a loadSubset handler or use syncMode "eager".`)}catch(e){throw this.lifecycle.setStatus("error"),e}}}preload(){return this.preloadPromise?this.preloadPromise:(this.syncMode==="on-demand"&&console.warn(`${this.id?`[${this.id}] `:""}Calling .preload() on a collection with syncMode "on-demand" is a no-op. In on-demand mode, data is only loaded when queries request it. Instead, create a live query and call .preload() on that to load the specific data you need. See https://tanstack.com/blog/tanstack-db-0.5-query-driven-sync for more details.`),this.preloadPromise=new Promise((e,n)=>{if(this.lifecycle.status==="ready"){e();return}if(this.lifecycle.status==="error"){n(new h2);return}if(this.lifecycle.onFirstReady(()=>{e()}),this.lifecycle.status==="idle"||this.lifecycle.status==="cleaned-up")try{this.startSync()}catch(r){n(r);return}}),this.preloadPromise)}get isLoadingSubset(){return this.pendingLoadSubsetPromises.size>0}trackLoadPromise(e){const n=!this.isLoadingSubset;this.pendingLoadSubsetPromises.add(e),n&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!0,previousIsLoadingSubset:!1,loadingSubsetTransition:"start"}),e.finally(()=>{const r=this.pendingLoadSubsetPromises.size===1&&this.pendingLoadSubsetPromises.has(e);this.pendingLoadSubsetPromises.delete(e),r&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!1,previousIsLoadingSubset:!0,loadingSubsetTransition:"end"})})}loadSubset(e){if(this.syncMode==="eager")return!0;if(this.syncLoadSubsetFn){const n=this.syncLoadSubsetFn(e);if(n instanceof Promise)return this.trackLoadPromise(n),n}return!0}unloadSubset(e){this.syncUnloadSubsetFn&&this.syncUnloadSubsetFn(e)}cleanup(){try{this.syncCleanupFn&&(this.syncCleanupFn(),this.syncCleanupFn=null)}catch(e){queueMicrotask(()=>{if(e instanceof Error){const n=new qw(this.id,e);throw n.cause=e,n.stack=e.stack,n}else throw new qw(this.id,e)})}this.preloadPromise=null}}function fD(t){if(typeof t=="function")return{cleanup:t};if(typeof t=="object")return t}function Q1(t){return typeof t=="function"&&t.prototype!==void 0&&t.prototype.constructor===t}async function hD(t){return Q1(t)?t:await t()}class dD{constructor(e,n,r,i,a,l){this.id=e,this.expression=n,this.name=r,this.resolver=i,this.options=a,this.collectionEntries=l,this.indexPromise=null,this.resolvedIndex=null,Q1(this.resolver)&&(this.resolvedIndex=new this.resolver(this.id,this.expression,this.name,this.options),this.collectionEntries&&this.resolvedIndex.build(this.collectionEntries))}async resolve(){return this.resolvedIndex?this.resolvedIndex:(this.indexPromise||(this.indexPromise=this.createIndex()),this.resolvedIndex=await this.indexPromise,this.resolvedIndex)}isResolved(){return this.resolvedIndex!==null}getResolved(){if(!this.resolvedIndex)throw new Error(`Index ${this.id} has not been resolved yet. Ensure collection is synced.`);return this.resolvedIndex}getId(){return this.id}getName(){return this.name}getExpression(){return this.expression}async createIndex(){const e=await hD(this.resolver);return new e(this.id,this.expression,this.name,this.options)}}class pD{constructor(e,n){this.indexId=e,this.lazyIndex=n}get index(){return this.lazyIndex.getResolved()}get isReady(){return this.lazyIndex.isResolved()}async whenReady(){return await this.lazyIndex.resolve()}get id(){return this.indexId}get name(){return this.isReady?this.index.name:this.lazyIndex.getName()}get expression(){return this.lazyIndex.getExpression()}supports(e){return this.index.supports(e)}getStats(){return this.index.getStats()}matchesField(e){const n=this.expression;return n.type==="ref"&&n.path.length===e.length&&n.path.every((r,i)=>r===e[i])}get keyCount(){return this.index.keyCount}get indexedKeysSet(){return this.index.indexedKeysSet}get orderedEntriesArray(){return this.index.orderedEntriesArray}get valueMapData(){return this.index.valueMapData}equalityLookup(e){return this.index.equalityLookup?.(e)??new Set}rangeQuery(e){return this.index.rangeQuery?.(e)??new Set}inArrayLookup(e){return this.index.inArrayLookup?.(e)??new Set}_getLazyWrapper(){return this.lazyIndex}}class mD{constructor(){this.lazyIndexes=new Map,this.resolvedIndexes=new Map,this.isIndexesResolved=!1,this.indexCounter=0}setDeps(e){this.state=e.state,this.lifecycle=e.lifecycle}createIndex(e,n={}){this.lifecycle.validateCollectionUsable("createIndex");const r=++this.indexCounter,i=PN(),a=e(i),l=Yt(a),c=n.indexType??qm,f=new dD(r,l,n.name,c,n.options,this.state.entries());if(this.lazyIndexes.set(r,f),c===qm)try{const d=f.getResolved();this.resolvedIndexes.set(r,d)}catch(d){console.warn("Failed to resolve BTreeIndex:",d)}else if(typeof c=="function"&&c.prototype)try{const d=f.getResolved();this.resolvedIndexes.set(r,d)}catch{this.resolveSingleIndex(r,f).catch(d=>{console.warn("Failed to resolve single index:",d)})}else this.isIndexesResolved&&this.resolveSingleIndex(r,f).catch(d=>{console.warn("Failed to resolve single index:",d)});return new pD(r,f)}async resolveAllIndexes(){if(this.isIndexesResolved)return;const e=Array.from(this.lazyIndexes.entries()).map(async([n,r])=>{const i=await r.resolve();return i.build(this.state.entries()),this.resolvedIndexes.set(n,i),{indexId:n,resolvedIndex:i}});await Promise.all(e),this.isIndexesResolved=!0}async resolveSingleIndex(e,n){const r=await n.resolve();return r.build(this.state.entries()),this.resolvedIndexes.set(e,r),r}get indexes(){return this.resolvedIndexes}updateIndexes(e){for(const n of this.resolvedIndexes.values())for(const r of e)switch(r.type){case"insert":n.add(r.key,r.value);break;case"update":r.previousValue?n.update(r.key,r.previousValue,r.value):n.add(r.key,r.value);break;case"delete":n.remove(r.key,r.value);break}}cleanup(){this.lazyIndexes.clear(),this.resolvedIndexes.clear()}}var gD={};const yD=new Set(["find","findLast","findIndex","findLastIndex","filter","map","flatMap","forEach","some","every","reduce","reduceRight"]),_D=new Set(["pop","push","shift","unshift","splice","sort","reverse","fill","copyWithin"]),bD=new Set(["set","delete","clear","add"]),vD=new Set(["entries","keys","values","forEach"]);function ry(t){return t!==null&&typeof t=="object"&&!(t instanceof Date)&&!(t instanceof RegExp)&&!sf(t)}function wD(t,e,n,r){if(yD.has(t))return function(...i){const a=i[0];if(typeof a!="function")return e.apply(n.copy_,i);const l=(d,m)=>{if(ry(d)){const p={tracker:n,prop:String(m)},{proxy:_}=r(d,p);return _}return d},c=function(d,m,p){const _=l(d,m);return a.call(this,_,m,p)};if(t==="reduce"||t==="reduceRight"){const d=function(m,p,_,y){const v=l(p,_);return a.call(this,m,v,_,y)};return e.apply(n.copy_,[d,...i.slice(1)])}const f=e.apply(n.copy_,[c,...i.slice(1)]);if((t==="find"||t==="findLast")&&f&&typeof f=="object"){const d=n.copy_.indexOf(f);if(d!==-1)return l(f,d)}return t==="filter"&&Array.isArray(f)?f.map(d=>{const m=n.copy_.indexOf(d);return m!==-1?l(d,m):d}):f}}function xD(t,e){return function(){const n=t.copy_;let r=0;return{next(){if(r>=n.length)return{done:!0,value:void 0};const i=n[r];let a=i;if(ry(i)){const l={tracker:t,prop:String(r)},{proxy:c}=e(i,l);a=c}return r++,{done:!1,value:a}},[Symbol.iterator](){return this}}}}function ox(t,e,n){return function(...r){const i=t.apply(e.copy_,r);return n(e),i}}function SD(t,e,n,r,i,a,l){if(vD.has(t)||e===Symbol.iterator)return function(...f){const d=n.apply(i.copy_,f);if(t==="forEach"){const p=f[0];if(typeof p=="function"){const _=function(y,v,w){const C=p.call(this,y,v,w);return l(i),C};return n.apply(r,[_,...f.slice(1)])}}if(t==="entries"||t==="values"||t===Symbol.iterator.toString()||e===Symbol.iterator){const p=d,_=new Map;if(t==="values"&&r instanceof Map)for(const[v,w]of i.copy_.entries())_.set(w,v);const y=new Map;if(r instanceof Set)for(const v of i.copy_.values())y.set(v,v);return{next(){const v=p.next();if(!v.done&&v.value&&typeof v.value=="object"){if(t==="entries"&&Array.isArray(v.value)&&v.value.length===2){if(v.value[1]&&typeof v.value[1]=="object"){const w=v.value[0],C={tracker:i,prop:w,updateMap:I=>{i.copy_ instanceof Map&&i.copy_.set(w,I)}},{proxy:S}=a(v.value[1],C);v.value[1]=S}}else if(t==="values"||t===Symbol.iterator.toString()||e===Symbol.iterator)if(t==="values"&&r instanceof Map){const w=_.get(v.value);if(w!==void 0){const C={tracker:i,prop:w,updateMap:I=>{i.copy_ instanceof Map&&i.copy_.set(w,I)}},{proxy:S}=a(v.value,C);v.value=S}}else if(r instanceof Set){const w=v.value,C={tracker:i,prop:w,updateSet:I=>{i.copy_ instanceof Set&&(i.copy_.delete(w),i.copy_.add(I),y.set(w,I))}},{proxy:S}=a(v.value,C);v.value=S}else{const w=Symbol("iterator-value"),{proxy:C}=a(v.value,{tracker:i,prop:w});v.value=C}}return v},[Symbol.iterator](){return this}}}return d}}function Ge(...t){const e=typeof window<"u"&&typeof localStorage<"u";e&&localStorage.getItem("DEBUG")==="true"?console.log("[proxy]",...t):!e&&typeof process<"u"&&gD.DEBUG==="true"&&console.log("[proxy]",...t)}function ci(t,e=new WeakMap){if(t==null||typeof t!="object")return t;if(e.has(t))return e.get(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t.source,t.flags);if(Array.isArray(t)){const i=[];return e.set(t,i),t.forEach((a,l)=>{i[l]=ci(a,e)}),i}if(ArrayBuffer.isView(t)&&!(t instanceof DataView)){const i=Object.getPrototypeOf(t).constructor,a=new i(t.length);e.set(t,a);for(let l=0;l<t.length;l++)a[l]=t[l];return a}if(t instanceof Map){const i=new Map;return e.set(t,i),t.forEach((a,l)=>{i.set(l,ci(a,e))}),i}if(t instanceof Set){const i=new Set;return e.set(t,i),t.forEach(a=>{i.add(ci(a,e))}),i}if(sf(t))return t;const n={};e.set(t,n);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=ci(t[i],e));const r=Object.getOwnPropertySymbols(t);for(const i of r)n[i]=ci(t[i],e);return n}let lx=0;function ED(){return lx+=1,lx}function iy(t,e){const n=new Map;function r(p,_){if(Ge("Object ID:",p.constructor.name),n.has(p))return n.get(p);{const y=iy(p,_);return n.set(p,y),y}}const i=new Map,a={copy_:ci(t),originalObject:ci(t),proxyCount:ED(),modified:!1,assigned_:{},parent:e,target:t};Ge("createChangeProxy called for target",t,a.proxyCount);function l(p){p.modified||(p.modified=!0),p.parent&&(Ge("propagating change to parent"),"updateMap"in p.parent?p.parent.updateMap(p.copy_):"updateSet"in p.parent?p.parent.updateSet(p.copy_):(p.parent.tracker.copy_[p.parent.prop]=p.copy_,p.parent.tracker.assigned_[p.parent.prop]=!0),l(p.parent.tracker))}function c(p){if(Ge("checkIfReverted called with assigned keys:",Object.keys(p.assigned_)),Object.keys(p.assigned_).length===0&&Object.getOwnPropertySymbols(p.assigned_).length===0)return Ge("No assigned properties, returning true"),!0;for(const y in p.assigned_)if(p.assigned_[y]===!0){const v=p.copy_[y],w=p.originalObject[y];if(Ge(`Checking property ${String(y)}, current:`,v,"original:",w),!kr(v,w))return Ge(`Property ${String(y)} is different, returning false`),!1}else if(p.assigned_[y]===!1)return Ge(`Property ${String(y)} was deleted, returning false`),!1;const _=Object.getOwnPropertySymbols(p.assigned_);for(const y of _)if(p.assigned_[y]===!0){const v=p.copy_[y],w=p.originalObject[y];if(!kr(v,w))return Ge("Symbol property is different, returning false"),!1}else if(p.assigned_[y]===!1)return Ge("Symbol property was deleted, returning false"),!1;return Ge("All properties match original values, returning true"),!0}function f(p,_){Ge("checkParentStatus called for child prop:",_);const y=c(p);Ge("Parent checkIfReverted returned:",y),y&&(Ge("Parent is fully reverted, clearing tracking"),p.modified=!1,p.assigned_={},p.parent&&(Ge("Continuing up the parent chain"),f(p.parent.tracker,p.parent.prop)))}function d(p){if(Ge("createObjectProxy",p),i.has(p))return Ge("proxyCache found match"),i.get(p);const _=new Proxy(p,{get(y,v){Ge("get",y,v);const w=a.copy_[v]??a.originalObject[v],C=a.originalObject[v];if(Ge("value (at top of proxy get)",w),Object.getOwnPropertyDescriptor(y,v)?.get)return w;if(typeof w=="function"){if(Array.isArray(y)){const I=v.toString();if(_D.has(I))return ox(w,a,l);const T=wD(I,w,a,r);if(T)return T;if(v===Symbol.iterator)return xD(a,r)}if(y instanceof Map||y instanceof Set){const I=v.toString();if(bD.has(I))return ox(w,a,l);const T=SD(I,v,w,y,a,r,l);if(T)return T}return w.bind(y)}if(ry(w)){const I={tracker:a,prop:String(v)},{proxy:T}=r(C,I);return i.set(w,T),T}return w},set(y,v,w){const C=a.copy_[v];if(Ge(`set called for property ${String(v)}, current:`,C,"new:",w),kr(C,w))Ge("Value unchanged, not tracking");else{const S=a.originalObject[v],I=kr(w,S);if(Ge("value:",w,"original:",S,"isRevertToOriginal:",I),I){Ge(`Reverting property ${String(v)} to original value`),delete a.assigned_[v.toString()],Ge(`Updating copy with original value for ${String(v)}`),a.copy_[v]=ci(S),Ge("Checking if all properties reverted");const T=c(a);Ge("All reverted:",T),T?(Ge("All properties reverted, clearing tracking"),a.modified=!1,a.assigned_={},e&&(Ge("Updating parent for property:",e.prop),f(e.tracker,e.prop))):(Ge("Some properties still changed, keeping modified flag"),a.modified=!0)}else Ge(`Setting new value for property ${String(v)}`),a.copy_[v]=w,a.assigned_[v.toString()]=!0,Ge("Marking object and ancestors as modified",a),l(a)}return!0},defineProperty(y,v,w){const C=Reflect.defineProperty(y,v,w);return C&&"value"in w&&(a.copy_[v]=ci(w.value),a.assigned_[v.toString()]=!0,l(a)),C},getOwnPropertyDescriptor(y,v){return Reflect.getOwnPropertyDescriptor(y,v)},preventExtensions(y){return Reflect.preventExtensions(y)},isExtensible(y){return Reflect.isExtensible(y)},deleteProperty(y,v){Ge("deleteProperty",y,v);const w=typeof v=="symbol"?v.toString():v;if(w in y){const C=w in a.originalObject,S=Reflect.deleteProperty(y,v);return S&&(C?(a.assigned_[w]=!1,l(a)):(delete a.assigned_[w],Object.keys(a.assigned_).length===0&&Object.getOwnPropertySymbols(a.assigned_).length===0?a.modified=!1:a.modified=!0)),S}return!0}});return i.set(p,_),_}return{proxy:d(a.copy_),getChanges:()=>{if(Ge("getChanges called, modified:",a.modified),Ge(a),!a.modified)return Ge("Object not modified, returning empty object"),{};if(typeof a.copy_!="object"||Array.isArray(a.copy_)||Object.keys(a.assigned_).length===0)return a.copy_;const p={};for(const _ in a.copy_)a.assigned_[_]===!0&&_ in a.copy_&&(p[_]=a.copy_[_]);return Ge("Returning copy:",p),p}}}function kD(t){const e=t.map(n=>iy(n));return{proxies:e.map(n=>n.proxy),getChanges:()=>e.map(n=>n.getChanges())}}function CD(t,e){const{proxy:n,getChanges:r}=iy(t);return e(n),r()}function TD(t,e){const{proxies:n,getChanges:r}=kD(t);return e(n),r()}function AD(){let t,e,n=!0;return{promise:new Promise((i,a)=>{t=l=>{n=!1,i(l)},e=l=>{n=!1,a(l)}}),resolve:t,reject:e,isPending:()=>n}}function RD(t){return typeof t=="object"&&t!==null&&typeof t.hasPendingGraphRun=="function"}class OD{constructor(){this.contexts=new Map,this.clearListeners=new Set}getOrCreateContext(e){let n=this.contexts.get(e);return n||(n={queue:[],jobs:new Map,dependencies:new Map,completed:new Set},this.contexts.set(e,n)),n}schedule({contextId:e,jobId:n,dependencies:r,run:i}){if(typeof e>"u"){i();return}const a=this.getOrCreateContext(e);if(a.jobs.has(n)||a.queue.push(n),a.jobs.set(n,i),r){const l=new Set(r);l.delete(n),a.dependencies.set(n,l)}else a.dependencies.has(n)||a.dependencies.set(n,new Set);a.completed.delete(n)}flush(e){const n=this.contexts.get(e);if(!n)return;const{queue:r,jobs:i,dependencies:a,completed:l}=n;for(;r.length>0;){let c=!1;const f=r.length;for(let d=0;d<f;d++){const m=r.shift(),p=i.get(m);if(!p){a.delete(m),l.delete(m);continue}const _=a.get(m);let y=!_;if(_){y=!0;for(const v of _){if(v===m)continue;const w=RD(v)&&v.hasPendingGraphRun(e);if(i.has(v)&&!l.has(v)||!i.has(v)&&w){y=!1;break}}}y?(i.delete(m),a.delete(m),p(),l.add(m),c=!0):r.push(m)}if(!c)throw new Error(`Scheduler detected unresolved dependencies for context ${String(e)}.`)}this.contexts.delete(e)}flushAll(){for(const e of Array.from(this.contexts.keys()))this.flush(e)}clear(e){this.contexts.delete(e),this.clearListeners.forEach(n=>n(e))}onClear(e){return this.clearListeners.add(e),()=>this.clearListeners.delete(e)}hasPendingJobs(e){const n=this.contexts.get(e);return!!n&&n.jobs.size>0}clearJob(e,n){const r=this.contexts.get(e);r&&(r.jobs.delete(n),r.dependencies.delete(n),r.completed.delete(n),r.queue=r.queue.filter(i=>i!==n),r.jobs.size===0&&this.contexts.delete(e))}}const uf=new OD,cf=[];let Ml=[],ID=0;function ND(t,e){switch(`${t.type}-${e.type}`){case"insert-update":return{...t,type:"insert",original:{},modified:e.modified,changes:{...t.changes,...e.changes},key:t.key,globalKey:t.globalKey,metadata:e.metadata??t.metadata,syncMetadata:{...t.syncMetadata,...e.syncMetadata},mutationId:e.mutationId,updatedAt:e.updatedAt};case"insert-delete":return null;case"update-delete":return e;case"update-update":return{...e,original:t.original,changes:{...t.changes,...e.changes},metadata:e.metadata??t.metadata,syncMetadata:{...t.syncMetadata,...e.syncMetadata}};case"delete-delete":case"insert-insert":return e;default:{const n=`${t.type}-${e.type}`;throw new Error(`Unhandled mutation combination: ${n}`)}}}function wc(t){const e=new zD(t);return cf.push(e),e}function Fc(){if(Ml.length>0)return Ml.slice(-1)[0]}function DD(t){uf.clear(t.id),Ml.push(t)}function MD(t){try{uf.flush(t.id)}finally{Ml=Ml.filter(e=>e.id!==t.id)}}function LD(t){const e=cf.findIndex(n=>n.id===t.id);e!==-1&&cf.splice(e,1)}class zD{constructor(e){if(typeof e.mutationFn>"u")throw new T2;this.id=e.id??crypto.randomUUID(),this.mutationFn=e.mutationFn,this.state="pending",this.mutations=[],this.isPersisted=AD(),this.autoCommit=e.autoCommit??!0,this.createdAt=new Date,this.sequenceNumber=ID++,this.metadata=e.metadata??{}}setState(e){this.state=e,(e==="completed"||e==="failed")&&LD(this)}mutate(e){if(this.state!=="pending")throw new A2;DD(this);try{e()}finally{MD(this)}return this.autoCommit&&this.commit().catch(()=>{}),this}applyMutations(e){for(const n of e){const r=this.mutations.findIndex(i=>i.globalKey===n.globalKey);if(r>=0){const i=this.mutations[r],a=ND(i,n);a===null?this.mutations.splice(r,1):this.mutations[r]=a}else this.mutations.push(n)}}rollback(e){const n=e?.isSecondaryRollback??!1;if(this.state==="completed")throw new R2;if(this.setState("failed"),!n){const r=new Set;this.mutations.forEach(i=>r.add(i.globalKey));for(const i of cf)i.state==="pending"&&i.mutations.some(a=>r.has(a.globalKey))&&i.rollback({isSecondaryRollback:!0})}return this.isPersisted.reject(this.error?.error),this.touchCollection(),this}touchCollection(){const e=new Set;for(const n of this.mutations)e.has(n.collection.id)||(n.collection._state.onTransactionStateChange(),n.collection._state.pendingSyncedTransactions.length>0&&n.collection._state.commitPendingTransactions(),e.add(n.collection.id))}async commit(){if(this.state!=="pending")throw new O2;if(this.setState("persisting"),this.mutations.length===0)return this.setState("completed"),this.isPersisted.resolve(this),this;try{await this.mutationFn({transaction:this}),this.setState("completed"),this.touchCollection(),this.isPersisted.resolve(this)}catch(e){const n=e instanceof Error?e:new Error(String(e));throw this.error={message:n.message,error:n},this.rollback(),n}return this}compareCreatedAt(e){const n=this.createdAt.getTime()-e.createdAt.getTime();return n!==0?n:this.sequenceNumber-e.sequenceNumber}}class PD{constructor(e,n){this.insert=(r,i)=>{this.lifecycle.validateCollectionUsable("insert");const a=this.state,l=Fc();if(!l&&!this.config.onInsert)throw new E2;const c=Array.isArray(r)?r:[r],f=[],d=new Set;if(c.forEach(m=>{const p=this.validateData(m,"insert"),_=this.config.getKey(p);if(this.state.has(_)||d.has(_))throw new g2(_);d.add(_);const y=this.generateGlobalKey(_,m),v={mutationId:crypto.randomUUID(),original:{},modified:p,changes:Object.fromEntries(Object.keys(m).map(w=>[w,p[w]])),globalKey:y,key:_,metadata:i?.metadata,syncMetadata:this.config.sync.getSyncMetadata?.()||{},optimistic:i?.optimistic??!0,type:"insert",createdAt:new Date,updatedAt:new Date,collection:this.collection};f.push(v)}),l)return l.applyMutations(f),a.transactions.set(l.id,l),a.scheduleTransactionCleanup(l),a.recomputeOptimisticState(!0),l;{const m=wc({mutationFn:async p=>await this.config.onInsert({transaction:p.transaction,collection:this.collection})});return m.applyMutations(f),m.commit().catch(()=>{}),a.transactions.set(m.id,m),a.scheduleTransactionCleanup(m),a.recomputeOptimisticState(!0),m}},this.delete=(r,i)=>{const a=this.state;this.lifecycle.validateCollectionUsable("delete");const l=Fc();if(!l&&!this.config.onDelete)throw new C2;if(Array.isArray(r)&&r.length===0)throw new x2;const c=Array.isArray(r)?r:[r],f=[];for(const m of c){if(!this.state.has(m))throw new S2(m);const p=this.generateGlobalKey(m,this.state.get(m)),_={mutationId:crypto.randomUUID(),original:this.state.get(m),modified:this.state.get(m),changes:this.state.get(m),globalKey:p,key:m,metadata:i?.metadata,syncMetadata:a.syncedMetadata.get(m)||{},optimistic:i?.optimistic??!0,type:"delete",createdAt:new Date,updatedAt:new Date,collection:this.collection};f.push(_)}if(l)return l.applyMutations(f),a.transactions.set(l.id,l),a.scheduleTransactionCleanup(l),a.recomputeOptimisticState(!0),l;const d=wc({autoCommit:!0,mutationFn:async m=>this.config.onDelete({transaction:m.transaction,collection:this.collection})});return d.applyMutations(f),d.commit().catch(()=>{}),a.transactions.set(d.id,d),a.scheduleTransactionCleanup(d),a.recomputeOptimisticState(!0),d},this.id=n,this.config=e}setDeps(e){this.lifecycle=e.lifecycle,this.state=e.state,this.collection=e.collection}ensureStandardSchema(e){if(e&&"~standard"in e)return e;throw new u2}validateData(e,n,r){if(!this.config.schema)return e;const i=this.ensureStandardSchema(this.config.schema);if(n==="update"&&r){const l=this.state.get(r);if(l&&e&&typeof e=="object"&&typeof l=="object"){const c=Object.assign({},l,e),f=i["~standard"].validate(c);if(f instanceof Promise)throw new jw;if("issues"in f&&f.issues){const _=f.issues.map(y=>({message:y.message,path:y.path?.map(v=>String(v))}));throw new Pw(n,_)}const d=f.value,m=Object.keys(e);return Object.fromEntries(m.map(_=>[_,d[_]]))}}const a=i["~standard"].validate(e);if(a instanceof Promise)throw new jw;if("issues"in a&&a.issues){const l=a.issues.map(c=>({message:c.message,path:c.path?.map(f=>String(f))}));throw new Pw(n,l)}return a.value}generateGlobalKey(e,n){if(typeof e!="string"&&typeof e!="number")throw typeof e>"u"?new p2(n):new m2(e,n);return`KEY::${this.id}/${e}`}update(e,n,r){if(typeof e>"u")throw new _2;const i=this.state;this.lifecycle.validateCollectionUsable("update");const a=Fc();if(!a&&!this.config.onUpdate)throw new k2;const l=Array.isArray(e),c=l?e:[e];if(l&&c.length===0)throw new b2;const f=typeof n=="function"?n:r,d=typeof n=="function"?{}:n,m=c.map(v=>{const w=this.state.get(v);if(!w)throw new v2(v);return w});let p;l?p=TD(m,f):p=[CD(m[0],f)];const _=c.map((v,w)=>{const C=p[w];if(!C||Object.keys(C).length===0)return null;const S=m[w],I=this.validateData(C,"update",v),T=Object.assign({},S,I),L=this.config.getKey(S),z=this.config.getKey(T);if(L!==z)throw new w2(L,z);const E=this.generateGlobalKey(z,T);return{mutationId:crypto.randomUUID(),original:S,modified:T,changes:Object.fromEntries(Object.keys(C).map(M=>[M,T[M]])),globalKey:E,key:v,metadata:d.metadata,syncMetadata:i.syncedMetadata.get(v)||{},optimistic:d.optimistic??!0,type:"update",createdAt:new Date,updatedAt:new Date,collection:this.collection}}).filter(Boolean);if(_.length===0){const v=wc({mutationFn:async()=>{}});return v.commit().catch(()=>{}),i.scheduleTransactionCleanup(v),v}if(a)return a.applyMutations(_),i.transactions.set(a.id,a),i.scheduleTransactionCleanup(a),i.recomputeOptimisticState(!0),a;const y=wc({mutationFn:async v=>this.config.onUpdate({transaction:v.transaction,collection:this.collection})});return y.applyMutations(_),y.commit().catch(()=>{}),i.transactions.set(y.id,y),i.scheduleTransactionCleanup(y),i.recomputeOptimisticState(!0),y}}class jD extends Z1{constructor(){super()}setDeps(e){this.collection=e.collection}emit(e,n){this.emitInner(e,n)}emitStatusChange(e,n){this.emit("status:change",{type:"status:change",collection:this.collection,previousStatus:n,status:e});const r=`status:${e}`;this.emit(r,{type:r,collection:this.collection,previousStatus:n,status:e})}emitSubscribersChange(e,n){this.emit("subscribers:change",{type:"subscribers:change",collection:this.collection,previousSubscriberCount:n,subscriberCount:e})}cleanup(){this.clearListeners()}}function J1(t){const e=new sy(t);return t.utils?e.utils=t.utils:e.utils={},e}class sy{constructor(e){if(this.utils={},this.insert=(n,r)=>this._mutations.insert(n,r),this.delete=(n,r)=>this._mutations.delete(n,r),!e)throw new o2;if(!e.sync)throw new l2;e.id?this.id=e.id:this.id=crypto.randomUUID(),this.config={...e,autoIndex:e.autoIndex??"eager"},this._changes=new sD,this._events=new jD,this._indexes=new mD,this._lifecycle=new uD(e,this.id),this._mutations=new PD(e,this.id),this._state=new nD(e),this._sync=new cD(e,this.id),this.comparisonOpts=BD(e),this._changes.setDeps({collection:this,lifecycle:this._lifecycle,sync:this._sync,events:this._events}),this._events.setDeps({collection:this}),this._indexes.setDeps({state:this._state,lifecycle:this._lifecycle}),this._lifecycle.setDeps({changes:this._changes,events:this._events,indexes:this._indexes,state:this._state,sync:this._sync}),this._mutations.setDeps({collection:this,lifecycle:this._lifecycle,state:this._state}),this._state.setDeps({collection:this,lifecycle:this._lifecycle,changes:this._changes,indexes:this._indexes,events:this._events}),this._sync.setDeps({collection:this,state:this._state,lifecycle:this._lifecycle,events:this._events}),e.startSync===!0&&this._sync.startSync()}get status(){return this._lifecycle.status}get subscriberCount(){return this._changes.activeSubscribersCount}onFirstReady(e){return this._lifecycle.onFirstReady(e)}isReady(){return this._lifecycle.status==="ready"}get isLoadingSubset(){return this._sync.isLoadingSubset}startSyncImmediate(){this._sync.startSync()}preload(){return this._sync.preload()}get(e){return this._state.get(e)}has(e){return this._state.has(e)}get size(){return this._state.size}*keys(){yield*this._state.keys()}*values(){yield*this._state.values()}*entries(){yield*this._state.entries()}*[Symbol.iterator](){yield*this._state[Symbol.iterator]()}forEach(e){return this._state.forEach(e)}map(e){return this._state.map(e)}getKeyFromItem(e){return this.config.getKey(e)}createIndex(e,n={}){return this._indexes.createIndex(e,n)}get indexes(){return this._indexes.indexes}validateData(e,n,r){return this._mutations.validateData(e,n,r)}get compareOptions(){return{...this.comparisonOpts}}update(e,n,r){return this._mutations.update(e,n,r)}get state(){const e=new Map;for(const[n,r]of this.entries())e.set(n,r);return e}stateWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.state):this.preload().then(()=>this.state)}get toArray(){return Array.from(this.values())}toArrayWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.toArray):this.preload().then(()=>this.toArray)}currentStateAsChanges(e={}){return WN(this,e)}subscribeChanges(e,n={}){return this._changes.subscribeChanges(e,n)}on(e,n){return this._events.on(e,n)}once(e,n){return this._events.once(e,n)}off(e,n){this._events.off(e,n)}waitFor(e,n){return this._events.waitFor(e,n)}async cleanup(){return this._lifecycle.cleanup(),Promise.resolve()}}function BD(t){if(t.defaultStringCollation){const e=t.defaultStringCollation;return{stringSort:e.stringSort??"locale",locale:e.stringSort==="locale"?e.locale:void 0,localeOptions:e.stringSort==="locale"?e.localeOptions:void 0}}else return{stringSort:"locale"}}class jt{constructor(e={}){this.query={},this.query={...e}}_createRefForSource(e,n){let r;try{r=Object.keys(e)}catch{const c=e===null?"null":"undefined";throw new bc(n,c)}if(Array.isArray(e))throw new bc(n,"array");if(r.length!==1)throw r.length===0?new bc(n,"empty object"):r.every(c=>!isNaN(Number(c)))?new bc(n,"string"):new D2(n);const i=r[0],a=e[i];let l;if(a instanceof sy)l=new Fa(a,i);else if(a instanceof jt){const c=a._getQuery();if(!c.from)throw new M2(n);l=new gr(c,i)}else throw new L2(i);return[i,l]}from(e){const[,n]=this._createRefForSource(e,"from clause");return new jt({...this.query,from:n})}join(e,n,r="left"){const[i,a]=this._createRefForSource(e,"join clause"),c=[...this._getCurrentAliases(),i],f=xa(c),d=n(f);let m,p;if(d.type==="func"&&d.name==="eq"&&d.args.length===2)m=d.args[0],p=d.args[1];else throw new z2;const _={from:a,type:r,left:m,right:p},y=this.query.join||[];return new jt({...this.query,join:[...y,_]})}leftJoin(e,n){return this.join(e,n,"left")}rightJoin(e,n){return this.join(e,n,"right")}innerJoin(e,n){return this.join(e,n,"inner")}fullJoin(e,n){return this.join(e,n,"full")}where(e){const n=this._getCurrentAliases(),r=xa(n),i=e(r),a=this.query.where||[];return new jt({...this.query,where:[...a,i]})}having(e){const n=this._getCurrentAliases(),r=xa(n),i=e(r),a=this.query.having||[];return new jt({...this.query,having:[...a,i]})}select(e){const n=this._getCurrentAliases(),r=xa(n),i=e(r),a=Y1(i);return new jt({...this.query,select:a,fnSelect:void 0})}orderBy(e,n="asc"){const r=this._getCurrentAliases(),i=xa(r),a=e(i),l=typeof n=="string"?{direction:n,nulls:"first"}:{direction:n.direction??"asc",nulls:n.nulls??"first",stringSort:n.stringSort,locale:n.stringSort==="locale"?n.locale:void 0,localeOptions:n.stringSort==="locale"?n.localeOptions:void 0},c=m=>({expression:Yt(m),compareOptions:l}),f=Array.isArray(a)?a.map(m=>c(m)):[c(a)],d=this.query.orderBy||[];return new jt({...this.query,orderBy:[...d,...f]})}groupBy(e){const n=this._getCurrentAliases(),r=xa(n),i=e(r),a=Array.isArray(i)?i.map(c=>Yt(c)):[Yt(i)],l=this.query.groupBy||[];return new jt({...this.query,groupBy:[...l,...a]})}limit(e){return new jt({...this.query,limit:e})}offset(e){return new jt({...this.query,offset:e})}distinct(){return new jt({...this.query,distinct:!0})}findOne(){return new jt({...this.query,singleResult:!0})}_getCurrentAliases(){const e=[];if(this.query.from&&e.push(this.query.from.alias),this.query.join)for(const n of this.query.join)e.push(n.from.alias);return e}get fn(){const e=this;return{select(n){return new jt({...e.query,select:void 0,fnSelect:n})},where(n){return new jt({...e.query,fnWhere:[...e.query.fnWhere||[],n]})},having(n){return new jt({...e.query,fnHaving:[...e.query.fnHaving||[],n]})}}}_getQuery(){if(!this.query.from)throw new P2;return this.query}}function UD(t){return t===void 0?Yt(null):t instanceof U1||t instanceof _r||t instanceof kn||t instanceof jn?t:Yt(t)}function $D(t){return t!==null&&typeof t=="object"&&!Gg(t)&&!t.__refProxy}function Y1(t){if(!$D(t))return UD(t);const e={};for(const[n,r]of Object.entries(t)){if(typeof n=="string"&&n.startsWith("__SPREAD_SENTINEL__")){e[n]=r;continue}e[n]=Y1(r)}return e}function qD(t){const e=t(new jt);return X1(e)}function X1(t){return t._getQuery()}function FD(t){const e=VD(t);let n=t,r,i=0;const a=10;for(;i<a&&!kr(n,r);)r=n,n=Vm(n),i++;return{optimizedQuery:W1(n),sourceWhereClauses:e}}function VD(t){const e=new Map;if(!t.where||t.where.length===0)return e;const r=Gm(t.where).map(a=>eE(a)),i=tE(r);for(const[a,l]of i.singleSource)HD(t,a)&&e.set(a,l);return e}function HD(t,e){if(t.from.alias===e)return t.from.type==="collectionRef";if(t.join){for(const n of t.join)if(n.from.alias===e)return n.from.type==="collectionRef"}return!1}function Vm(t){const e={...t,from:t.from.type==="queryRef"?new gr(Vm(t.from.query),t.from.alias):t.from,join:t.join?.map(n=>({...n,from:n.from.type==="queryRef"?new gr(Vm(n.from.query),n.from.alias):n.from}))};return GD(e)}function GD(t){if(!t.where||t.where.length===0)return t;if(!t.join||t.join.length===0){if(t.where.length>1){const c=Gm(t.where),f=ff(c);return{...t,where:[f]}}return t}const e=t.where.filter(c=>!zw(c)),r=Gm(e).map(c=>eE(c)),i=tE(r),a=ZD(t,i),l=t.where.filter(c=>zw(c));return l.length>0&&(a.where=[...a.where||[],...l]),a}function W1(t){return{...t,from:Hm(t.from),join:t.join?.map(e=>({...e,from:Hm(e.from)}))}}function Hm(t){if(t.type==="collectionRef")return t;const e=W1(t.query);if(KD(e)){const n=Hm(e.from);return n.type==="collectionRef"?new Fa(n.collection,t.alias):new gr(n.query,t.alias)}return new gr(e,t.alias)}function KD(t){return(!t.where||t.where.length===0)&&!t.select&&(!t.groupBy||t.groupBy.length===0)&&(!t.having||t.having.length===0)&&(!t.orderBy||t.orderBy.length===0)&&(!t.join||t.join.length===0)&&t.limit===void 0&&t.offset===void 0&&!t.fnSelect&&(!t.fnWhere||t.fnWhere.length===0)&&(!t.fnHaving||t.fnHaving.length===0)}function Gm(t){const e=[];for(const n of t){const r=Kg(n);e.push(...ay(r))}return e}function ay(t){if(t.type==="func"&&t.name==="and"){const e=[];for(const n of t.args)e.push(...ay(n));return e}else return[t]}function eE(t){const e=new Set;let n=!1;function r(i){switch(i.type){case"ref":if(i.path&&i.path.length>0){const a=i.path[0];a&&(e.add(a),i.path.length===1&&(n=!0))}break;case"func":i.args&&i.args.forEach(r);break;case"val":break;case"agg":i.args&&i.args.forEach(r);break}}return r(t),{expression:t,touchedSources:e,hasNamespaceOnlyRef:n}}function tE(t){const e=new Map,n=[];for(const a of t)if(a.touchedSources.size===1&&!a.hasNamespaceOnlyRef){const l=Array.from(a.touchedSources)[0];e.has(l)||e.set(l,[]),e.get(l).push(a.expression)}else(a.touchedSources.size>1||a.hasNamespaceOnlyRef)&&n.push(a.expression);const r=new Map;for(const[a,l]of e)r.set(a,ff(l));const i=n.length>0?ff(n):void 0;return{singleSource:r,multiSource:i}}function ZD(t,e){const n=new Set,r=ux(t.from,e.singleSource,n),i=t.join?t.join.map(d=>({...d,from:ux(d.from,e.singleSource,n)})):void 0,a=[];e.multiSource&&a.push(e.multiSource);const l=t.join&&t.join.some(d=>d.type==="left"||d.type==="right"||d.type==="full");for(const[d,m]of e.singleSource)n.has(d)?l&&a.push(s2(m)):a.push(m);const c=a.length>1?[ff(a.flatMap(d=>ay(Kg(d))))]:a;return{select:t.select,groupBy:t.groupBy?[...t.groupBy]:void 0,having:t.having?[...t.having]:void 0,orderBy:t.orderBy?[...t.orderBy]:void 0,limit:t.limit,offset:t.offset,distinct:t.distinct,fnSelect:t.fnSelect,fnWhere:t.fnWhere?[...t.fnWhere]:void 0,fnHaving:t.fnHaving?[...t.fnHaving]:void 0,from:r,join:i,where:c.length>0?c:[]}}function Da(t){return{from:t.from.type==="collectionRef"?new Fa(t.from.collection,t.from.alias):new gr(Da(t.from.query),t.from.alias),select:t.select,join:t.join?t.join.map(e=>({type:e.type,left:e.left,right:e.right,from:e.from.type==="collectionRef"?new Fa(e.from.collection,e.from.alias):new gr(Da(e.from.query),e.from.alias)})):void 0,where:t.where?[...t.where]:void 0,groupBy:t.groupBy?[...t.groupBy]:void 0,having:t.having?[...t.having]:void 0,orderBy:t.orderBy?[...t.orderBy]:void 0,limit:t.limit,offset:t.offset,fnSelect:t.fnSelect,fnWhere:t.fnWhere?[...t.fnWhere]:void 0,fnHaving:t.fnHaving?[...t.fnHaving]:void 0}}function ux(t,e,n){const r=e.get(t.alias);if(!r)return t.type==="collectionRef"?new Fa(t.collection,t.alias):new gr(Da(t.query),t.alias);if(t.type==="collectionRef"){const l={from:new Fa(t.collection,t.alias),where:[r]};return n.add(t.alias),new gr(l,t.alias)}if(!eM(t.query,r,t.alias))return new gr(Da(t.query),t.alias);if(nM(t.query,r,t.alias))return new gr(Da(t.query),t.alias);const i=t.query.where||[],a={...Da(t.query),where:[...i,r]};return n.add(t.alias),new gr(a,t.alias)}function QD(t,e,n){return t.select?nE(t.select)||tM(t.select,e,n):!1}function JD(t){return t.groupBy&&t.groupBy.length>0}function YD(t){return t.having&&t.having.length>0}function XD(t){return t.orderBy&&t.orderBy.length>0&&(t.limit!==void 0||t.offset!==void 0)}function WD(t){return t.fnSelect||t.fnWhere&&t.fnWhere.length>0||t.fnHaving&&t.fnHaving.length>0}function eM(t,e,n){return!(QD(t,e,n)||JD(t)||YD(t)||XD(t)||WD(t))}function nE(t){for(const e of Object.values(t))if(typeof e=="object"){const n=e;if(n.type==="agg"||!("type"in n)&&nE(n))return!0}return!1}function oy(t){const e=[];if(t==null||typeof t!="object")return e;switch(t.type){case"ref":e.push(t);break;case"func":case"agg":for(const n of t.args??[])e.push(...oy(n));break}return e}function tM(t,e,n){const r=new Set;for(const[a,l]of Object.entries(t))a.startsWith("__SPREAD_SENTINEL__")||l instanceof kn||r.add(a);const i=oy(e);for(const a of i){const l=a.path;if(!Array.isArray(l)||l.length<2)continue;const c=l[0],f=l[1];if(c===n&&r.has(f))return!0}return!1}function nM(t,e,n){const r=oy(e);if(r.every(a=>a.path[0]!==n))return!1;if(t.fnSelect)return!0;const i=t.select;if(!i)return!1;for(const a of r){const l=a.path;if(l.length<2||l[0]!==n)continue;const c=i[l[1]];if(!c)continue;if(!(c instanceof kn)||c.path.length<2)return!0;const[f,d]=c.path;if(f!==n&&f!==t.from.alias||d!==l[1])return!0}return!1}function ff(t){if(t.length===0)throw new iI;return t.length===1?t[0]:new _r("and",t)}function rM(t,e,n,r,i,a,l,c,f,d,m,p,_,y,v,w,C,S){let I=t;for(const T of e)I=iM(I,T,n,r,i,a,l,c,f,d,m,p,_,y,v,w,C,S);return I}function iM(t,e,n,r,i,a,l,c,f,d,m,p,_,y,v,w,C,S){const I=e.from.type==="collectionRef",{alias:T,input:L,collectionId:z}=aM(e.from,a,f,d,m,p,_,y,l,c,w,C,S);n[T]=L,I&&(C[T]=z);const E=f[r],M=f[z];if(!E)throw new $w(r);if(!M)throw new $w(z);const{activeSource:$,lazySource:q}=lM(e.type,E,M),P=Object.keys(n),{mainExpr:K,joinedExpr:ie}=sM(e.left,e.right,P,T),ge=Bn(K),he=Bn(ie);let re=t.pipe(Sn(([te,de])=>[ge(de),[te,de]])),F=L.pipe(Sn(([te,de])=>{const fe={[T]:de};return[he(fe),[te,fe]]}));if(!["inner","left","right","full"].includes(e.type))throw new G2(e.type);if($){const te=$==="main"?e.from:v.from,de=te.type==="queryRef"&&(te.query.limit||te.query.offset),fe=K.type==="func"||ie.type==="func";if(!de&&!fe){const k=$==="main"?T:i;p.add(k);const N=$==="main"?re:F,A=Il(v,$==="main"?ie:K,q),W=A.collection,ee=A.path[0];ee&&Gf(ee,A.path,W);const ue=N.pipe(mN(oe=>{const _e=S[k]||k,ye=d[_e];if(!ye)throw new sI(_e,k,q.id,Object.keys(d));if(ye.hasLoadedInitialState())return;const Ke=oe.getInner().map(([[ft]])=>ft),We=new kn(A.path);ye.requestSnapshot({where:$N(We,Ke),optimizedOnly:!0})||ye.requestSnapshot()}));$==="main"?re=ue:F=ue}}return re.pipe(xN(F,e.type),oM(e.type))}function sM(t,e,n,r){const i=n.filter(c=>c!==r),a=Km(t),l=Km(e);if(a&&i.includes(a)&&l===r)return{mainExpr:t,joinedExpr:e};if(a===r&&l&&i.includes(l))return{mainExpr:e,joinedExpr:t};throw!a||!l?new Z2:a===l?new K2(a):i.includes(a)?l!==r?new J2(r):new Y2:new Q2(a)}function Km(t){switch(t.type){case"ref":return t.path[0]||null;case"func":{const e=new Set;for(const n of t.args){const r=Km(n);r&&e.add(r)}return e.size===1?Array.from(e)[0]:null}default:return null}}function aM(t,e,n,r,i,a,l,c,f,d,m,p,_){switch(t.type){case"collectionRef":{const y=e[t.alias];if(!y)throw new $1(t.alias,t.collection.id,Object.keys(e));return p[t.alias]=t.collection.id,{alias:t.alias,input:y,collectionId:t.collection.id}}case"queryRef":{const y=d.get(t.query)||t.query,v=m(y,e,n,r,i,a,l,c,f,d);Object.assign(p,v.aliasToCollectionId),Object.assign(_,v.aliasRemapping);const w=Object.keys(v.aliasToCollectionId).find(I=>v.aliasToCollectionId[I]===v.collectionId);w&&w!==t.alias&&(_[t.alias]=w);const S=v.pipeline.pipe(Sn(I=>{const[T,[L,z]]=I;return[T,L]}));return{alias:t.alias,input:S,collectionId:v.collectionId}}default:throw new X2(t.type)}}function oM(t){return function(e){return e.pipe(Vi(n=>{const[r,[i,a]]=n,l=i?.[1],c=a?.[1];return t==="inner"?!!(l&&c):t==="left"?!!l:t==="right"?!!c:!0}),Sn(n=>{const[r,[i,a]]=n,l=i?.[0],c=i?.[1],f=a?.[0],d=a?.[1],m={};return c&&Object.assign(m,c),d&&Object.assign(m,d),[`[${l},${f}]`,m]}))}}function lM(t,e,n){switch(t){case"left":return{activeSource:"main",lazySource:n};case"right":return{activeSource:"joined",lazySource:e};case"inner":return e.size<n.size?{activeSource:"main",lazySource:n}:{activeSource:"joined",lazySource:e};default:return{activeSource:void 0,lazySource:void 0}}}function Zm(t){return t instanceof jn?t.value:t}function uM(t,e,n){const r=t.source(e);if(r&&typeof r=="object"){let i=n;const a=t.targetPath;if(a.length===0)for(const[l,c]of Object.entries(r))n[l]=Zm(c);else for(let l=0;l<a.length;l++){const c=a[l];if(l===a.length-1){const f=i[c]??={};if(typeof f=="object")for(const[d,m]of Object.entries(r))f[d]=Zm(m)}else{const f=i[c];(f==null||typeof f!="object")&&(i[c]={}),i=i[c]}}}}function cM(t,e,n){const r=t.alias.split(".");if(r.length===1)n[t.alias]=t.compiled(e);else{let i=n;for(let a=0;a<r.length-1;a++){const l=r[a],c=i[l];(c==null||typeof c!="object")&&(i[l]={}),i=i[l]}i[r[r.length-1]]=Zm(t.compiled(e))}}function fM([t,e],n){const r={};for(const i of n)i.kind==="merge"?uM(i,e,r):cM(i,e,r);return[t,{...e,__select_results:r}]}function hM(t,e,n){const r=[];return rE([],e,r),t.pipe(Sn(i=>fM(i,r)))}function dM(t){return t.type==="agg"}function pM(t){return t&&typeof t=="object"&&!Gg(t)}function rE(t,e,n){for(const[r,i]of Object.entries(e)){if(r.startsWith("__SPREAD_SENTINEL__")){const l=r.slice(19),c=l.lastIndexOf("__"),f=c>=0?l.slice(0,c):l,d=i&&typeof i=="object"&&"type"in i&&i.type==="ref";if(f.includes(".")||d){const m=[...t],p=d?i:new kn(f.split(".")),_=Bn(p);n.push({kind:"merge",targetPath:m,source:_})}else{const m=f,p=[...t];n.push({kind:"merge",targetPath:p,source:_=>_[m]})}continue}const a=i;if(pM(a)){rE([...t,r],a,n);continue}if(dM(a))n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>null});else{if(a===void 0||!Gg(a)){n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>a});continue}if(a instanceof jn){const l=a.value;n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>l})}else n.push({kind:"field",alias:[...t,r].join("."),compiled:Bn(a)})}}}function ly(t,e,n,r,i,a,l,c,f=new WeakMap,d=new WeakMap){const m=f.get(t);if(m)return m;Qm(t);const{optimizedQuery:p,sourceWhereClauses:_}=FD(t);d.set(p,t),Ym(p,t,d);const y={...e},v={},w={},C={},{alias:S,input:I,collectionId:T}=gM(p.from,y,n,r,i,a,l,c,f,d,v,w);C[S]=I;let L=I.pipe(Sn(([$,q])=>[$,{[S]:q}]));if(p.join&&p.join.length>0&&(L=rM(L,p.join,C,T,S,y,f,d,n,r,i,a,l,c,t,ly,v,w)),p.where&&p.where.length>0)for(const $ of p.where){const q=Kg($),P=Bn(q);L=L.pipe(Vi(([K,ie])=>Pa(P(ie))))}if(p.fnWhere&&p.fnWhere.length>0)for(const $ of p.fnWhere)L=L.pipe(Vi(([q,P])=>Pa($(P))));if(p.distinct&&!p.fnSelect&&!p.select)throw new j2;if(p.fnSelect?L=L.pipe(Sn(([$,q])=>{const P=p.fnSelect(q);return[$,{...q,__select_results:P}]})):p.select?L=hM(L,p.select):L=L.pipe(Sn(([$,q])=>{const P=!p.join&&!p.groupBy?q[S]:q;return[$,{...q,__select_results:P}]})),p.groupBy&&p.groupBy.length>0?L=rx(L,p.groupBy,p.having,p.select,p.fnHaving):p.select&&Object.values(p.select).some(q=>q.type==="agg")&&(L=rx(L,[],p.having,p.select,p.fnHaving)),p.having&&(!p.groupBy||p.groupBy.length===0)&&!(p.select?Object.values(p.select).some(q=>q.type==="agg"):!1))throw new B2;if(p.fnHaving&&p.fnHaving.length>0&&(!p.groupBy||p.groupBy.length===0))for(const $ of p.fnHaving)L=L.pipe(Vi(([q,P])=>$(P)));if(p.distinct&&(L=L.pipe(EN(([$,q])=>q.__select_results))),p.orderBy&&p.orderBy.length>0){const P=XN(t,L,p.orderBy,p.select||{},n[T],l,c,p.limit,p.offset).pipe(Sn(([ie,[ge,he]])=>{const re=ge.__select_results,F=Jm(re);return[ie,[F,he]]})),K={collectionId:T,pipeline:P,sourceWhereClauses:_,aliasToCollectionId:v,aliasRemapping:w};return f.set(t,K),K}else if(p.limit!==void 0||p.offset!==void 0)throw new U2;const E=L.pipe(Sn(([$,q])=>{const P=q.__select_results,K=Jm(P);return[$,[K,void 0]]})),M={collectionId:T,pipeline:E,sourceWhereClauses:_,aliasToCollectionId:v,aliasRemapping:w};return f.set(t,M),M}function mM(t){const e=new Set;if(t.from.type==="collectionRef"&&e.add(t.from.alias),t.join)for(const n of t.join)n.from.type==="collectionRef"&&e.add(n.from.alias);return e}function Qm(t,e=new Set){const n=mM(t);for(const i of n)if(e.has(i))throw new $2(i,Array.from(e));const r=new Set([...e,...n]);if(t.from.type==="queryRef"&&Qm(t.from.query,r),t.join)for(const i of t.join)i.from.type==="queryRef"&&Qm(i.from.query,r)}function gM(t,e,n,r,i,a,l,c,f,d,m,p){switch(t.type){case"collectionRef":{const _=e[t.alias];if(!_)throw new $1(t.alias,t.collection.id,Object.keys(e));return m[t.alias]=t.collection.id,{alias:t.alias,input:_,collectionId:t.collection.id}}case"queryRef":{const _=d.get(t.query)||t.query,y=ly(_,e,n,r,i,a,l,c,f,d);Object.assign(m,y.aliasToCollectionId),Object.assign(p,y.aliasRemapping);const v=Object.keys(y.aliasToCollectionId).find(S=>y.aliasToCollectionId[S]===y.collectionId);v&&v!==t.alias&&(p[t.alias]=v);const C=y.pipeline.pipe(Sn(S=>{const[I,[T,L]]=S,z=Jm(T);return[I,z]}));return{alias:t.alias,input:C,collectionId:y.collectionId}}default:throw new q2(t.type)}}function yM(t){return t instanceof jn||t&&typeof t=="object"&&"type"in t&&t.type==="val"}function Jm(t){return yM(t)?t.value:t}function Ym(t,e,n){if(t.from.type==="queryRef"&&e.from.type==="queryRef"&&(n.set(t.from.query,e.from.query),Ym(t.from.query,e.from.query,n)),t.join&&e.join)for(let r=0;r<t.join.length&&r<e.join.length;r++){const i=t.join[r],a=e.join[r];i.from.type==="queryRef"&&a.from.type==="queryRef"&&(n.set(i.from.query,a.from.query),Ym(i.from.query,a.from.query,n))}}function uy(t,e){const n=t.type;if(n==="val")return new jn(t.value);if(n==="ref"){const r=t.path;if(Array.isArray(r)){if(r[0]===e&&r.length>1)return new kn(r.slice(1));if(r.length===1&&r[0]!==void 0)return new kn([r[0]])}return new kn(Array.isArray(r)?r:[String(r)])}else{const r=[];for(const i of t.args){const a=uy(i,e);r.push(a)}return new _r(t.name,r)}}function cx(t,e){return t.map(r=>{const i=uy(r.expression,e);return{...r,expression:i}})}const fx=Symbol.for("@tanstack/db.collection-config-builder");class _M{constructor(e,n,r,i){this.alias=e,this.collectionId=n,this.collection=r,this.collectionConfigBuilder=i,this.biggest=void 0,this.subscriptionLoadingPromises=new Map,this.sentToD2Keys=new Set}subscribe(){const e=this.getWhereClauseForAlias();if(e){const n=uy(e,this.alias);return this.subscribeToChanges(n)}return this.subscribeToChanges()}subscribeToChanges(e){let n;const r=this.getOrderByInfo();if(r)n=this.subscribeToOrderedChanges(e,r);else{const c=!this.collectionConfigBuilder.isLazyAlias(this.alias);n=this.subscribeToMatchingChanges(e,c)}const i=()=>{if(!this.subscriptionLoadingPromises.has(n)){let c;const f=new Promise(d=>{c=d});this.subscriptionLoadingPromises.set(n,{resolve:c}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(f)}};n.status==="loadingSubset"&&i();const a=n.on("status:change",c=>{if(c.status==="loadingSubset")i();else{const f=this.subscriptionLoadingPromises.get(n);f&&(this.subscriptionLoadingPromises.delete(n),f.resolve())}}),l=()=>{const c=this.subscriptionLoadingPromises.get(n);c&&(this.subscriptionLoadingPromises.delete(n),c.resolve()),a(),n.unsubscribe()};return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(l),n}sendChangesToPipeline(e,n){const r=Array.isArray(e)?e:[...e],i=[];for(const f of r){if(f.type==="insert"){if(this.sentToD2Keys.has(f.key))continue;this.sentToD2Keys.add(f.key)}else f.type==="delete"&&this.sentToD2Keys.delete(f.key);i.push(f)}const a=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],c=bM(a,i,this.collection.config.getKey)>0?n:void 0;this.collectionConfigBuilder.scheduleGraphRun(c,{alias:this.alias})}subscribeToMatchingChanges(e,n=!1){const r=a=>{this.sendChangesToPipeline(a)};return this.collection.subscribeChanges(r,{...n&&{includeInitialState:n},whereExpression:e})}subscribeToOrderedChanges(e,n){const{orderBy:r,offset:i,limit:a,index:l}=n,c=p=>{const _=vM(p);this.sendChangesToPipelineWithTracking(_,f)},f=this.collection.subscribeChanges(c,{whereExpression:e}),d=this.collection.on("truncate",()=>{this.biggest=void 0,this.sentToD2Keys.clear()});f.on("unsubscribed",()=>{d()});const m=cx(r,this.alias);return l?(f.setOrderByIndex(l),f.requestLimitedSnapshot({limit:i+a,orderBy:m})):f.requestSnapshot({orderBy:m,limit:i+a}),f}loadMoreIfNeeded(e){const n=this.getOrderByInfo();if(!n)return!0;const{dataNeeded:r}=n;if(!r)return!0;const i=r();return i>0&&this.loadNextItems(i,e),!0}sendChangesToPipelineWithTracking(e,n){const r=this.getOrderByInfo();if(!r){this.sendChangesToPipeline(e);return}const i=this.trackSentValues(e,r.comparator),a=n;a[fx]??=this.loadMoreIfNeeded.bind(this,n),this.sendChangesToPipeline(i,a[fx])}loadNextItems(e,n){const r=this.getOrderByInfo();if(!r)return;const{orderBy:i,valueExtractorForRawRow:a,offset:l}=r,c=this.biggest,f=c?a(c):void 0,d=f!==void 0?Array.isArray(f)?f:[f]:void 0,m=cx(i,this.alias);n.requestLimitedSnapshot({orderBy:m,limit:e,minValues:d,offset:l})}getWhereClauseForAlias(){const e=this.collectionConfigBuilder.sourceWhereClausesCache;if(e)return e.get(this.alias)}getOrderByInfo(){const e=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(e&&e.alias===this.alias)return e}*trackSentValues(e,n){for(const r of e)r.type!=="delete"&&(this.biggest?n(this.biggest,r.value)<0&&(this.biggest=r.value):this.biggest=r.value),yield r}}function bM(t,e,n){const r=[];for(const i of e){const a=n(i.value);i.type==="insert"?r.push([[a,i.value],1]):i.type==="update"?(r.push([[a,i.previousValue],-1]),r.push([[a,i.value],1])):r.push([[a,i.value],-1])}return r.length!==0&&t.sendData(new Bt(r)),r.length}function*vM(t){for(const e of t)e.type==="update"?(yield{type:"delete",key:e.key,value:e.previousValue},yield{type:"insert",key:e.key,value:e.value}):yield e}const iE=new WeakMap;function wM(t){return t.utils?.[ny]?.getBuilder?.()}function xM(t,e){iE.set(t,e)}function SM(t){return iE.get(t)}let EM=0;class kM{constructor(e){this.config=e,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=e.id||`live-query-${++EM}`,this.query=CM(e),this.collections=AM(this.query);const n=RM(this.query);this.collectionByAlias={};for(const[r,i]of n.entries()){const a=this.collections[r];if(a)for(const l of i)this.collectionByAlias[l]=a}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=TM(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??sE(this.query).compareOptions,this.compileBasePipeline()}hasJoins(e){return!!(e.join&&e.join.length>0||e.from.type==="queryRef"&&this.hasJoins(e.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(e=>this.resultKeys.get(e)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[ny]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(e){if(!this.windowFn)throw new oI;return this.currentWindow=e,this.windowFn(e),this.maybeRunGraphFn?.(),this.liveQueryCollection?.isLoadingSubset?new Promise(n=>{const r=this.liveQueryCollection.on("loadingSubset:change",i=>{i.isLoadingSubset||(r(),n())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(e){const n=this.compiledAliasToCollectionId[e];if(n)return n;const r=this.collectionByAlias[e];if(r)return r.id;throw new Error(`Unknown source alias "${e}"`)}isLazyAlias(e){return this.lazySources.has(e)}maybeRunGraph(e){if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("maybeRunGraph called without active sync session. This should not happen.");this.isGraphRunning=!0;try{const{begin:n,commit:r}=this.currentSyncConfig,i=this.currentSyncState;if(this.isInErrorState)return;if(i.subscribedToAllCollections){for(;i.graph.pendingWork();)i.graph.run(),e?.();i.messagesCount===0&&(n(),r(),this.updateLiveQueryStatus(this.currentSyncConfig))}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(e,n){const r=n?.contextId??Fc()?.id,i=n?.jobId??this,a=(()=>{if(n?.dependencies)return n.dependencies;const f=new Set(this.builderDependencies);if(n?.alias){const d=this.aliasDependencies[n.alias];if(d)for(const m of d)f.add(m)}return f.delete(this),Array.from(f)})();if(r)for(const f of a)typeof f.scheduleGraphRun=="function"&&f.scheduleGraphRun(void 0,{contextId:r});if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("scheduleGraphRun called without active sync session. This should not happen.");let l=r?this.pendingGraphRuns.get(r):void 0;l||(l={loadCallbacks:new Set},r&&this.pendingGraphRuns.set(r,l)),e&&l.loadCallbacks.add(e);const c=r?void 0:l;uf.schedule({contextId:r,jobId:i,dependencies:a,run:()=>this.executeGraphRun(r,c)})}clearPendingGraphRun(e){this.pendingGraphRuns.delete(e)}hasPendingGraphRun(e){return this.pendingGraphRuns.has(e)}executeGraphRun(e,n){const r=n??(e?this.pendingGraphRuns.get(e):void 0);if(e&&this.pendingGraphRuns.delete(e),!r||!this.currentSyncConfig||!this.currentSyncState)return;this.incrementRunCount();const i=()=>{let a=!0,l;if(r.loadCallbacks.forEach(c=>{try{a=c()&&a}catch(f){a=!1,l??=f}}),l)throw l;return a};this.maybeRunGraph(i)}getSyncConfig(){return{rowUpdateMode:"full",sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(e){this.liveQueryCollection=e.collection,this.currentSyncConfig=e;const n={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},r=this.extendPipelineWithChangeProcessing(e,n);this.currentSyncState=r,this.unsubscribeFromSchedulerClears=uf.onClear(a=>{this.clearPendingGraphRun(a)});const i=this.subscribeToAllCollections(e,r);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(i),this.scheduleGraphRun(i),()=>{n.unsubscribeCallbacks.forEach(a=>a()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(a=>delete this.subscriptions[a]),this.compiledAliasToCollectionId={},this.unsubscribeFromSchedulerClears?.(),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new rN,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(r=>[r,this.graphCache.newInput()]));const e=ly(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,r=>{this.windowFn=r});this.pipelineCache=e.pipeline,this.sourceWhereClausesCache=e.sourceWhereClauses,this.compiledAliasToCollectionId=e.aliasToCollectionId;const n=Object.keys(this.compiledAliasToCollectionId).filter(r=>!Object.hasOwn(this.inputsCache,r));if(n.length>0)throw new aI(n)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(e,n){const{begin:r,commit:i}=e,{graph:a,inputs:l,pipeline:c}=this.maybeCompileBasePipeline();return c.pipe(_N(f=>{const d=f.getInner();n.messagesCount+=d.length,r(),d.reduce(OM,new Map).forEach(this.applyChanges.bind(this,e)),i()})),a.finalize(),n.graph=a,n.inputs=l,n.pipeline=c,n}applyChanges(e,n,r){const{write:i,collection:a}=e,{deletes:l,inserts:c,value:f,orderByIndex:d}=n;if(this.resultKeys.set(f,r),d!==void 0&&this.orderByIndices.set(f,d),c&&l===0)i({value:f,type:"insert"});else if(c>l||c===l&&a.has(a.getKeyFromItem(f)))i({value:f,type:"update"});else if(l>0)i({value:f,type:"delete"});else throw new Error(`Could not apply changes: ${JSON.stringify(n)}. This should never happen.`)}handleSourceStatusChange(e,n,r){const{status:i}=r;if(i==="error"){this.transitionToError(`Source collection '${n}' entered error state`);return}if(i==="cleaned-up"){this.transitionToError(`Source collection '${n}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(e)}updateLiveQueryStatus(e){const{markReady:n}=e;this.isInErrorState||this.allCollectionsReady()&&n()}transitionToError(e){this.isInErrorState=!0,console.error(`[Live Query Error] ${e}`),this.liveQueryCollection?._lifecycle.setStatus("error")}allCollectionsReady(){return Object.values(this.collections).every(e=>e.isReady())}subscribeToAllCollections(e,n){const r=Object.entries(this.compiledAliasToCollectionId);if(r.length===0)throw new Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);const i=r.map(([l,c])=>{const f=this.collectionByAlias[l]??this.collections[c],d=SM(f);d&&d!==this?(this.aliasDependencies[l]=[d],this.builderDependencies.add(d)):this.aliasDependencies[l]=[];const m=new _M(l,c,f,this),p=f.on("status:change",v=>{this.handleSourceStatusChange(e,c,v)});n.unsubscribeCallbacks.add(p);const _=m.subscribe();return this.subscriptions[l]=_,m.loadMoreIfNeeded.bind(m,_)}),a=()=>(i.map(l=>l()),!0);return n.subscribedToAllCollections=!0,this.updateLiveQueryStatus(e),a}}function CM(t){return typeof t.query=="function"?qD(t.query):X1(t.query)}function TM(t){return(e,n)=>{const r=t.get(e),i=t.get(n);return r&&i?r<i?-1:r>i?1:0:0}}function AM(t){const e={};function n(i){i.type==="collectionRef"?e[i.collection.id]=i.collection:i.type==="queryRef"&&r(i.query)}function r(i){if(i.from&&n(i.from),i.join&&Array.isArray(i.join))for(const a of i.join)a.from&&n(a.from)}return r(t),e}function sE(t){const e=t.from;if(e.type==="collectionRef")return e.collection;if(e.type==="queryRef")return sE(e.query);throw new Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(t)}`)}function RM(t){const e=new Map;function n(i){if(i)if(i.type==="collectionRef"){const{id:a}=i.collection,l=e.get(a);l?l.add(i.alias):e.set(a,new Set([i.alias]))}else i.type==="queryRef"&&r(i.query)}function r(i){if(i&&(n(i.from),i.join))for(const a of i.join)n(a.from)}return r(t),e}function OM(t,[[e,n],r]){const[i,a]=n,l=t.get(e)||{deletes:0,inserts:0,value:i,orderByIndex:a};return r<0?l.deletes+=Math.abs(r):r>0&&(l.inserts+=r,l.value=i,l.orderByIndex=a),t.set(e,l),t}function hx(t){return new kM(t).getConfig()}function Hp(t){if(typeof t=="function"){const n=hx({query:t});return dx(n)}else{const e=t,n=hx(e);return e.utils&&(n.utils={...n.utils,...e.utils}),dx(n)}}function dx(t){const e=J1(t),n=wM(t);return n&&xM(e,n),e}const Gp=1;function IM(t,e=[]){const n=t&&typeof t=="object"&&typeof t.subscribeChanges=="function"&&typeof t.startSyncImmediate=="function"&&typeof t.id=="string",r=J.useRef(null),i=J.useRef(null),a=J.useRef(null),l=J.useRef(0),c=J.useRef(null),f=!r.current||n&&a.current!==t||!n&&(i.current===null||i.current.length!==e.length||i.current.some((v,w)=>v!==e[w]));if(f)if(n)t.startSyncImmediate(),r.current=t,a.current=t;else if(typeof t=="function"){const v=new jt,w=t(v);if(w==null)r.current=null;else if(w instanceof sy)w.startSyncImmediate(),r.current=w;else if(w instanceof jt)r.current=Hp({query:t,startSync:!0,gcTime:Gp});else if(w&&typeof w=="object")r.current=Hp({startSync:!0,gcTime:Gp,...w});else throw new Error(`useLiveQuery callback must return a QueryBuilder, LiveQueryCollectionConfig, Collection, undefined, or null. Got: ${typeof w}`);i.current=[...e]}else r.current=Hp({startSync:!0,gcTime:Gp,...t}),i.current=[...e];f&&(l.current=0,c.current=null);const d=J.useRef(null);(!d.current||f)&&(d.current=v=>{if(!r.current)return()=>{};const w=r.current.subscribeChanges(()=>{l.current+=1,v()});return r.current.status==="ready"&&(l.current+=1,v()),()=>{w.unsubscribe()}});const m=J.useRef(null);(!m.current||f)&&(m.current=()=>{const v=l.current,w=r.current;return(!c.current||c.current.version!==v||c.current.collection!==w)&&(c.current={collection:w,version:v}),c.current});const p=J.useSyncExternalStore(d.current,m.current),_=J.useRef(null),y=J.useRef(null);if(!_.current||_.current.version!==p.version||_.current.collection!==p.collection){if(!p.collection)y.current={state:void 0,data:void 0,collection:void 0,status:"disabled",isLoading:!1,isReady:!0,isIdle:!1,isError:!1,isCleanedUp:!1,isEnabled:!1};else{const v=Array.from(p.collection.entries()),C=p.collection.config.singleResult;let S=null,I=null;y.current={get state(){return S||(S=new Map(v)),S},get data(){return I||(I=v.map(([,T])=>T)),C?I[0]:I},collection:p.collection,status:p.collection.status,isLoading:p.collection.status==="loading",isReady:p.collection.status==="ready",isIdle:p.collection.status==="idle",isError:p.collection.status==="error",isCleanedUp:p.collection.status==="cleaned-up",isEnabled:!0}}_.current=p}return y.current}class Qi extends er{constructor(e){super(e),this.name="QueryCollectionError"}}class NM extends Qi{constructor(){super("[QueryCollection] queryKey must be provided."),this.name="QueryKeyRequiredError"}}class DM extends Qi{constructor(){super("[QueryCollection] queryFn must be provided."),this.name="QueryFnRequiredError"}}class MM extends Qi{constructor(){super("[QueryCollection] queryClient must be provided."),this.name="QueryClientRequiredError"}}class LM extends Qi{constructor(){super("[QueryCollection] getKey must be provided."),this.name="GetKeyRequiredError"}}class zM extends Qi{constructor(){super("Collection must be in 'ready' state for manual sync operations. Sync not initialized yet."),this.name="SyncNotInitializedError"}}class PM extends Qi{constructor(e){super(`Duplicate key '${e}' found within batch operations`),this.name="DuplicateKeyInBatchError"}}class jM extends Qi{constructor(e){super(`Update operation: Item with key '${e}' does not exist`),this.name="UpdateOperationItemNotFoundError"}}class BM extends Qi{constructor(e){super(`Delete operation: Item with key '${e}' does not exist`),this.name="DeleteOperationItemNotFoundError"}}const bs=new WeakMap;function UM(t,e){const n=Array.isArray(t)?t:[t],r=[];for(const i of n)if(i.type==="delete"){const a=Array.isArray(i.key)?i.key:[i.key];for(const l of a)r.push({type:"delete",key:l})}else{const a=Array.isArray(i.data)?i.data:[i.data];for(const l of a){let c;if(i.type==="update")c=e.getKey(l);else{const f=e.collection.validateData(l,i.type==="upsert"?"insert":i.type);c=e.getKey(f)}r.push({type:i.type,key:c,data:l})}}return r}function $M(t,e){const n=new Set;for(const r of t){if(n.has(r.key))throw new PM(r.key);if(n.add(r.key),r.type==="update"){if(!e.collection._state.syncedData.has(r.key))throw new jM(r.key)}else if(r.type==="delete"&&!e.collection._state.syncedData.has(r.key))throw new BM(r.key)}}function Qo(t,e){const n=UM(t,e);$M(n,e),e.begin();for(const i of n)switch(i.type){case"insert":{const a=e.collection.validateData(i.data,"insert");e.write({type:"insert",value:a});break}case"update":{const l={...e.collection._state.syncedData.get(i.key),...i.data},c=e.collection.validateData(l,"update",i.key);e.write({type:"update",value:c});break}case"delete":{const a=e.collection._state.syncedData.get(i.key);e.write({type:"delete",value:a});break}case"upsert":{const a=e.collection._state.syncedData.has(i.key),l=e.collection.validateData(i.data,a?"update":"insert",i.key);a?e.write({type:"update",value:l}):e.write({type:"insert",value:l});break}}e.commit();const r=Array.from(e.collection._state.syncedData.values());e.updateCacheData?e.updateCacheData(r):e.queryClient.setQueryData(e.queryKey,r)}function qM(t){function e(){const n=t();if(!n)throw new zM;return n}return{writeInsert(n){const r={type:"insert",data:n},i=e(),a=bs.get(i);if(a?.isActive){a.operations.push(r);return}Qo(r,i)},writeUpdate(n){const r={type:"update",data:n},i=e(),a=bs.get(i);if(a?.isActive){a.operations.push(r);return}Qo(r,i)},writeDelete(n){const r={type:"delete",key:n},i=e(),a=bs.get(i);if(a?.isActive){a.operations.push(r);return}Qo(r,i)},writeUpsert(n){const r={type:"upsert",data:n},i=e(),a=bs.get(i);if(a?.isActive){a.operations.push(r);return}Qo(r,i)},writeBatch(n){const r=e();if(bs.get(r)?.isActive)throw new Error("Cannot nest writeBatch calls. Complete the current batch before starting a new one.");const a={operations:[],isActive:!0};bs.set(r,a);try{const l=n();if(l&&typeof l=="object"&&"then"in l&&typeof l.then=="function")throw new Error("writeBatch does not support async callbacks. The callback must be synchronous.");a.operations.length>0&&Qo(a.operations,r)}finally{a.isActive=!1,bs.delete(r)}}}}function FM(t){if(!t)return;const e={};return t.where&&(e.where=Xm(t.where)),t.orderBy?.length&&(e.orderBy=t.orderBy.map(n=>{const r={expression:Xm(n.expression),direction:n.compareOptions.direction,nulls:n.compareOptions.nulls,stringSort:n.compareOptions.stringSort};return n.compareOptions.stringSort==="locale"?{...r,locale:n.compareOptions.locale,localeOptions:n.compareOptions.localeOptions}:r})),t.limit!==void 0&&(e.limit=t.limit),t.offset!==void 0&&(e.offset=t.offset),Object.keys(e).length===0?void 0:JSON.stringify(e)}function Xm(t){if(!t)return null;switch(t.type){case"val":return{type:"val",value:Wm(t.value)};case"ref":return{type:"ref",path:[...t.path]};case"func":return{type:"func",name:t.name,args:t.args.map(e=>Xm(e))};default:return null}}function Wm(t){if(t===void 0)return{__type:"undefined"};if(typeof t=="number"){if(Number.isNaN(t))return{__type:"nan"};if(t===Number.POSITIVE_INFINITY)return{__type:"infinity",sign:1};if(t===Number.NEGATIVE_INFINITY)return{__type:"infinity",sign:-1}}return t===null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"?t:t instanceof Date?{__type:"date",value:t.toJSON()}:Array.isArray(t)?t.map(e=>Wm(e)):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,Wm(n)])):t}class VM{constructor(e,n,r){this.state=e,this.refetchFn=n,this.refetch=n,this.writeInsert=r.writeInsert,this.writeUpdate=r.writeUpdate,this.writeDelete=r.writeDelete,this.writeUpsert=r.writeUpsert,this.writeBatch=r.writeBatch}async clearError(){this.state.lastError=void 0,this.state.errorCount=0,this.state.lastErrorUpdatedAt=0,await this.refetchFn({throwOnError:!0})}get lastError(){return this.state.lastError}get isError(){return!!this.state.lastError}get errorCount(){return this.state.errorCount}get isFetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isFetching)}get isRefetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isRefetching)}get isLoading(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isLoading)}get dataUpdatedAt(){return Math.max(0,...Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().dataUpdatedAt))}get fetchStatus(){return Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().fetchStatus)}}function HM(t){const{queryKey:e,queryFn:n,select:r,queryClient:i,enabled:a,refetchInterval:l,retry:c,retryDelay:f,staleTime:d,getKey:m,onInsert:p,onUpdate:_,onDelete:y,meta:v,...w}=t,C=w.syncMode??"eager";if(!e)throw new NM;if(!n)throw new DM;if(!i)throw new MM;if(!m)throw new LM;const S={lastError:void 0,errorCount:0,lastErrorUpdatedAt:0,observers:new Map},I=new Map,T=new Map,L=new Map,z=new Map,E=new Map,M=(fe,k)=>{const N=L.get(fe)||new Set;N.add(k),L.set(fe,N);const U=T.get(k)||new Set;U.add(fe),T.set(k,U)},$=(fe,k)=>{const N=L.get(fe)||new Set;N.delete(k),L.set(fe,N);const U=T.get(k)||new Set;return U.delete(fe),T.set(k,U),N.size===0},q=fe=>{const{begin:k,write:N,commit:U,markReady:A,collection:W}=fe;let ee=!1;const ue=be=>{if(typeof e=="function")return e(be);if(C==="on-demand"){const Be=FM(be);return Be!==void 0?[...e,Be]:e}else return e},oe=(be={},Be=n)=>{const Ue=ue(be),Ae=fi(Ue),Je={...v,loadSubsetOptions:be};if(S.observers.has(Ae)){E.set(Ae,(E.get(Ae)||0)+1);const Ee=S.observers.get(Ae),Ie=Ee.getCurrentResult();return Ie.isSuccess?!0:Ie.isError?Promise.reject(Ie.error):new Promise((wt,cn)=>{const Ht=Ee.subscribe(bt=>{bt.isSuccess?(Ht(),wt()):bt.isError&&(Ht(),cn(bt.error))})})}const X={queryKey:Ue,queryFn:Be,meta:Je,structuralSharing:!0,notifyOnChangeProps:"all",...a!==void 0&&{enabled:a},...l!==void 0&&{refetchInterval:l},...c!==void 0&&{retry:c},...f!==void 0&&{retryDelay:f},...d!==void 0&&{staleTime:d}},le=new GO(i,X);I.set(Ae,Ue),S.observers.set(Ae,le),E.set(Ae,(E.get(Ae)||0)+1);const ve=new Promise((Ee,Ie)=>{const wt=le.subscribe(cn=>{cn.isSuccess?(wt(),Ee()):cn.isError&&(wt(),Ie(cn.error))})});return(ee||W.subscriberCount>0)&&Ke(le,Ae),ve},_e=be=>{const Be=fi(be);return Ae=>{if(Ae.isSuccess){S.lastError=void 0,S.errorCount=0;const Je=Ae.data,X=r?r(Je):Je;if(!Array.isArray(X)||X.some(Ee=>typeof Ee!="object")){const Ee=r?`@tanstack/query-db-collection: select() must return an array of objects. Got: ${typeof X} for queryKey ${JSON.stringify(be)}`:`@tanstack/query-db-collection: queryFn must return an array of objects. Got: ${typeof X} for queryKey ${JSON.stringify(be)}`;console.error(Ee);return}const le=new Map(W._state.syncedData.entries()),ve=new Map;X.forEach(Ee=>{const Ie=m(Ee);ve.set(Ie,Ee)}),k(),le.forEach((Ee,Ie)=>{const wt=ve.get(Ie);wt?kr(Ee,wt)||N({type:"update",value:wt}):$(Ie,Be)&&N({type:"delete",value:Ee})}),ve.forEach((Ee,Ie)=>{M(Ie,Be),le.has(Ie)||N({type:"insert",value:Ee})}),U(),A()}else Ae.isError&&(Ae.errorUpdatedAt!==S.lastErrorUpdatedAt&&(S.lastError=Ae.error,S.errorCount++,S.lastErrorUpdatedAt=Ae.errorUpdatedAt),console.error(`[QueryCollection] Error observing query ${String(be)}:`,Ae.error),A())}},ye=be=>z.has(be),Ke=(be,Be)=>{if(!ye(Be)){const Ue=I.get(Be),Ae=_e(Ue),Je=be.subscribe(Ae);z.set(Be,Je);const X=be.getCurrentResult();(X.isSuccess||X.isError)&&Ae(X)}},We=()=>{S.observers.forEach(Ke)},et=()=>{z.forEach(be=>{be()}),z.clear()};ee=!0;const ft=W.on("subscribers:change",({subscriberCount:be})=>{be>0?We():be===0&&et()});if(C==="eager"){const be=oe({});be instanceof Promise&&be.catch(()=>{})}else A();We(),S.observers.forEach((be,Be)=>{const Ue=I.get(Be);_e(Ue)(be.getCurrentResult())});const Mt=be=>{z.get(be)?.(),z.delete(be);const Be=T.get(be)??new Set,Ue=[];Be.forEach(Ae=>{const Je=L.get(Ae);Je&&(Je.delete(be),Je.size===0&&(L.delete(Ae),W.has(Ae)&&Ue.push(W.get(Ae))))}),Ue.length>0&&(k(),Ue.forEach(Ae=>{N({type:"delete",value:Ae})}),U()),S.observers.delete(be),T.delete(be),I.delete(be),E.delete(be)},Vt=be=>{const Be=E.get(be)||0,Ue=S.observers.get(be);if(Be<=0&&(z.get(be)?.(),z.delete(be)),Ue?.hasListeners()??!1){E.set(be,0);return}Be>0&&console.warn(`[cleanupQueryIfIdle] Invariant violation: refcount=${Be} but no listeners. Cleaning up to prevent leak.`,{hashedQueryKey:be}),Mt(be)},_n=be=>{Mt(be)},Xt=i.getQueryCache().subscribe(be=>{const Be=be.query.queryHash;be.type==="removed"&&I.has(Be)&&Vt(Be)});return{loadSubset:C==="eager"?void 0:oe,unloadSubset:C==="eager"?void 0:be=>{const Be=ue(be),Ue=fi(Be),Je=(E.get(Ue)||0)-1;Je<=0?(E.set(Ue,0),Vt(Ue)):E.set(Ue,Je)},cleanup:async()=>{ft(),et();const be=[...I.values()],Be=[...S.observers.keys()];for(const Ue of Be)_n(Ue);Xt(),await Promise.all(be.map(async Ue=>{await i.cancelQueries({queryKey:Ue,exact:!0}),i.removeQueries({queryKey:Ue,exact:!0})}))}}},P=async fe=>{const N=[...I.values()].map(U=>S.observers.get(fi(U)).refetch({throwOnError:fe?.throwOnError}));await Promise.all(N)},K=fe=>{const k=typeof e=="function"?e({}):e;r?i.setQueryData(k,N=>{if(!N||typeof N!="object")return N;if(Array.isArray(N))return fe;const U=r(N);if(Array.isArray(U)){for(const A of Object.keys(N))if(N[A]===U)return{...N,[A]:fe}}if(Array.isArray(N.data))return{...N,data:fe};if(Array.isArray(N.items))return{...N,items:fe};if(Array.isArray(N.results))return{...N,results:fe};for(const A of Object.keys(N))if(Array.isArray(N[A]))return{...N,[A]:fe};return N}):i.setQueryData(k,fe)};let ie=null;const ge=fe=>{const{begin:k,write:N,commit:U,collection:A}=fe,W=typeof e=="function"?e({}):e;return ie={collection:A,queryClient:i,queryKey:W,getKey:m,begin:k,write:N,commit:U,updateCacheData:K},q(fe)},he=qM(()=>ie),re=p?async fe=>{const k=await p(fe)??{};return k.refetch!==!1&&await P(),k}:void 0,F=_?async fe=>{const k=await _(fe)??{};return k.refetch!==!1&&await P(),k}:void 0,te=y?async fe=>{const k=await y(fe)??{};return k.refetch!==!1&&await P(),k}:void 0,de=new VM(S,P,he);return{...w,getKey:m,syncMode:C,sync:{sync:ge},onInsert:re,onUpdate:F,onDelete:te,utils:de}}async function GM(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{const a=r.result.split(",")[1]||"";e(a)},r.onerror=n,r.readAsDataURL(t)})}function KM(t,e){const n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([r],{type:e})}async function px(t){let e=t.body;t.body.type==="form-data"?e={...t.body,data:t.body.data.map(r=>({...r,file:null}))}:t.body.type==="binary"&&(e={...t.body,file:null});let n=null;if(t.httpResponse){const r=t.httpResponse.body instanceof Blob?await GM(t.httpResponse.body):"",i=t.httpResponse.body instanceof Blob?t.httpResponse.body.type:"application/octet-stream";n={status:t.httpResponse.status,statusCode:t.httpResponse.statusCode,headers:t.httpResponse.headers,content:r,contentType:i,duration:t.httpResponse.duration,error:t.httpResponse.error}}return{id:t.id,name:t.name,protocol:t.protocol,method:t.method,url:t.url,query:t.query,headers:t.headers,body:e,variables:t.variables,creationTime:t.creationTime,executionTime:t.executionTime,httpRequest:t.httpRequest,httpResponse:n,executing:!1}}function ZM(t){let e=null;if(t.httpResponse){const n=t.httpResponse.content?KM(t.httpResponse.content,t.httpResponse.contentType):new Blob([]);e={status:t.httpResponse.status,statusCode:t.httpResponse.statusCode,headers:t.httpResponse.headers,body:n,duration:t.httpResponse.duration,error:t.httpResponse.error}}return{id:t.id,name:t.name,protocol:t.protocol??"rest",method:t.method,url:t.url,query:t.query,headers:t.headers,body:t.body,variables:t.variables??[],creationTime:t.creationTime,executionTime:t.executionTime,httpRequest:t.httpRequest,httpResponse:e,executing:!1}}const hf="requests";async function QM(){const t=await fetch(`/data/${hf}`);if(!t.ok)throw new Error(`Failed to list entries: ${t.statusText}`);const e=await t.json();return(await Promise.all(e.map(async r=>{const i=await fetch(`/data/${hf}/${encodeURIComponent(r.id)}`);return i.ok?await i.json():null}))).filter(r=>r!==null)}async function mx(t){const e=await fetch(`/data/${hf}/${encodeURIComponent(t.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to save request: ${e.statusText}`)}async function JM(t){const e=await fetch(`/data/${hf}/${encodeURIComponent(t)}`,{method:"DELETE"});if(!e.ok&&e.status!==404)throw new Error(`Failed to delete request: ${e.statusText}`)}const aE=new e2({defaultOptions:{queries:{staleTime:1/0,refetchOnWindowFocus:!1}}}),Mr=J1(HM({queryKey:["requests"],queryFn:async()=>(await QM()).map(ZM),getKey:t=>t.id,queryClient:aE,onInsert:async({transaction:t})=>{await Promise.all(t.mutations.map(async e=>{const n=e.modified,r=await px(n);await mx(r)}))},onUpdate:async({transaction:t})=>{await Promise.all(t.mutations.map(async e=>{const n=e.modified,r=await px(n);await mx(r)}))},onDelete:async({transaction:t})=>{await Promise.all(t.mutations.map(async e=>{const n=e.original;await JM(n.id)}))}}));async function YM(){Array.from(Mr.state.keys()).forEach(e=>Mr.delete(e))}function eg(t,e,n={}){const{missingDataPlaceholder:r=""}=n;let i=t;const a=/\{\{(\w+):([^}]+)\}\}/g;let l;for(;(l=a.exec(t))!==null;){const[c,f,d]=l,m=e.find(_=>_.type===f&&_.id===d);let p="";switch(f){case"file_base64":case"base64":p=m?.data||r;break;case"file_dataurl":m?.data&&m?.mimeType?p=`data:${m.mimeType};base64,${m.data}`:m?.data?p=`data:application/octet-stream;base64,${m.data}`:p=r;break;case"timestamp":p=String(Date.now());break;case"uuid":typeof crypto<"u"&&crypto.randomUUID?p=crypto.randomUUID():p="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{const y=Math.random()*16|0;return(_==="x"?y:y&3|8).toString(16)});break;case"random_string":p=Math.random().toString(36).substring(2,18);break;default:p=c}i=i.replace(c,p)}return i}function Es(){return Math.random().toString(36).substring(2,9)}function gx(){return{id:Es(),enabled:!0,key:"",value:""}}function tg(t){return{id:Es(),name:"New Request",protocol:"rest",method:"GET",url:"",headers:[gx()],query:[gx()],body:{type:"none"},variables:[],creationTime:Date.now(),executionTime:null,httpRequest:null,httpResponse:null,executing:!1}}const oE=J.createContext(null),XM={request:tg(),sidebarCollapsed:!1,aiPanelOpen:!1};function WM({children:t}){const[e,n]=J.useState(XM),{data:r=[]}=IM(E=>E.from({req:Mr}).orderBy(({req:M})=>M.executionTime??M.creationTime,"desc")),i=J.useCallback(E=>{n(M=>({...M,request:{...M.request,...E}}))},[]),a=J.useCallback(E=>{i({protocol:E})},[i]),l=J.useCallback(E=>{i({method:E})},[i]),c=J.useCallback(E=>{i({url:E})},[i]),f=J.useCallback(E=>{i({headers:E})},[i]),d=J.useCallback(E=>{i({query:E})},[i]),m=J.useCallback(E=>{i({body:E})},[i]),p=J.useCallback(E=>{i({variables:E})},[i]),_=J.useCallback(E=>{n(M=>{const q={...M.request.httpRequest?.options??{insecure:!1,redirect:!0},...E};return{...M,request:{...M.request,httpRequest:M.request.httpRequest?{...M.request.httpRequest,options:q}:null}}})},[]),y=J.useCallback(()=>{i({httpResponse:null})},[i]),v=J.useCallback(async()=>{const E=e.request;i({executing:!0});try{const M={};if(E.headers.filter(oe=>oe.enabled&&oe.key).forEach(oe=>{M[oe.key]=oe.value}),E.protocol==="grpc"){const oe=E.url,_e=oe.match(/^grpc:\/\/([^/]+)\/(.+)\/([^/]+)$/);if(!_e)throw new Error("Invalid gRPC URL format. Expected: grpc://host:port/service/method");const[,ye,Ke,We]=_e;let et="",ft="";E.body.type==="json"?(et=eg(E.body.content,E.variables),ft=E.body.content):(et="{}",ft="{}"),M["Content-Type"]||(M["Content-Type"]="application/json");const Mt=`/proxy/grpc/${ye}/${Ke}/${We}`,Vt={method:"POST",url:oe,headers:M,query:{},body:ft,options:{insecure:!1,redirect:!1}},_n=performance.now(),Xt=await fetch(Mt,{method:"POST",headers:M,body:et}),Cn=Math.round(performance.now()-_n),$n=await Xt.blob(),Tn={};Xt.headers.forEach((Je,X)=>{Tn[X]=Je});const be={status:Xt.statusText||String(Xt.status),statusCode:Xt.status,headers:Tn,body:$n,duration:Cn},Be=Date.now(),Ue={...E,executionTime:Be,httpRequest:Vt,httpResponse:be,executing:!1};r.find(Je=>Je.id===E.id)?Mr.update(E.id,Je=>{Object.assign(Je,Ue)}):Mr.insert(Ue),n(Je=>({...Je,request:Ue}));return}const $=new URLSearchParams;E.query.filter(oe=>oe.enabled&&oe.key).forEach(oe=>{$.append(oe.key,oe.value)});let q,P="",K=!1;switch(E.body.type){case"json":{q=eg(E.body.content,E.variables),P=E.body.content,M["Content-Type"]||(M["Content-Type"]="application/json");break}case"form-urlencoded":{const oe=new URLSearchParams;E.body.data.filter(_e=>_e.enabled&&_e.key).forEach(_e=>{oe.append(_e.key,_e.value)}),q=oe.toString(),P=oe.toString(),M["Content-Type"]||(M["Content-Type"]="application/x-www-form-urlencoded");break}case"form-data":{const oe=new FormData,_e=[];E.body.data.filter(ye=>ye.enabled&&ye.key).forEach(ye=>{ye.type==="file"&&ye.file?(oe.append(ye.key,ye.file,ye.fileName),_e.push(`${ye.key}: [File: ${ye.fileName}]`)):ye.type==="text"&&(oe.append(ye.key,ye.value),_e.push(`${ye.key}: ${ye.value}`))}),q=oe,P=_e.join(`
`),K=!0;break}case"binary":{E.body.file&&(q=E.body.file,P=`[Binary file: ${E.body.fileName}]`,M["Content-Type"]||(M["Content-Type"]=E.body.file.type||"application/octet-stream"));break}case"raw":q=E.body.content,P=E.body.content,M["Content-Type"]||(M["Content-Type"]="text/plain");break}const ie=E.httpRequest?.options??{insecure:!1,redirect:!0};ie.insecure&&(M["X-Prism-Insecure"]="true"),ie.redirect&&(M["X-Prism-Redirect"]="true");const ge=new URL(E.url);let he="/proxy/"+ge.protocol.slice(0,-1)+"/"+ge.host+ge.pathname;const re=$.toString();re&&(he+="?"+re);const F={method:E.method,url:E.url,headers:M,query:Object.fromEntries($),body:P,options:ie},te={...M};K&&delete te["Content-Type"];const de=performance.now(),fe=await fetch(he,{method:E.method,headers:te,body:q&&E.method!=="GET"&&E.method!=="HEAD"?q:void 0}),k=Math.round(performance.now()-de),N=await fe.blob(),U={};fe.headers.forEach((oe,_e)=>{U[_e]=oe});const A={status:fe.statusText||String(fe.status),statusCode:fe.status,headers:U,body:N,duration:k},W=Date.now(),ee={...E,executionTime:W,httpRequest:F,httpResponse:A,executing:!1};r.find(oe=>oe.id===E.id)?Mr.update(E.id,oe=>{Object.assign(oe,ee)}):Mr.insert(ee),n(oe=>({...oe,request:ee}))}catch(M){const $=Date.now(),q=M instanceof Error?M.message:"Unknown error",P={status:"",statusCode:0,headers:{},body:new Blob,duration:0,error:q},K={...E,executionTime:$,httpResponse:P,executing:!1};r.find(ge=>ge.id===E.id)?Mr.update(E.id,ge=>{Object.assign(ge,K)}):Mr.insert(K),n(ge=>({...ge,request:K}))}},[e.request,i,r]),w=J.useCallback(E=>{const M=tg();M.id=E.id,M.name=E.name,M.protocol=E.protocol??"rest",M.method=E.method,M.url=E.url,M.headers=E.headers.map($=>({...$,id:Es()})),M.query=E.query.map($=>({...$,id:Es()})),M.variables=(E.variables??[]).map($=>({...$,id:Es()})),E.body.type==="form-urlencoded"?M.body={type:"form-urlencoded",data:E.body.data.map($=>({...$,id:Es()}))}:E.body.type==="form-data"?M.body={type:"form-data",data:E.body.data.map($=>({...$,id:Es(),file:null}))}:E.body.type==="binary"?M.body={type:"binary",file:null,fileName:E.body.fileName}:M.body=E.body,E.httpRequest&&(M.httpRequest={...E.httpRequest}),E.httpResponse&&(M.httpResponse=E.httpResponse),n($=>({...$,request:M}))},[]),C=J.useCallback(async()=>{await YM()},[]),S=J.useCallback(async E=>{Mr.delete(E)},[]),I=J.useCallback(()=>{n(E=>({...E,sidebarCollapsed:!E.sidebarCollapsed}))},[]),T=J.useCallback(()=>{n(E=>({...E,aiPanelOpen:!E.aiPanelOpen}))},[]),L=J.useCallback(()=>{n(E=>({...E,request:tg()}))},[]),z={request:e.request,history:r,sidebarCollapsed:e.sidebarCollapsed,aiPanelOpen:e.aiPanelOpen,setProtocol:a,setMethod:l,setUrl:c,setHeaders:f,setQuery:d,setBody:m,setVariables:p,setOptions:_,executeRequest:v,clearResponse:y,newRequest:L,loadFromHistory:w,clearHistory:C,deleteHistoryEntry:S,toggleSidebar:I,toggleAiPanel:T};return O.jsx(oE.Provider,{value:z,children:t})}function Ji(){const t=J.useContext(oE);if(!t)throw new Error("useClient must be used within a ClientProvider");return t}const eL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yx=t=>{const e=tL(t);return e.charAt(0).toUpperCase()+e.slice(1)},lE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),nL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iL=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>J.createElement("svg",{ref:f,...rL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lE("lucide",i),...!a&&!nL(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>J.createElement(d,m)),...Array.isArray(a)?a:[a]]));const mt=(t,e)=>{const n=J.forwardRef(({className:r,...i},a)=>J.createElement(iL,{ref:a,iconNode:e,className:lE(`lucide-${eL(yx(t))}`,`lucide-${t}`,r),...i}));return n.displayName=yx(t),n};const sL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aL=mt("check",sL);const oL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cy=mt("chevron-down",oL);const lL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uL=mt("chevron-right",lL);const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fL=mt("circle-alert",cL);const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uE=mt("circle-check",hL);const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cE=mt("circle",dL);const pL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mL=mt("clock",pL);const gL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yL=mt("eye",gL);const _L=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bL=mt("file-text",_L);const vL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],_x=mt("file",vL);const wL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xL=mt("globe",wL);const SL=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],EL=mt("hash",SL);const kL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ng=mt("loader-circle",kL);const CL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],TL=mt("panel-right-close",CL);const AL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],RL=mt("panel-right-open",AL);const OL=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bx=mt("paperclip",OL);const IL=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],NL=mt("send-horizontal",IL);const DL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ML=mt("send",DL);const LL=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zL=mt("server",LL);const PL=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],jL=mt("shuffle",PL);const BL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],df=mt("sparkles",BL);const UL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$L=mt("square",UL);const qL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kf=mt("trash-2",qL);const FL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],VL=mt("upload",FL);const HL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fy=mt("x",HL),GL={GET:"text-green-600 dark:text-green-400",POST:"text-yellow-600 dark:text-yellow-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-red-600 dark:text-red-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"};function KL(t){const e=new Date(t),n=new Date;return e.toDateString()===n.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function ZL(t){return t?t>=200&&t<300?"bg-green-500":t>=300&&t<400?"bg-yellow-500":t>=400&&t<500?"bg-orange-500":"bg-red-500":"bg-neutral-500"}function QL(t){try{return new URL(t.url).hostname}catch{return"Other"}}function JL(t){try{const e=new URL(t.url);return e.pathname+e.search}catch{return t.url}}function YL(t){return t.protocol==="grpc"?"gRPC":t.method}function XL(t){return t.protocol==="grpc"?"text-cyan-600 dark:text-cyan-400":GL[t.method]}function WL(t){const e=new Map;for(const n of t){const r=QL(n),i=e.get(r)||[];i.push(n),e.set(r,i)}return Array.from(e.entries()).map(([n,r])=>({hostname:n,entries:r,latestTimestamp:Math.max(...r.map(i=>i.executionTime??0))})).sort((n,r)=>r.latestTimestamp-n.latestTimestamp)}function ez(){const t=yt.c(20),{history:e,sidebarCollapsed:n,loadFromHistory:r,deleteHistoryEntry:i,clearHistory:a,toggleSidebar:l}=Ji();let c;t[0]!==e?(c=WL(e),t[0]=e,t[1]=c):c=t[1];const f=c;if(e.length===0||n)return null;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=O.jsx("h1",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200 pl-0.5",children:"Prism"}),t[2]=d):d=t[2];let m;t[3]!==a||t[4]!==e.length?(m=e.length>0&&O.jsx("button",{onClick:a,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Clear history",children:O.jsx(Kf,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"})}),t[3]=a,t[4]=e.length,t[5]=m):m=t[5];let p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=O.jsx(RL,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}),t[6]=p):p=t[6];let _;t[7]!==l?(_=O.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Hide sidebar",children:p}),t[7]=l,t[8]=_):_=t[8];let y;t[9]!==m||t[10]!==_?(y=O.jsxs("div",{className:"px-3 py-2.5 flex items-center justify-between gap-2",children:[d,O.jsxs("div",{className:"flex items-center gap-1",children:[m,_]})]}),t[9]=m,t[10]=_,t[11]=y):y=t[11];let v;t[12]!==i||t[13]!==f||t[14]!==e.length||t[15]!==r?(v=O.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:e.length===0?O.jsx("div",{className:"px-2 py-8 text-center text-neutral-400 dark:text-neutral-600 text-xs",children:"No history yet"}):O.jsx("div",{className:"space-y-3 pb-2",children:f.map(C=>O.jsxs("div",{children:[O.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider truncate",title:C.hostname,children:C.hostname}),O.jsx("div",{className:"space-y-0.5",children:C.entries.map(S=>O.jsxs("div",{className:"group flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>r(S),children:[O.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${ZL(S.httpResponse?.statusCode??null)}`}),O.jsx("span",{className:`text-[10px] font-semibold shrink-0 ${XL(S)}`,children:YL(S)}),O.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate flex-1",title:S.url,children:JL(S)}),O.jsxs("div",{className:"flex items-center justify-end text-[10px] text-neutral-400 dark:text-neutral-600 shrink-0 w-12 h-5",children:[O.jsx("span",{className:"group-hover:hidden",children:KL(S.executionTime??S.creationTime)}),O.jsx("button",{onClick:I=>{I.stopPropagation(),i(S.id)},className:"hidden group-hover:inline-flex items-center justify-center w-5 h-5 hover:bg-neutral-200 dark:hover:bg-white/8 rounded transition-colors",title:"Delete",children:O.jsx("svg",{className:"w-3 h-3 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},S.id))})]},C.hostname))})}),t[12]=i,t[13]=f,t[14]=e.length,t[15]=r,t[16]=v):v=t[16];let w;return t[17]!==y||t[18]!==v?(w=O.jsxs("aside",{className:"w-64 bg-white dark:bg-[#1a1a1a]/60 dark:backdrop-blur-xl border border-neutral-200 dark:border-white/8 rounded-xl flex flex-col overflow-hidden dark:shadow-2xl",children:[y,v]}),t[17]=y,t[18]=v,t[19]=w):w=t[19],w}const tz=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],nz={GET:"text-emerald-600 dark:text-emerald-400",POST:"text-amber-600 dark:text-amber-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-rose-600 dark:text-rose-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"},Kp=[{value:"rest",label:"REST",icon:xL},{value:"grpc",label:"gRPC",icon:zL}];function rz(){const t=yt.c(27),{request:e,setMethod:n,setProtocol:r}=Ji(),i=e?.method??"GET",a=e?.protocol??"rest",[l,c]=J.useState(!1),f=J.useRef(null);let d;t[0]!==a?(d=Kp.find(E=>E.value===a)??Kp[0],t[0]=a,t[1]=d):d=t[1];const m=d,p=m.icon;let _,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{const E=M=>{f.current&&!f.current.contains(M.target)&&c(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},y=[],t[2]=_,t[3]=y):(_=t[2],y=t[3]),J.useEffect(_,y);let v;t[4]!==l?(v=()=>c(!l),t[4]=l,t[5]=v):v=t[5];let w;t[6]!==p?(w=O.jsx(p,{className:"w-4 h-4"}),t[6]=p,t[7]=w):w=t[7];let C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=O.jsx(cy,{className:"w-3 h-3"}),t[8]=C):C=t[8];let S;t[9]!==m.label||t[10]!==v||t[11]!==w?(S=O.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-0.5 p-1.5 rounded-md hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors text-neutral-600 dark:text-neutral-400",title:m.label,children:[w,C]}),t[9]=m.label,t[10]=v,t[11]=w,t[12]=S):S=t[12];let I;t[13]!==l||t[14]!==a||t[15]!==r?(I=l&&O.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 min-w-25",children:Kp.map(E=>{const M=E.icon;return O.jsxs("button",{type:"button",onClick:()=>{r(E.value),c(!1)},className:`w-full flex items-center gap-2 px-3 py-1.5 text-sm transition-colors ${a===E.value?"bg-neutral-100 dark:bg-white/10 text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-white/5"}`,children:[O.jsx(M,{className:"w-4 h-4"}),E.label]},E.value)})}),t[13]=l,t[14]=a,t[15]=r,t[16]=I):I=t[16];let T;t[17]!==S||t[18]!==I?(T=O.jsxs("div",{ref:f,className:"relative",children:[S,I]}),t[17]=S,t[18]=I,t[19]=T):T=t[19];let L;t[20]!==i||t[21]!==a||t[22]!==n?(L=a==="rest"&&O.jsx("select",{value:i,onChange:E=>n(E.target.value),className:`px-2 py-1 bg-transparent font-semibold text-xs focus:outline-none cursor-pointer ${nz[i]}`,children:tz.map(iz)}),t[20]=i,t[21]=a,t[22]=n,t[23]=L):L=t[23];let z;return t[24]!==T||t[25]!==L?(z=O.jsxs("div",{className:"flex items-center gap-1",children:[T,L]}),t[24]=T,t[25]=L,t[26]=z):z=t[26],z}function iz(t){return O.jsx("option",{value:t,className:"bg-white dark:bg-[#1a1a1a]",children:t},t)}let al={};async function sz(){try{const t=await fetch("/config.json");if(t.ok){const e=await t.json();al={...al,...e}}else console.warn("Failed to load config.json, using defaults");return al}catch(t){return console.warn("Error loading config:",t),al}}function hy(){return al}function az(t){const e=yt.c(20),{value:n,onChange:r,placeholder:i,minWidth:a}=t,l=a===void 0?60:a,c=J.useRef(null),[f,d]=J.useState(l);let m;e[0]!==l?(m=()=>{if(c.current){const T=c.current.offsetWidth;d(Math.max(l,T+24))}},e[0]=l,e[1]=m):m=e[1];let p;e[2]!==l||e[3]!==i||e[4]!==n?(p=[n,i,l],e[2]=l,e[3]=i,e[4]=n,e[5]=p):p=e[5],J.useEffect(m,p);const _=n||i;let y;e[6]!==_?(y=O.jsx("span",{ref:c,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:_}),e[6]=_,e[7]=y):y=e[7];let v;e[8]!==r?(v=T=>r(T.target.value),e[8]=r,e[9]=v):v=e[9];const w=`${f}px`;let C;e[10]!==w?(C={width:w},e[10]=w,e[11]=C):C=e[11];let S;e[12]!==i||e[13]!==v||e[14]!==C||e[15]!==n?(S=O.jsx("input",{type:"text",value:n,onChange:v,placeholder:i,style:C,className:"px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"}),e[12]=i,e[13]=v,e[14]=C,e[15]=n,e[16]=S):S=e[16];let I;return e[17]!==y||e[18]!==S?(I=O.jsxs("div",{className:"relative",children:[y,S]}),e[17]=y,e[18]=S,e[19]=I):I=e[19],I}function vx({value:t,onChange:e,placeholder:n,fetchOptions:r,disabled:i,minWidth:a=60}){const[l,c]=J.useState(!1),[f,d]=J.useState([]),[m,p]=J.useState(!1),[_,y]=J.useState(null),v=J.useRef(null),w=J.useRef(null),C=J.useRef(null),[S,I]=J.useState(a);J.useEffect(()=>{if(C.current){const E=C.current.offsetWidth;I(Math.max(a,E+40))}},[t,n,a]);const T=t||n;J.useEffect(()=>{const E=M=>{v.current&&!v.current.contains(M.target)&&c(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const L=async()=>{if(!i){c(!0),p(!0),y(null);try{const E=await r();d(E)}catch(E){y(E instanceof Error?E.message:"Failed to fetch"),d([])}finally{p(!1)}}},z=f.filter(E=>E.toLowerCase().includes(t.toLowerCase()));return O.jsxs("div",{ref:v,className:"relative",style:{width:`${S}px`},children:[O.jsx("span",{ref:C,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:T}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("input",{ref:w,type:"text",value:t,onChange:E=>e(E.target.value),onFocus:L,placeholder:n,disabled:i,className:"flex-1 min-w-0 px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none disabled:opacity-50"}),O.jsx("button",{type:"button",onClick:L,disabled:i,className:"p-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 disabled:opacity-50",children:m?O.jsx(ng,{className:"w-3 h-3 animate-spin"}):O.jsx(cy,{className:"w-3 h-3"})})]}),l&&O.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto min-w-full",children:[m&&O.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:"Loading..."}),_&&O.jsx("div",{className:"px-3 py-2 text-xs text-red-500",children:_}),!m&&!_&&z.length===0&&O.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:f.length===0?"No options available":"No matches"}),!m&&!_&&z.map(E=>O.jsx("button",{type:"button",onClick:()=>{e(E),c(!1)},className:"w-full px-3 py-1.5 text-left text-sm text-neutral-800 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors whitespace-nowrap",children:E},E))]})]})}function oz(){const t=yt.c(53),{request:e,setUrl:n,executeRequest:r,sidebarCollapsed:i,toggleSidebar:a,history:l,aiPanelOpen:c,toggleAiPanel:f}=Ji();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=hy().ai?.model,t[0]=d):d=t[0];const m=!!d;let p;t[1]!==r?(p=ee=>{ee.preventDefault(),r()},t[1]=r,t[2]=p):p=t[2];const _=p,y=e?.protocol??"rest",v=e?.url??"",w=e?.executing??!1,C=fz,S=cz;let I;t[3]!==v?(I=C(v),t[3]=v,t[4]=I):I=t[4];const{host:T,service:L,method:z}=I;let E;t[5]!==z||t[6]!==L||t[7]!==n?(E=ee=>n(S(ee,L,z)),t[5]=z,t[6]=L,t[7]=n,t[8]=E):E=t[8];const M=E;let $;t[9]!==T||t[10]!==z||t[11]!==n?($=ee=>n(S(T,ee,z)),t[9]=T,t[10]=z,t[11]=n,t[12]=$):$=t[12];const q=$;let P;t[13]!==T||t[14]!==L||t[15]!==n?(P=ee=>n(S(T,L,ee)),t[13]=T,t[14]=L,t[15]=n,t[16]=P):P=t[16];const K=P,ie=y==="rest"?v.length>0:T.length>0&&L.length>0&&z.length>0;let ge;t[17]!==T?(ge=async()=>{if(!T)return[];const ee=await fetch(`/proxy/grpc/${T}`);if(!ee.ok)throw new Error("Failed to fetch services");return(await ee.json()).services.map(uz)},t[17]=T,t[18]=ge):ge=t[18];const he=ge;let re;t[19]!==T||t[20]!==L?(re=async()=>{if(!T||!L)return[];const ee=await fetch(`/proxy/grpc/${T}`);if(!ee.ok)throw new Error("Failed to fetch methods");return(await ee.json()).services.find(_e=>_e.name===L)?.methods.map(lz)??[]},t[19]=T,t[20]=L,t[21]=re):re=t[21];const F=re;let te;t[22]!==l||t[23]!==i||t[24]!==a?(te=i&&l.length>0&&O.jsx("button",{type:"button",onClick:a,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Show sidebar",children:O.jsx(TL,{className:"w-4 h-4"})}),t[22]=l,t[23]=i,t[24]=a,t[25]=te):te=t[25];let de;t[26]===Symbol.for("react.memo_cache_sentinel")?(de=O.jsx(rz,{}),t[26]=de):de=t[26];let fe;t[27]!==F||t[28]!==he||t[29]!==T||t[30]!==z||t[31]!==L||t[32]!==y||t[33]!==M||t[34]!==K||t[35]!==q||t[36]!==n||t[37]!==v?(fe=y==="rest"?O.jsx("input",{type:"text",value:v,onChange:ee=>n(ee.target.value),placeholder:"Enter request URL",className:"flex-1 px-3 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"}):O.jsxs("div",{className:"flex-1 flex items-center gap-0 min-w-0",children:[O.jsx(az,{value:T,onChange:M,placeholder:"host:port",minWidth:160}),O.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),O.jsx(vx,{value:L,onChange:q,placeholder:"service",fetchOptions:he,disabled:!T,minWidth:60}),O.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),O.jsx(vx,{value:z,onChange:K,placeholder:"method",fetchOptions:F,disabled:!T||!L,minWidth:60})]}),t[27]=F,t[28]=he,t[29]=T,t[30]=z,t[31]=L,t[32]=y,t[33]=M,t[34]=K,t[35]=q,t[36]=n,t[37]=v,t[38]=fe):fe=t[38];const k=w||!ie;let N;t[39]!==w?(N=w?O.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),t[39]=w,t[40]=N):N=t[40];let U;t[41]!==k||t[42]!==N?(U=O.jsx("button",{type:"submit",disabled:k,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Send request",children:N}),t[41]=k,t[42]=N,t[43]=U):U=t[43];let A;t[44]!==c||t[45]!==f?(A=m&&O.jsx("button",{type:"button",onClick:f,className:`p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors ${c?"text-amber-500 hover:text-amber-600":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,title:"AI Assistant",children:O.jsx(df,{className:"w-4 h-4"})}),t[44]=c,t[45]=f,t[46]=A):A=t[46];let W;return t[47]!==_||t[48]!==fe||t[49]!==U||t[50]!==A||t[51]!==te?(W=O.jsxs("form",{onSubmit:_,className:"flex items-center gap-2",children:[te,de,fe,U,A]}),t[47]=_,t[48]=fe,t[49]=U,t[50]=A,t[51]=te,t[52]=W):W=t[52],W}function lz(t){return t.name}function uz(t){return t.name}function cz(t,e,n){return t?e?n?`grpc://${t}/${e}/${n}`:`grpc://${t}/${e}`:`grpc://${t}`:"grpc://"}function fz(t){const e=t.match(/^grpc:\/\/([^/]*)(?:\/([^/]*)(?:\/([^/]*))?)?$/);return e?{host:e[1]||"",service:e[2]||"",method:e[3]||""}:{host:"",service:"",method:""}}function wx(){return Math.random().toString(36).substring(2,9)}function Zp(t){const e=yt.c(32),{items:n,onChange:r,keyPlaceholder:i,valuePlaceholder:a,keySuggestions:l}=t,c=i===void 0?"Key":i,f=a===void 0?"Value":a;let d;e[0]!==l?(d=l===void 0?[]:l,e[0]=l,e[1]=d):d=e[1];const m=d,[p,_]=J.useState(null),[y,v]=J.useState("");let w;e[2]!==n||e[3]!==r?(w=(M,$,q)=>{const P=n.map(ie=>ie.id===M?{...ie,[$]:q}:ie),K=P[P.length-1];K&&(K.key||K.value)&&P.push({id:wx(),enabled:!0,key:"",value:""}),r(P)},e[2]=n,e[3]=r,e[4]=w):w=e[4];const C=w;let S;e[5]!==n||e[6]!==r?(S=M=>{if(n.length===1){r([{id:wx(),enabled:!0,key:"",value:""}]);return}r(n.filter($=>$.id!==M))},e[5]=n,e[6]=r,e[7]=S):S=e[7];const I=S;let T;e[8]!==n||e[9]!==m?(T=M=>{const $=n.map(hz);return m.filter(q=>q.toLowerCase().includes(M.toLowerCase())&&!$.includes(q.toLowerCase()))},e[8]=n,e[9]=m,e[10]=T):T=e[10];const L=T;let z;if(e[11]!==p||e[12]!==y||e[13]!==L||e[14]!==n||e[15]!==c||e[16]!==m||e[17]!==I||e[18]!==C||e[19]!==f){let M;e[21]!==p||e[22]!==y||e[23]!==L||e[24]!==c||e[25]!==m||e[26]!==I||e[27]!==C||e[28]!==f?(M=$=>O.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${$.enabled?"":"opacity-40"}`,children:[O.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:O.jsx("button",{type:"button",onClick:()=>C($.id,"enabled",!$.enabled),className:"p-0.5 rounded transition-colors",children:$.enabled?O.jsx(uE,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):O.jsx(cE,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),O.jsx("td",{className:"px-1.5 py-1.5",children:O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"text",value:$.key,onChange:q=>{C($.id,"key",q.target.value),v(q.target.value)},onFocus:()=>{_($.id),v($.key)},onBlur:()=>{setTimeout(()=>_(null),150)},placeholder:c,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"}),m.length>0&&p===$.id&&(()=>{const q=L(y);return q.length===0?null:O.jsx("div",{className:"absolute z-50 left-0 right-0 top-full mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg max-h-48 overflow-y-auto",children:q.map(P=>O.jsx("button",{type:"button",onMouseDown:K=>{K.preventDefault(),C($.id,"key",P),_(null)},className:"w-full px-2 py-1.5 text-left text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:P},P))})})()]})}),O.jsx("td",{className:"px-1.5 py-1.5",children:O.jsx("input",{type:"text",value:$.value,onChange:q=>C($.id,"value",q.target.value),placeholder:f,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),O.jsx("td",{className:"w-8 pr-1.5 py-1.5",children:O.jsx("button",{type:"button",onClick:()=>I($.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:O.jsx(Kf,{className:"w-3.5 h-3.5"})})})]},$.id),e[21]=p,e[22]=y,e[23]=L,e[24]=c,e[25]=m,e[26]=I,e[27]=C,e[28]=f,e[29]=M):M=e[29],z=n.map(M),e[11]=p,e[12]=y,e[13]=L,e[14]=n,e[15]=c,e[16]=m,e[17]=I,e[18]=C,e[19]=f,e[20]=z}else z=e[20];let E;return e[30]!==z?(E=O.jsx("div",{children:O.jsx("table",{className:"w-full",children:O.jsx("tbody",{children:z})})}),e[30]=z,e[31]=E):E=e[31],E}function hz(t){return t.key.toLowerCase()}function dz(){return Math.random().toString(36).substring(2,9)}function xx(){return{id:dz(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}function pz(t){const e=yt.c(21),{items:n,onChange:r,keyPlaceholder:i,valuePlaceholder:a}=t,l=i===void 0?"Field":i,c=a===void 0?"Value":a;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f={},e[0]=f):f=e[0];const d=J.useRef(f);let m;e[1]!==n||e[2]!==r?(m=(z,E)=>{const M=n.map(q=>q.id===z?{...q,...E}:q),$=M[M.length-1];$&&($.key||$.value||$.file)&&M.push(xx()),r(M)},e[1]=n,e[2]=r,e[3]=m):m=e[3];const p=m;let _;e[4]!==n||e[5]!==r?(_=z=>{if(n.length===1){r([xx()]);return}r(n.filter(E=>E.id!==z))},e[4]=n,e[5]=r,e[6]=_):_=e[6];const y=_;let v;e[7]!==p?(v=(z,E)=>{const M=E.target.files?.[0]??null;E.target.value="",M&&p(z,{type:"file",file:M,fileName:M.name,value:""})},e[7]=p,e[8]=v):v=e[8];const w=v;let C;e[9]!==p?(C=z=>{p(z,{type:"text",file:null,fileName:""})},e[9]=p,e[10]=C):C=e[10];const S=C,I=mz;let T;e[11]!==S||e[12]!==w||e[13]!==n||e[14]!==l||e[15]!==y||e[16]!==p||e[17]!==c?(T=n.map(z=>O.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${z.enabled?"":"opacity-40"}`,children:[O.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:O.jsx("button",{type:"button",onClick:()=>p(z.id,{enabled:!z.enabled}),className:"p-0.5 rounded transition-colors",children:z.enabled?O.jsx(uE,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):O.jsx(cE,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),O.jsx("td",{className:"px-1.5 py-1.5 w-36",children:O.jsx("input",{type:"text",value:z.key,onChange:E=>p(z.id,{key:E.target.value}),placeholder:l,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),O.jsxs("td",{className:"px-1.5 py-1.5",children:[O.jsx("input",{type:"file",ref:E=>{d.current[z.id]=E},onChange:E=>w(z.id,E),className:"hidden"}),z.type==="file"&&z.file?O.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-neutral-100 dark:bg-white/10 rounded text-xs text-neutral-600 dark:text-neutral-300",children:[O.jsx(bx,{className:"w-3 h-3 shrink-0"}),O.jsx("span",{className:"truncate max-w-xs",children:z.fileName}),O.jsxs("span",{className:"text-neutral-400 shrink-0",children:["(",I(z.file.size),")"]}),O.jsx("button",{type:"button",onClick:()=>S(z.id),className:"p-0.5 ml-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors shrink-0",children:O.jsx(fy,{className:"w-3 h-3"})})]}):O.jsx("input",{type:"text",value:z.value,onChange:E=>p(z.id,{value:E.target.value}),placeholder:c,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})]}),O.jsx("td",{className:"w-16 pr-1.5 py-1.5",children:O.jsxs("div",{className:"flex items-center gap-0.5",children:[O.jsx("button",{type:"button",onClick:()=>d.current[z.id]?.click(),className:`p-1 rounded transition-colors ${z.type==="file"?"text-blue-500 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/5"}`,title:"Attach file",children:O.jsx(bx,{className:"w-3.5 h-3.5"})}),O.jsx("button",{type:"button",onClick:()=>y(z.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:O.jsx(Kf,{className:"w-3.5 h-3.5"})})]})})]},z.id)),e[11]=S,e[12]=w,e[13]=n,e[14]=l,e[15]=y,e[16]=p,e[17]=c,e[18]=T):T=e[18];let L;return e[19]!==T?(L=O.jsx("div",{children:O.jsx("table",{className:"w-full",children:O.jsx("tbody",{children:T})})}),e[19]=T,e[20]=L):L=e[20],L}function mz(t){return t<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:`${(t/1048576).toFixed(1)} MB`}function gz(t){const e=yt.c(12),{file:n,fileName:r,onFileChange:i}=t,a=J.useRef(null);let l;e[0]!==i?(l=v=>{i(v,v?.name??"")},e[0]=i,e[1]=l):l=e[1];const c=l,f=_z,d=yz;let m;e[2]!==c?(m=O.jsx("input",{type:"file",ref:a,onChange:v=>c(v.target.files?.[0]??null),className:"hidden"}),e[2]=c,e[3]=m):m=e[3];let p;e[4]!==n||e[5]!==r||e[6]!==i?(p=n?O.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:[O.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-white/10 rounded-lg text-xl",children:d(n.type)}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(bL,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400 shrink-0"}),O.jsx("p",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-100 truncate",children:r})]}),O.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[O.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:f(n.size)}),O.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:""}),O.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:n.type||"application/octet-stream"})]})]}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx("button",{type:"button",onClick:()=>a.current?.click(),className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:"Change"}),O.jsx("button",{type:"button",onClick:()=>i(null,""),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:O.jsx(fy,{className:"w-4 h-4"})})]})]}):O.jsxs("div",{onClick:()=>a.current?.click(),className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-neutral-300 dark:border-white/20 rounded-lg cursor-pointer hover:border-neutral-400 dark:hover:border-white/30 hover:bg-neutral-50 dark:hover:bg-white/5 transition-colors",children:[O.jsx(VL,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500 mb-2"}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-1",children:"Click to select a file"}),O.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"or drag and drop"})]}),e[4]=n,e[5]=r,e[6]=i,e[7]=p):p=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=O.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"The file will be sent as the raw request body. Content-Type will be set automatically based on the file type."}),e[8]=_):_=e[8];let y;return e[9]!==m||e[10]!==p?(y=O.jsxs("div",{className:"space-y-3",children:[m,p,_]}),e[9]=m,e[10]=p,e[11]=y):y=e[11],y}function yz(t){return t.startsWith("image/")?"":t.startsWith("video/")?"":t.startsWith("audio/")?"":t.includes("pdf")?"":t.includes("zip")||t.includes("tar")||t.includes("gzip")?"":t.includes("json")||t.includes("xml")||t.includes("text")?"":""}function _z(t){return t<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:t<1073741824?`${(t/1048576).toFixed(1)} MB`:`${(t/1073741824).toFixed(2)} GB`}function bz(t){const e=yt.c(9),{value:n,onChange:r,placeholder:i}=t,a=J.useRef(null);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const m=a.current;if(!m)return;m.style.height="auto";const p=Math.min(m.scrollHeight,160);m.style.height=`${p}px`},e[0]=l):l=e[0];let c;e[1]!==n?(c=[n],e[1]=n,e[2]=c):c=e[2],J.useEffect(l,c);let f;e[3]!==r?(f=m=>r(m.target.value),e[3]=r,e[4]=f):f=e[4];let d;return e[5]!==i||e[6]!==f||e[7]!==n?(d=O.jsx("textarea",{ref:a,value:n,onChange:f,placeholder:i,spellCheck:!1,rows:3,className:"w-full font-mono text-xs text-neutral-800 dark:text-neutral-100 bg-transparent focus:outline-none placeholder-neutral-400 dark:placeholder-neutral-600 resize-none overflow-auto"}),e[5]=i,e[6]=f,e[7]=n,e[8]=d):d=e[8],d}const vz=[{type:"file_base64",label:"File (Base64)",description:"Select a file to encode",icon:O.jsx(_x,{className:"w-3.5 h-3.5"})},{type:"file_dataurl",label:"File (Data URL)",description:"File as data:... URL",icon:O.jsx(_x,{className:"w-3.5 h-3.5"})},{type:"base64",label:"Text (Base64)",description:"Text to encode",icon:O.jsx(EL,{className:"w-3.5 h-3.5"})},{type:"timestamp",label:"Timestamp",description:"Unix timestamp",icon:O.jsx(mL,{className:"w-3.5 h-3.5"})},{type:"uuid",label:"UUID",description:"Random UUID",icon:O.jsx(df,{className:"w-3.5 h-3.5"})},{type:"random_string",label:"Random String",description:"16-char random",icon:O.jsx(jL,{className:"w-3.5 h-3.5"})}];function wz(){return Math.random().toString(36).substring(2,9)}function xc(t){const e=[],n=/\{\{(\w+):([^{}]+)\}\}/g;let r;for(;(r=n.exec(t))!==null;)e.push({start:r.index,end:r.index+r[0].length,type:r[1],id:r[2],full:r[0]});return e}function ol(t){if(t.nodeType===Node.TEXT_NODE)return(t.textContent||"").replace(/\u200B/g,"");if(t.classList?.contains("variable-chip"))return t.dataset.marker||"";if(t.tagName==="BR")return`
`;let e="";const n=t.tagName==="DIV"||t.tagName==="P";for(const r of t.childNodes)e+=ol(r);return n&&e&&!e.endsWith(`
`)&&(e+=`
`),e}function xz(t,e){const n=e.getRangeAt(0),r=n.startContainer,i=n.startOffset;let a="",l=!1;function c(f){if(!l){if(f===r){f.nodeType===Node.TEXT_NODE&&(a+=(f.textContent||"").slice(0,i).replace(/\u200B/g,"")),l=!0;return}if(f.nodeType===Node.TEXT_NODE)a+=(f.textContent||"").replace(/\u200B/g,"");else if(f.nodeType===Node.ELEMENT_NODE){const d=f;if(d.classList.contains("variable-chip")){if(d.contains(r)){l=!0;return}a+=d.dataset.marker||""}else if(d.tagName==="BR")a+=`
`;else if(d.tagName==="DIV"||d.tagName==="P"){a&&!a.endsWith(`
`)&&(a+=`
`);for(const m of d.childNodes)if(c(m),l)return}else for(const m of d.childNodes)if(c(m),l)return}}}return c(t),a}function Sz({value:t,onChange:e,variables:n,onVariablesChange:r,placeholder:i}){const a=J.useRef(null),l=J.useRef(null),c=J.useRef(""),f=J.useRef(!1),d=J.useRef(!1),m=J.useRef(!1),[p,_]=J.useState(!1),[y,v]=J.useState({top:0,left:0}),[w,C]=J.useState(null),[S,I]=J.useState(""),T=J.useRef(!1),L=J.useRef(null),z=J.useMemo(()=>{if(!t.trim())return{valid:!0,empty:!0};try{let k=t;return k=k.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),k=k.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(k),{valid:!0,empty:!1}}catch(k){return{valid:!1,empty:!1,error:k instanceof Error?k.message:"Invalid JSON"}}},[t]),[E,M]=J.useState(!1),$=J.useMemo(()=>eg(t,n,{missingDataPlaceholder:"[no data]"}),[t,n]);J.useEffect(()=>(L.current&&(clearTimeout(L.current),L.current=null),z.valid&&!z.empty&&T.current&&(L.current=setTimeout(()=>{try{let k=t;k=k.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),k=k.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(k);const N=new Map;let U=t,A=0;U=U.replace(/"\{\{[^{}]+\}\}"/g,ue=>{const oe=`"__VAR_${A++}__"`;return N.set(oe,ue),oe}),U=U.replace(/\{\{[^{}]+\}\}/g,ue=>{const oe=`"__VAR_${A++}__"`;return N.set(oe,ue),oe});const W=JSON.parse(U);let ee=JSON.stringify(W,null,2);ee=ee.replace(/\{\}/g,`{
}`),ee=ee.replace(/\[\]/g,`[
]`),N.forEach((ue,oe)=>{ee=ee.replace(oe,ue)}),ee!==t&&(d.current=!0,e(ee))}catch{}},500)),T.current=!z.valid,()=>{L.current&&clearTimeout(L.current)}),[z.valid,z.empty,t,e]);const q=J.useCallback(()=>{const k=a.current;if(!k)return;const N=xc(t);k.innerHTML="";let U=0;for(const W of N){const ee=t.slice(U,W.start);ee&&P(k,ee);const ue=K(W.type,W.id,W.full);k.appendChild(ue),k.appendChild(document.createTextNode("")),U=W.end}const A=t.slice(U);A&&P(k,A),k.childNodes.length===0&&k.appendChild(document.createElement("br")),c.current=t},[t,n]);function P(k,N){N.split(`
`).forEach((A,W)=>{W>0&&k.appendChild(document.createElement("br")),A&&k.appendChild(document.createTextNode(A))})}function K(k,N,U){const A=n.find(ye=>ye.type===k&&ye.id===N),W=k==="file_base64"||k==="file_dataurl"||k==="base64",ee=A&&A.data,ue=document.createElement("span");ue.contentEditable="false",ue.className=`variable-chip inline-flex items-center gap-1 px-1.5 py-0.5 mx-0.5 rounded text-xs font-medium align-baseline select-none ${W&&!ee?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-blue-500/20 text-blue-300 border border-blue-500/30"} ${W?"cursor-pointer hover:bg-blue-500/30":""}`,ue.dataset.marker=U,ue.dataset.variableType=k,ue.dataset.variableId=N;const oe=document.createElement("span");oe.className="chip-icon",oe.innerHTML=kz(k),ue.appendChild(oe);const _e=document.createElement("span");return _e.className="chip-label",_e.textContent=Ez(k,N,A),ue.appendChild(_e),ue}J.useEffect(()=>{E||q()},[E]),J.useEffect(()=>{if(!f.current&&t!==c.current&&(q(),d.current&&a.current)){d.current=!1;const k=a.current,N=document.createRange(),U=window.getSelection();N.selectNodeContents(k),N.collapse(!1),U?.removeAllRanges(),U?.addRange(N)}f.current=!1},[t,q]),J.useEffect(()=>{m.current?m.current=!1:q()},[n]);const ie=J.useCallback(()=>{const k=a.current;if(!k)return;const N=ol(k),U=window.getSelection();if(U&&U.rangeCount>0){const A=U.getRangeAt(0);if(A.startContainer.nodeType===Node.TEXT_NODE){const W=A.startContainer.textContent||"",ee=A.startOffset;if(ee>=2&&W.slice(ee-2,ee)==="{{"){const ue=A.getBoundingClientRect();v({top:ue.bottom+4,left:ue.left}),_(!0)}else _(!1)}}if(N!==c.current){c.current=N,f.current=!0,e(N);const A=new Set(xc(N).map(ee=>ee.id)),W=n.filter(ee=>A.has(ee.id));W.length!==n.length&&(m.current=!0,r(W))}},[e,n,r]),ge=J.useCallback(k=>{k.preventDefault();const N=k.clipboardData.getData("text/plain");document.execCommand("insertText",!1,N)},[]),he=J.useCallback(k=>{if(p){k.key==="Escape"&&(_(!1),k.preventDefault());return}if(k.key==="Backspace"){const N=window.getSelection();if(N&&N.rangeCount>0&&N.isCollapsed){const U=N.getRangeAt(0),A=U.startContainer,W=U.startOffset;if(A.nodeType===Node.TEXT_NODE&&W===1&&A.textContent?.charAt(0)===""){const ee=A.previousSibling;if(ee&&ee.classList?.contains("variable-chip")){k.preventDefault();const ue=ee,oe=ue.parentNode;oe?.removeChild(ue),oe?.removeChild(A);const _e=a.current;if(_e){const ye=ol(_e);c.current=ye,f.current=!0,e(ye);const Ke=new Set(xc(ye).map(et=>et.id)),We=n.filter(et=>Ke.has(et.id));We.length!==n.length&&(m.current=!0,r(We))}return}}if(W===0){let ee=A.previousSibling;if(ee?.nodeType===Node.TEXT_NODE&&ee.textContent===""&&(ee=ee.previousSibling),ee&&ee.classList?.contains("variable-chip")){k.preventDefault();const ue=ee,oe=ue.nextSibling,_e=ue.parentNode;_e?.removeChild(ue),oe?.nodeType===Node.TEXT_NODE&&oe.textContent===""&&_e?.removeChild(oe);const ye=a.current;if(ye){const Ke=ol(ye);c.current=Ke,f.current=!0,e(Ke);const We=new Set(xc(Ke).map(ft=>ft.id)),et=n.filter(ft=>We.has(ft.id));et.length!==n.length&&(m.current=!0,r(et))}return}}}}if(k.key==="Tab"&&(k.preventDefault(),document.execCommand("insertText",!1,"  ")),k.key==="Enter"){k.preventDefault();const N=window.getSelection();if(!N||N.rangeCount===0){document.execCommand("insertText",!1,`
`);return}const U=a.current;if(!U)return;const A=xz(U,N),W=A.lastIndexOf(`
`),ee=A.slice(W+1),ue=ee.match(/^(\s*)/);let oe=ue?ue[1]:"";const ye=ee.trimEnd().slice(-1);(ye==="{"||ye==="[")&&(oe+="  "),document.execCommand("insertText",!1,`
`+oe)}},[p,n,e,r]),re=J.useCallback((k,N)=>{const U=document.createElement("input");U.type="file",U.onchange=A=>{const W=A.target.files?.[0];if(!W)return;const ee=new FileReader;ee.onload=()=>{const ue=ee.result.split(",")[1],oe=n.find(_e=>_e.id===N);r(oe?n.map(_e=>_e.id===oe.id?{..._e,data:ue,mimeType:W.type,name:W.name}:_e):[...n,{id:N,type:k,name:W.name,data:ue,mimeType:W.type}])},ee.readAsDataURL(W)},U.click()},[n,r]),F=J.useCallback(k=>{const U=k.target.closest(".variable-chip");if(U){const A=U.dataset.variableType,W=U.dataset.variableId;if(A==="file_base64"||A==="file_dataurl")re(A,W),k.preventDefault(),k.stopPropagation();else if(A==="base64"){const ee=U.getBoundingClientRect(),ue=n.find(oe=>oe.id===W);I(ue?.data||""),C({variableKey:`${A}:${W}`,rect:ee}),k.preventDefault(),k.stopPropagation()}}else C(null)},[n,re]),te=J.useCallback(k=>{_(!1);const N=a.current;if(!N)return;const U=window.getSelection();if(!U||U.rangeCount===0)return;const A=U.getRangeAt(0);if(A.startContainer.nodeType!==Node.TEXT_NODE)return;const W=A.startContainer,ee=A.startOffset,ue=W.textContent||"";W.textContent=ue.slice(0,ee-2)+ue.slice(ee);const oe=wz(),_e=k==="file_base64"||k==="file_dataurl"?"file":k,ye=`{{${k}:${oe}}}`,Ke=K(k,oe,ye),We=ee-2;A.setStart(W,We),A.setEnd(W,We),A.insertNode(Ke);const et=document.createTextNode("");Ke.after(et),A.setStart(et,1),A.setEnd(et,1),U.removeAllRanges(),U.addRange(A),m.current=!0,r([...n,{id:oe,type:k,name:_e}]);const ft=ol(N);c.current=ft,f.current=!0,e(ft),(k==="file_base64"||k==="file_dataurl")&&setTimeout(()=>re(k,oe),0)},[n,r,e]),de=J.useCallback(()=>{if(!w)return;const[k,N]=w.variableKey.split(":"),U=n.find(A=>A.id===N);r(U?n.map(A=>A.id===U.id?{...A,data:S}:A):[...n,{id:N,type:k,name:k,data:S}]),C(null),a.current?.focus()},[w,S,n,r]);J.useEffect(()=>{const k=U=>{U.key==="Escape"&&(_(!1),C(null))},N=U=>{l.current&&!l.current.contains(U.target)&&(_(!1),C(null))};return document.addEventListener("keydown",k),document.addEventListener("mousedown",N),()=>{document.removeEventListener("keydown",k),document.removeEventListener("mousedown",N)}},[]);const fe=J.useMemo(()=>{if(!w||!l.current)return{top:0,left:0};const k=l.current.getBoundingClientRect();return{top:w.rect.bottom-k.top+4,left:Math.max(0,w.rect.left-k.left)}},[w]);return O.jsxs("div",{ref:l,className:"flex flex-col h-full min-h-50 max-h-[60vh] relative overflow-hidden",children:[E?O.jsx("pre",{className:"flex-1 min-h-0 p-3 font-mono text-sm text-zinc-100 overflow-y-auto whitespace-pre-wrap wrap-break-word",children:$}):O.jsxs("div",{className:"flex-1 min-h-0 relative",children:[O.jsx("div",{ref:a,contentEditable:!0,suppressContentEditableWarning:!0,onInput:ie,onPaste:ge,onKeyDown:he,onClick:F,className:"h-full p-3 font-mono text-sm text-zinc-100 outline-none overflow-y-auto whitespace-pre-wrap wrap-break-word"}),!t&&i&&O.jsx("div",{className:"absolute top-3 left-3 font-mono text-sm text-zinc-500 pointer-events-none whitespace-pre-wrap",children:i})]}),O.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 py-1.5 text-xs shrink-0",children:[O.jsx("button",{onClick:()=>M(!E),className:`transition-colors flex items-center gap-1 ${E?"text-blue-400 hover:text-blue-300":"text-zinc-500 hover:text-zinc-300"}`,title:E?"Show editor":"Show resolved JSON",children:O.jsx(yL,{className:"w-3.5 h-3.5"})}),z.valid?O.jsx("span",{className:"text-emerald-500",children:"Valid JSON"}):O.jsx("span",{className:"text-red-400",title:z.error,children:"Invalid JSON"})]}),p&&O.jsx("div",{className:"fixed z-50 w-56 bg-zinc-800 border border-zinc-600 rounded-lg shadow-xl py-1",style:{top:y.top,left:y.left},children:vz.map(k=>O.jsxs("button",{onClick:()=>te(k.type),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors",children:[O.jsx("span",{className:"text-zinc-400",children:k.icon}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("div",{className:"text-sm text-zinc-200",children:k.label}),O.jsx("div",{className:"text-xs text-zinc-500",children:k.description})]})]},k.type))}),w&&(()=>{const[k]=w.variableKey.split(":");return O.jsx("div",{className:"absolute z-50 bg-zinc-800/95 border border-zinc-700/50 rounded shadow-lg p-1.5 w-44",style:fe,children:k==="base64"?O.jsxs("div",{className:"flex gap-1",children:[O.jsx("input",{type:"text",value:S,onChange:N=>I(N.target.value),onKeyDown:N=>N.key==="Enter"&&de(),placeholder:"Text to encode...",className:"flex-1 min-w-0 px-1.5 py-0.5 text-xs bg-transparent text-zinc-200 rounded border-none focus:outline-none placeholder:text-zinc-500",autoFocus:!0}),O.jsx("button",{onClick:de,className:"p-1 text-zinc-400 hover:text-zinc-200 transition-colors",children:O.jsx(aL,{className:"w-3 h-3"})})]}):null})})()]})}function Ez(t,e,n){switch(t){case"file_base64":case"file_dataurl":return n?.data?n.name||"file":"Select file...";default:return n?.name||t}}function kz(t){const e="w-3 h-3";switch(t){case"file_base64":case"file_dataurl":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>`;case"base64":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg>`;case"timestamp":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`;case"uuid":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H1"/></svg>`;case"random_string":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6c.8-1.1 2-1.7 3.3-1.7H22"/><path d="M2 6h1.4c1.3 0 2.5.6 3.3 1.7l14.2 12.6c.8 1.1 2 1.7 3.3 1.7H22"/></svg>`;default:return""}}const Sx=[{value:"none",label:"None"},{value:"json",label:"JSON"},{value:"form-urlencoded",label:"Form"},{value:"form-data",label:"Form Data"},{value:"binary",label:"Binary"},{value:"raw",label:"Raw"}];function fE(){return Math.random().toString(36).substring(2,9)}function Cz(){return{id:fE(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}const Tz=["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Authorization","Cache-Control","Connection","Content-Disposition","Content-Encoding","Content-Length","Content-Type","Cookie","Date","ETag","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","Trailer","Transfer-Encoding","Upgrade","User-Agent","Via","Warning","X-Api-Key","X-Correlation-ID","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","X-Request-ID","X-Requested-With"];function Az(){const t=yt.c(63),[e,n]=J.useState("body"),{request:r,setHeaders:i,setQuery:a,setBody:l,setVariables:c}=Ji(),f=r?.protocol??"rest";let d;t[0]!==r?.headers?(d=r?.headers??[],t[0]=r?.headers,t[1]=d):d=t[1];const m=d;let p;t[2]!==r?.query?(p=r?.query??[],t[2]=r?.query,t[3]=p):p=t[3];const _=p;let y;t[4]!==r?.body?(y=r?.body??{type:"none"},t[4]=r?.body,t[5]=y):y=t[5];const v=y;let w;t[6]!==r?.variables?(w=r?.variables??[],t[6]=r?.variables,t[7]=w):w=t[7];const C=w;let S,I;t[8]!==v.type||t[9]!==f||t[10]!==l?(S=()=>{f==="grpc"&&v.type!=="json"&&l({type:"json",content:""})},I=[f,v.type,l],t[8]=v.type,t[9]=f,t[10]=l,t[11]=S,t[12]=I):(S=t[11],I=t[12]),J.useEffect(S,I);let T;t[13]!==v.content||t[14]!==v.data||t[15]!==v.file||t[16]!==v.fileName||t[17]!==v.type||t[18]!==l?(T=de=>{e:switch(de){case"none":{l({type:"none"});break e}case"json":{l({type:"json",content:v.type==="json"?v.content:""});break e}case"raw":{l({type:"raw",content:v.type==="raw"?v.content:""});break e}case"form-urlencoded":{l({type:"form-urlencoded",data:v.type==="form-urlencoded"?v.data:[{id:fE(),enabled:!0,key:"",value:""}]});break e}case"form-data":{l({type:"form-data",data:v.type==="form-data"?v.data:[Cz()]});break e}case"binary":l({type:"binary",file:v.type==="binary"?v.file:null,fileName:v.type==="binary"?v.fileName:""})}},t[13]=v.content,t[14]=v.data,t[15]=v.file,t[16]=v.fileName,t[17]=v.type,t[18]=l,t[19]=T):T=t[19];const L=T;let z;t[20]!==m||t[21]!==f||t[22]!==_?(z=f==="grpc"?[{id:"headers",label:"Headers",count:m.filter(Dz).length},{id:"body",label:"Body"}]:[{id:"params",label:"Params",count:_.filter(Nz).length},{id:"headers",label:"Headers",count:m.filter(Iz).length},{id:"body",label:"Body"}],t[20]=m,t[21]=f,t[22]=_,t[23]=z):z=t[23];const E=z;let M,$,q,P,K;if(t[24]!==e||t[25]!==v.type||t[26]!==L||t[27]!==f||t[28]!==E){const de=f==="grpc"?Sx.filter(Oz):Sx;let fe;e:{if(f==="grpc"&&e==="params"){fe="body";break e}fe=e}M=fe,q="space-y-3",P="flex items-center gap-2",t[34]!==M||t[35]!==E?(K=O.jsx("div",{role:"tablist",className:"inline-flex gap-1",children:E.map(k=>O.jsxs("button",{role:"tab",onClick:()=>n(k.id),className:`px-2 py-1 text-[11px] font-medium rounded-md transition-all ${M===k.id?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/5"}`,children:[k.label,k.count!==void 0&&k.count>0&&O.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-[9px] bg-neutral-200 dark:bg-white/10 text-neutral-600 dark:text-neutral-300 rounded-full",children:k.count})]},k.id))}),t[34]=M,t[35]=E,t[36]=K):K=t[36],$=M==="body"&&de.length>1&&O.jsx("select",{value:v.type,onChange:k=>L(k.target.value),className:"h-6 px-2 text-[11px] font-medium bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 rounded-md shadow-sm border-0 focus:outline-none focus:ring-2 focus:ring-neutral-300 dark:focus:ring-white/20 cursor-pointer transition-all min-w-30",children:de.map(Rz)}),t[24]=e,t[25]=v.type,t[26]=L,t[27]=f,t[28]=E,t[29]=M,t[30]=$,t[31]=q,t[32]=P,t[33]=K}else M=t[29],$=t[30],q=t[31],P=t[32],K=t[33];let ie;t[37]!==$||t[38]!==P||t[39]!==K?(ie=O.jsxs("div",{className:P,children:[K,$]}),t[37]=$,t[38]=P,t[39]=K,t[40]=ie):ie=t[40];let ge;t[41]!==M||t[42]!==_||t[43]!==a?(ge=M==="params"&&O.jsx(Zp,{items:_,onChange:a,keyPlaceholder:"Parameter",valuePlaceholder:"Value"}),t[41]=M,t[42]=_,t[43]=a,t[44]=ge):ge=t[44];let he;t[45]!==M||t[46]!==m||t[47]!==i?(he=M==="headers"&&O.jsx(Zp,{items:m,onChange:i,keyPlaceholder:"Header",valuePlaceholder:"Value",keySuggestions:Tz}),t[45]=M,t[46]=m,t[47]=i,t[48]=he):he=t[48];let re;t[49]!==v||t[50]!==M||t[51]!==l||t[52]!==c||t[53]!==C?(re=M==="body"&&v.type!=="none"&&O.jsxs(O.Fragment,{children:[v.type==="json"&&O.jsx(Sz,{value:v.content,onChange:de=>l({...v,content:de}),variables:C,onVariablesChange:c,placeholder:`{
  "key": "value"
}`}),v.type==="raw"&&O.jsx(bz,{value:v.content,onChange:de=>l({...v,content:de}),language:"text",placeholder:"Enter raw body content"}),v.type==="form-urlencoded"&&O.jsx(Zp,{items:v.data,onChange:de=>l({...v,data:de}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),v.type==="form-data"&&O.jsx(pz,{items:v.data,onChange:de=>l({...v,data:de}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),v.type==="binary"&&O.jsx(gz,{file:v.file,fileName:v.fileName,onFileChange:(de,fe)=>l({...v,file:de,fileName:fe})})]}),t[49]=v,t[50]=M,t[51]=l,t[52]=c,t[53]=C,t[54]=re):re=t[54];let F;t[55]!==ge||t[56]!==he||t[57]!==re?(F=O.jsxs("div",{children:[ge,he,re]}),t[55]=ge,t[56]=he,t[57]=re,t[58]=F):F=t[58];let te;return t[59]!==q||t[60]!==ie||t[61]!==F?(te=O.jsxs("div",{className:q,children:[ie,F]}),t[59]=q,t[60]=ie,t[61]=F,t[62]=te):te=t[62],te}function Rz(t){return O.jsx("option",{value:t.value,className:"bg-white dark:bg-[#1a1a1a]",children:t.label},t.value)}function Oz(t){return t.value==="json"}function Iz(t){return t.key}function Nz(t){return t.key}function Dz(t){return t.key}const Mz="modulepreload",Lz=function(t){return"/"+t},Ex={},D=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var l=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");i=d(n.map(m=>{if(m=Lz(m),m in Ex)return;Ex[m]=!0;const p=m.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Mz,p||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((v,w)=>{y.addEventListener("load",v),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})};let Nt=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function zz(t){return dy(t)}function dy(t){return Array.isArray(t)?Pz(t):t instanceof RegExp?t:typeof t=="object"?jz(t):t}function Pz(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=dy(t[n]);return e}function jz(t){let e={};for(let n in t)e[n]=dy(t[n]);return e}function hE(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function dE(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?dE(t.substring(0,t.length-1)):t.substr(~e+1)}var Qp=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Sc=class{static hasCaptures(t){return t===null?!1:(Qp.lastIndex=0,Qp.test(t))}static replaceCaptures(t,e,n){return t.replace(Qp,(r,i,a,l)=>{let c=n[parseInt(i||a,10)];if(c){let f=e.substring(c.start,c.end);for(;f[0]===".";)f=f.substring(1);switch(l){case"downcase":return f.toLowerCase();case"upcase":return f.toUpperCase();default:return f}}else return r})}};function pE(t,e){return t<e?-1:t>e?1:0}function mE(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let a=pE(t[i],e[i]);if(a!==0)return a}return 0}return n-r}function kx(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function gE(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var yE=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},pf=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme($z(t),e)}static createFromParsedTheme(t,e){return Fz(t,e)}_cachedMatchRoot=new yE(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(i=>Bz(t.parent,i.parentScopes));return r?new _E(r.fontStyle,r.foreground,r.background):null}},Jp=class Vc{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new Vc(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new Vc(n,e[r]);return n}push(e){return new Vc(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function Bz(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!Uz(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function Uz(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var _E=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function $z(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,a=e.length;i<a;i++){let l=e[i];if(!l.settings)continue;let c;if(typeof l.scope=="string"){let p=l.scope;p=p.replace(/^[,]+/,""),p=p.replace(/[,]+$/,""),c=p.split(",")}else Array.isArray(l.scope)?c=l.scope:c=[""];let f=-1;if(typeof l.settings.fontStyle=="string"){f=0;let p=l.settings.fontStyle.split(" ");for(let _=0,y=p.length;_<y;_++)switch(p[_]){case"italic":f=f|1;break;case"bold":f=f|2;break;case"underline":f=f|4;break;case"strikethrough":f=f|8;break}}let d=null;typeof l.settings.foreground=="string"&&kx(l.settings.foreground)&&(d=l.settings.foreground);let m=null;typeof l.settings.background=="string"&&kx(l.settings.background)&&(m=l.settings.background);for(let p=0,_=c.length;p<_;p++){let v=c[p].trim().split(" "),w=v[v.length-1],C=null;v.length>1&&(C=v.slice(0,v.length-1),C.reverse()),n[r++]=new qz(w,C,i,f,d,m)}}return n}var qz=class{constructor(t,e,n,r,i,a){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=a}},mn=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(mn||{});function Fz(t,e){t.sort((f,d)=>{let m=pE(f.scope,d.scope);return m!==0||(m=mE(f.parentScopes,d.parentScopes),m!==0)?m:f.index-d.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let f=t.shift();f.fontStyle!==-1&&(n=f.fontStyle),f.foreground!==null&&(r=f.foreground),f.background!==null&&(i=f.background)}let a=new Vz(e),l=new _E(n,a.getId(r),a.getId(i)),c=new Gz(new rg(0,null,-1,0,0),[]);for(let f=0,d=t.length;f<d;f++){let m=t[f];c.insert(0,m.scope,m.parentScopes,m.fontStyle,a.getId(m.foreground),a.getId(m.background))}return new pf(a,l,c)}var Vz=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Hz=Object.freeze([]),rg=class bE{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,r,i,a){this.scopeDepth=e,this.parentScopes=n||Hz,this.fontStyle=r,this.foreground=i,this.background=a}clone(){return new bE(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},Gz=class ig{constructor(e,n=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const a=n.parentScopes[i].length-e.parentScopes[r].length;if(a!==0)return a;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,a;if(r===-1?(i=e,a=""):(i=e.substring(0,r),a=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(a)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(ig._cmpBySpecificity),n}insert(e,n,r,i,a,l){if(n===""){this._doInsertHere(e,r,i,a,l);return}let c=n.indexOf("."),f,d;c===-1?(f=n,d=""):(f=n.substring(0,c),d=n.substring(c+1));let m;this._children.hasOwnProperty(f)?m=this._children[f]:(m=new ig(this._mainRule.clone(),rg.cloneArr(this._rulesWithParentScopes)),this._children[f]=m),m.insert(e+1,d,r,i,a,l)}_doInsertHere(e,n,r,i,a){if(n===null){this._mainRule.acceptOverwrite(e,r,i,a);return}for(let l=0,c=this._rulesWithParentScopes.length;l<c;l++){let f=this._rulesWithParentScopes[l];if(mE(f.parentScopes,n)===0){f.acceptOverwrite(e,r,i,a);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),a===0&&(a=this._mainRule.background),this._rulesWithParentScopes.push(new rg(e,n,r,i,a))}},Va=class hr{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=hr.getLanguageId(e),r=hr.getTokenType(e),i=hr.getFontStyle(e),a=hr.getForeground(e),l=hr.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:a,background:l})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,a,l,c){let f=hr.getLanguageId(e),d=hr.getTokenType(e),m=hr.containsBalancedBrackets(e)?1:0,p=hr.getFontStyle(e),_=hr.getForeground(e),y=hr.getBackground(e);return n!==0&&(f=n),r!==8&&(d=r),i!==null&&(m=i?1:0),a!==-1&&(p=a),l!==0&&(_=l),c!==0&&(y=c),(f<<0|d<<8|m<<10|p<<11|_<<15|y<<24)>>>0}};function mf(t,e){const n=[],r=Kz(t);let i=r.next();for(;i!==null;){let f=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":f=1;break;case"L":f=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let d=l();if(n.push({matcher:d,priority:f}),i!==",")break;i=r.next()}return n;function a(){if(i==="-"){i=r.next();const f=a();return d=>!!f&&!f(d)}if(i==="("){i=r.next();const f=c();return i===")"&&(i=r.next()),f}if(Cx(i)){const f=[];do f.push(i),i=r.next();while(Cx(i));return d=>e(f,d)}return null}function l(){const f=[];let d=a();for(;d;)f.push(d),d=a();return m=>f.every(p=>p(m))}function c(){const f=[];let d=l();for(;d&&(f.push(d),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");d=l()}return m=>f.some(p=>p(m))}}function Cx(t){return!!t&&!!t.match(/[\w\.:]+/)}function Kz(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function vE(t){typeof t.dispose=="function"&&t.dispose()}var Ll=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Zz=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Qz=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Jz=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Ll(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new Qz;for(const n of t)Yz(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof Ll){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Yz(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const a=n.lookup(e);t instanceof Ll?Hc({baseGrammar:a,selfGrammar:i},r):sg(t.ruleName,{baseGrammar:a,selfGrammar:i,repository:i.repository},r);const l=n.injections(t.scopeName);if(l)for(const c of l)r.add(new Ll(c))}function sg(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];gf([r],e,n)}}function Hc(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&gf(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&gf(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function gf(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?hE({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&gf(r.patterns,{...e,repository:i},n);const a=r.include;if(!a)continue;const l=wE(a);switch(l.kind){case 0:Hc({...e,selfGrammar:e.baseGrammar},n);break;case 1:Hc(e,n);break;case 2:sg(l.ruleName,{...e,repository:i},n);break;case 3:case 4:const c=l.scopeName===e.selfGrammar.scopeName?e.selfGrammar:l.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(c){const f={baseGrammar:e.baseGrammar,selfGrammar:c,repository:i};l.kind===4?sg(l.ruleName,f,n):Hc(f,n)}else l.kind===4?n.add(new Zz(l.scopeName,l.ruleName)):n.add(new Ll(l.scopeName));break}}}var Xz=class{kind=0},Wz=class{kind=1},e4=class{constructor(t){this.ruleName=t}kind=2},t4=class{constructor(t){this.scopeName=t}kind=3},n4=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function wE(t){if(t==="$base")return new Xz;if(t==="$self")return new Wz;const e=t.indexOf("#");if(e===-1)return new t4(t);if(e===0)return new e4(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new n4(n,r)}}var r4=/\\(\d+)/,Tx=/\\(\d+)/g,i4=-1,xE=-2;var Zl=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,r){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Sc.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Sc.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${dE(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Sc.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Sc.replaceCaptures(this._contentName,t,e)}},s4=class extends Zl{retokenizeCapturedWithRuleId;constructor(t,e,n,r,i){super(t,e,n,r),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,r){throw new Error("Not supported!")}},a4=class extends Zl{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,null),this._match=new zl(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Pl,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Ax=class extends Zl{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,r),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Pl,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ag=class extends Zl{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i,a,l,c,f,d){super(t,e,n,r),this._begin=new zl(i,this.id),this.beginCaptures=a,this._end=new zl(l||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=f||!1,this.patterns=d.patterns,this.hasMissingPatterns=d.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Pl;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},yf=class extends Zl{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,r,i,a,l,c,f){super(t,e,n,r),this._begin=new zl(i,this.id),this.beginCaptures=a,this.whileCaptures=c,this._while=new zl(l,xE),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Pl;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Pl,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},SE=class dn{static createCaptureRule(e,n,r,i,a){return e.registerRule(l=>new s4(n,l,r,i,a))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new a4(e.$vscodeTextmateLocation,e.id,e.name,e.match,dn._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=hE({},r,e.repository));let a=e.patterns;return typeof a>"u"&&e.include&&(a=[{include:e.include}]),new Ax(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,dn._compilePatterns(a,n,r))}return e.while?new yf(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,dn._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,dn._compileCaptures(e.whileCaptures||e.captures,n,r),dn._compilePatterns(e.patterns,n,r)):new ag(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,dn._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,dn._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,dn._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let a=0;for(const l in e){if(l==="$vscodeTextmateLocation")continue;const c=parseInt(l,10);c>a&&(a=c)}for(let l=0;l<=a;l++)i[l]=null;for(const l in e){if(l==="$vscodeTextmateLocation")continue;const c=parseInt(l,10);let f=0;e[l].patterns&&(f=dn.getCompiledRuleId(e[l],n,r)),i[c]=dn.createCaptureRule(n,e[l].$vscodeTextmateLocation,e[l].name,e[l].contentName,f)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let f=-1;if(c.include){const d=wE(c.include);switch(d.kind){case 0:case 1:f=dn.getCompiledRuleId(r[c.include],n,r);break;case 2:let m=r[d.ruleName];m&&(f=dn.getCompiledRuleId(m,n,r));break;case 3:case 4:const p=d.scopeName,_=d.kind===4?d.ruleName:null,y=n.getExternalGrammar(p,r);if(y)if(_){let v=y.repository[_];v&&(f=dn.getCompiledRuleId(v,n,y.repository))}else f=dn.getCompiledRuleId(y.repository.$self,n,y.repository);break}}else f=dn.getCompiledRuleId(c,n,r);if(f!==-1){const d=n.getRule(f);let m=!1;if((d instanceof Ax||d instanceof ag||d instanceof yf)&&d.hasMissingPatterns&&d.patterns.length===0&&(m=!0),m)continue;i.push(f)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},zl=class EE{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const r=e.length;let i=0,a=[],l=!1;for(let c=0;c<r;c++)if(e.charAt(c)==="\\"&&c+1<r){const d=e.charAt(c+1);d==="z"?(a.push(e.substring(i,c)),a.push("$(?!\\n)(?<!\\n)"),i=c+2):(d==="A"||d==="G")&&(l=!0),c++}this.hasAnchor=l,i===0?this.source=e:(a.push(e.substring(i,r)),this.source=a.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=r4.test(this.source):this.hasBackReferences=!1}clone(){return new EE(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return Tx.lastIndex=0,this.source.replace(Tx,(i,a)=>gE(r[parseInt(a,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],a,l,c,f;for(a=0,l=this.source.length;a<l;a++)c=this.source.charAt(a),e[a]=c,n[a]=c,r[a]=c,i[a]=c,c==="\\"&&a+1<l&&(f=this.source.charAt(a+1),f==="A"?(e[a+1]="",n[a+1]="",r[a+1]="A",i[a+1]="A"):f==="G"?(e[a+1]="",n[a+1]="G",r[a+1]="",i[a+1]="G"):(e[a+1]=f,n[a+1]=f,r[a+1]=f,i[a+1]=f),a++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Pl=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new Rx(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new Rx(t,r,this._items.map(i=>i.ruleId))}},Rx=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},Yp=class{constructor(t,e){this.languageId=t,this.tokenType=e}},o4=class og{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new Yp(e,8),this._embeddedLanguagesMatcher=new l4(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?og._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new Yp(0,0);_getBasicScopeAttributes=new yE(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new Yp(n,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(og.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},l4=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>gE(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},Ox=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function kE(t,e,n,r,i,a,l,c){const f=e.content.length;let d=!1,m=-1;if(l){const y=u4(t,e,n,r,i,a);i=y.stack,r=y.linePos,n=y.isFirstLine,m=y.anchorPosition}const p=Date.now();for(;!d;){if(c!==0&&Date.now()-p>c)return new Ox(i,!0);_()}return new Ox(i,!1);function _(){const y=c4(t,e,n,r,i,m);if(!y){a.produce(i,f),d=!0;return}const v=y.captureIndices,w=y.matchedRuleId,C=v&&v.length>0?v[0].end>r:!1;if(w===i4){const S=i.getRule(t);a.produce(i,v[0].start),i=i.withContentNameScopesList(i.nameScopesList),ll(t,e,n,i,a,S.endCaptures,v),a.produce(i,v[0].end);const I=i;if(i=i.parent,m=I.getAnchorPos(),!C&&I.getEnterPos()===r){i=I,a.produce(i,f),d=!0;return}}else{const S=t.getRule(w);a.produce(i,v[0].start);const I=i,T=S.getName(e.content,v),L=i.contentNameScopesList.pushAttributed(T,t);if(i=i.push(w,r,m,v[0].end===f,null,L,L),S instanceof ag){const z=S;ll(t,e,n,i,a,z.beginCaptures,v),a.produce(i,v[0].end),m=v[0].end;const E=z.getContentName(e.content,v),M=L.pushAttributed(E,t);if(i=i.withContentNameScopesList(M),z.endHasBackReferences&&(i=i.withEndRule(z.getEndWithResolvedBackReferences(e.content,v))),!C&&I.hasSameRuleAs(i)){i=i.pop(),a.produce(i,f),d=!0;return}}else if(S instanceof yf){const z=S;ll(t,e,n,i,a,z.beginCaptures,v),a.produce(i,v[0].end),m=v[0].end;const E=z.getContentName(e.content,v),M=L.pushAttributed(E,t);if(i=i.withContentNameScopesList(M),z.whileHasBackReferences&&(i=i.withEndRule(z.getWhileWithResolvedBackReferences(e.content,v))),!C&&I.hasSameRuleAs(i)){i=i.pop(),a.produce(i,f),d=!0;return}}else if(ll(t,e,n,i,a,S.captures,v),a.produce(i,v[0].end),i=i.pop(),!C){i=i.safePop(),a.produce(i,f),d=!0;return}}v[0].end>r&&(r=v[0].end,n=!1)}}function u4(t,e,n,r,i,a){let l=i.beginRuleCapturedEOL?0:-1;const c=[];for(let f=i;f;f=f.pop()){const d=f.getRule(t);d instanceof yf&&c.push({rule:d,stack:f})}for(let f=c.pop();f;f=c.pop()){const{ruleScanner:d,findOptions:m}=d4(f.rule,t,f.stack.endRule,n,r===l),p=d.findNextMatchSync(e,r,m);if(p){if(p.ruleId!==xE){i=f.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(a.produce(f.stack,p.captureIndices[0].start),ll(t,e,n,f.stack,a,f.rule.whileCaptures,p.captureIndices),a.produce(f.stack,p.captureIndices[0].end),l=p.captureIndices[0].end,p.captureIndices[0].end>r&&(r=p.captureIndices[0].end,n=!1))}else{i=f.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:l,isFirstLine:n}}function c4(t,e,n,r,i,a){const l=f4(t,e,n,r,i,a),c=t.getInjections();if(c.length===0)return l;const f=h4(c,t,e,n,r,i,a);if(!f)return l;if(!l)return f;const d=l.captureIndices[0].start,m=f.captureIndices[0].start;return m<d||f.priorityMatch&&m===d?f:l}function f4(t,e,n,r,i,a){const l=i.getRule(t),{ruleScanner:c,findOptions:f}=CE(l,t,i.endRule,n,r===a),d=c.findNextMatchSync(e,r,f);return d?{captureIndices:d.captureIndices,matchedRuleId:d.ruleId}:null}function h4(t,e,n,r,i,a,l){let c=Number.MAX_VALUE,f=null,d,m=0;const p=a.contentNameScopesList.getScopeNames();for(let _=0,y=t.length;_<y;_++){const v=t[_];if(!v.matcher(p))continue;const w=e.getRule(v.ruleId),{ruleScanner:C,findOptions:S}=CE(w,e,null,r,i===l),I=C.findNextMatchSync(n,i,S);if(!I)continue;const T=I.captureIndices[0].start;if(!(T>=c)&&(c=T,f=I.captureIndices,d=I.ruleId,m=v.priority,c===i))break}return f?{priorityMatch:m===-1,captureIndices:f,matchedRuleId:d}:null}function CE(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function d4(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function ll(t,e,n,r,i,a,l){if(a.length===0)return;const c=e.content,f=Math.min(a.length,l.length),d=[],m=l[0].end;for(let p=0;p<f;p++){const _=a[p];if(_===null)continue;const y=l[p];if(y.length===0)continue;if(y.start>m)break;for(;d.length>0&&d[d.length-1].endPos<=y.start;)i.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop();if(d.length>0?i.produceFromScopes(d[d.length-1].scopes,y.start):i.produce(r,y.start),_.retokenizeCapturedWithRuleId){const w=_.getName(c,l),C=r.contentNameScopesList.pushAttributed(w,t),S=_.getContentName(c,l),I=C.pushAttributed(S,t),T=r.push(_.retokenizeCapturedWithRuleId,y.start,-1,!1,null,C,I),L=t.createOnigString(c.substring(0,y.end));kE(t,L,n&&y.start===0,y.start,T,i,!1,0),vE(L);continue}const v=_.getName(c,l);if(v!==null){const C=(d.length>0?d[d.length-1].scopes:r.contentNameScopesList).pushAttributed(v,t);d.push(new p4(C,y.end))}}for(;d.length>0;)i.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop()}var p4=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function m4(t,e,n,r,i,a,l,c){return new y4(t,e,n,r,i,a,l,c)}function Ix(t,e,n,r,i){const a=mf(e,_f),l=SE.getCompiledRuleId(n,r,i.repository);for(const c of a)t.push({debugSelector:e,matcher:c.matcher,ruleId:l,grammar:i,priority:c.priority})}function _f(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(g4(e[i],r))return n=i+1,!0;return!1})}function g4(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var y4=class{constructor(t,e,n,r,i,a,l,c){if(this._rootScopeName=t,this.balancedBracketSelectors=a,this._onigLib=c,this._basicScopeAttributesProvider=new o4(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=l,this._grammar=Nx(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const f of Object.keys(i)){const d=mf(f,_f);for(const m of d)this._tokenTypeMatchers.push({matcher:m.matcher,type:i[f]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let l in i)Ix(e,l,i[l],this,r);const a=this._grammarRepository.injections(n);a&&a.forEach(l=>{const c=this.getExternalGrammar(l);if(c){const f=c.injectionSelector;f&&Ix(e,f,c,this,c)}})}return e.sort((i,a)=>i.priority-a.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=Nx(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=SE.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===lg.NULL){i=!0;const d=this._basicScopeAttributesProvider.getDefaultAttributes(),m=this.themeProvider.getDefaults(),p=Va.set(0,d.languageId,d.tokenType,null,m.fontStyle,m.foregroundId,m.backgroundId),_=this.getRule(this._rootId).getName(null,null);let y;_?y=wl.createRootAndLookUpScopeName(_,p,this):y=wl.createRoot("unknown",p),e=new lg(null,this._rootId,-1,-1,!1,null,y,y)}else i=!1,e.reset();t=t+`
`;const a=this.createOnigString(t),l=a.content.length,c=new b4(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),f=kE(this,a,i,0,e,c,!0,r);return vE(a),{lineLength:l,lineTokens:c,ruleStack:f.stack,stoppedEarly:f.stoppedEarly}}};function Nx(t,e){return t=zz(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var wl=class Nr{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=e?.scopePath??null;for(const a of n)i=Jp.push(i,a.scopeNames),r=new Nr(r,i,a.encodedTokenAttributes);return r}static createRoot(e,n){return new Nr(null,new Jp(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),a=new Jp(null,e),l=r.themeProvider.themeMatch(a),c=Nr.mergeAttributes(n,i,l);return new Nr(null,a,c)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Nr.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,a=0,l=0;return r!==null&&(i=r.fontStyle,a=r.foregroundId,l=r.backgroundId),Va.set(e,n.languageId,n.tokenType,null,i,a,l)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Nr._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const a of r)i=Nr._pushAttributed(i,a,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),a=e.scopePath.push(n),l=r.themeProvider.themeMatch(a),c=Nr.mergeAttributes(e.tokenAttributes,i,l);return new Nr(e,a,c)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?n.reverse():void 0}},lg=class xs{constructor(e,n,r,i,a,l,c,f){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=a,this.endRule=l,this.nameScopesList=c,this.contentNameScopesList=f,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new xs(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:xs._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?wl.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){xs._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,a,l,c){return new xs(this,e,n,r,i,a,l,c)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new xs(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const r=wl.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new xs(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,wl.fromExtension(r,n.contentNameScopesList))}},_4=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):mf(n,_f).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>mf(n,_f).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},b4=class{constructor(t,e,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const a=t?.getScopeNames()??[];for(const l of this._tokenTypeOverrides)l.matcher(a)&&(r=Va.set(r,0,l.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(a))}if(i&&(r=Va.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},v4=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let a=this._rawGrammars.get(t);if(!a)return null;this._grammars.set(t,m4(t,a,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},w4=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new v4(pf.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(pf.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new _4(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,a){const l=new Jz(this._syncRegistry,e);for(;l.Q.length>0;)l.Q.map(c=>this._loadSingleGrammar(c.scopeName)),l.processQueue();return this._grammarForScopeName(e,n,r,i,a)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,a=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,a)}},ug=lg.NULL;const x4=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Ql{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ql.prototype.normal={};Ql.prototype.property={};Ql.prototype.space=void 0;function TE(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ql(n,r,e)}function cg(t){return t.toLowerCase()}class Un{constructor(e,n){this.attribute=n,this.property=e}}Un.prototype.attribute="";Un.prototype.booleanish=!1;Un.prototype.boolean=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.commaSeparated=!1;Un.prototype.defined=!1;Un.prototype.mustUseProperty=!1;Un.prototype.number=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.property="";Un.prototype.spaceSeparated=!1;Un.prototype.space=void 0;let S4=0;const Pe=zs(),It=zs(),fg=zs(),me=zs(),ht=zs(),ja=zs(),Qn=zs();function zs(){return 2**++S4}const hg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:It,commaOrSpaceSeparated:Qn,commaSeparated:ja,number:me,overloadedBoolean:fg,spaceSeparated:ht},Symbol.toStringTag,{value:"Module"})),Xp=Object.keys(hg);class py extends Un{constructor(e,n,r,i){let a=-1;if(super(e,n),Dx(this,"space",i),typeof r=="number")for(;++a<Xp.length;){const l=Xp[a];Dx(this,Xp[a],(r&hg[l])===hg[l])}}}py.prototype.defined=!0;function Dx(t,e,n){n&&(t[e]=n)}function Qa(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new py(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[cg(r)]=r,n[cg(a.attribute)]=r}return new Ql(e,n,t.space)}const AE=Qa({properties:{ariaActiveDescendant:null,ariaAtomic:It,ariaAutoComplete:null,ariaBusy:It,ariaChecked:It,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:ht,ariaCurrent:null,ariaDescribedBy:ht,ariaDetails:null,ariaDisabled:It,ariaDropEffect:ht,ariaErrorMessage:null,ariaExpanded:It,ariaFlowTo:ht,ariaGrabbed:It,ariaHasPopup:null,ariaHidden:It,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ht,ariaLevel:me,ariaLive:null,ariaModal:It,ariaMultiLine:It,ariaMultiSelectable:It,ariaOrientation:null,ariaOwns:ht,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:It,ariaReadOnly:It,ariaRelevant:null,ariaRequired:It,ariaRoleDescription:ht,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:It,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function RE(t,e){return e in t?t[e]:e}function OE(t,e){return RE(t,e.toLowerCase())}const E4=Qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ja,acceptCharset:ht,accessKey:ht,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:ht,autoFocus:Pe,autoPlay:Pe,blocking:ht,capture:null,charSet:null,checked:Pe,cite:null,className:ht,cols:me,colSpan:null,content:null,contentEditable:It,controls:Pe,controlsList:ht,coords:me|ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:fg,draggable:It,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:ht,height:me,hidden:fg,high:me,href:null,hrefLang:null,htmlFor:ht,httpEquiv:ht,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:ht,itemRef:ht,itemScope:Pe,itemType:ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:me,pattern:null,ping:ht,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:ht,required:Pe,reversed:Pe,rows:me,rowSpan:me,sandbox:ht,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:It,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:It,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ht,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:It,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:OE}),k4=Qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ja,g2:ja,glyphName:ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Qn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qn,rev:Qn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qn,requiredFeatures:Qn,requiredFonts:Qn,requiredFormats:Qn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Qn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:RE}),IE=Qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),NE=Qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OE}),DE=Qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),C4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},T4=/[A-Z]/g,Mx=/-[a-z]/g,A4=/^data[-\w.:]+$/i;function ME(t,e){const n=cg(e);let r=e,i=Un;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A4.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Mx,O4);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Mx.test(a)){let l=a.replace(T4,R4);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=py}return new i(r,e)}function R4(t){return"-"+t.toLowerCase()}function O4(t){return t.charAt(1).toUpperCase()}const LE=TE([AE,E4,IE,NE,DE],"html"),Jl=TE([AE,k4,IE,NE,DE],"svg"),Lx={}.hasOwnProperty;function I4(t,e){const n=e||{};function r(i,...a){let l=r.invalid;const c=r.handlers;if(i&&Lx.call(i,t)){const f=String(i[t]);l=Lx.call(c,f)?c[f]:r.unknown}if(l)return l.call(this,i,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const N4=/["&'<>`]/g,D4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M4=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,L4=/[|\\{}()[\]^$+*?.]/g,zx=new WeakMap;function z4(t,e){if(t=t.replace(e.subset?P4(e.subset):N4,r),e.subset||e.escapeOnly)return t;return t.replace(D4,n).replace(M4,r);function n(i,a,l){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,l.charCodeAt(a+2),e)}function r(i,a,l){return e.format(i.charCodeAt(0),l.charCodeAt(a+1),e)}}function P4(t){let e=zx.get(t);return e||(e=j4(t),zx.set(t,e)),e}function j4(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(L4,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const B4=/[\dA-Fa-f]/;function U4(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!B4.test(String.fromCharCode(e))?r:r+";"}const $4=/\d/;function q4(t,e,n){const r="&#"+String(t);return n&&e&&!$4.test(String.fromCharCode(e))?r:r+";"}const F4=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Wp={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},V4=["cent","copy","divide","gt","lt","not","para","times"],zE={}.hasOwnProperty,dg={};let Ec;for(Ec in Wp)zE.call(Wp,Ec)&&(dg[Wp[Ec]]=Ec);const H4=/[^\dA-Za-z]/;function G4(t,e,n,r){const i=String.fromCharCode(t);if(zE.call(dg,i)){const a=dg[i],l="&"+a;return n&&F4.includes(a)&&!V4.includes(a)&&(!r||e&&e!==61&&H4.test(String.fromCharCode(e)))?l:l+";"}return""}function K4(t,e,n){let r=U4(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=G4(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const a=q4(t,e,n.omitOptionalSemicolons);a.length<r.length&&(r=a)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Ba(t,e){return z4(t,Object.assign({format:K4},e))}const Z4=/^>|^->|<!--|-->|--!>|<!-$/g,Q4=[">"],J4=["<",">"];function Y4(t,e,n,r){return r.settings.bogusComments?"<?"+Ba(t.value,Object.assign({},r.settings.characterReferences,{subset:Q4}))+">":"<!--"+t.value.replace(Z4,i)+"-->";function i(a){return Ba(a,Object.assign({},r.settings.characterReferences,{subset:J4}))}}function X4(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function bf(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function PE(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function jE(t){return t.join(" ").trim()}const W4=/[ \t\n\f\r]/g;function Zf(t){return typeof t=="object"?t.type==="text"?Px(t.value):!1:Px(t)}function Px(t){return t.replace(W4,"")===""}const $t=UE(1),BE=UE(-1),e3=[];function UE(t){return e;function e(n,r,i){const a=n?n.children:e3;let l=(r||0)+t,c=a[l];if(!i)for(;c&&Zf(c);)l+=t,c=a[l];return c}}const t3={}.hasOwnProperty;function $E(t){return e;function e(n,r,i){return t3.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const my=$E({body:r3,caption:em,colgroup:em,dd:o3,dt:a3,head:em,html:n3,li:s3,optgroup:l3,option:u3,p:i3,rp:jx,rt:jx,tbody:f3,td:Bx,tfoot:h3,th:Bx,thead:c3,tr:d3});function em(t,e,n){const r=$t(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Zf(r.value.charAt(0)))}function n3(t,e,n){const r=$t(n,e);return!r||r.type!=="comment"}function r3(t,e,n){const r=$t(n,e);return!r||r.type!=="comment"}function i3(t,e,n){const r=$t(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function s3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&r.tagName==="li"}function a3(t,e,n){const r=$t(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function o3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function jx(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function l3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function u3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function c3(t,e,n){const r=$t(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function f3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function h3(t,e,n){return!$t(n,e)}function d3(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function Bx(t,e,n){const r=$t(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const p3=$E({body:y3,colgroup:_3,head:g3,html:m3,tbody:b3});function m3(t){const e=$t(t,-1);return!e||e.type!=="comment"}function g3(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function y3(t){const e=$t(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Zf(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function _3(t,e,n){const r=BE(n,e),i=$t(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&my(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function b3(t,e,n){const r=BE(n,e),i=$t(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&my(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const kc={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function v3(t,e,n,r){const i=r.schema,a=i.space==="svg"?!1:r.settings.omitOptionalTags;let l=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const c=[];let f;i.space==="html"&&t.tagName==="svg"&&(r.schema=Jl);const d=w3(r,t.properties),m=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,m&&(l=!1),(d||!a||!p3(t,e,n))&&(c.push("<",t.tagName,d?" "+d:""),l&&(i.space==="svg"||r.settings.closeSelfClosing)&&(f=d.charAt(d.length-1),(!r.settings.tightSelfClosing||f==="/"||f&&f!=='"'&&f!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(m),!l&&(!a||!my(t,e,n))&&c.push("</"+t.tagName+">"),c.join("")}function w3(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const a=x3(t,i,e[i]);a&&n.push(a)}}for(;++r<n.length;){const a=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&a!=='"'&&a!=="'"&&(n[r]+=" ")}return n.join("")}function x3(t,e,n){const r=ME(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,a=t.settings.allowDangerousCharacters?0:1;let l=t.quote,c;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const f=Ba(r.attribute,Object.assign({},t.settings.characterReferences,{subset:kc.name[i][a]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?PE:jE)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?f:(t.settings.preferUnquoted&&(c=Ba(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:kc.unquoted[i][a]}))),c!==n&&(t.settings.quoteSmart&&bf(n,l)>bf(n,t.alternative)&&(l=t.alternative),c=l+Ba(n,Object.assign({},t.settings.characterReferences,{subset:(l==="'"?kc.single:kc.double)[i][a],attribute:!0}))+l),f+(c&&"="+c))}const S3=["<","&"];function qE(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Ba(t.value,Object.assign({},r.settings.characterReferences,{subset:S3}))}function E3(t,e,n,r){return r.settings.allowDangerousHtml?t.value:qE(t,e,n,r)}function k3(t,e,n,r){return r.all(t)}const C3=I4("type",{invalid:T3,unknown:A3,handlers:{comment:Y4,doctype:X4,element:v3,raw:E3,root:k3,text:qE}});function T3(t){throw new Error("Expected node, not `"+t+"`")}function A3(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const R3={},O3={},I3=[];function N3(t,e){const n=e||R3,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:D3,all:M3,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||x4,characterReferences:n.characterReferences||O3,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Jl:LE,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function D3(t,e,n){return C3(t,e,n,this)}function M3(t){const e=[],n=t&&t.children||I3;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function vf(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,a]of Object.entries(e?.colorReplacements||{}))typeof a=="string"?n[i]=a:i===r&&Object.assign(n,a);return n}function Gi(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function L3(t){return Array.isArray(t)?t:[t]}async function FE(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function gy(t){return!t||["plaintext","txt","text","plain"].includes(t)}function VE(t){return t==="ansi"||gy(t)}function yy(t){return t==="none"}function HE(t){return yy(t)}function GE(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function Qf(t,e=!1){if(t.length===0)return[["",0]];const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let a=0;a<n.length;a+=2){const l=e?n[a]+(n[a+1]||""):n[a];i.push([l,r]),r+=n[a].length,r+=n[a+1]?.length||0}return i}function z3(t){const e=Qf(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let a=i,l=0;for(const c of e){if(a<c.length)break;a-=c.length,l++}return{line:l,character:a}}function r(i,a){let l=0;for(let c=0;c<i;c++)l+=e[c].length;return l+=a,l}return{lines:e,indexToPos:n,posToIndex:r}}function P3(t,e,n){const r=new Set;for(const a of t.matchAll(/:?lang=["']([^"']+)["']/g)){const l=a[1].toLowerCase().trim();l&&r.add(l)}for(const a of t.matchAll(/(?:```|~~~)([\w-]+)/g)){const l=a[1].toLowerCase().trim();l&&r.add(l)}for(const a of t.matchAll(/\\begin\{([\w-]+)\}/g)){const l=a[1].toLowerCase().trim();l&&r.add(l)}for(const a of t.matchAll(/<script\s+(?:type|lang)=["']([^"']+)["']/gi)){const l=a[1].toLowerCase().trim(),c=l.includes("/")?l.split("/").pop():l;c&&r.add(c)}if(!n)return Array.from(r);const i=n.getBundledLanguages();return Array.from(r).filter(a=>a&&i[a])}const _y="light-dark()",j3=["color","background-color"];function B3(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function U3(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const a=n.filter(l=>i.offset<l&&l<i.offset+i.content.length).map(l=>l-i.offset).sort((l,c)=>l-c);return a.length?B3(i,a):i})):t}function $3(t,e,n,r,i="css-vars"){const a={content:t.content,explanation:t.explanation,offset:t.offset},l=e.map(m=>wf(t.variants[m])),c=new Set(l.flatMap(m=>Object.keys(m))),f={},d=(m,p)=>{const _=p==="color"?"":p==="background-color"?"-bg":`-${p}`;return n+e[m]+(p==="color"?"":_)};return l.forEach((m,p)=>{for(const _ of c){const y=m[_]||"inherit";if(p===0&&r&&j3.includes(_))if(r===_y&&l.length>1){const v=e.findIndex(I=>I==="light"),w=e.findIndex(I=>I==="dark");if(v===-1||w===-1)throw new Nt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const C=l[v][_]||"inherit",S=l[w][_]||"inherit";f[_]=`light-dark(${C}, ${S})`,i==="css-vars"&&(f[d(p,_)]=y)}else f[_]=y;else i==="css-vars"&&(f[d(p,_)]=y)}}),a.htmlStyle=f,a}function wf(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&mn.Italic&&(e["font-style"]="italic"),t.fontStyle&mn.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&mn.Underline&&n.push("underline"),t.fontStyle&mn.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function pg(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const KE=new WeakMap;function Jf(t,e){KE.set(t,e)}function jl(t){return KE.get(t)}class Ja{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Ja(Object.fromEntries(L3(n).map(r=>[r,ug])),e)}constructor(...e){if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return q3(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function q3(t){const e=[],n=new Set;function r(i){if(n.has(i))return;n.add(i);const a=i?.nameScopesList?.scopeName;a&&e.push(a),i.parent&&r(i.parent)}return r(t),e}function F3(t,e){if(!(t instanceof Ja))throw new Nt("Invalid grammar state");return t.getInternalStack(e)}function V3(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(l){if(typeof l=="number"){if(l<0||l>n.source.length)throw new Nt(`Invalid decoration offset: ${l}. Code length: ${n.source.length}`);return{...i.indexToPos(l),offset:l}}else{const c=i.lines[l.line];if(c===void 0)throw new Nt(`Invalid decoration position ${JSON.stringify(l)}. Lines length: ${i.lines.length}`);let f=l.character;if(f<0&&(f=c.length+f),f<0||f>c.length)throw new Nt(`Invalid decoration position ${JSON.stringify(l)}. Line ${l.line} length: ${c.length}`);return{...l,character:f,offset:i.posToIndex(l.line,f)}}};const i=z3(n.source),a=(n.options.decorations||[]).map(l=>({...l,start:r(l.start),end:r(l.end)}));H3(a),t.set(n.meta,{decorations:a,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const i=e(this).decorations.flatMap(l=>[l.start.offset,l.end.offset]);return U3(n,i)},code(n){if(!this.options.decorations?.length)return;const r=e(this),i=Array.from(n.children).filter(m=>m.type==="element"&&m.tagName==="span");if(i.length!==r.converter.lines.length)throw new Nt(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function a(m,p,_,y){const v=i[m];let w="",C=-1,S=-1;if(p===0&&(C=0),_===0&&(S=0),_===Number.POSITIVE_INFINITY&&(S=v.children.length),C===-1||S===-1)for(let T=0;T<v.children.length;T++)w+=ZE(v.children[T]),C===-1&&w.length===p&&(C=T+1),S===-1&&w.length===_&&(S=T+1);if(C===-1)throw new Nt(`Failed to find start index for decoration ${JSON.stringify(y.start)}`);if(S===-1)throw new Nt(`Failed to find end index for decoration ${JSON.stringify(y.end)}`);const I=v.children.slice(C,S);if(!y.alwaysWrap&&I.length===v.children.length)c(v,y,"line");else if(!y.alwaysWrap&&I.length===1&&I[0].type==="element")c(I[0],y,"token");else{const T={type:"element",tagName:"span",properties:{},children:I};c(T,y,"wrapper"),v.children.splice(C,I.length,T)}}function l(m,p){i[m]=c(i[m],p,"line")}function c(m,p,_){const y=p.properties||{},v=p.transform||(w=>w);return m.tagName=p.tagName||"span",m.properties={...m.properties,...y,class:m.properties.class},p.properties?.class&&GE(m,p.properties.class),m=v(m,_)||m,m}const f=[],d=r.decorations.sort((m,p)=>p.start.offset-m.start.offset||m.end.offset-p.end.offset);for(const m of d){const{start:p,end:_}=m;if(p.line===_.line)a(p.line,p.character,_.character,m);else if(p.line<_.line){a(p.line,p.character,Number.POSITIVE_INFINITY,m);for(let y=p.line+1;y<_.line;y++)f.unshift(()=>l(y,m));a(_.line,0,_.character,m)}}f.forEach(m=>m())}}}function H3(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new Nt(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],a=n.start.offset<=i.start.offset&&i.start.offset<n.end.offset,l=n.start.offset<i.end.offset&&i.end.offset<=n.end.offset,c=i.start.offset<=n.start.offset&&n.start.offset<i.end.offset,f=i.start.offset<n.end.offset&&n.end.offset<=i.end.offset;if(a||l||c||f){if(a&&l||c&&f||c&&n.start.offset===n.end.offset||l&&i.start.offset===i.end.offset)continue;throw new Nt(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function ZE(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(ZE).join(""):""}const G3=[V3()];function xf(t){const e=K3(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...G3]}function K3(t){const e=[],n=[],r=[];for(const i of t)switch(i.enforce){case"pre":e.push(i);break;case"post":n.push(i);break;default:r.push(i)}return{pre:e,post:n,normal:r}}var Ts=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],tm={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Z3(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const r=t.indexOf("m",n);if(r!==-1)return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function Ux(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(r=>Number.parseInt(r));return n.length!==3||n.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function Q3(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)tm[r]&&e.push({type:"setDecoration",value:tm[r]});else if(r<=29){const i=tm[r-20];i&&(e.push({type:"resetDecoration",value:i}),i==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Ts[r-30]}});else if(r===38){const i=Ux(t);i&&e.push({type:"setForegroundColor",value:i})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Ts[r-40]}});else if(r===48){const i=Ux(t);i&&e.push({type:"setBackgroundColor",value:i})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Ts[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Ts[r-100+8]}})}return e}function J3(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let a=0;do{const l=Z3(r,a),c=l.sequence?r.substring(a,l.startPosition):r.substring(a);if(c.length>0&&i.push({value:c,foreground:t,background:e,decorations:new Set(n)}),l.sequence){const f=Q3(l.sequence);for(const d of f)d.type==="resetAll"?(t=null,e=null,n.clear()):d.type==="resetForegroundColor"?t=null:d.type==="resetBackgroundColor"?e=null:d.type==="resetDecoration"&&n.delete(d.value);for(const d of f)d.type==="setForegroundColor"?t=d.value:d.type==="setBackgroundColor"?e=d.value:d.type==="setDecoration"&&n.add(d.value)}a=l.position}while(a<r.length);return i}}}var Y3={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function X3(t=Y3){function e(c){return t[c]}function n(c){return`#${c.map(f=>Math.max(0,Math.min(f,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let d=0;d<Ts.length;d++)r.push(e(Ts[d]));let c=[0,95,135,175,215,255];for(let d=0;d<6;d++)for(let m=0;m<6;m++)for(let p=0;p<6;p++)r.push(n([c[d],c[m],c[p]]));let f=8;for(let d=0;d<24;d++,f+=10)r.push(n([f,f,f]));return r}function a(c){return i()[c]}function l(c){switch(c.type){case"named":return e(c.name);case"rgb":return n(c.rgb);case"table":return a(c.index)}}return{value:l}}const W3={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function eP(t,e,n){const r=vf(t,n),i=Qf(e),a=Object.fromEntries(Ts.map(f=>{const d=`terminal.ansi${f[0].toUpperCase()}${f.substring(1)}`,m=t.colors?.[d];return[f,m||W3[f]]})),l=X3(a),c=J3();return i.map(f=>c.parse(f[0]).map(d=>{let m,p;d.decorations.has("reverse")?(m=d.background?l.value(d.background):t.bg,p=d.foreground?l.value(d.foreground):t.fg):(m=d.foreground?l.value(d.foreground):t.fg,p=d.background?l.value(d.background):void 0),m=Gi(m,r),p=Gi(p,r),d.decorations.has("dim")&&(m=tP(m));let _=mn.None;return d.decorations.has("bold")&&(_|=mn.Bold),d.decorations.has("italic")&&(_|=mn.Italic),d.decorations.has("underline")&&(_|=mn.Underline),d.decorations.has("strikethrough")&&(_|=mn.Strikethrough),{content:d.value,offset:f[1],color:m,bgColor:p,fontStyle:_}}))}function tP(t){const e=t.match(/#([0-9a-f]{3,8})/i);if(e){const r=e[1];if(r.length===8){const i=Math.round(Number.parseInt(r.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${r.slice(0,6)}${i}`}else{if(r.length===6)return`#${r}80`;if(r.length===4){const i=r[0],a=r[1],l=r[2],c=r[3],f=Math.round(Number.parseInt(`${c}${c}`,16)/2).toString(16).padStart(2,"0");return`#${i}${i}${a}${a}${l}${l}${f}`}else if(r.length===3){const i=r[0],a=r[1],l=r[2];return`#${i}${i}${a}${a}${l}${l}80`}}}const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function by(t,e,n={}){const{theme:r=t.getLoadedThemes()[0]}=n,i=t.resolveLangAlias(n.lang||"text");if(gy(i)||yy(r))return Qf(e).map(f=>[{content:f[0],offset:f[1]}]);const{theme:a,colorMap:l}=t.setTheme(r);if(i==="ansi")return eP(a,e,n);const c=t.getLanguage(n.lang||"text");if(n.grammarState){if(n.grammarState.lang!==c.name)throw new Nt(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${c.name}"`);if(!n.grammarState.themes.includes(a.name))throw new Nt(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${a.name}"`)}return rP(e,c,a,l,n)}function nP(...t){if(t.length===2)return jl(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:a=e.getLoadedThemes()[0]}=r;if(gy(i)||yy(a))throw new Nt("Plain language does not have grammar state");if(i==="ansi")throw new Nt("ANSI language does not have grammar state");const{theme:l,colorMap:c}=e.setTheme(a),f=e.getLanguage(i);return new Ja(vy(n,f,l,c,r).stateStack,f.name,l.name)}function rP(t,e,n,r,i){const a=vy(t,e,n,r,i),l=new Ja(a.stateStack,e.name,n.name);return Jf(a.tokens,l),a.tokens}function vy(t,e,n,r,i){const a=vf(n,i),{tokenizeMaxLineLength:l=0,tokenizeTimeLimit:c=500}=i,f=Qf(t);let d=i.grammarState?F3(i.grammarState,n.name)??ug:i.grammarContextCode!=null?vy(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:ug,m=[];const p=[];for(let _=0,y=f.length;_<y;_++){const[v,w]=f[_];if(v===""){m=[],p.push([]);continue}if(l>0&&v.length>=l){m=[],p.push([{content:v,offset:w,color:"",fontStyle:0}]);continue}let C,S,I;i.includeExplanation&&(C=e.tokenizeLine(v,d,c),S=C.tokens,I=0);const T=e.tokenizeLine2(v,d,c),L=T.tokens.length/2;for(let z=0;z<L;z++){const E=T.tokens[2*z],M=z+1<L?T.tokens[2*z+2]:v.length;if(E===M)continue;const $=T.tokens[2*z+1],q=Gi(r[Va.getForeground($)],a),P=Va.getFontStyle($),K={content:v.substring(E,M),offset:w+E,color:q,fontStyle:P};if(i.includeExplanation){const ie=[];if(i.includeExplanation!=="scopeName")for(const he of n.settings){let re;switch(typeof he.scope){case"string":re=he.scope.split(/,/).map(F=>F.trim());break;case"object":re=he.scope;break;default:continue}ie.push({settings:he,selectors:re.map(F=>F.split(/ /))})}K.explanation=[];let ge=0;for(;E+ge<M;){const he=S[I],re=v.substring(he.startIndex,he.endIndex);ge+=re.length,K.explanation.push({content:re,scopes:i.includeExplanation==="scopeName"?iP(he.scopes):sP(ie,he.scopes)}),I+=1}}m.push(K)}p.push(m),m=[],d=T.ruleStack}return{tokens:p,stateStack:d}}function iP(t){return t.map(e=>({scopeName:e}))}function sP(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n[r]={scopeName:a,themeMatches:oP(t,a,e.slice(0,r))}}return n}function $x(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function aP(t,e,n){if(!$x(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)$x(t[r],n[i])&&(r-=1),i-=1;return r===-1}function oP(t,e,n){const r=[];for(const{selectors:i,settings:a}of t)for(const l of i)if(aP(l,e,n)){r.push(a);break}return r}function QE(t,e,n){const r=Object.entries(n.themes).filter(f=>f[1]).map(f=>({color:f[0],theme:f[1]})),i=r.map(f=>{const d=by(t,e,{...n,theme:f.theme}),m=jl(d),p=typeof f.theme=="string"?f.theme:f.theme.name;return{tokens:d,state:m,theme:p}}),a=lP(...i.map(f=>f.tokens)),l=a[0].map((f,d)=>f.map((m,p)=>{const _={content:m.content,variants:{},offset:m.offset};return"includeExplanation"in n&&n.includeExplanation&&(_.explanation=m.explanation),a.forEach((y,v)=>{const{content:w,explanation:C,offset:S,...I}=y[d][p];_.variants[r[v].color]=I}),_})),c=i[0].state?new Ja(Object.fromEntries(i.map(f=>[f.theme,f.state?.getInternalStack(f.theme)])),i[0].state.lang):void 0;return c&&Jf(l,c),l}function lP(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(f=>f[r]),a=e.map(()=>[]);e.forEach((f,d)=>f.push(a[d]));const l=i.map(()=>0),c=i.map(f=>f[0]);for(;c.every(f=>f);){const f=Math.min(...c.map(d=>d.content.length));for(let d=0;d<n;d++){const m=c[d];m.content.length===f?(a[d].push(m),l[d]+=1,c[d]=i[d][l[d]]):(a[d].push({...m,content:m.content.slice(0,f)}),c[d]={...m,content:m.content.slice(f),offset:m.offset+f})}}}return e}function Sf(t,e,n){let r,i,a,l,c,f;if("themes"in n){const{defaultColor:d="light",cssVariablePrefix:m="--shiki-",colorsRendering:p="css-vars"}=n,_=Object.entries(n.themes).filter(S=>S[1]).map(S=>({color:S[0],theme:S[1]})).sort((S,I)=>S.color===d?-1:I.color===d?1:0);if(_.length===0)throw new Nt("`themes` option must not be empty");const y=QE(t,e,n);if(f=jl(y),d&&_y!==d&&!_.find(S=>S.color===d))throw new Nt(`\`themes\` option must contain the defaultColor key \`${d}\``);const v=_.map(S=>t.getTheme(S.theme)),w=_.map(S=>S.color);a=y.map(S=>S.map(I=>$3(I,w,m,d,p))),f&&Jf(a,f);const C=_.map(S=>vf(S.theme,n));i=qx(_,v,C,m,d,"fg",p),r=qx(_,v,C,m,d,"bg",p),l=`shiki-themes ${v.map(S=>S.name).join(" ")}`,c=d?void 0:[i,r].join(";")}else if("theme"in n){const d=vf(n.theme,n);a=by(t,e,n);const m=t.getTheme(n.theme);r=Gi(m.bg,d),i=Gi(m.fg,d),l=m.name,f=jl(a)}else throw new Nt("Invalid options, either `theme` or `themes` must be provided");return{tokens:a,fg:i,bg:r,themeName:l,rootStyle:c,grammarState:f}}function qx(t,e,n,r,i,a,l){return t.map((c,f)=>{const d=Gi(e[f][a],n[f])||"inherit",m=`${r+c.color}${a==="bg"?"-bg":""}:${d}`;if(f===0&&i){if(i===_y&&t.length>1){const p=t.findIndex(w=>w.color==="light"),_=t.findIndex(w=>w.color==="dark");if(p===-1||_===-1)throw new Nt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const y=Gi(e[p][a],n[p])||"inherit",v=Gi(e[_][a],n[_])||"inherit";return`light-dark(${y}, ${v});${m}`}return d}return l==="css-vars"?m:null}).filter(c=>!!c).join(";")}function Ef(t,e,n,r={meta:{},options:n,codeToHast:(i,a)=>Ef(t,i,a),codeToTokens:(i,a)=>Sf(t,i,a)}){let i=e;for(const v of xf(n))i=v.preprocess?.call(r,i,n)||i;let{tokens:a,fg:l,bg:c,themeName:f,rootStyle:d,grammarState:m}=Sf(t,i,n);const{mergeWhitespaces:p=!0,mergeSameStyleTokens:_=!1}=n;p===!0?a=cP(a):p==="never"&&(a=fP(a)),_&&(a=hP(a));const y={...r,get source(){return i}};for(const v of xf(n))a=v.tokens?.call(y,a)||a;return uP(a,{...n,fg:l,bg:c,themeName:f,rootStyle:n.rootStyle===!1?!1:n.rootStyle??d},y,m)}function uP(t,e,n,r=jl(t)){const i=xf(e),a=[],l={type:"root",children:[]},{structure:c="classic",tabindex:f="0"}=e,d={class:`shiki ${e.themeName||""}`};e.rootStyle!==!1&&(e.rootStyle!=null?d.style=e.rootStyle:d.style=`background-color:${e.bg};color:${e.fg}`),f!==!1&&f!=null&&(d.tabindex=f.toString());for(const[w,C]of Object.entries(e.meta||{}))w.startsWith("_")||(d[w]=C);let m={type:"element",tagName:"pre",properties:d,children:[]},p={type:"element",tagName:"code",properties:{},children:a};const _=[],y={...n,structure:c,addClassToHast:GE,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return l},get pre(){return m},get code(){return p},get lines(){return _}};if(t.forEach((w,C)=>{C&&(c==="inline"?l.children.push({type:"element",tagName:"br",properties:{},children:[]}):c==="classic"&&a.push({type:"text",value:`
`}));let S={type:"element",tagName:"span",properties:{class:"line"},children:[]},I=0;for(const T of w){let L={type:"element",tagName:"span",properties:{...T.htmlAttrs},children:[{type:"text",value:T.content}]};const z=pg(T.htmlStyle||wf(T));z&&(L.properties.style=z);for(const E of i)L=E?.span?.call(y,L,C+1,I,S,T)||L;c==="inline"?l.children.push(L):c==="classic"&&S.children.push(L),I+=T.content.length}if(c==="classic"){for(const T of i)S=T?.line?.call(y,S,C+1)||S;_.push(S),a.push(S)}else c==="inline"&&_.push(S)}),c==="classic"){for(const w of i)p=w?.code?.call(y,p)||p;m.children.push(p);for(const w of i)m=w?.pre?.call(y,m)||m;l.children.push(m)}else if(c==="inline"){const w=[];let C={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const T of l.children)T.type==="element"&&T.tagName==="br"?(w.push(C),C={type:"element",tagName:"span",properties:{class:"line"},children:[]}):(T.type==="element"||T.type==="text")&&C.children.push(T);w.push(C);let I={type:"element",tagName:"code",properties:{},children:w};for(const T of i)I=T?.code?.call(y,I)||I;l.children=[];for(let T=0;T<I.children.length;T++){T>0&&l.children.push({type:"element",tagName:"br",properties:{},children:[]});const L=I.children[T];L.type==="element"&&l.children.push(...L.children)}}let v=l;for(const w of i)v=w?.root?.call(y,v)||v;return r&&Jf(v,r),v}function cP(t){return t.map(e=>{const n=[];let r="",i;return e.forEach((a,l)=>{const f=!(a.fontStyle&&(a.fontStyle&mn.Underline||a.fontStyle&mn.Strikethrough));f&&a.content.match(/^\s+$/)&&e[l+1]?(i===void 0&&(i=a.offset),r+=a.content):r?(f?n.push({...a,offset:i,content:r+a.content}):n.push({content:r,offset:i},a),i=void 0,r=""):n.push(a)}),n})}function fP(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,a,l]=r;if(!i&&!l)return n;const c=[{...n,offset:n.offset+i.length,content:a}];return i&&c.unshift({content:i,offset:n.offset}),l&&c.push({content:l,offset:n.offset+i.length+a.length}),c}))}function hP(t){return t.map(e=>{const n=[];for(const r of e){if(n.length===0){n.push({...r});continue}const i=n[n.length-1],a=pg(i.htmlStyle||wf(i)),l=pg(r.htmlStyle||wf(r)),c=i.fontStyle&&(i.fontStyle&mn.Underline||i.fontStyle&mn.Strikethrough),f=r.fontStyle&&(r.fontStyle&mn.Underline||r.fontStyle&mn.Strikethrough);!c&&!f&&a===l?i.content+=r.content:n.push({...r})}return n})}const dP=N3;function pP(t,e,n){const r={meta:{},options:n,codeToHast:(a,l)=>Ef(t,a,l),codeToTokens:(a,l)=>Sf(t,a,l)};let i=dP(Ef(t,e,n,r));for(const a of xf(n))i=a.postprocess?.call(r,i,n)||i;return i}const Fx={light:"#333333",dark:"#bbbbbb"},Vx={light:"#fffffe",dark:"#1e1e1e"},Hx="__shiki_resolved";function wy(t){if(t?.[Hx])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:r}=e;if(!n||!r){const c=e.settings?e.settings.find(f=>!f.name&&!f.scope):void 0;c?.settings?.foreground&&(r=c.settings.foreground),c?.settings?.background&&(n=c.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?Fx.light:Fx.dark),n||(n=e.type==="light"?Vx.light:Vx.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const a=new Map;function l(c){if(a.has(c))return a.get(c);i+=1;const f=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${f}`]?l(c):(a.set(c,f),f)}e.settings=e.settings.map(c=>{const f=c.settings?.foreground&&!c.settings.foreground.startsWith("#"),d=c.settings?.background&&!c.settings.background.startsWith("#");if(!f&&!d)return c;const m={...c,settings:{...c.settings}};if(f){const p=l(c.settings.foreground);e.colorReplacements[p]=c.settings.foreground,m.settings.foreground=p}if(d){const p=l(c.settings.background);e.colorReplacements[p]=c.settings.background,m.settings.background=p}return m});for(const c of Object.keys(e.colors||{}))if((c==="editor.foreground"||c==="editor.background"||c.startsWith("terminal.ansi"))&&!e.colors[c]?.startsWith("#")){const f=l(e.colors[c]);e.colorReplacements[f]=e.colors[c],e.colors[c]=f}return Object.defineProperty(e,Hx,{enumerable:!1,writable:!1,value:!0}),e}async function JE(t){return Array.from(new Set((await Promise.all(t.filter(e=>!VE(e)).map(async e=>await FE(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function YE(t){return(await Promise.all(t.map(async n=>HE(n)?null:wy(await FE(n))))).filter(n=>!!n)}let mP=3;function gP(t,e=3){e>mP||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let Ma=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function XE(t,e){if(!e)return t;if(e[t]){const n=new Set([t]);for(;e[t];){if(t=e[t],n.has(t))throw new Ma(`Circular alias \`${Array.from(n).join(" -> ")} -> ${t}\``);n.add(t)}}return t}class yP extends w4{constructor(e,n,r,i={}){super(e),this._resolver=e,this._themes=n,this._langs=r,this._alias=i,this._themes.map(a=>this.loadTheme(a)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=wy(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=pf.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){return e=XE(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(a=>a.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const i=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(i.name=e.name,this._resolvedGrammars.set(e.name,i),e.aliases&&e.aliases.forEach(a=>{this._alias[a]=e.name}),this._loadedLanguagesCache=null,n.size)for(const a of n)this._resolvedGrammars.delete(a.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(a.scopeName),this._syncRegistry?._grammars?.delete(a.scopeName),this.loadLanguage(this._langMap.get(a.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const i of e)this.resolveEmbeddedLanguages(i);const n=Array.from(this._langGraph.entries()),r=n.filter(([i,a])=>!a);if(r.length){const i=n.filter(([a,l])=>l?(l.embeddedLanguages||l.embeddedLangs)?.some(f=>r.map(([d])=>d).includes(f)):!1).filter(a=>!r.includes(a));throw new Ma(`Missing languages ${r.map(([a])=>`\`${a}\``).join(", ")}, required by ${i.map(([a])=>`\`${a}\``).join(", ")}`)}for(const[i,a]of n)this._resolver.addLanguage(a);for(const[i,a]of n)this.loadLanguage(a)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);const n=e.embeddedLanguages??e.embeddedLangs;if(n)for(const r of n)this._langGraph.set(r,this._langMap.get(r))}}class _P{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const a=n.slice(0,i).join(".");r=[...r,...this._injections.get(a)||[]]}return r}}let Jo=0;function bP(t){Jo+=1,t.warnings!==!1&&Jo>=10&&Jo%10===0&&console.warn(`[Shiki] ${Jo} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new Ma("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(wy),i=new _P(t.engine,n),a=new yP(i,r,n,t.langAlias);let l;function c(T){return XE(T,t.langAlias)}function f(T){S();const L=a.getGrammar(typeof T=="string"?T:T.name);if(!L)throw new Ma(`Language \`${T}\` not found, you may need to load it first`);return L}function d(T){if(T==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};S();const L=a.getTheme(T);if(!L)throw new Ma(`Theme \`${T}\` not found, you may need to load it first`);return L}function m(T){S();const L=d(T);l!==T&&(a.setTheme(L),l=T);const z=a.getColorMap();return{theme:L,colorMap:z}}function p(){return S(),a.getLoadedThemes()}function _(){return S(),a.getLoadedLanguages()}function y(...T){S(),a.loadLanguages(T.flat(1))}async function v(...T){return y(await JE(T))}function w(...T){S();for(const L of T.flat(1))a.loadTheme(L)}async function C(...T){return S(),w(await YE(T))}function S(){if(e)throw new Ma("Shiki instance has been disposed")}function I(){e||(e=!0,a.dispose(),Jo-=1)}return{setTheme:m,getTheme:d,getLanguage:f,getLoadedThemes:p,getLoadedLanguages:_,resolveLangAlias:c,loadLanguage:v,loadLanguageSync:y,loadTheme:C,loadThemeSync:w,dispose:I,[Symbol.dispose]:I}}async function vP(t){t.engine||gP("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,r]=await Promise.all([YE(t.themes||[]),JE(t.langs||[]),t.engine]);return bP({...t,themes:e,langs:n,engine:r})}async function wP(t){const e=await vP(t);return{getLastGrammarState:(...n)=>nP(e,...n),codeToTokensBase:(n,r)=>by(e,n,r),codeToTokensWithThemes:(n,r)=>QE(e,n,r),codeToTokens:(n,r)=>Sf(e,n,r),codeToHast:(n,r)=>Ef(e,n,r),codeToHtml:(n,r)=>pP(e,n,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function xP(t){const e=t.langs,n=t.themes,r=t.engine;async function i(a){function l(p){if(typeof p=="string"){if(p=a.langAlias?.[p]||p,VE(p))return[];const _=e[p];if(!_)throw new Nt(`Language \`${p}\` is not included in this bundle. You may want to load it from external source.`);return _}return p}function c(p){if(HE(p))return"none";if(typeof p=="string"){const _=n[p];if(!_)throw new Nt(`Theme \`${p}\` is not included in this bundle. You may want to load it from external source.`);return _}return p}const f=(a.themes??[]).map(p=>c(p)),d=(a.langs??[]).map(p=>l(p)),m=await wP({engine:a.engine??r(),...a,themes:f,langs:d});return{...m,loadLanguage(...p){return m.loadLanguage(...p.map(l))},loadTheme(...p){return m.loadTheme(...p.map(c))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return i}function SP(t){let e;async function n(r={}){if(e){const i=await e;return await Promise.all([i.loadTheme(...r.themes||[]),i.loadLanguage(...r.langs||[])]),i}else{e=t({...r,themes:[],langs:[]});const i=await e;return await Promise.all([i.loadTheme(...r.themes||[]),i.loadLanguage(...r.langs||[])]),i}}return n}function EP(t,e){const n=SP(t);async function r(i,a){const l=await n({langs:[a.lang],themes:"theme"in a?[a.theme]:Object.values(a.themes)}),c=await e?.guessEmbeddedLanguages?.(i,a.lang,l);return c&&await l.loadLanguage(...c),l}return{getSingletonHighlighter(i){return n(i)},async codeToHtml(i,a){return(await r(i,a)).codeToHtml(i,a)},async codeToHast(i,a){return(await r(i,a)).codeToHast(i,a)},async codeToTokens(i,a){return(await r(i,a)).codeToTokens(i,a)},async codeToTokensBase(i,a){return(await r(i,a)).codeToTokensBase(i,a)},async codeToTokensWithThemes(i,a){return(await r(i,a)).codeToTokensWithThemes(i,a)},async getLastGrammarState(i,a){return(await n({langs:[a.lang],themes:[a.theme]})).getLastGrammarState(i,a)}}}const WE=[{id:"abap",name:"ABAP",import:(()=>D(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>D(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>D(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>D(()=>import("./angular-html-CU67Zn6k.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>D(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>D(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>D(()=>import("./apex-DDbsPZ6N.js"),[]))},{id:"apl",name:"APL",import:(()=>D(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>D(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>D(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>D(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>D(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>D(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>D(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>D(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>D(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>D(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>D(()=>import("./berry-uYugtg8r.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>D(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>D(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>D(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>D(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>D(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>D(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>D(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>D(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>D(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>D(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>D(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>D(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>D(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>D(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>D(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>D(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>D(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>D(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>D(()=>import("./csharp-K5feNrxe.js"),[]))},{id:"css",name:"CSS",import:(()=>D(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>D(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>D(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>D(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>D(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>D(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>D(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>D(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>D(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>D(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>D(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>D(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>D(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>D(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>D(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>D(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>D(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>D(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>D(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>D(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>D(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>D(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>D(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>D(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>D(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>D(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>D(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>D(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>D(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>D(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>D(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>D(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>D(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>D(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>D(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>D(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>D(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>D(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>D(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>D(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>D(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>D(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>D(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>D(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>D(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>D(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>D(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>D(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>D(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>D(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>D(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>D(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>D(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>D(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>D(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>D(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>D(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>D(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>D(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>D(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>D(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>D(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>D(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>D(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>D(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>D(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>D(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>D(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>D(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>D(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>D(()=>import("./latex-BdAV_C_H.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>D(()=>import("./lean-Bc6EcWN3.js"),[]))},{id:"less",name:"Less",import:(()=>D(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>D(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>D(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>D(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>D(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>D(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>D(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>D(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>D(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>D(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>D(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>D(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>D(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>D(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>D(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>D(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>D(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>D(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>D(()=>import("./nextflow-BrzmwbiE.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>D(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>D(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>D(()=>import("./nix-c8nO5XWb.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>D(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>D(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>D(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>D(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:(()=>D(()=>import("./openscad-C4EeE6gA.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>D(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>D(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>D(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>D(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>D(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>D(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>D(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>D(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>D(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>D(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>D(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>D(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>D(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>D(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>D(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>D(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>D(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>D(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>D(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>D(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>D(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>D(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>D(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>D(()=>import("./razor-CE9lU5zL.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>D(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>D(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>D(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>D(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>D(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>D(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>D(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>D(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>D(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>D(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>D(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>D(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>D(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>D(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>D(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>D(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>D(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>D(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>D(()=>import("./solidity-rGO070M0.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>D(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>D(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>D(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>D(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>D(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>D(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>D(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>D(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>D(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>D(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>D(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>D(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>D(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>D(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>D(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>D(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>D(()=>import("./tex-CxkMU7Pf.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>D(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>D(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>D(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>D(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>D(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>D(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>D(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>D(()=>import("./typespec-BGHnOYBU.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>D(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>D(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>D(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>D(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>D(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>D(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>D(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>D(()=>import("./vue-DnHKYNfI.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>D(()=>import("./vue-html-CChd_i61.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>D(()=>import("./vue-vine-8moa0y9V.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>D(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>D(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>D(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>D(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>D(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>D(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>D(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>D(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>D(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>D(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>D(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>D(()=>import("./zig-VOosw3JB.js"),[]))}],kP=Object.fromEntries(WE.map(t=>[t.id,t.import])),CP=Object.fromEntries(WE.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),TP={...kP,...CP},AP=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>D(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>D(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>D(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>D(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>D(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>D(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>D(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>D(()=>import("./dark-plus-C3mMm8J8.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>D(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>D(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>D(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>D(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>D(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>D(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>D(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>D(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>D(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>D(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>D(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>D(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>D(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>D(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>D(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>D(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>D(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>D(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>D(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>D(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>D(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>D(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>D(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>D(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>D(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>D(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>D(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>D(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>D(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>D(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>D(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>D(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>D(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>D(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>D(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>D(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>D(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>D(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>D(()=>import("./rose-pine-qdsjHGoJ.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>D(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>D(()=>import("./rose-pine-moon-D4_iv3hh.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>D(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>D(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>D(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>D(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>D(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>D(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>D(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>D(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>D(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>D(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>D(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],RP=Object.fromEntries(AP.map(t=>[t.id,t.import]));class xy extends Error{constructor(e){super(e),this.name="ShikiError"}}function OP(){return 2147483648}function IP(){return typeof performance<"u"?performance.now():Date.now()}const NP=(t,e)=>t+(e-t%e)%e;async function DP(t){let e,n;const r={};function i(y){n=y,r.HEAPU8=new Uint8Array(y),r.HEAPU32=new Uint32Array(y)}function a(y,v,w){r.HEAPU8.copyWithin(y,v,v+w)}function l(y){try{return e.grow(y-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function c(y){const v=r.HEAPU8.length;y=y>>>0;const w=OP();if(y>w)return!1;for(let C=1;C<=4;C*=2){let S=v*(1+.2/C);S=Math.min(S,y+100663296);const I=Math.min(w,NP(Math.max(y,S),65536));if(l(I))return!0}return!1}const f=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function d(y,v,w=1024){const C=v+w;let S=v;for(;y[S]&&!(S>=C);)++S;if(S-v>16&&y.buffer&&f)return f.decode(y.subarray(v,S));let I="";for(;v<S;){let T=y[v++];if(!(T&128)){I+=String.fromCharCode(T);continue}const L=y[v++]&63;if((T&224)===192){I+=String.fromCharCode((T&31)<<6|L);continue}const z=y[v++]&63;if((T&240)===224?T=(T&15)<<12|L<<6|z:T=(T&7)<<18|L<<12|z<<6|y[v++]&63,T<65536)I+=String.fromCharCode(T);else{const E=T-65536;I+=String.fromCharCode(55296|E>>10,56320|E&1023)}}return I}function m(y,v){return y?d(r.HEAPU8,y,v):""}const p={emscripten_get_now:IP,emscripten_memcpy_big:a,emscripten_resize_heap:c,fd_write:()=>0};async function _(){const v=await t({env:p,wasi_snapshot_preview1:p});e=v.memory,i(e.buffer),Object.assign(r,v),r.UTF8ToString=m}return await _(),r}var MP=Object.defineProperty,LP=(t,e,n)=>e in t?MP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ut=(t,e,n)=>LP(t,typeof e!="symbol"?e+"":e,n);let Jt=null;function zP(t){throw new xy(t.UTF8ToString(t.getLastOnigError()))}class Yf{constructor(e){Ut(this,"utf16Length"),Ut(this,"utf8Length"),Ut(this,"utf16Value"),Ut(this,"utf8Value"),Ut(this,"utf16OffsetToUtf8"),Ut(this,"utf8OffsetToUtf16");const n=e.length,r=Yf._utf8ByteLength(e),i=r!==n,a=i?new Uint32Array(n+1):null;i&&(a[n]=r);const l=i?new Uint32Array(r+1):null;i&&(l[r]=n);const c=new Uint8Array(r);let f=0;for(let d=0;d<n;d++){const m=e.charCodeAt(d);let p=m,_=!1;if(m>=55296&&m<=56319&&d+1<n){const y=e.charCodeAt(d+1);y>=56320&&y<=57343&&(p=(m-55296<<10)+65536|y-56320,_=!0)}i&&(a[d]=f,_&&(a[d+1]=f),p<=127?l[f+0]=d:p<=2047?(l[f+0]=d,l[f+1]=d):p<=65535?(l[f+0]=d,l[f+1]=d,l[f+2]=d):(l[f+0]=d,l[f+1]=d,l[f+2]=d,l[f+3]=d)),p<=127?c[f++]=p:p<=2047?(c[f++]=192|(p&1984)>>>6,c[f++]=128|(p&63)>>>0):p<=65535?(c[f++]=224|(p&61440)>>>12,c[f++]=128|(p&4032)>>>6,c[f++]=128|(p&63)>>>0):(c[f++]=240|(p&1835008)>>>18,c[f++]=128|(p&258048)>>>12,c[f++]=128|(p&4032)>>>6,c[f++]=128|(p&63)>>>0),_&&d++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=c,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=l}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const a=e.charCodeAt(r);let l=a,c=!1;if(a>=55296&&a<=56319&&r+1<i){const f=e.charCodeAt(r+1);f>=56320&&f<=57343&&(l=(a-55296<<10)+65536|f-56320,c=!0)}l<=127?n+=1:l<=2047?n+=2:l<=65535?n+=3:n+=4,c&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const Xf=class Dr{constructor(e){if(Ut(this,"id",++Dr.LAST_ID),Ut(this,"_onigBinding"),Ut(this,"content"),Ut(this,"utf16Length"),Ut(this,"utf8Length"),Ut(this,"utf16OffsetToUtf8"),Ut(this,"utf8OffsetToUtf16"),Ut(this,"ptr"),!Jt)throw new xy("Must invoke loadWasm first.");this._onigBinding=Jt,this.content=e;const n=new Yf(e);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!Dr._sharedPtrInUse?(Dr._sharedPtr||(Dr._sharedPtr=Jt.omalloc(1e4)),Dr._sharedPtrInUse=!0,Jt.HEAPU8.set(n.utf8Value,Dr._sharedPtr),this.ptr=Dr._sharedPtr):this.ptr=n.createString(Jt)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Dr._sharedPtr?Dr._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Ut(Xf,"LAST_ID",0);Ut(Xf,"_sharedPtr",0);Ut(Xf,"_sharedPtrInUse",!1);let ek=Xf;class PP{constructor(e){if(Ut(this,"_onigBinding"),Ut(this,"_ptr"),!Jt)throw new xy("Must invoke loadWasm first.");const n=[],r=[];for(let c=0,f=e.length;c<f;c++){const d=new Yf(e[c]);n[c]=d.createString(Jt),r[c]=d.utf8Length}const i=Jt.omalloc(4*e.length);Jt.HEAPU32.set(n,i/4);const a=Jt.omalloc(4*e.length);Jt.HEAPU32.set(r,a/4);const l=Jt.createOnigScanner(i,a,e.length);for(let c=0,f=e.length;c<f;c++)Jt.ofree(n[c]);Jt.ofree(a),Jt.ofree(i),l===0&&zP(Jt),this._onigBinding=Jt,this._ptr=l}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof e=="string"){e=new ek(e);const a=this._findNextMatchSync(e,n,!1,i);return e.dispose(),a}return this._findNextMatchSync(e,n,!1,i)}_findNextMatchSync(e,n,r,i){const a=this._onigBinding,l=a.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i);if(l===0)return null;const c=a.HEAPU32;let f=l/4;const d=c[f++],m=c[f++],p=[];for(let _=0;_<m;_++){const y=e.convertUtf8OffsetToUtf16(c[f++]),v=e.convertUtf8OffsetToUtf16(c[f++]);p[_]={start:y,end:v,length:v-y}}return{index:d,captureIndices:p}}}function jP(t){return typeof t.instantiator=="function"}function BP(t){return typeof t.default=="function"}function UP(t){return typeof t.data<"u"}function $P(t){return typeof Response<"u"&&t instanceof Response}function qP(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Cc;function FP(t){if(Cc)return Cc;async function e(){Jt=await DP(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),jP(r)?r=await r.instantiator(n):BP(r)?r=await r.default(n):(UP(r)&&(r=r.data),$P(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await VP(r)(n):r=await HP(r)(n):qP(r)?r=await nm(r)(n):r instanceof WebAssembly.Module?r=await nm(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await nm(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return Cc=e(),Cc}function nm(t){return e=>WebAssembly.instantiate(t,e)}function VP(t){return e=>WebAssembly.instantiateStreaming(t,e)}function HP(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}async function GP(t){return t&&await FP(t),{createScanner(e){return new PP(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new ek(e)}}}const KP=xP({langs:TP,themes:RP,engine:()=>GP(D(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{codeToHtml:Wf}=EP(KP,{guessEmbeddedLanguages:P3});function ZP(){const t=yt.c(2),[e,n]=J.useState(QP);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>n(c.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),J.useEffect(r,i),e}function QP(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function JP({content:t}){const[e,n]=J.useState(""),r=ZP(),i=a=>{try{const l=JSON.parse(a);return JSON.stringify(l,null,2)}catch{return a}};return J.useEffect(()=>{(async()=>{try{const l=await t.text(),c=i(l),f=await Wf(c,{lang:"json",theme:r?"github-dark":"github-light"});n(f)}catch{const l=await t.text();n(`<pre>${i(l)}</pre>`)}})()},[t,r]),O.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function YP(){const t=yt.c(2),[e,n]=J.useState(XP);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>n(c.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),J.useEffect(r,i),e}function XP(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function WP({content:t}){const[e,n]=J.useState(""),r=YP(),i=a=>{try{const c=/(>)(<)(\/*)/g,f=a.replace(c,`$1
$2$3`);let d=0;return f.split(`
`).map(m=>{let p=0;m.match(/.+<\/\w[^>]*>$/)?p=0:m.match(/^<\/\w/)&&d>0?d-=1:m.match(/^<\w[^>]*[^/]>.*$/)?p=1:p=0;const _="  ".repeat(d);return d+=p,_+m}).join(`
`)}catch{return a}};return J.useEffect(()=>{(async()=>{try{const l=await t.text(),c=i(l),f=await Wf(c,{lang:"xml",theme:r?"github-dark":"github-light"});n(f)}catch{const l=await t.text();n(`<pre>${i(l)}</pre>`)}})()},[t,r]),O.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function ej(){const t=yt.c(2),[e,n]=J.useState(tj);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>n(c.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),J.useEffect(r,i),e}function tj(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function nj({content:t}){const[e,n]=J.useState(""),r=ej();return J.useEffect(()=>{(async()=>{try{const a=await t.text(),l=await Wf(a,{lang:"yaml",theme:r?"github-dark":"github-light"});n(l)}catch{const a=await t.text();n(`<pre>${a}</pre>`)}})()},[t,r]),O.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function Gx(t){const e=yt.c(5),{content:n}=t,[r,i]=J.useState("");let a,l;e[0]!==n?(a=()=>{n.text().then(i)},l=[n],e[0]=n,e[1]=a,e[2]=l):(a=e[1],l=e[2]),J.useEffect(a,l);let c;return e[3]!==r?(c=O.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:r}),e[3]=r,e[4]=c):c=e[4],c}function rj(t){const e=yt.c(6),{content:n}=t,r=ij;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=O.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Binary content"}),e[0]=i):i=e[0];const a=r(n.size);let l;e[1]!==a?(l=O.jsx("div",{className:"text-2xl font-semibold text-neutral-700 dark:text-neutral-200",children:a}),e[1]=a,e[2]=l):l=e[2];let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=O.jsx("div",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Cannot preview binary data"}),e[3]=c):c=e[3];let f;return e[4]!==l?(f=O.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:O.jsxs("div",{className:"text-center space-y-2",children:[i,l,c]})}),e[4]=l,e[5]=f):f=e[5],f}function ij(t){return t<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(2)} KB`:`${(t/1048576).toFixed(2)} MB`}function sj(t){const e=yt.c(4),{content:n}=t;let r;e[0]!==n?(r=URL.createObjectURL(n),e[0]=n,e[1]=r):r=e[1];const i=r;let a;return e[2]!==i?(a=O.jsx("div",{className:"h-full",children:O.jsx("img",{src:i,alt:"Response",className:"max-w-full max-h-full object-contain"})}),e[2]=i,e[3]=a):a=e[3],a}function aj(){const t=yt.c(2),[e,n]=J.useState(oj);let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>n(c.matches);return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},i=[],t[0]=r,t[1]=i):(r=t[0],i=t[1]),J.useEffect(r,i),e}function oj(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function lj(t){const e=[],n=t.split(/\n\n+/);for(const r of n){if(!r.trim())continue;const i={data:"",raw:r},a=r.split(`
`);for(const l of a)l.startsWith("id:")?i.id=l.slice(3).trim():l.startsWith("event:")?i.event=l.slice(6).trim():l.startsWith("data:")?i.data+=(i.data?`
`:"")+l.slice(5).trim():l.startsWith("retry:")&&(i.retry=parseInt(l.slice(6).trim(),10));(i.data||i.event||i.id)&&e.push(i)}return e}function uj(t){try{return JSON.parse(t)}catch{return null}}function cj({event:t,index:e,prefersDark:n}){const[r,i]=J.useState(!0),[a,l]=J.useState(""),c=J.useMemo(()=>uj(t.data),[t.data]);return J.useEffect(()=>{(async()=>{if(c)try{const d=JSON.stringify(c,null,2),m=await Wf(d,{lang:"json",theme:n?"github-dark":"github-light"});l(m)}catch{l(`<pre>${JSON.stringify(c,null,2)}</pre>`)}})()},[c,n]),O.jsxs("div",{className:"border border-neutral-200 dark:border-white/10 rounded-lg overflow-hidden",children:[O.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center gap-2 px-3 py-2 bg-neutral-50 dark:bg-white/5 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:[r?O.jsx(cy,{className:"w-4 h-4 text-neutral-400"}):O.jsx(uL,{className:"w-4 h-4 text-neutral-400"}),O.jsxs("span",{className:"text-xs font-mono text-neutral-500 dark:text-neutral-400",children:["#",e+1]}),t.event&&O.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 rounded",children:t.event}),t.id&&O.jsxs("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:["id: ",t.id]}),c&&O.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 rounded",children:"JSON"})]}),r&&O.jsx("div",{className:"p-3 bg-white dark:bg-transparent",children:c&&a?O.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:a}}):O.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:t.data})})]})}function fj(t){const e=yt.c(17),{content:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,a]=J.useState(r),[l,c]=J.useState(""),f=aj();let d,m;if(e[1]!==n?(d=()=>{n.text().then(w=>{c(w),a(lj(w))})},m=[n],e[1]=n,e[2]=d,e[3]=m):(d=e[2],m=e[3]),J.useEffect(d,m),i.length===0){let w;return e[4]!==l?(w=O.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:l}),e[4]=l,e[5]=w):w=e[5],w}const p=i.length!==1?"s":"";let _;e[6]!==i.length||e[7]!==p?(_=O.jsx("div",{className:"flex items-center gap-2 mb-3",children:O.jsxs("span",{className:"text-xs font-medium text-neutral-500 dark:text-neutral-400",children:[i.length," event",p]})}),e[6]=i.length,e[7]=p,e[8]=_):_=e[8];let y;if(e[9]!==i||e[10]!==f){let w;e[12]!==f?(w=(C,S)=>O.jsx(cj,{event:C,index:S,prefersDark:f},S),e[12]=f,e[13]=w):w=e[13],y=i.map(w),e[9]=i,e[10]=f,e[11]=y}else y=e[11];let v;return e[14]!==_||e[15]!==y?(v=O.jsxs("div",{className:"space-y-2",children:[_,y]}),e[14]=_,e[15]=y,e[16]=v):v=e[16],v}const hj=["video/","audio/","application/pdf","application/octet-stream","application/zip","application/gzip","application/x-tar","application/x-rar","application/x-7z","application/vnd.ms-","application/vnd.openxmlformats","application/x-executable","application/x-sharedlib","application/x-mach-binary","application/wasm","font/"],dj=["image/png","image/jpeg","image/gif","image/webp","image/svg+xml","image/bmp","image/x-icon","image/ico","image/avif","image/apng"],pj=["text/","application/json","application/xml","application/javascript","application/ecmascript","application/x-javascript","application/ld+json","application/manifest+json","application/schema+json","application/x-www-form-urlencoded","application/xhtml+xml","application/rss+xml","application/atom+xml","application/soap+xml","application/x-yaml","application/yaml","+json","+xml"];function mj(t){const e=t["content-type"]?.toLowerCase()||"";return e.includes("text/event-stream")?"sse":dj.some(n=>e.includes(n))?"image":hj.some(n=>e.includes(n))?"binary":e.includes("json")||e.endsWith("+json")?"json":e.includes("xml")||e.endsWith("+xml")?"xml":e.includes("yaml")||e.includes("yml")?"yaml":(pj.some(n=>e.includes(n)),"text")}function gj(){const t=yt.c(35),{request:e}=Ji(),[n,r]=J.useState("pretty"),[i,a]=J.useState(!1),l=e?.httpResponse,c=e?.executing??!1,f=l?.error;if(c){let E;return t[0]===Symbol.for("react.memo_cache_sentinel")?(E=O.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-50",children:[O.jsxs("div",{className:"relative mb-4",children:[O.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-zinc-100 dark:border-zinc-800"}),O.jsx("div",{className:"absolute inset-0 w-12 h-12 rounded-full border-2 border-zinc-400 border-t-transparent animate-spin"})]}),O.jsx("span",{className:"text-xs font-medium text-zinc-400 uppercase tracking-widest animate-pulse",children:"Sending Request"})]}),t[0]=E):E=t[0],E}if(f){let E,M;t[1]===Symbol.for("react.memo_cache_sentinel")?(E=O.jsx(fL,{className:"w-5 h-5 text-rose-500 dark:text-rose-400"}),M=O.jsx("h3",{className:"font-semibold text-rose-500 dark:text-rose-400",children:"Error"}),t[1]=E,t[2]=M):(E=t[1],M=t[2]);let $;return t[3]!==f?($=O.jsx("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-4",children:O.jsxs("div",{className:"flex items-center gap-3",children:[E,O.jsxs("div",{children:[M,O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:f})]})]})}),t[3]=f,t[4]=$):$=t[4],$}if(!l){let E;return t[5]===Symbol.for("react.memo_cache_sentinel")?(E=O.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[O.jsx(NL,{className:"w-12 h-12 text-neutral-300 dark:text-neutral-600 mb-4"}),O.jsx("p",{className:"text-sm text-neutral-400 dark:text-neutral-500",children:"Hit Send to see what happens"})]}),t[5]=E):E=t[5],E}let d;t[6]!==l.headers?(d=mj(l.headers),t[6]=l.headers,t[7]=d):d=t[7];const m=d;let p;t[8]!==m||t[9]!==l.body||t[10]!==n?(p=()=>{if(n==="raw"&&m!=="image"&&m!=="binary")return O.jsx(Gx,{content:l.body});switch(m){case"json":return O.jsx(JP,{content:l.body});case"xml":return O.jsx(WP,{content:l.body});case"yaml":return O.jsx(nj,{content:l.body});case"sse":return O.jsx(fj,{content:l.body});case"image":return O.jsx(sj,{content:l.body});case"binary":return O.jsx(rj,{content:l.body});default:return O.jsx(Gx,{content:l.body})}},t[8]=m,t[9]=l.body,t[10]=n,t[11]=p):p=t[11];const _=p;let y;t[12]!==m||t[13]!==n?(y=m!=="binary"&&m!=="image"&&O.jsxs("div",{className:"flex gap-1 p-1 bg-neutral-100 dark:bg-white/5 rounded-lg",children:[O.jsx("button",{onClick:()=>r("pretty"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${n==="pretty"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Pretty"}),O.jsx("button",{onClick:()=>r("raw"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${n==="raw"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Raw"})]}),t[12]=m,t[13]=n,t[14]=y):y=t[14];let v;t[15]!==i?(v=()=>a(!i),t[15]=i,t[16]=v):v=t[16];const w=`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${i?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"bg-neutral-100 dark:bg-white/5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`;let C;t[17]!==l.headers?(C=Object.keys(l.headers),t[17]=l.headers,t[18]=C):C=t[18];let S;t[19]!==v||t[20]!==w||t[21]!==C.length?(S=O.jsxs("button",{onClick:v,className:w,children:["Headers (",C.length,")"]}),t[19]=v,t[20]=w,t[21]=C.length,t[22]=S):S=t[22];let I;t[23]!==y||t[24]!==S?(I=O.jsxs("div",{className:"flex gap-2 shrink-0 mb-4",children:[y,S]}),t[23]=y,t[24]=S,t[25]=I):I=t[25];let T;t[26]!==l.headers||t[27]!==i?(T=i&&O.jsx("div",{className:"bg-neutral-100 dark:bg-white/5 rounded-xl border border-neutral-200 dark:border-white/10 overflow-hidden shrink-0 mb-4",children:O.jsxs("table",{className:"w-full",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"border-b border-neutral-200 dark:border-white/10",children:[O.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Header"}),O.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Value"})]})}),O.jsx("tbody",{children:Object.entries(l.headers).map(yj)})]})}),t[26]=l.headers,t[27]=i,t[28]=T):T=t[28];let L;t[29]!==_?(L=O.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:_()}),t[29]=_,t[30]=L):L=t[30];let z;return t[31]!==I||t[32]!==T||t[33]!==L?(z=O.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[I,T,L]}),t[31]=I,t[32]=T,t[33]=L,t[34]=z):z=t[34],z}function yj(t){const[e,n]=t;return O.jsxs("tr",{className:"border-b border-neutral-100 dark:border-white/5 last:border-0",children:[O.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-600 dark:text-neutral-300",children:e}),O.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-500 dark:text-neutral-400",children:n})]},e)}function _j(){const t=yt.c(14),{request:e,newRequest:n}=Ji();if(!e){let p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(p=O.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 dark:text-neutral-500",children:"No active request"}),t[0]=p):p=t[0],p}let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=O.jsx("div",{className:"flex-1",children:O.jsx(oz,{})}),t[1]=r):r=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t[2]=i):i=t[2];let a;t[3]!==n?(a=O.jsxs("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 flex items-center gap-2 shrink-0",children:[r,O.jsx("button",{onClick:n,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"New request",children:i})]}),t[3]=n,t[4]=a):a=t[4];let l;t[5]===Symbol.for("react.memo_cache_sentinel")?(l=O.jsx("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 overflow-visible shrink-0",children:O.jsx(Az,{})}),t[5]=l):l=t[5];let c;t[6]!==e.httpResponse?(c=e.httpResponse&&O.jsx("h2",{className:"text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider mb-2 shrink-0",children:"Response"}),t[6]=e.httpResponse,t[7]=c):c=t[7];let f;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=O.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:O.jsx(gj,{})}),t[8]=f):f=t[8];let d;t[9]!==c?(d=O.jsxs("div",{className:"flex-1 pl-2 pr-3 py-2 flex flex-col min-h-0 overflow-hidden",children:[c,f]}),t[9]=c,t[10]=d):d=t[10];let m;return t[11]!==a||t[12]!==d?(m=O.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[a,l,d]}),t[11]=a,t[12]=d,t[13]=m):m=t[13],m}class bj{#e=!0;#t;#n;#r;#i;#o;#s;#a;#p=0;#m=5;#u=!1;#c=!1;#l=null;#f=()=>{this.debugLog("Connected to event bus"),this.#o=!0,this.#u=!1,this.debugLog("Emitting queued events",this.#i),this.#i.forEach(e=>this.emitEventToBus(e)),this.#i=[],this.stopConnectLoop(),this.#n().removeEventListener("tanstack-connect-success",this.#f)};#h=()=>{if(this.#p<this.#m){this.#p++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#n().removeEventListener("tanstack-connect",this.#h),this.#c=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#d=()=>{this.#u||(this.#u=!0,this.#n().addEventListener("tanstack-connect-success",this.#f),this.#h())};constructor({pluginId:e,debug:n=!1,enabled:r=!0,reconnectEveryMs:i=300}){this.#t=e,this.#e=r,this.#n=this.getGlobalTarget,this.#r=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#i=[],this.#o=!1,this.#c=!1,this.#s=null,this.#a=i}startConnectLoop(){this.#s!==null||this.#o||(this.debugLog(`Starting connect loop (every ${this.#a}ms)`),this.#s=setInterval(this.#h,this.#a))}stopConnectLoop(){this.#u=!1,this.#s!==null&&(clearInterval(this.#s),this.#s=null,this.#i=[],this.debugLog("Stopped connect loop"))}debugLog(...e){this.#r&&console.log(` [tanstack-devtools:${this.#t}-plugin]`,...e)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const e=typeof EventTarget<"u"?new EventTarget:void 0;return typeof e>"u"||typeof e.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),e)}getPluginId(){return this.#t}dispatchCustomEventShim(e,n){try{const r=new Event(e,{detail:n});this.#n().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(e,n){try{this.#n().dispatchEvent(new CustomEvent(e,{detail:n}))}catch{this.dispatchCustomEventShim(e,n)}}emitEventToBus(e){this.debugLog("Emitting event to client bus",e),this.dispatchCustomEvent("tanstack-dispatch-event",e)}createEventPayload(e,n){return{type:`${this.#t}:${e}`,payload:n,pluginId:this.#t}}emit(e,n){if(!this.#e){this.debugLog("Event bus client is disabled, not emitting event",e,n);return}if(this.#l&&(this.debugLog("Emitting event to internal event target",e,n),this.#l.dispatchEvent(new CustomEvent(`${this.#t}:${e}`,{detail:this.createEventPayload(e,n)}))),this.#c){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#o){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#i.push(this.createEventPayload(e,n)),typeof CustomEvent<"u"&&!this.#u&&(this.#d(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(e,n))}on(e,n,r){const i=r?.withEventTarget??!1,a=`${this.#t}:${e}`;if(i&&(this.#l||(this.#l=new EventTarget),this.#l.addEventListener(a,c=>{n(c.detail)})),!this.#e)return this.debugLog("Event bus client is disabled, not registering event",a),()=>{};const l=c=>{this.debugLog("Received event from bus",c.detail),n(c.detail)};return this.#n().addEventListener(a,l),this.debugLog("Registered event to bus",a),()=>{i&&this.#l?.removeEventListener(a,l),this.#n().removeEventListener(a,l)}}onAll(e){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const i=r.detail;e(i)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(e){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const i=r.detail;this.#t&&i.pluginId!==this.#t||e(i)};return this.#n().addEventListener("tanstack-devtools-global",n),()=>this.#n().removeEventListener("tanstack-devtools-global",n)}}class vj extends bj{constructor(){super({pluginId:"tanstack-ai-devtools"})}}const Ot=new vj;async function wj(t){let e="";for await(const n of t)n.type==="content"&&n.delta&&(e+=n.delta);return e}function xj(t){return typeof t=="object"&&t!==null&&"~standard"in t&&typeof t["~standard"]=="object"&&t["~standard"].version===1&&typeof t["~standard"].jsonSchema=="object"&&typeof t["~standard"].jsonSchema.input=="function"}function Os(t){return typeof t=="object"&&t!==null&&"~standard"in t&&typeof t["~standard"]=="object"&&t!==null&&t["~standard"]!==null&&"version"in t["~standard"]&&t["~standard"].version===1&&"validate"in t["~standard"]&&typeof t["~standard"].validate=="function"}function xl(t,e=[]){const n={...t};if(n.type==="object"&&n.properties){const r={...n.properties},i=Object.keys(r);for(const a of i){const l=r[a],c=!e.includes(a);l.type==="object"&&l.properties?r[a]=xl(l,l.required||[]):l.type==="array"&&l.items?r[a]={...l,items:xl(l.items,l.items.required||[])}:c&&(l.type&&!Array.isArray(l.type)?r[a]={...l,type:[l.type,"null"]}:Array.isArray(l.type)&&!l.type.includes("null")&&(r[a]={...l,type:[...l.type,"null"]}))}n.properties=r,n.required=i,n.additionalProperties=!1}return n.type==="array"&&n.items&&(n.items=xl(n.items,n.items.required||[])),n}function mg(t,e={}){if(!t)return;const{forStructuredOutput:n=!1}=e;if(xj(t)){let i=t["~standard"].jsonSchema.input({target:"draft-07"});if(typeof i=="object"&&"$schema"in i){const{$schema:a,...l}=i;i=l}return typeof i=="object"&&("properties"in i&&!i.type&&(i.type="object"),i.type==="object"&&!("properties"in i)&&(i.properties={}),i.type==="object"&&!("required"in i)&&(i.required=[]),n&&(i=xl(i,i.required||[]))),i}return n&&typeof t=="object"?xl(t,t.required||[]):t}function Ua(t,e){if(!Os(t))return e;const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Error("Schema validation returned a Promise. Use validateWithStandardSchema for async validation.");if(!n.issues)return n.value;const r=n.issues.map(i=>i.message||"Validation failed").join(", ");throw new Error(`Validation failed: ${r}`)}class Sj{constructor(e){this.toolCallsMap=new Map,this.tools=e}addToolCallChunk(e){const n=e.index,r=this.toolCallsMap.get(n);r?(e.toolCall.function.name&&!r.function.name&&(r.function.name=e.toolCall.function.name),e.toolCall.function.arguments&&(r.function.arguments+=e.toolCall.function.arguments)):e.toolCall.id&&e.toolCall.function.name&&this.toolCallsMap.set(n,{id:e.toolCall.id,type:"function",function:{name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||""}})}hasToolCalls(){return this.getToolCalls().length>0}getToolCalls(){return Array.from(this.toolCallsMap.values()).filter(e=>e.id&&e.function.name&&e.function.name.trim().length>0)}async*executeTools(e){const n=this.getToolCalls(),r=[];for(const i of n){const a=this.tools.find(c=>c.name===i.function.name);let l;if(a?.execute)try{let c;try{c=JSON.parse(i.function.arguments)}catch{throw new Error(`Failed to parse tool arguments as JSON: ${i.function.arguments}`)}if(a.inputSchema&&Os(a.inputSchema))try{c=Ua(a.inputSchema,c)}catch(d){const m=d instanceof Error?d.message:"Validation failed";throw new Error(`Input validation failed for tool ${a.name}: ${m}`)}let f=await a.execute(c);if(a.outputSchema&&Os(a.outputSchema)&&f!==void 0&&f!==null)try{f=Ua(a.outputSchema,f)}catch(d){const m=d instanceof Error?d.message:"Validation failed";throw new Error(`Output validation failed for tool ${a.name}: ${m}`)}l=typeof f=="string"?f:JSON.stringify(f)}catch(c){l=`Error executing tool: ${c instanceof Error?c.message:"Unknown error"}`}else l=`Tool ${i.function.name} does not have an execute function`;yield{type:"tool_result",id:e.id,model:e.model,timestamp:Date.now(),toolCallId:i.id,content:l},r.push({role:"tool",content:l,toolCallId:i.id})}return r}clear(){this.toolCallsMap.clear()}}async function Kx(t,e,n=new Map,r=new Map){const i=[],a=[],l=[],c=new Map;for(const f of e)c.set(f.name,f);for(const f of t){const d=c.get(f.function.name),m=f.function.name;if(!d){i.push({toolCallId:f.id,toolName:m,result:{error:`Unknown tool: ${m}`},state:"output-error"});continue}let p={};const _=f.function.arguments.trim()||"{}";try{p=JSON.parse(_)}catch{throw new Error(`Failed to parse tool arguments as JSON: ${_}`)}if(d.inputSchema&&Os(d.inputSchema))try{p=Ua(d.inputSchema,p)}catch(v){const w=v instanceof Error?v.message:"Validation failed";i.push({toolCallId:f.id,toolName:m,result:{error:`Input validation failed for tool ${d.name}: ${w}`},state:"output-error"});continue}if(!d.execute){if(d.needsApproval){const v=`approval_${f.id}`;n.has(v)?n.get(v)?r.has(f.id)?i.push({toolCallId:f.id,toolName:m,result:r.get(f.id)}):l.push({toolCallId:f.id,toolName:m,input:p}):i.push({toolCallId:f.id,toolName:m,result:{error:"User declined tool execution"},state:"output-error"}):a.push({toolCallId:f.id,toolName:f.function.name,input:p,approvalId:v})}else r.has(f.id)?i.push({toolCallId:f.id,toolName:m,result:r.get(f.id)}):l.push({toolCallId:f.id,toolName:m,input:p});continue}if(d.needsApproval){const v=`approval_${f.id}`;if(n.has(v))if(n.get(v)){const C=Date.now();try{let S=await d.execute(p);const I=Date.now()-C;d.outputSchema&&Os(d.outputSchema)&&S!==void 0&&S!==null&&(S=Ua(d.outputSchema,S)),i.push({toolCallId:f.id,toolName:m,result:typeof S=="string"?JSON.parse(S):S||null,duration:I})}catch(S){const I=Date.now()-C,T=S instanceof Error?S.message:"Unknown error";i.push({toolCallId:f.id,toolName:m,result:{error:T},state:"output-error",duration:I})}}else i.push({toolCallId:f.id,toolName:m,result:{error:"User declined tool execution"},state:"output-error"});else a.push({toolCallId:f.id,toolName:m,input:p,approvalId:v});continue}const y=Date.now();try{let v=await d.execute(p);const w=Date.now()-y;d.outputSchema&&Os(d.outputSchema)&&v!==void 0&&v!==null&&(v=Ua(d.outputSchema,v)),i.push({toolCallId:f.id,toolName:m,result:typeof v=="string"?JSON.parse(v):v||null,duration:w})}catch(v){const w=Date.now()-y,C=v instanceof Error?v.message:"Unknown error";i.push({toolCallId:f.id,toolName:m,result:{error:C},state:"output-error",duration:w})}}return{results:i,needsApproval:a,needsClientExecution:l}}function tk(t){return({iterationCount:e})=>e<t}class nk{constructor(e){this.iterationCount=0,this.lastFinishReason=null,this.streamStartTime=0,this.totalChunkCount=0,this.currentMessageId=null,this.accumulatedContent="",this.doneChunk=null,this.shouldEmitStreamEnd=!0,this.earlyTermination=!1,this.toolPhase="continue",this.cyclePhase="processText",this.adapter=e.adapter,this.params=e.params,this.systemPrompts=e.params.systemPrompts||[],this.tools=e.params.tools||[],this.loopStrategy=e.params.agentLoopStrategy||tk(5),this.toolCallManager=new Sj(this.tools),this.initialMessageCount=e.params.messages.length,this.messages=e.params.messages,this.requestId=this.createId("chat"),this.streamId=this.createId("stream"),this.effectiveRequest=e.params.abortController?{signal:e.params.abortController.signal}:void 0,this.effectiveSignal=e.params.abortController?.signal}getAccumulatedContent(){return this.accumulatedContent}getMessages(){return this.messages}async*run(){this.beforeRun();try{if((yield*this.checkForPendingToolCalls())==="wait")return;do{if(this.earlyTermination||this.isAborted())return;this.beginCycle(),this.cyclePhase==="processText"?yield*this.streamModelResponse():yield*this.processToolCalls(),this.endCycle()}while(this.shouldContinue())}finally{this.afterRun()}}beforeRun(){this.streamStartTime=Date.now();const{model:e,tools:n,temperature:r,topP:i,maxTokens:a,metadata:l,modelOptions:c,conversationId:f}=this.params,d={};r!==void 0&&(d.temperature=r),i!==void 0&&(d.topP=i),a!==void 0&&(d.maxTokens=a),l!==void 0&&(d.metadata=l),Ot.emit("text:started",{requestId:this.requestId,streamId:this.streamId,model:e,provider:this.adapter.name,messageCount:this.initialMessageCount,hasTools:!!n&&n.length>0,streaming:!0,timestamp:Date.now(),clientId:f,toolNames:n?.map(m=>m.name),options:Object.keys(d).length>0?d:void 0,modelOptions:c}),Ot.emit("stream:started",{streamId:this.streamId,model:e,provider:this.adapter.name,timestamp:Date.now()})}afterRun(){if(!this.shouldEmitStreamEnd)return;const e=Date.now();Ot.emit("text:completed",{requestId:this.requestId,streamId:this.streamId,model:this.params.model,content:this.accumulatedContent,messageId:this.currentMessageId||void 0,finishReason:this.lastFinishReason||void 0,usage:this.doneChunk?.usage,timestamp:e}),Ot.emit("stream:ended",{requestId:this.requestId,streamId:this.streamId,totalChunks:this.totalChunkCount,duration:e-this.streamStartTime,timestamp:e})}beginCycle(){this.cyclePhase==="processText"&&this.beginIteration()}endCycle(){if(this.cyclePhase==="processText"){this.cyclePhase="executeToolCalls";return}this.cyclePhase="processText",this.iterationCount++}beginIteration(){this.currentMessageId=this.createId("msg"),this.accumulatedContent="",this.doneChunk=null}async*streamModelResponse(){const{temperature:e,topP:n,maxTokens:r,metadata:i,modelOptions:a}=this.params,c=this.params.tools?.map(f=>({...f,inputSchema:f.inputSchema?mg(f.inputSchema):void 0,outputSchema:f.outputSchema?mg(f.outputSchema):void 0}));for await(const f of this.adapter.chatStream({model:this.params.model,messages:this.messages,tools:c,temperature:e,topP:n,maxTokens:r,metadata:i,request:this.effectiveRequest,modelOptions:a,systemPrompts:this.systemPrompts}))if(this.isAborted()||(this.totalChunkCount++,yield f,this.handleStreamChunk(f),this.earlyTermination))break}handleStreamChunk(e){switch(e.type){case"content":this.handleContentChunk(e);break;case"tool_call":this.handleToolCallChunk(e);break;case"tool_result":this.handleToolResultChunk(e);break;case"done":this.handleDoneChunk(e);break;case"error":this.handleErrorChunk(e);break;case"thinking":this.handleThinkingChunk(e);break}}handleContentChunk(e){this.accumulatedContent=e.content,Ot.emit("stream:chunk:content",{streamId:this.streamId,messageId:this.currentMessageId||void 0,content:e.content,delta:e.delta,timestamp:Date.now()})}handleToolCallChunk(e){this.toolCallManager.addToolCallChunk(e),Ot.emit("stream:chunk:tool-call",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:e.toolCall.id,toolName:e.toolCall.function.name,index:e.index,arguments:e.toolCall.function.arguments,timestamp:Date.now()})}handleToolResultChunk(e){Ot.emit("stream:chunk:tool-result",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:e.toolCallId,result:e.content,timestamp:Date.now()})}handleDoneChunk(e){if(this.doneChunk?.finishReason==="tool_calls"&&e.finishReason==="stop"){this.lastFinishReason=e.finishReason,Ot.emit("stream:chunk:done",{streamId:this.streamId,messageId:this.currentMessageId||void 0,finishReason:e.finishReason,usage:e.usage,timestamp:Date.now()}),e.usage&&Ot.emit("usage:tokens",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,model:this.params.model,usage:e.usage,timestamp:Date.now()});return}this.doneChunk=e,this.lastFinishReason=e.finishReason,Ot.emit("stream:chunk:done",{streamId:this.streamId,messageId:this.currentMessageId||void 0,finishReason:e.finishReason,usage:e.usage,timestamp:Date.now()}),e.usage&&Ot.emit("usage:tokens",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,model:this.params.model,usage:e.usage,timestamp:Date.now()})}handleErrorChunk(e){Ot.emit("stream:chunk:error",{streamId:this.streamId,messageId:this.currentMessageId||void 0,error:e.error.message,timestamp:Date.now()}),this.earlyTermination=!0,this.shouldEmitStreamEnd=!1}handleThinkingChunk(e){Ot.emit("stream:chunk:thinking",{streamId:this.streamId,messageId:this.currentMessageId||void 0,content:e.content,delta:e.delta,timestamp:Date.now()})}async*checkForPendingToolCalls(){const e=this.getPendingToolCallsFromMessages();if(e.length===0)return"continue";const n=this.createSyntheticDoneChunk();Ot.emit("text:iteration",{requestId:this.requestId,streamId:this.streamId,iterationNumber:this.iterationCount+1,messageCount:this.messages.length,toolCallCount:e.length,timestamp:Date.now()});const{approvals:r,clientToolResults:i}=this.collectClientState(),a=await Kx(e,this.tools,r,i);if(a.needsApproval.length>0||a.needsClientExecution.length>0){for(const c of this.emitApprovalRequests(a.needsApproval,n))yield c;for(const c of this.emitClientToolInputs(a.needsClientExecution,n))yield c;return this.shouldEmitStreamEnd=!1,"wait"}const l=this.emitToolResults(a.results,n);for(const c of l)yield c;return"continue"}async*processToolCalls(){if(!this.shouldExecuteToolPhase()){this.setToolPhase("stop");return}const e=this.toolCallManager.getToolCalls(),n=this.doneChunk;if(!n||e.length===0){this.setToolPhase("stop");return}Ot.emit("text:iteration",{requestId:this.requestId,streamId:this.streamId,iterationNumber:this.iterationCount+1,messageCount:this.messages.length,toolCallCount:e.length,timestamp:Date.now()}),this.addAssistantToolCallMessage(e);const{approvals:r,clientToolResults:i}=this.collectClientState(),a=await Kx(e,this.tools,r,i);if(a.needsApproval.length>0||a.needsClientExecution.length>0){for(const c of this.emitApprovalRequests(a.needsApproval,n))yield c;for(const c of this.emitClientToolInputs(a.needsClientExecution,n))yield c;this.setToolPhase("wait");return}const l=this.emitToolResults(a.results,n);for(const c of l)yield c;this.toolCallManager.clear(),this.setToolPhase("continue")}shouldExecuteToolPhase(){return this.doneChunk?.finishReason==="tool_calls"&&this.tools.length>0&&this.toolCallManager.hasToolCalls()}addAssistantToolCallMessage(e){this.messages=[...this.messages,{role:"assistant",content:this.accumulatedContent||null,toolCalls:e}]}collectClientState(){const e=new Map,n=new Map;for(const r of this.messages)if(r.role==="assistant"&&r.parts){const i=r.parts;for(const a of i)a.type==="tool-call"&&a.state==="approval-responded"&&a.approval&&e.set(a.approval.id,a.approval.approved),a.type==="tool-call"&&a.output!==void 0&&!a.approval&&n.set(a.id,a.output)}return{approvals:e,clientToolResults:n}}emitApprovalRequests(e,n){const r=[];for(const i of e)Ot.emit("stream:approval-requested",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:i.toolCallId,toolName:i.toolName,input:i.input,approvalId:i.approvalId,timestamp:Date.now()}),r.push({type:"approval-requested",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:i.toolCallId,toolName:i.toolName,input:i.input,approval:{id:i.approvalId,needsApproval:!0}});return r}emitClientToolInputs(e,n){const r=[];for(const i of e)Ot.emit("stream:tool-input-available",{streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:i.toolCallId,toolName:i.toolName,input:i.input,timestamp:Date.now()}),r.push({type:"tool-input-available",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:i.toolCallId,toolName:i.toolName,input:i.input});return r}emitToolResults(e,n){const r=[];for(const i of e){Ot.emit("tool:call-completed",{requestId:this.requestId,streamId:this.streamId,messageId:this.currentMessageId||void 0,toolCallId:i.toolCallId,toolName:i.toolName,result:i.result,duration:i.duration??0,timestamp:Date.now()});const a=JSON.stringify(i.result),l={type:"tool_result",id:n.id,model:n.model,timestamp:Date.now(),toolCallId:i.toolCallId,content:a};r.push(l),this.messages=[...this.messages,{role:"tool",content:a,toolCallId:i.toolCallId}]}return r}getPendingToolCallsFromMessages(){const e=new Set(this.messages.filter(r=>r.role==="tool"&&r.toolCallId).map(r=>r.toolCallId)),n=[];for(const r of this.messages)if(r.role==="assistant"&&r.toolCalls)for(const i of r.toolCalls)e.has(i.id)||n.push(i);return n}createSyntheticDoneChunk(){return{type:"done",id:this.createId("pending"),model:this.params.model,timestamp:Date.now(),finishReason:"tool_calls"}}shouldContinue(){return this.cyclePhase==="executeToolCalls"?!0:this.loopStrategy({iterationCount:this.iterationCount,messages:this.messages,finishReason:this.lastFinishReason})&&this.toolPhase==="continue"}isAborted(){return!!this.effectiveSignal?.aborted}setToolPhase(e){this.toolPhase=e,e==="wait"&&(this.shouldEmitStreamEnd=!1)}createId(e){return`${e}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}}function Ej(t){const{outputSchema:e,stream:n}=t;return e?Cj(t):n===!1?kj(t):rk(t)}async function*rk(t){const{adapter:e,...n}=t,r=e.model,i=new nk({adapter:e,params:{...n,model:r}});for await(const a of i.run())yield a}function kj(t){const e=rk(t);return wj(e)}async function Cj(t){const{adapter:e,outputSchema:n,...r}=t,i=e.model;if(!n)throw new Error("outputSchema is required for structured output");const a=new nk({adapter:e,params:{...r,model:i}});for await(const _ of a.run());const l=a.getMessages(),{tools:c,agentLoopStrategy:f,...d}=r,m=mg(n);if(!m)throw new Error("Failed to convert output schema to JSON Schema");const p=await e.structuredOutput({chatOptions:{...d,model:i,messages:l},outputSchema:m});return Os(n)?Ua(n,p.data):p.data}function hi(t){return{__toolSide:"definition",...t,server(n){return{__toolSide:"server",...t,execute:n}},client(n){return{__toolSide:"client",...t,execute:n}}}}function Zx(t){return t===null?"":typeof t=="string"?t:t.filter(e=>e.type==="text").map(e=>e.content).join("")}function Tj(t){const e=[];for(const n of t)"parts"in n?e.push(...ik(n)):e.push(n);return e}function ik(t){const e=[];if(t.role==="system")return e;const n=[],r=[],i=[];for(const c of t.parts)c.type==="text"?n.push(c):c.type==="tool-call"?r.push(c):c.type==="tool-result"&&i.push(c);const a=n.map(c=>c.content).join("")||null,l=r.length>0?r.filter(c=>c.state==="input-complete"||c.state==="approval-responded"||c.output!==void 0).map(c=>({id:c.id,type:"function",function:{name:c.name,arguments:c.arguments}})):void 0;t.role!=="assistant"||a||!l?e.push({role:t.role,content:a,...l&&l.length>0&&{toolCalls:l}}):l.length>0&&e.push({role:"assistant",content:a,toolCalls:l});for(const c of i)(c.state==="complete"||c.state==="error")&&e.push({role:"tool",content:c.content,toolCallId:c.toolCallId});return e}function Aj(t,e){const n=[],r=Zx(t.content);if(r&&n.push({type:"text",content:r}),t.toolCalls&&t.toolCalls.length>0)for(const i of t.toolCalls)n.push({type:"tool-call",id:i.id,name:i.function.name,arguments:i.function.arguments,state:"input-complete"});return t.role==="tool"&&t.toolCallId&&n.push({type:"tool-result",toolCallId:t.toolCallId,content:Zx(t.content),state:"complete"}),{id:e||kf(),role:t.role==="tool"?"assistant":t.role,parts:n}}function Rj(t,e){return"parts"in t?{...t,id:t.id||e(),createdAt:t.createdAt||new Date}:{...Aj(t,e()),createdAt:new Date}}function kf(){return`msg-${Date.now()}-${Math.random().toString(36).substring(7)}`}var vs={},rm={},Qx;function Jx(){return Qx||(Qx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.ALL=t.COLLECTION=t.ATOM=t.SPECIAL=t.INF=t._INFINITY=t.INFINITY=t.NAN=t.BOOL=t.NULL=t.OBJ=t.ARR=t.NUM=t.STR=void 0,t.STR=1,t.NUM=2,t.ARR=4,t.OBJ=8,t.NULL=16,t.BOOL=32,t.NAN=64,t.INFINITY=128,t._INFINITY=256,t.INF=t.INFINITY|t._INFINITY,t.SPECIAL=t.NULL|t.BOOL|t.INF|t.NAN,t.ATOM=t.STR|t.NUM|t.SPECIAL,t.COLLECTION=t.ARR|t.OBJ,t.ALL=t.ATOM|t.COLLECTION,t.Allow={STR:t.STR,NUM:t.NUM,ARR:t.ARR,OBJ:t.OBJ,NULL:t.NULL,BOOL:t.BOOL,NAN:t.NAN,INFINITY:t.INFINITY,_INFINITY:t._INFINITY,INF:t.INF,SPECIAL:t.SPECIAL,ATOM:t.ATOM,COLLECTION:t.COLLECTION,ALL:t.ALL},t.default=t.Allow})(rm)),rm}var Yx;function Oj(){return Yx||(Yx=1,(function(t){var e=vs&&vs.__createBinding||(Object.create?(function(d,m,p,_){_===void 0&&(_=p);var y=Object.getOwnPropertyDescriptor(m,p);(!y||("get"in y?!m.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(d,_,y)}):(function(d,m,p,_){_===void 0&&(_=p),d[_]=m[p]})),n=vs&&vs.__exportStar||function(d,m){for(var p in d)p!=="default"&&!Object.prototype.hasOwnProperty.call(m,p)&&e(m,d,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.MalformedJSON=t.PartialJSON=t.parseJSON=t.parse=void 0;const r=Jx();Object.defineProperty(t,"Allow",{enumerable:!0,get:function(){return r.Allow}}),n(Jx(),t);class i extends Error{}t.PartialJSON=i;class a extends Error{}t.MalformedJSON=a;function l(d,m=r.Allow.ALL){if(typeof d!="string")throw new TypeError(`expecting str, got ${typeof d}`);if(!d.trim())throw new Error(`${d} is empty`);return c(d.trim(),m)}t.parseJSON=l;const c=(d,m)=>{const p=d.length;let _=0;const y=z=>{throw new i(`${z} at position ${_}`)},v=z=>{throw new a(`${z} at position ${_}`)},w=()=>(L(),_>=p&&y("Unexpected end of input"),d[_]==='"'?C():d[_]==="{"?S():d[_]==="["?I():d.substring(_,_+4)==="null"||r.Allow.NULL&m&&p-_<4&&"null".startsWith(d.substring(_))?(_+=4,null):d.substring(_,_+4)==="true"||r.Allow.BOOL&m&&p-_<4&&"true".startsWith(d.substring(_))?(_+=4,!0):d.substring(_,_+5)==="false"||r.Allow.BOOL&m&&p-_<5&&"false".startsWith(d.substring(_))?(_+=5,!1):d.substring(_,_+8)==="Infinity"||r.Allow.INFINITY&m&&p-_<8&&"Infinity".startsWith(d.substring(_))?(_+=8,1/0):d.substring(_,_+9)==="-Infinity"||r.Allow._INFINITY&m&&1<p-_&&p-_<9&&"-Infinity".startsWith(d.substring(_))?(_+=9,-1/0):d.substring(_,_+3)==="NaN"||r.Allow.NAN&m&&p-_<3&&"NaN".startsWith(d.substring(_))?(_+=3,NaN):T()),C=()=>{const z=_;let E=!1;for(_++;_<p&&(d[_]!=='"'||E&&d[_-1]==="\\");)E=d[_]==="\\"?!E:!1,_++;if(d.charAt(_)=='"')try{return JSON.parse(d.substring(z,++_-Number(E)))}catch(M){v(String(M))}else if(r.Allow.STR&m)try{return JSON.parse(d.substring(z,_-Number(E))+'"')}catch{return JSON.parse(d.substring(z,d.lastIndexOf("\\"))+'"')}y("Unterminated string literal")},S=()=>{_++,L();const z={};try{for(;d[_]!=="}";){if(L(),_>=p&&r.Allow.OBJ&m)return z;const E=C();L(),_++;try{const M=w();z[E]=M}catch(M){if(r.Allow.OBJ&m)return z;throw M}L(),d[_]===","&&_++}}catch{if(r.Allow.OBJ&m)return z;y("Expected '}' at end of object")}return _++,z},I=()=>{_++;const z=[];try{for(;d[_]!=="]";)z.push(w()),L(),d[_]===","&&_++}catch{if(r.Allow.ARR&m)return z;y("Expected ']' at end of array")}return _++,z},T=()=>{if(_===0){d==="-"&&v("Not sure what '-' is");try{return JSON.parse(d)}catch(E){if(r.Allow.NUM&m)try{return JSON.parse(d.substring(0,d.lastIndexOf("e")))}catch{}v(String(E))}}const z=_;for(d[_]==="-"&&_++;d[_]&&",]}".indexOf(d[_])===-1;)_++;_==p&&!(r.Allow.NUM&m)&&y("Unterminated number literal");try{return JSON.parse(d.substring(z,_))}catch{d.substring(z,_)==="-"&&y("Not sure what '-' is");try{return JSON.parse(d.substring(z,d.lastIndexOf("e")))}catch(M){v(String(M))}}},L=()=>{for(;_<p&&` 
\r	`.includes(d[_]);)_++};return w()},f=l;t.parse=f})(vs)),vs}var Ij=Oj();class Nj{parse(e){if(!(!e||e.trim()===""))try{return Ij.parse(e)}catch{return}}}const Dj=new Nj;function Mj(t,e,n){return t.map(r=>{if(r.id!==e)return r;const i=[...r.parts],a=i.length>0?i[i.length-1]:null;return a&&a.type==="text"?i[i.length-1]={type:"text",content:n}:i.push({type:"text",content:n}),{...r,parts:i}})}function im(t,e,n){return t.map(r=>{if(r.id!==e)return r;const i=[...r.parts],a=i.findIndex(c=>c.type==="tool-call"&&c.id===n.id),l={type:"tool-call",id:n.id,name:n.name,arguments:n.arguments,state:n.state};return a>=0?i[a]=l:i.push(l),{...r,parts:i}})}function Xx(t,e,n,r,i,a){return t.map(l=>{if(l.id!==e)return l;const c=[...l.parts],f=c.findIndex(m=>m.type==="tool-result"&&m.toolCallId===n),d={type:"tool-result",toolCallId:n,content:r,state:i,...a&&{error:a}};return f>=0?c[f]=d:c.push(d),{...l,parts:c}})}function Lj(t,e,n,r){return t.map(i=>{if(i.id!==e)return i;const a=[...i.parts],l=a.find(c=>c.type==="tool-call"&&c.id===n);return l&&(l.state="approval-requested",l.approval={id:r,needsApproval:!0}),{...i,parts:a}})}function zj(t,e,n,r,i){return t.map(a=>{const l=[...a.parts],c=l.find(f=>f.type==="tool-call"&&f.id===e);return c&&(c.output=i?{error:i}:n,r?c.state=r:c.state="input-complete"),{...a,parts:l}})}function Pj(t,e,n){return t.map(r=>{const i=[...r.parts],a=i.find(l=>l.type==="tool-call"&&l.approval?.id===e);return a&&a.approval&&(a.approval.approved=n,a.state="approval-responded"),{...r,parts:i}})}function jj(t,e,n){return t.map(r=>{if(r.id!==e)return r;const i=[...r.parts],a=i.findIndex(c=>c.type==="thinking"),l={type:"thinking",content:n};return a>=0?i[a]=l:i.push(l),{...r,parts:i}})}class Bj{shouldEmit(e,n){return!0}}class Sy{constructor(e={}){this.messages=[],this.currentAssistantMessageId=null,this.totalTextContent="",this.currentSegmentText="",this.lastEmittedText="",this.thinkingContent="",this.toolCalls=new Map,this.toolCallOrder=[],this.finishReason=null,this.isDone=!1,this.hasToolCallsSinceTextStart=!1,this.recording=null,this.recordingStartTime=0,this.chunkStrategy=e.chunkStrategy||new Bj,this.events=e.events||{},this.handlers=e.handlers||{},this.jsonParser=e.jsonParser||Dj,this.recordingEnabled=e.recording??!1,e.initialMessages&&(this.messages=[...e.initialMessages])}setMessages(e){this.messages=[...e],this.emitMessagesChange()}addUserMessage(e){const n={id:kf(),role:"user",parts:[{type:"text",content:e}],createdAt:new Date};return this.messages=[...this.messages,n],this.emitMessagesChange(),n}startAssistantMessage(){this.resetStreamState();const e={id:kf(),role:"assistant",parts:[],createdAt:new Date};return this.currentAssistantMessageId=e.id,this.messages=[...this.messages,e],this.events.onStreamStart?.(),this.emitMessagesChange(),e.id}addToolResult(e,n,r){const i=this.messages.find(f=>f.parts.some(d=>d.type==="tool-call"&&d.id===e));if(!i){console.warn(`[StreamProcessor] Could not find message with tool call ${e}`);return}let a=zj(this.messages,e,n,r?"input-complete":void 0,r);const l=typeof n=="string"?n:JSON.stringify(n),c=r?"error":"complete";a=Xx(a,i.id,e,l,c,r),this.messages=a,this.emitMessagesChange()}addToolApprovalResponse(e,n){this.messages=Pj(this.messages,e,n),this.emitMessagesChange()}toModelMessages(){const e=[];for(const n of this.messages)e.push(...ik(n));return e}getMessages(){return this.messages}areAllToolsComplete(){const e=this.messages.findLast(r=>r.role==="assistant");if(!e)return!0;const n=e.parts.filter(r=>r.type==="tool-call");return n.length===0?!0:n.every(r=>r.state==="approval-responded"||r.output!==void 0&&!r.approval)}removeMessagesAfter(e){this.messages=this.messages.slice(0,e+1),this.emitMessagesChange()}clearMessages(){this.messages=[],this.currentAssistantMessageId=null,this.emitMessagesChange()}async process(e){this.resetStreamState(),this.recordingEnabled&&this.startRecording();for await(const n of e)this.processChunk(n);return this.finalizeStream(),this.recording&&(this.recording.result=this.getResult()),this.getResult()}processChunk(e){switch(this.recording&&this.recording.chunks.push({chunk:e,timestamp:Date.now(),index:this.recording.chunks.length}),e.type){case"content":this.handleContentChunk(e);break;case"tool_call":this.handleToolCallChunk(e);break;case"tool_result":this.handleToolResultChunk(e);break;case"done":this.handleDoneChunk(e);break;case"error":this.handleErrorChunk(e);break;case"thinking":this.handleThinkingChunk(e);break;case"approval-requested":this.handleApprovalRequestedChunk(e);break;case"tool-input-available":this.handleToolInputAvailableChunk(e);break}}handleContentChunk(e){this.completeAllToolCalls();const n=this.currentSegmentText;this.hasToolCallsSinceTextStart&&n.length>0&&this.isNewTextSegment(e,n)&&(n!==this.lastEmittedText&&this.emitTextUpdate(),this.currentSegmentText="",this.lastEmittedText="",this.hasToolCallsSinceTextStart=!1);const i=this.currentSegmentText;let a=i;e.delta!==""?a=i+e.delta:e.content!==""&&(e.content.startsWith(i)?a=e.content:i.startsWith(e.content)?a=i:a=i+e.content);const l=a.slice(i.length);this.currentSegmentText=a,this.totalTextContent+=l;const c=e.delta??e.content??"";this.chunkStrategy.shouldEmit(c,this.currentSegmentText)&&this.currentSegmentText!==this.lastEmittedText&&this.emitTextUpdate()}handleToolCallChunk(e){this.hasToolCallsSinceTextStart=!0;const n=e.toolCall.id,r=this.toolCalls.get(n);if(r){const i=r.state==="awaiting-input";r.arguments+=e.toolCall.function.arguments||"",i&&e.toolCall.function.arguments&&(r.state="input-streaming"),r.parsedArguments=this.jsonParser.parse(r.arguments);const a=this.toolCallOrder.indexOf(n);this.handlers.onToolCallStateChange?.(a,r.id,r.name,r.state,r.arguments,r.parsedArguments),e.toolCall.function.arguments&&this.handlers.onToolCallDelta?.(a,e.toolCall.function.arguments),this.currentAssistantMessageId&&(this.messages=im(this.messages,this.currentAssistantMessageId,{id:r.id,name:r.name,arguments:r.arguments,state:r.state}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,r.id,r.state,r.arguments))}else{const i=e.toolCall.function.arguments?"input-streaming":"awaiting-input",a={id:e.toolCall.id,name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||"",state:i,parsedArguments:void 0,index:e.index};e.toolCall.function.arguments&&(a.parsedArguments=this.jsonParser.parse(e.toolCall.function.arguments)),this.toolCalls.set(n,a),this.toolCallOrder.push(n);const l=this.toolCallOrder.indexOf(n);this.handlers.onToolCallStart?.(l,e.toolCall.id,e.toolCall.function.name),this.handlers.onToolCallStateChange?.(l,e.toolCall.id,e.toolCall.function.name,i,e.toolCall.function.arguments||"",a.parsedArguments),e.toolCall.function.arguments&&this.handlers.onToolCallDelta?.(l,e.toolCall.function.arguments),this.currentAssistantMessageId&&(this.messages=im(this.messages,this.currentAssistantMessageId,{id:e.toolCall.id,name:e.toolCall.function.name,arguments:e.toolCall.function.arguments||"",state:i}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,e.toolCall.id,i,e.toolCall.function.arguments||""))}}handleToolResultChunk(e){const n="complete";this.handlers.onToolResultStateChange?.(e.toolCallId,e.content,n),this.currentAssistantMessageId&&(this.messages=Xx(this.messages,this.currentAssistantMessageId,e.toolCallId,e.content,n),this.emitMessagesChange())}handleDoneChunk(e){this.finishReason=e.finishReason,this.isDone=!0,this.completeAllToolCalls()}handleErrorChunk(e){this.handlers.onError?.(e.error),this.events.onError?.(new Error(e.error.message))}handleThinkingChunk(e){const n=this.thinkingContent;let r=n;e.delta!==""?r=n+e.delta:e.content!==""&&(e.content.startsWith(n)?r=e.content:n.startsWith(e.content)?r=n:r=n+e.content),this.thinkingContent=r,this.handlers.onThinkingUpdate?.(this.thinkingContent),this.currentAssistantMessageId&&(this.messages=jj(this.messages,this.currentAssistantMessageId,this.thinkingContent),this.emitMessagesChange(),this.events.onThinkingUpdate?.(this.currentAssistantMessageId,this.thinkingContent))}handleApprovalRequestedChunk(e){this.handlers.onApprovalRequested?.(e.toolCallId,e.toolName,e.input,e.approval.id),this.currentAssistantMessageId&&(this.messages=Lj(this.messages,this.currentAssistantMessageId,e.toolCallId,e.approval.id),this.emitMessagesChange()),this.events.onApprovalRequest?.({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,approvalId:e.approval.id})}handleToolInputAvailableChunk(e){this.handlers.onToolInputAvailable?.(e.toolCallId,e.toolName,e.input),this.events.onToolCall?.({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})}isNewTextSegment(e,n){return e.delta!==void 0&&e.content!==void 0&&(e.content.length<n.length||!e.content.startsWith(n)&&!n.startsWith(e.content))}completeAllToolCalls(){this.toolCalls.forEach((e,n)=>{if(e.state!=="input-complete"){const r=this.toolCallOrder.indexOf(n);this.completeToolCall(r,e)}})}completeToolCall(e,n){n.state="input-complete",n.parsedArguments=this.jsonParser.parse(n.arguments),this.handlers.onToolCallStateChange?.(e,n.id,n.name,"input-complete",n.arguments,n.parsedArguments),this.handlers.onToolCallComplete?.(e,n.id,n.name,n.arguments),this.currentAssistantMessageId&&(this.messages=im(this.messages,this.currentAssistantMessageId,{id:n.id,name:n.name,arguments:n.arguments,state:"input-complete"}),this.emitMessagesChange(),this.events.onToolCallStateChange?.(this.currentAssistantMessageId,n.id,"input-complete",n.arguments))}emitTextUpdate(){this.lastEmittedText=this.currentSegmentText,this.handlers.onTextUpdate?.(this.currentSegmentText),this.currentAssistantMessageId&&(this.messages=Mj(this.messages,this.currentAssistantMessageId,this.currentSegmentText),this.emitMessagesChange(),this.events.onTextUpdate?.(this.currentAssistantMessageId,this.currentSegmentText))}emitMessagesChange(){this.events.onMessagesChange?.([...this.messages])}finalizeStream(){this.completeAllToolCalls(),this.currentSegmentText!==this.lastEmittedText&&this.emitTextUpdate();const e=this.getCompletedToolCalls();if(this.handlers.onStreamEnd?.(this.totalTextContent,e.length>0?e:void 0),this.currentAssistantMessageId){const n=this.messages.find(r=>r.id===this.currentAssistantMessageId);n&&this.events.onStreamEnd?.(n)}}getCompletedToolCalls(){return Array.from(this.toolCalls.values()).filter(e=>e.state==="input-complete").map(e=>({id:e.id,type:"function",function:{name:e.name,arguments:e.arguments}}))}getResult(){const e=this.getCompletedToolCalls();return{content:this.totalTextContent,thinking:this.thinkingContent||void 0,toolCalls:e.length>0?e:void 0,finishReason:this.finishReason}}getState(){return{content:this.totalTextContent,thinking:this.thinkingContent,toolCalls:new Map(this.toolCalls),toolCallOrder:[...this.toolCallOrder],finishReason:this.finishReason,done:this.isDone}}startRecording(){this.recordingEnabled=!0,this.recordingStartTime=Date.now(),this.recording={version:"1.0",timestamp:this.recordingStartTime,chunks:[]}}getRecording(){return this.recording}resetStreamState(){this.totalTextContent="",this.currentSegmentText="",this.lastEmittedText="",this.thinkingContent="",this.toolCalls.clear(),this.toolCallOrder=[],this.finishReason=null,this.isDone=!1,this.hasToolCallsSinceTextStart=!1,this.chunkStrategy.reset?.()}reset(){this.resetStreamState(),this.messages=[],this.currentAssistantMessageId=null}static async replay(e,n){return new Sy(n).process(Uj(e))}}function Uj(t){return{async*[Symbol.asyncIterator](){for(const{chunk:e}of t.chunks)yield e}}}class $j{constructor(e){this.clientId=e}clientCreated(e){this.emitEvent("client:created",{initialMessageCount:e})}loadingChanged(e){this.emitEvent("client:loading-changed",{isLoading:e})}errorChanged(e){this.emitEvent("client:error-changed",{error:e})}textUpdated(e,n,r){this.emitEvent("processor:text-updated",{streamId:e,content:r}),this.emitEvent("client:assistant-message-updated",{messageId:n,content:r})}toolCallStateChanged(e,n,r,i,a,l){this.emitEvent("processor:tool-call-state-changed",{streamId:e,toolCallId:r,toolName:i,state:a,arguments:l}),this.emitEvent("client:tool-call-updated",{messageId:n,toolCallId:r,toolName:i,state:a,arguments:l})}toolResultStateChanged(e,n,r,i,a){this.emitEvent("processor:tool-result-state-changed",{streamId:e,toolCallId:n,content:r,state:i,error:a})}thinkingUpdated(e,n,r,i){this.emitEvent("stream:chunk:thinking",{streamId:e,messageId:n,content:r,delta:i})}approvalRequested(e,n,r,i,a){this.emitEvent("client:approval-requested",{messageId:e,toolCallId:n,toolName:r,input:i,approvalId:a})}messageAppended(e){const n=e.parts.filter(r=>r.type==="text").map(r=>r.content).join(" ").substring(0,100);this.emitEvent("client:message-appended",{messageId:e.id,role:e.role,contentPreview:n})}messageSent(e,n){this.emitEvent("client:message-sent",{messageId:e,content:n})}reloaded(e){this.emitEvent("client:reloaded",{fromMessageIndex:e})}stopped(){this.emitEvent("client:stopped")}messagesCleared(){this.emitEvent("client:messages-cleared")}toolResultAdded(e,n,r,i){this.emitEvent("tool:result-added",{toolCallId:e,toolName:n,output:r,state:i})}toolApprovalResponded(e,n,r){this.emitEvent("tool:approval-responded",{approvalId:e,toolCallId:n,approved:r})}}class qj extends $j{emitEvent(e,n){e.startsWith("client:")||e.startsWith("tool:")?Ot.emit(e,{...n,clientId:this.clientId,timestamp:Date.now()}):Ot.emit(e,{...n,timestamp:Date.now()})}}class Fj{constructor(e){if(this.body={},this.isLoading=!1,this.error=void 0,this.abortController=null,this.currentStreamId=null,this.currentMessageId=null,this.postStreamActions=[],this.uniqueId=e.id||this.generateUniqueId("chat"),this.body=e.body||{},this.connection=e.connection,this.events=new qj(this.uniqueId),this.clientToolsRef={current:new Map},e.tools)for(const n of e.tools)this.clientToolsRef.current.set(n.name,n);this.callbacksRef={current:{onResponse:e.onResponse||(()=>{}),onChunk:e.onChunk||(()=>{}),onFinish:e.onFinish||(()=>{}),onError:e.onError||(()=>{}),onMessagesChange:e.onMessagesChange||(()=>{}),onLoadingChange:e.onLoadingChange||(()=>{}),onErrorChange:e.onErrorChange||(()=>{})}},this.processor=new Sy({chunkStrategy:e.streamProcessor?.chunkStrategy,initialMessages:e.initialMessages,events:{onMessagesChange:n=>{this.callbacksRef.current.onMessagesChange(n)},onStreamStart:()=>{},onStreamEnd:n=>{this.callbacksRef.current.onFinish(n)},onError:n=>{this.setError(n),this.callbacksRef.current.onError(n)},onTextUpdate:(n,r)=>{this.currentStreamId&&this.events.textUpdated(this.currentStreamId,n,r)},onThinkingUpdate:(n,r)=>{this.currentStreamId&&this.events.thinkingUpdated(this.currentStreamId,n,r)},onToolCallStateChange:(n,r,i,a)=>{const d=this.processor.getMessages().find(m=>m.id===n)?.parts.find(m=>m.type==="tool-call"&&m.id===r)?.name||"unknown";this.currentStreamId&&this.events.toolCallStateChanged(this.currentStreamId,n,r,d,i,a)},onToolCall:async n=>{const r=this.clientToolsRef.current.get(n.toolName);if(r?.execute)try{const i=await r.execute(n.input);await this.addToolResult({toolCallId:n.toolCallId,tool:n.toolName,output:i,state:"output-available"})}catch(i){await this.addToolResult({toolCallId:n.toolCallId,tool:n.toolName,output:null,state:"output-error",errorText:i.message})}},onApprovalRequest:n=>{this.events.approvalRequested(this.currentMessageId||"",n.toolCallId,n.toolName,n.input,n.approvalId)}}}),this.events.clientCreated(this.processor.getMessages().length)}generateUniqueId(e){return`${e}-${Date.now()}-${Math.random().toString(36).substring(7)}`}setIsLoading(e){this.isLoading=e,this.callbacksRef.current.onLoadingChange(e),this.events.loadingChanged(e)}setError(e){this.error=e,this.callbacksRef.current.onErrorChange(e),this.events.errorChanged(e?.message||null)}async processStream(e){this.currentStreamId=this.generateUniqueId("stream");const n=this.processor.startAssistantMessage();this.currentMessageId=n;const r={id:n,role:"assistant",parts:[],createdAt:new Date};this.events.messageAppended(r);for await(const l of e)this.callbacksRef.current.onChunk(l),this.processor.processChunk(l),await new Promise(c=>setTimeout(c,0));return this.processor.finalizeStream(),this.currentStreamId=null,this.currentMessageId=null,this.processor.getMessages().find(l=>l.id===n)||{id:n,role:"assistant",parts:[],createdAt:new Date}}async sendMessage(e){if(!e.trim()||this.isLoading)return;const n=this.processor.addUserMessage(e.trim());this.events.messageSent(n.id,e.trim()),await this.streamResponse()}async append(e){const n=Rj(e,kf);if(n.role==="system")return;const r=n;this.events.messageAppended(r);const i=this.processor.getMessages();this.processor.setMessages([...i,r]),await this.streamResponse()}async streamResponse(){this.setIsLoading(!0),this.setError(void 0),this.abortController=new AbortController;try{const e=this.processor.toModelMessages();await this.callbacksRef.current.onResponse();const n={...this.body,conversationId:this.uniqueId},r=this.connection.connect(e,n,this.abortController.signal);await this.processStream(r)}catch(e){if(e instanceof Error){if(e.name==="AbortError")return;this.setError(e),this.callbacksRef.current.onError(e)}}finally{this.abortController=null,this.setIsLoading(!1),await this.drainPostStreamActions()}}async reload(){const e=this.processor.getMessages();if(e.length===0)return;const n=e.findLastIndex(r=>r.role==="user");n!==-1&&(this.events.reloaded(n),this.processor.removeMessagesAfter(n),await this.streamResponse())}stop(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.setIsLoading(!1),this.events.stopped()}clear(){this.processor.clearMessages(),this.setError(void 0),this.events.messagesCleared()}async addToolResult(e){if(this.events.toolResultAdded(e.toolCallId,e.tool,e.output,e.state||"output-available"),this.processor.addToolResult(e.toolCallId,e.output,e.errorText),this.isLoading){this.queuePostStreamAction(()=>this.checkForContinuation());return}await this.checkForContinuation()}async addToolApprovalResponse(e){const n=this.processor.getMessages();let r;for(const i of n){const a=i.parts.find(l=>l.type==="tool-call"&&l.approval?.id===e.id);if(a){r=a.id;break}}if(r&&this.events.toolApprovalResponded(e.id,r,e.approved),this.processor.addToolApprovalResponse(e.id,e.approved),this.isLoading){this.queuePostStreamAction(()=>this.checkForContinuation());return}await this.checkForContinuation()}queuePostStreamAction(e){this.postStreamActions.push(e)}async drainPostStreamActions(){for(;this.postStreamActions.length>0;)await this.postStreamActions.shift()()}async checkForContinuation(){this.shouldAutoSend()&&await this.streamResponse()}shouldAutoSend(){return this.processor.areAllToolsComplete()}getMessages(){return this.processor.getMessages()}getIsLoading(){return this.isLoading}getError(){return this.error}setMessagesManually(e){this.processor.setMessages(e)}updateOptions(e){if(e.connection!==void 0&&(this.connection=e.connection),e.body!==void 0&&(this.body=e.body),e.tools!==void 0){this.clientToolsRef.current=new Map;for(const n of e.tools)this.clientToolsRef.current.set(n.name,n)}e.onResponse!==void 0&&(this.callbacksRef.current.onResponse=e.onResponse),e.onChunk!==void 0&&(this.callbacksRef.current.onChunk=e.onChunk),e.onFinish!==void 0&&(this.callbacksRef.current.onFinish=e.onFinish),e.onError!==void 0&&(this.callbacksRef.current.onError=e.onError)}}function Vj(...t){return t}function Hj(t){return{async*connect(e,n){const r=Tj(e);yield*t(r,n)}}}function Gj(t){const e=J.useId(),n=t.id||e,[r,i]=J.useState(t.initialMessages||[]),[a,l]=J.useState(!1),[c,f]=J.useState(void 0),d=J.useRef(t.initialMessages||[]),m=J.useRef(!0);J.useEffect(()=>{d.current=r},[r]);const p=J.useRef(t);p.current=t;const _=J.useMemo(()=>{const z=m.current?t.initialMessages||[]:d.current;return m.current=!1,new Fj({connection:p.current.connection,id:n,initialMessages:z,body:p.current.body,onResponse:p.current.onResponse,onChunk:p.current.onChunk,onFinish:p.current.onFinish,onError:p.current.onError,tools:p.current.tools,streamProcessor:t.streamProcessor,onMessagesChange:E=>{i(E)},onLoadingChange:E=>{l(E)},onErrorChange:E=>{f(E)}})},[n]);J.useEffect(()=>{t.initialMessages&&t.initialMessages.length>0&&r.length===0&&_.setMessagesManually(t.initialMessages)},[]),J.useEffect(()=>()=>{_.stop()},[_]);const y=J.useCallback(async z=>{await _.sendMessage(z)},[_]),v=J.useCallback(async z=>{await _.append(z)},[_]),w=J.useCallback(async()=>{await _.reload()},[_]),C=J.useCallback(()=>{_.stop()},[_]),S=J.useCallback(()=>{_.clear()},[_]),I=J.useCallback(z=>{_.setMessagesManually(z)},[_]),T=J.useCallback(async z=>{await _.addToolResult(z)},[_]),L=J.useCallback(async z=>{await _.addToolApprovalResponse(z)},[_]);return{messages:r,sendMessage:y,append:v,reload:w,stop:C,isLoading:a,error:c,setMessages:I,clear:S,addToolResult:T,addToolApprovalResponse:L}}class Kj{constructor(e={},n){this.kind="text",this.config=e,this.model=n}generateId(){return`${this.name}-${Date.now()}-${Math.random().toString(36).substring(7)}`}}const Zj=t=>{if(t.conversation&&t.previous_response_id)throw new Error("Cannot use both 'conversation' and 'previous_response_id' in the same request.")},Qj=t=>{Jj(t),Zj(t)},Jj=t=>{const e=t.metadata;if(e&&Object.keys(e).length>16)throw new Error("Metadata cannot have more than 16 key-value pairs.");if(e&&Object.keys(e).some(a=>a.length>64))throw new Error("Metadata keys cannot be longer than 64 characters.");if(e&&Object.values(e).some(a=>a.length>512))throw new Error("Metadata values cannot be longer than 512 characters.")};function gg(t){if(t!==null){if(Array.isArray(t))return t.map(e=>gg(e));if(typeof t=="object"){const e={};for(const[n,r]of Object.entries(t)){const i=gg(r);i!==void 0&&(e[n]=i)}return e}return t}}function Sl(t,e=[]){const n={...t};if(n.type==="object"&&n.properties){const r={...n.properties},i=Object.keys(r);for(const a of i){const l=r[a],c=!e.includes(a);l.type==="object"&&l.properties?r[a]=Sl(l,l.required||[]):l.type==="array"&&l.items?r[a]={...l,items:Sl(l.items,l.items.required||[])}:c&&(l.type&&!Array.isArray(l.type)?r[a]={...l,type:[l.type,"null"]}:Array.isArray(l.type)&&!l.type.includes("null")&&(r[a]={...l,type:[...l.type,"null"]}))}n.properties=r,n.required=i,n.additionalProperties=!1}return n.type==="array"&&n.items&&(n.items=Sl(n.items,n.items.required||[])),n}function Yj(t){return{type:"apply_patch"}}function Xj(t){return{type:"code_interpreter",container:t.metadata.container}}function Wj(t){const e=t.metadata;return{type:"computer_use_preview",display_height:e.display_height,display_width:e.display_width,environment:e.environment}}function e5(t){const e=t.metadata;return{type:"custom",name:e.name,description:e.description,format:e.format}}function t5(t){const e=t.metadata;return{type:"file_search",vector_store_ids:e.vector_store_ids,max_num_results:e.max_num_results,ranking_options:e.ranking_options,filters:e.filters}}function n5(t){const e=t.inputSchema??{type:"object",properties:{},required:[]},n=Sl(e,e.required||[]);return n.additionalProperties=!1,{type:"function",name:t.name,description:t.description,parameters:n,strict:!0}}function r5(t){return{type:"image_generation",...t.metadata}}function i5(t){return{type:"local_shell"}}function s5(t){if(!t.server_url&&!t.connector_id)throw new Error("Either server_url or connector_id must be provided.");if(t.connector_id&&t.server_url)throw new Error("Only one of server_url or connector_id can be provided.")}function a5(t){const n={type:"mcp",...t.metadata};return s5(n),n}function o5(t){return{type:"shell"}}function l5(t){const e=t.metadata;return{type:e.type,search_context_size:e.search_context_size,user_location:e.user_location}}function u5(t){return t.metadata}function c5(t){return t.map(e=>{const n=new Set(["apply_patch","code_interpreter","computer_use_preview","file_search","image_generation","local_shell","mcp","shell","web_search_preview","web_search","custom"]),r=e.name;if(n.has(r))switch(r){case"apply_patch":return Yj();case"code_interpreter":return Xj(e);case"computer_use_preview":return Wj(e);case"file_search":return t5(e);case"image_generation":return r5(e);case"local_shell":return i5();case"mcp":return a5(e);case"shell":return o5();case"web_search_preview":return l5(e);case"web_search":return u5(e);case"custom":return e5(e)}return n5(e)})}function Ne(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function Z(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let sk=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return sk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function yg(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const _g=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Te extends Error{}class on extends Te{constructor(e,n,r,i){super(`${on.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new eh({message:r,cause:_g(n)});const a=n?.error;return e===400?new ak(e,a,r,i):e===401?new ok(e,a,r,i):e===403?new lk(e,a,r,i):e===404?new uk(e,a,r,i):e===409?new ck(e,a,r,i):e===422?new fk(e,a,r,i):e===429?new hk(e,a,r,i):e>=500?new dk(e,a,r,i):new on(e,a,r,i)}}class yr extends on{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class eh extends on{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ey extends eh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ak extends on{}class ok extends on{}class lk extends on{}class uk extends on{}class ck extends on{}class fk extends on{}class hk extends on{}class dk extends on{}class pk extends Te{constructor(){super("Could not parse response content as the length limit was reached")}}class mk extends Te{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ul extends Error{constructor(e){super(e)}}const f5=/^[a-z][a-z0-9+.-]*:/i,h5=t=>f5.test(t);let Pn=t=>(Pn=Array.isArray,Pn(t)),Wx=Pn;function gk(t){return typeof t!="object"?{}:t??{}}function d5(t){if(!t)return!0;for(const e in t)return!1;return!0}function p5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sm(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const m5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Te(`${t} must be an integer`);if(e<0)throw new Te(`${t} must be a positive integer`);return e},g5=t=>{try{return JSON.parse(t)}catch{return}},Yl=t=>new Promise(e=>setTimeout(e,t)),Aa="6.15.0",y5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function _5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const b5=()=>{const t=_5();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":tS(Deno.build.os),"X-Stainless-Arch":eS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":tS(globalThis.process.platform??"unknown"),"X-Stainless-Arch":eS(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=v5();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function v5(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${a}.${l}`}}}return null}const eS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",tS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let nS;const w5=()=>nS??(nS=b5());function x5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function _k(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return yk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){await e.return?.()}})}function bk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function S5(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const E5=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),vk="RFC3986",wk=t=>String(t),rS={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:wk},k5="RFC1738";let bg=(t,e)=>(bg=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),bg(t,e));const Ir=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),am=1024,C5=(t,e,n,r,i)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let l="";for(let c=0;c<a.length;c+=am){const f=a.length>=am?a.slice(c,c+am):a,d=[];for(let m=0;m<f.length;++m){let p=f.charCodeAt(m);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===k5&&(p===40||p===41)){d[d.length]=f.charAt(m);continue}if(p<128){d[d.length]=Ir[p];continue}if(p<2048){d[d.length]=Ir[192|p>>6]+Ir[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=Ir[224|p>>12]+Ir[128|p>>6&63]+Ir[128|p&63];continue}m+=1,p=65536+((p&1023)<<10|f.charCodeAt(m)&1023),d[d.length]=Ir[240|p>>18]+Ir[128|p>>12&63]+Ir[128|p>>6&63]+Ir[128|p&63]}l+=d.join("")}return l};function T5(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function iS(t,e){if(Pn(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const xk={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Sk=function(t,e){Array.prototype.push.apply(t,Pn(e)?e:[e])};let sS;const Pt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:C5,encodeValuesOnly:!1,format:vk,formatter:wk,indices:!1,serializeDate(t){return(sS??(sS=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function A5(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const om={};function Ek(t,e,n,r,i,a,l,c,f,d,m,p,_,y,v,w,C,S){let I=t,T=S,L=0,z=!1;for(;(T=T.get(om))!==void 0&&!z;){const P=T.get(t);if(L+=1,typeof P<"u"){if(P===L)throw new RangeError("Cyclic object value");z=!0}typeof T.get(om)>"u"&&(L=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=_?.(I):n==="comma"&&Pn(I)&&(I=iS(I,function(P){return P instanceof Date?_?.(P):P})),I===null){if(a)return f&&!w?f(e,Pt.encoder,C,"key",y):e;I=""}if(A5(I)||T5(I)){if(f){const P=w?e:f(e,Pt.encoder,C,"key",y);return[v?.(P)+"="+v?.(f(I,Pt.encoder,C,"value",y))]}return[v?.(e)+"="+v?.(String(I))]}const E=[];if(typeof I>"u")return E;let M;if(n==="comma"&&Pn(I))w&&f&&(I=iS(I,f)),M=[{value:I.length>0?I.join(",")||null:void 0}];else if(Pn(d))M=d;else{const P=Object.keys(I);M=m?P.sort(m):P}const $=c?String(e).replace(/\./g,"%2E"):String(e),q=r&&Pn(I)&&I.length===1?$+"[]":$;if(i&&Pn(I)&&I.length===0)return q+"[]";for(let P=0;P<M.length;++P){const K=M[P],ie=typeof K=="object"&&typeof K.value<"u"?K.value:I[K];if(l&&ie===null)continue;const ge=p&&c?K.replace(/\./g,"%2E"):K,he=Pn(I)?typeof n=="function"?n(q,ge):q:q+(p?"."+ge:"["+ge+"]");S.set(t,L);const re=new WeakMap;re.set(om,S),Sk(E,Ek(ie,he,n,r,i,a,l,c,n==="comma"&&w&&Pn(I)?null:f,d,m,p,_,y,v,w,C,re))}return E}function R5(t=Pt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Pt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=vk;if(typeof t.format<"u"){if(!bg(rS,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=rS[n];let i=Pt.filter;(typeof t.filter=="function"||Pn(t.filter))&&(i=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in xk?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Pt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Pt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Pt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Pt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Pt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Pt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Pt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Pt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Pt.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Pt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Pt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pt.strictNullHandling}}function O5(t,e={}){let n=t;const r=R5(e);let i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Pn(r.filter)&&(a=r.filter,i=a);const l=[];if(typeof n!="object"||n===null)return"";const c=xk[r.arrayFormat],f=c==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const d=new WeakMap;for(let _=0;_<i.length;++_){const y=i[_];r.skipNulls&&n[y]===null||Sk(l,Ek(n[y],y,c,f,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}const m=l.join(r.delimiter);let p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),m.length>0?p+m:""}function I5(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let aS;function ky(t){let e;return(aS??(e=new globalThis.TextEncoder,aS=e.encode.bind(e)))(t)}let oS;function lS(t){let e;return(oS??(e=new globalThis.TextDecoder,oS=e.decode.bind(e)))(t)}var Jn,Yn;class th{constructor(){Jn.set(this,void 0),Yn.set(this,void 0),Ne(this,Jn,new Uint8Array),Ne(this,Yn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ky(e):e;Ne(this,Jn,I5([Z(this,Jn,"f"),n]));const r=[];let i;for(;(i=N5(Z(this,Jn,"f"),Z(this,Yn,"f")))!=null;){if(i.carriage&&Z(this,Yn,"f")==null){Ne(this,Yn,i.index);continue}if(Z(this,Yn,"f")!=null&&(i.index!==Z(this,Yn,"f")+1||i.carriage)){r.push(lS(Z(this,Jn,"f").subarray(0,Z(this,Yn,"f")-1))),Ne(this,Jn,Z(this,Jn,"f").subarray(Z(this,Yn,"f"))),Ne(this,Yn,null);continue}const a=Z(this,Yn,"f")!==null?i.preceding-1:i.preceding,l=lS(Z(this,Jn,"f").subarray(0,a));r.push(l),Ne(this,Jn,Z(this,Jn,"f").subarray(i.index)),Ne(this,Yn,null)}return r}flush(){return Z(this,Jn,"f").length?this.decode(`
`):[]}}Jn=new WeakMap,Yn=new WeakMap;th.NEWLINE_CHARS=new Set([`
`,"\r"]);th.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function N5(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function D5(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Cf={off:0,error:200,warn:300,info:400,debug:500},uS=(t,e,n)=>{if(t){if(p5(Cf,t))return t;sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Cf))}`)}};function cl(){}function Tc(t,e,n){return!e||Cf[t]>Cf[n]?cl:e[t].bind(e)}const M5={error:cl,warn:cl,info:cl,debug:cl};let cS=new WeakMap;function sn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return M5;const r=cS.get(e);if(r&&r[0]===n)return r[1];const i={error:Tc("error",e,n),warn:Tc("warn",e,n),info:Tc("info",e,n),debug:Tc("debug",e,n)};return cS.set(e,[n,i]),i}const Ss=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Yo;class Pr{constructor(e,n,r){this.iterator=e,Yo.set(this,void 0),this.controller=n,Ne(this,Yo,r)}static fromSSEResponse(e,n,r){let i=!1;const a=r?sn(r):console;async function*l(){if(i)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let c=!1;try{for await(const f of L5(e,n))if(!c){if(f.data.startsWith("[DONE]")){c=!0;continue}if(f.event===null||!f.event.startsWith("thread.")){let d;try{d=JSON.parse(f.data)}catch(m){throw a.error("Could not parse message into JSON:",f.data),a.error("From chunk:",f.raw),m}if(d&&d.error)throw new on(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(f.data)}catch(m){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),m}if(f.event=="error")throw new on(void 0,d.error,d.message,void 0);yield{event:f.event,data:d}}}c=!0}catch(f){if(yg(f))return;throw f}finally{c||n.abort()}}return new Pr(l,n,r)}static fromReadableStream(e,n,r){let i=!1;async function*a(){const c=new th,f=bk(e);for await(const d of f)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*l(){if(i)throw new Te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let c=!1;try{for await(const f of a())c||f&&(yield JSON.parse(f));c=!0}catch(f){if(yg(f))return;throw f}finally{c||n.abort()}}return new Pr(l,n,r)}[(Yo=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();e.push(l),n.push(l)}return a.shift()}});return[new Pr(()=>i(e),this.controller,Z(this,Yo,"f")),new Pr(()=>i(n),this.controller,Z(this,Yo,"f"))]}toReadableStream(){const e=this;let n;return yk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=ky(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){await n.return?.()}})}}async function*L5(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Te("Attempted to iterate over a response with no body");const n=new P5,r=new th,i=bk(t.body);for await(const a of z5(i))for(const l of r.decode(a)){const c=n.decode(l);c&&(yield c)}for(const a of r.flush()){const l=n.decode(a);l&&(yield l)}}async function*z5(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?ky(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let a;for(;(a=D5(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class P5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=j5(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function j5(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function kk(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,l=await(async()=>{if(e.options.stream)return sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Pr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type")?.split(";")[0]?.trim();if(f?.includes("application/json")||f?.endsWith("+json")){const p=await n.json();return Ck(p,n)}return await n.text()})();return sn(t).debug(`[${r}] response parsed`,Ss({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}function Ck(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var fl;class nh extends Promise{constructor(e,n,r=kk){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,fl.set(this,void 0),Ne(this,fl,e)}_thenUnwrap(e){return new nh(Z(this,fl,"f"),this.responsePromise,async(n,r)=>Ck(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(Z(this,fl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}fl=new WeakMap;var Ac;class Cy{constructor(e,n,r,i){Ac.set(this,void 0),Ne(this,Ac,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Te("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Z(this,Ac,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ac=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class B5 extends nh{constructor(e,n,r){super(e,n,async(i,a)=>new r(i,a.response,await kk(i,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class rh extends Cy{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Dt extends Cy{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...gk(this.options.query),after:n}}:null}}class Tf extends Cy{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...gk(this.options.query),after:e}}:null}}const Tk=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function El(t,e,n){return Tk(),new File(t,e??"unknown_file",n)}function Gc(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Ty=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",fS=async(t,e)=>vg(t.body)?{...t,body:await Ak(t.body,e)}:t,Is=async(t,e)=>({...t,body:await Ak(t.body,e)}),hS=new WeakMap;function U5(t){const e=typeof t=="function"?t:t.fetch,n=hS.get(e);if(n)return n;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new i(a).text()}catch{return!0}})();return hS.set(e,r),r}const Ak=async(t,e)=>{if(!await U5(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,i])=>wg(n,r,i))),n},Rk=t=>t instanceof Blob&&"name"in t,$5=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Ty(t)||Rk(t)),vg=t=>{if($5(t))return!0;if(Array.isArray(t))return t.some(vg);if(t&&typeof t=="object"){for(const e in t)if(vg(t[e]))return!0}return!1},wg=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,El([await n.blob()],Gc(n)));else if(Ty(n))t.append(e,El([await new Response(_k(n)).blob()],Gc(n)));else if(Rk(n))t.append(e,n,Gc(n));else if(Array.isArray(n))await Promise.all(n.map(r=>wg(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>wg(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Ok=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",q5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ok(t),F5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function V5(t,e,n){if(Tk(),t=await t,q5(t))return t instanceof File?t:El([await t.arrayBuffer()],t.name);if(F5(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),El(await xg(i),e,n)}const r=await xg(t);if(e||(e=Gc(t)),!n?.type){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n={...n,type:i})}return El(r,e,n)}async function xg(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ok(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Ty(t))for await(const n of t)e.push(...await xg(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${H5(t)}`)}return e}function H5(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ke{constructor(e){this._client=e}}function Ik(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dS=Object.freeze(Object.create(null)),G5=(t=Ik)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((m,p,_)=>{/[?#]/.test(p)&&(i=!0);const y=r[_];let v=(i?encodeURIComponent:t)(""+y);return _!==r.length&&(y==null||typeof y=="object"&&y.toString===Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??dS)??dS)?.toString)&&(v=y+"",a.push({start:m.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),m+p+(_===r.length?"":v)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,p)=>m.start-p.start),a.length>0){let m=0;const p=a.reduce((_,y)=>{const v=" ".repeat(y.start-m),w="^".repeat(y.length);return m=y.start+y.length,_+v+w},"");throw new Te(`Path parameters result in path with invalid segments:
${a.map(_=>_.error).join(`
`)}
${l}
${p}`)}return l},pe=G5(Ik);let Nk=class extends ke{list(e,n={},r){return this._client.getAPIList(pe`/chat/completions/${e}/messages`,Dt,{query:n,...r})}};function Af(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Ay(t){return t?.$brand==="auto-parseable-response-format"}function Xl(t){return t?.$brand==="auto-parseable-tool"}function K5(t,e){return!e||!Dk(e)?{...t,choices:t.choices.map(n=>(Mk(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Ry(t,e)}function Ry(t,e){const n=t.choices.map(r=>{if(r.finish_reason==="length")throw new pk;if(r.finish_reason==="content_filter")throw new mk;return Mk(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(i=>Q5(e,i))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Z5(e,r.message.content):null}}});return{...t,choices:n}}function Z5(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Q5(t,e){const n=t.tools?.find(r=>Af(r)&&r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Xl(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function J5(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(r=>Af(r)&&r.function?.name===e.function.name);return Af(n)&&(Xl(n)||n?.function.strict||!1)}function Dk(t){return Ay(t.response_format)?!0:t.tools?.some(e=>Xl(e)||e.type==="function"&&e.function.strict===!0)??!1}function Mk(t){for(const e of t||[])if(e.type!=="function")throw new Te(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Y5(t){for(const e of t??[]){if(e.type!=="function")throw new Te(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Te(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Rf=t=>t?.role==="assistant",Lk=t=>t?.role==="tool";var Sg,Kc,Zc,hl,dl,Qc,pl,li,ml,Of,If,Ra,zk;class Oy{constructor(){Sg.add(this),this.controller=new AbortController,Kc.set(this,void 0),Zc.set(this,()=>{}),hl.set(this,()=>{}),dl.set(this,void 0),Qc.set(this,()=>{}),pl.set(this,()=>{}),li.set(this,{}),ml.set(this,!1),Of.set(this,!1),If.set(this,!1),Ra.set(this,!1),Ne(this,Kc,new Promise((e,n)=>{Ne(this,Zc,e,"f"),Ne(this,hl,n,"f")})),Ne(this,dl,new Promise((e,n)=>{Ne(this,Qc,e,"f"),Ne(this,pl,n,"f")})),Z(this,Kc,"f").catch(()=>{}),Z(this,dl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Z(this,Sg,"m",zk).bind(this))},0)}_connected(){this.ended||(Z(this,Zc,"f").call(this),this._emit("connect"))}get ended(){return Z(this,ml,"f")}get errored(){return Z(this,Of,"f")}get aborted(){return Z(this,If,"f")}abort(){this.controller.abort()}on(e,n){return(Z(this,li,"f")[e]||(Z(this,li,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Z(this,li,"f")[e];if(!r)return this;const i=r.findIndex(a=>a.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Z(this,li,"f")[e]||(Z(this,li,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Ne(this,Ra,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Ne(this,Ra,!0),await Z(this,dl,"f")}_emit(e,...n){if(Z(this,ml,"f"))return;e==="end"&&(Ne(this,ml,!0),Z(this,Qc,"f").call(this));const r=Z(this,li,"f")[e];if(r&&(Z(this,li,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Z(this,Ra,"f")&&!r?.length&&Promise.reject(i),Z(this,hl,"f").call(this,i),Z(this,pl,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Z(this,Ra,"f")&&!r?.length&&Promise.reject(i),Z(this,hl,"f").call(this,i),Z(this,pl,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Kc=new WeakMap,Zc=new WeakMap,hl=new WeakMap,dl=new WeakMap,Qc=new WeakMap,pl=new WeakMap,li=new WeakMap,ml=new WeakMap,Of=new WeakMap,If=new WeakMap,Ra=new WeakMap,Sg=new WeakSet,zk=function(e){if(Ne(this,Of,!0),e instanceof Error&&e.name==="AbortError"&&(e=new yr),e instanceof yr)return Ne(this,If,!0),this._emit("abort",e);if(e instanceof Te)return this._emit("error",e);if(e instanceof Error){const n=new Te(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Te(String(e)))};function X5(t){return typeof t.parse=="function"}var wn,Eg,Nf,kg,Cg,Tg,Pk,jk;const W5=10;class Bk extends Oy{constructor(){super(...arguments),wn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),Lk(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Rf(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Te("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Z(this,wn,"m",Eg).call(this)}async finalMessage(){return await this.done(),Z(this,wn,"m",Nf).call(this)}async finalFunctionToolCall(){return await this.done(),Z(this,wn,"m",kg).call(this)}async finalFunctionToolCallResult(){return await this.done(),Z(this,wn,"m",Cg).call(this)}async totalUsage(){return await this.done(),Z(this,wn,"m",Tg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Z(this,wn,"m",Nf).call(this);n&&this._emit("finalMessage",n);const r=Z(this,wn,"m",Eg).call(this);r&&this._emit("finalContent",r);const i=Z(this,wn,"m",kg).call(this);i&&this._emit("finalFunctionToolCall",i);const a=Z(this,wn,"m",Cg).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",Z(this,wn,"m",Tg).call(this))}async _createChatCompletion(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Z(this,wn,"m",Pk).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ry(a,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){const i="tool",{tool_choice:a="auto",stream:l,...c}=n,f=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=W5}=r||{},m=n.tools.map(y=>{if(Xl(y)){if(!y.$callback)throw new Te("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),p={};for(const y of m)y.type==="function"&&(p[y.function.name||y.function.function.name]=y.function);const _="tools"in n?m.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const w=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:_,messages:[...this.messages]},r)).choices[0]?.message;if(!w)throw new Te("missing message in ChatCompletion response");if(!w.tool_calls?.length)return;for(const C of w.tool_calls){if(C.type!=="function")continue;const S=C.id,{name:I,arguments:T}=C.function,L=p[I];if(L){if(f&&f!==I){const $=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(f)} requested. Please try again`;this._addMessage({role:i,tool_call_id:S,content:$});continue}}else{const $=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(p).map(q=>JSON.stringify(q)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:S,content:$});continue}let z;try{z=X5(L)?await L.parse(T):T}catch($){const q=$ instanceof Error?$.message:String($);this._addMessage({role:i,tool_call_id:S,content:q});continue}const E=await L.function(z,this),M=Z(this,wn,"m",jk).call(this,E);if(this._addMessage({role:i,tool_call_id:S,content:M}),f)return}}}}wn=new WeakSet,Eg=function(){return Z(this,wn,"m",Nf).call(this).content??null},Nf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Rf(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Te("stream ended without producing a ChatCompletionMessage with role=assistant")},kg=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Rf(n)&&n?.tool_calls?.length)return n.tool_calls.filter(r=>r.type==="function").at(-1)?.function}},Cg=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Lk(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(i=>i.type==="function"&&i.id===n.tool_call_id)))return n.content}},Tg=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Pk=function(e){if(e.n!=null&&e.n>1)throw new Te("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},jk=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Iy extends Bk{static runTools(e,n,r){const i=new Iy,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,a)),i}_addMessage(e,n=!0){super._addMessage(e,n),Rf(e)&&e.content&&this._emit("content",e.content)}}const Uk=1,$k=2,qk=4,Fk=8,Vk=16,Hk=32,Gk=64,Kk=128,Zk=256,Qk=Kk|Zk,Jk=Vk|Hk|Qk|Gk,Yk=Uk|$k|Jk,Xk=qk|Fk,e6=Yk|Xk,Qt={STR:Uk,NUM:$k,ARR:qk,OBJ:Fk,NULL:Vk,BOOL:Hk,NAN:Gk,INFINITY:Kk,MINUS_INFINITY:Zk,INF:Qk,SPECIAL:Jk,ATOM:Yk,COLLECTION:Xk,ALL:e6};class t6 extends Error{}class n6 extends Error{}function r6(t,e=Qt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return i6(t.trim(),e)}const i6=(t,e)=>{const n=t.length;let r=0;const i=_=>{throw new t6(`${_} at position ${r}`)},a=_=>{throw new n6(`${_} at position ${r}`)},l=()=>(p(),r>=n&&i("Unexpected end of input"),t[r]==='"'?c():t[r]==="{"?f():t[r]==="["?d():t.substring(r,r+4)==="null"||Qt.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Qt.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Qt.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Qt.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Qt.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Qt.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):m()),c=()=>{const _=r;let y=!1;for(r++;r<n&&(t[r]!=='"'||y&&t[r-1]==="\\");)y=t[r]==="\\"?!y:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(_,++r-Number(y)))}catch(v){a(String(v))}else if(Qt.STR&e)try{return JSON.parse(t.substring(_,r-Number(y))+'"')}catch{return JSON.parse(t.substring(_,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},f=()=>{r++,p();const _={};try{for(;t[r]!=="}";){if(p(),r>=n&&Qt.OBJ&e)return _;const y=c();p(),r++;try{const v=l();Object.defineProperty(_,y,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(Qt.OBJ&e)return _;throw v}p(),t[r]===","&&r++}}catch{if(Qt.OBJ&e)return _;i("Expected '}' at end of object")}return r++,_},d=()=>{r++;const _=[];try{for(;t[r]!=="]";)_.push(l()),p(),t[r]===","&&r++}catch{if(Qt.ARR&e)return _;i("Expected ']' at end of array")}return r++,_},m=()=>{if(r===0){t==="-"&&Qt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(Qt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(y))}}const _=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Qt.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(_,r))}catch{t.substring(_,r)==="-"&&Qt.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(_,t.lastIndexOf("e")))}catch(v){a(String(v))}}},p=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return l()},pS=t=>r6(t,Qt.ALL^Qt.NUM);var zt,oi,Sa,Ui,lm,Rc,um,cm,fm,Oc,hm,mS;class Bl extends Bk{constructor(e){super(),zt.add(this),oi.set(this,void 0),Sa.set(this,void 0),Ui.set(this,void 0),Ne(this,oi,e),Ne(this,Sa,[])}get currentChatCompletionSnapshot(){return Z(this,Ui,"f")}static fromReadableStream(e){const n=new Bl(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Bl(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){super._createChatCompletion;const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Z(this,zt,"m",lm).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of a)Z(this,zt,"m",um).call(this,l);if(a.controller.signal?.aborted)throw new yr;return this._addChatCompletion(Z(this,zt,"m",Oc).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Z(this,zt,"m",lm).call(this),this._connected();const i=Pr.fromReadableStream(e,this.controller);let a;for await(const l of i)a&&a!==l.id&&this._addChatCompletion(Z(this,zt,"m",Oc).call(this)),Z(this,zt,"m",um).call(this,l),a=l.id;if(i.controller.signal?.aborted)throw new yr;return this._addChatCompletion(Z(this,zt,"m",Oc).call(this))}[(oi=new WeakMap,Sa=new WeakMap,Ui=new WeakMap,zt=new WeakSet,lm=function(){this.ended||Ne(this,Ui,void 0)},Rc=function(n){let r=Z(this,Sa,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Z(this,Sa,"f")[n.index]=r,r)},um=function(n){if(this.ended)return;const r=Z(this,zt,"m",mS).call(this,n);this._emit("chunk",n,r);for(const i of n.choices){const a=r.choices[i.index];i.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",i.delta.content,a.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),i.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:a.message.refusal}),i.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:a.logprobs?.content??[]}),i.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const l=Z(this,zt,"m",Rc).call(this,a);a.finish_reason&&(Z(this,zt,"m",fm).call(this,a),l.current_tool_call_index!=null&&Z(this,zt,"m",cm).call(this,a,l.current_tool_call_index));for(const c of i.delta.tool_calls??[])l.current_tool_call_index!==c.index&&(Z(this,zt,"m",fm).call(this,a),l.current_tool_call_index!=null&&Z(this,zt,"m",cm).call(this,a,l.current_tool_call_index)),l.current_tool_call_index=c.index;for(const c of i.delta.tool_calls??[]){const f=a.message.tool_calls?.[c.index];f?.type&&(f?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:f.function?.name,index:c.index,arguments:f.function.arguments,parsed_arguments:f.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(f?.type,void 0))}}},cm=function(n,r){if(Z(this,zt,"m",Rc).call(this,n).done_tool_calls.has(r))return;const a=n.message.tool_calls?.[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const l=Z(this,oi,"f")?.tools?.find(c=>Af(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:Xl(l)?l.$parseRaw(a.function.arguments):l?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},fm=function(n){const r=Z(this,zt,"m",Rc).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Z(this,zt,"m",hm).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Oc=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=Z(this,Ui,"f");if(!n)throw new Te("request ended without sending any chunks");return Ne(this,Ui,void 0),Ne(this,Sa,[]),s6(n,Z(this,oi,"f"))},hm=function(){const n=Z(this,oi,"f")?.response_format;return Ay(n)?n:null},mS=function(n){var r,i,a,l;let c=Z(this,Ui,"f");const{choices:f,...d}=n;c?Object.assign(c,d):c=Ne(this,Ui,{...d,choices:[]});for(const{delta:m,finish_reason:p,index:_,logprobs:y=null,...v}of n.choices){let w=c.choices[_];if(w||(w=c.choices[_]={finish_reason:p,index:_,message:{},logprobs:y,...v}),y)if(!w.logprobs)w.logprobs=Object.assign({},y);else{const{content:E,refusal:M,...$}=y;Object.assign(w.logprobs,$),E&&((r=w.logprobs).content??(r.content=[]),w.logprobs.content.push(...E)),M&&((i=w.logprobs).refusal??(i.refusal=[]),w.logprobs.refusal.push(...M))}if(p&&(w.finish_reason=p,Z(this,oi,"f")&&Dk(Z(this,oi,"f")))){if(p==="length")throw new pk;if(p==="content_filter")throw new mk}if(Object.assign(w,v),!m)continue;const{content:C,refusal:S,function_call:I,role:T,tool_calls:L,...z}=m;if(Object.assign(w.message,z),S&&(w.message.refusal=(w.message.refusal||"")+S),T&&(w.message.role=T),I&&(w.message.function_call?(I.name&&(w.message.function_call.name=I.name),I.arguments&&((a=w.message.function_call).arguments??(a.arguments=""),w.message.function_call.arguments+=I.arguments)):w.message.function_call=I),C&&(w.message.content=(w.message.content||"")+C,!w.message.refusal&&Z(this,zt,"m",hm).call(this)&&(w.message.parsed=pS(w.message.content))),L){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:E,id:M,type:$,function:q,...P}of L){const K=(l=w.message.tool_calls)[E]??(l[E]={});Object.assign(K,P),M&&(K.id=M),$&&(K.type=$),q&&(K.function??(K.function={name:q.name??"",arguments:""})),q?.name&&(K.function.name=q.name),q?.arguments&&(K.function.arguments+=q.arguments,J5(Z(this,oi,"f"),K)&&(K.function.parsed_arguments=pS(K.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,l)=>n.push({resolve:a,reject:l})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Pr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function s6(t,e){const{id:n,choices:r,created:i,model:a,system_fingerprint:l,...c}=t,f={...c,id:n,choices:r.map(({message:d,finish_reason:m,index:p,logprobs:_,...y})=>{if(!m)throw new Te(`missing finish_reason for choice ${p}`);const{content:v=null,function_call:w,tool_calls:C,...S}=d,I=d.role;if(!I)throw new Te(`missing role for choice ${p}`);if(w){const{arguments:T,name:L}=w;if(T==null)throw new Te(`missing function_call.arguments for choice ${p}`);if(!L)throw new Te(`missing function_call.name for choice ${p}`);return{...y,message:{content:v,function_call:{arguments:T,name:L},role:I,refusal:d.refusal??null},finish_reason:m,index:p,logprobs:_}}return C?{...y,index:p,finish_reason:m,logprobs:_,message:{...S,role:I,content:v,refusal:d.refusal??null,tool_calls:C.map((T,L)=>{const{function:z,type:E,id:M,...$}=T,{arguments:q,name:P,...K}=z||{};if(M==null)throw new Te(`missing choices[${p}].tool_calls[${L}].id
${Ic(t)}`);if(E==null)throw new Te(`missing choices[${p}].tool_calls[${L}].type
${Ic(t)}`);if(P==null)throw new Te(`missing choices[${p}].tool_calls[${L}].function.name
${Ic(t)}`);if(q==null)throw new Te(`missing choices[${p}].tool_calls[${L}].function.arguments
${Ic(t)}`);return{...$,id:M,type:E,function:{...K,name:P,arguments:q}}})}}:{...y,message:{...S,content:v,role:I,refusal:d.refusal??null},finish_reason:m,index:p,logprobs:_}}),created:i,model:a,object:"chat.completion",...l?{system_fingerprint:l}:{}};return K5(f,e)}function Ic(t){return JSON.stringify(t)}class Df extends Bl{static fromReadableStream(e){const n=new Df(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const i=new Df(n),a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,a)),i}}let Ny=class extends ke{constructor(){super(...arguments),this.messages=new Nk(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(pe`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(pe`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",Dt,{query:e,...n})}delete(e,n){return this._client.delete(pe`/chat/completions/${e}`,n)}parse(e,n){return Y5(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Ry(r,e))}runTools(e,n){return e.stream?Df.runTools(this._client,e,n):Iy.runTools(this._client,e,n)}stream(e,n){return Bl.createChatCompletion(this._client,e,n)}};Ny.Messages=Nk;class Dy extends ke{constructor(){super(...arguments),this.completions=new Ny(this._client)}}Dy.Completions=Ny;const Wk=Symbol("brand.privateNullableHeaders");function*a6(t){if(!t)return;if(Wk in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Wx(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=Wx(r[1])?r[1]:[r[1]];let l=!1;for(const c of a)c!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const xe=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,l]of a6(r)){const c=a.toLowerCase();i.has(c)||(e.delete(a),i.add(c)),l===null?(e.delete(a),n.add(c)):(e.append(a,l),n.delete(c))}}return{[Wk]:!0,values:e,nulls:n}};class eC extends ke{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:xe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class tC extends ke{create(e,n){return this._client.post("/audio/transcriptions",Is({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class nC extends ke{create(e,n){return this._client.post("/audio/translations",Is({body:e,...n,__metadata:{model:e.model}},this._client))}}class Wl extends ke{constructor(){super(...arguments),this.transcriptions=new tC(this._client),this.translations=new nC(this._client),this.speech=new eC(this._client)}}Wl.Transcriptions=tC;Wl.Translations=nC;Wl.Speech=eC;class rC extends ke{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(pe`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",Dt,{query:e,...n})}cancel(e,n){return this._client.post(pe`/batches/${e}/cancel`,n)}}class iC extends ke{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(pe`/assistants/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(pe`/assistants/${e}`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",Dt,{query:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(pe`/assistants/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let sC=class extends ke{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class aC extends ke{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let ih=class extends ke{constructor(){super(...arguments),this.sessions=new sC(this._client),this.transcriptionSessions=new aC(this._client)}};ih.Sessions=sC;ih.TranscriptionSessions=aC;class oC extends ke{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(pe`/chatkit/sessions/${e}/cancel`,{...n,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let lC=class extends ke{retrieve(e,n){return this._client.get(pe`/chatkit/threads/${e}`,{...n,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Tf,{query:e,...n,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(pe`/chatkit/threads/${e}`,{...n,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},r){return this._client.getAPIList(pe`/chatkit/threads/${e}/items`,Tf,{query:n,...r,headers:xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};class sh extends ke{constructor(){super(...arguments),this.sessions=new oC(this._client),this.threads=new lC(this._client)}}sh.Sessions=oC;sh.Threads=lC;class uC extends ke{create(e,n,r){return this._client.post(pe`/threads/${e}/messages`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(pe`/threads/${i}/messages/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:i,...a}=n;return this._client.post(pe`/threads/${i}/messages/${e}`,{body:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(pe`/threads/${e}/messages`,Dt,{query:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{thread_id:i}=n;return this._client.delete(pe`/threads/${i}/messages/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class cC extends ke{retrieve(e,n,r){const{thread_id:i,run_id:a,...l}=n;return this._client.get(pe`/threads/${i}/runs/${a}/steps/${e}`,{query:l,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n,r){const{thread_id:i,...a}=n;return this._client.getAPIList(pe`/threads/${i}/runs/${e}/steps`,Dt,{query:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const o6=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var l6={};const Ea=t=>{if(typeof globalThis.process<"u")return l6?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var an,As,Ag,zr,Jc,Er,Rs,La,ks,Mf,Xn,Yc,Xc,kl,gl,yl,gS,yS,_S,bS,vS,wS,xS;class Cl extends Oy{constructor(){super(...arguments),an.add(this),Ag.set(this,[]),zr.set(this,{}),Jc.set(this,{}),Er.set(this,void 0),Rs.set(this,void 0),La.set(this,void 0),ks.set(this,void 0),Mf.set(this,void 0),Xn.set(this,void 0),Yc.set(this,void 0),Xc.set(this,void 0),kl.set(this,void 0)}[(Ag=new WeakMap,zr=new WeakMap,Jc=new WeakMap,Er=new WeakMap,Rs=new WeakMap,La=new WeakMap,ks=new WeakMap,Mf=new WeakMap,Xn=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,kl=new WeakMap,an=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,l)=>n.push({resolve:a,reject:l})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new As;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Pr.fromReadableStream(e,this.controller);for await(const a of i)Z(this,an,"m",gl).call(this,a);if(i.controller.signal?.aborted)throw new yr;return this._addRun(Z(this,an,"m",yl).call(this))}toReadableStream(){return new Pr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i){const a=new As;return a._run(()=>a._runToolAssistantStream(e,n,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,r,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},c=await e.submitToolOutputs(n,l,{...i,signal:this.controller.signal});this._connected();for await(const f of c)Z(this,an,"m",gl).call(this,f);if(c.controller.signal?.aborted)throw new yr;return this._addRun(Z(this,an,"m",yl).call(this))}static createThreadAssistantStream(e,n,r){const i=new As;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const a=new As;return a._run(()=>a._runAssistantStream(e,n,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return Z(this,Yc,"f")}currentRun(){return Z(this,Xc,"f")}currentMessageSnapshot(){return Z(this,Er,"f")}currentRunStepSnapshot(){return Z(this,kl,"f")}async finalRunSteps(){return await this.done(),Object.values(Z(this,zr,"f"))}async finalMessages(){return await this.done(),Object.values(Z(this,Jc,"f"))}async finalRun(){if(await this.done(),!Z(this,Rs,"f"))throw Error("Final run was not received.");return Z(this,Rs,"f")}async _createThreadAssistantStream(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},l=await e.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const c of l)Z(this,an,"m",gl).call(this,c);if(l.controller.signal?.aborted)throw new yr;return this._addRun(Z(this,an,"m",yl).call(this))}async _createAssistantStream(e,n,r,i){const a=i?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},c=await e.create(n,l,{...i,signal:this.controller.signal});this._connected();for await(const f of c)Z(this,an,"m",gl).call(this,f);if(c.controller.signal?.aborted)throw new yr;return this._addRun(Z(this,an,"m",yl).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let a=e[r];if(a==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof a=="string"&&typeof i=="string")a+=i;else if(typeof a=="number"&&typeof i=="number")a+=i;else if(sm(a)&&sm(i))a=this.accumulateDelta(a,i);else if(Array.isArray(a)&&Array.isArray(i)){if(a.every(l=>typeof l=="string"||typeof l=="number")){a.push(...i);continue}for(const l of i){if(!sm(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const c=l.index;if(c==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const f=a[c];f==null?a.push(l):a[c]=this.accumulateDelta(f,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i){return await this._createToolAssistantStream(n,e,r,i)}}As=Cl,gl=function(e){if(!this.ended)switch(Ne(this,Yc,e),Z(this,an,"m",_S).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Z(this,an,"m",xS).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Z(this,an,"m",yS).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Z(this,an,"m",gS).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},yl=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");if(!Z(this,Rs,"f"))throw Error("Final run has not been received");return Z(this,Rs,"f")},gS=function(e){const[n,r]=Z(this,an,"m",vS).call(this,e,Z(this,Er,"f"));Ne(this,Er,n),Z(this,Jc,"f")[n.id]=n;for(const i of r){const a=n.content[i.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let a=i.text,l=n.content[i.index];if(l&&l.type=="text")this._emit("textDelta",a,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Z(this,La,"f")){if(Z(this,ks,"f"))switch(Z(this,ks,"f").type){case"text":this._emit("textDone",Z(this,ks,"f").text,Z(this,Er,"f"));break;case"image_file":this._emit("imageFileDone",Z(this,ks,"f").image_file,Z(this,Er,"f"));break}Ne(this,La,i.index)}Ne(this,ks,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(Z(this,La,"f")!==void 0){const i=e.data.content[Z(this,La,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Z(this,Er,"f"));break;case"text":this._emit("textDone",i.text,Z(this,Er,"f"));break}}Z(this,Er,"f")&&this._emit("messageDone",e.data),Ne(this,Er,void 0)}},yS=function(e){const n=Z(this,an,"m",bS).call(this,e);switch(Ne(this,kl,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==Z(this,Mf,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(Z(this,Xn,"f")&&this._emit("toolCallDone",Z(this,Xn,"f")),Ne(this,Mf,a.index),Ne(this,Xn,n.step_details.tool_calls[a.index]),Z(this,Xn,"f")&&this._emit("toolCallCreated",Z(this,Xn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ne(this,kl,void 0),e.data.step_details.type=="tool_calls"&&Z(this,Xn,"f")&&(this._emit("toolCallDone",Z(this,Xn,"f")),Ne(this,Xn,void 0)),this._emit("runStepDone",e.data,n);break}},_S=function(e){Z(this,Ag,"f").push(e),this._emit("event",e)},bS=function(e){switch(e.event){case"thread.run.step.created":return Z(this,zr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Z(this,zr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=As.accumulateDelta(n,r.delta);Z(this,zr,"f")[e.data.id]=i}return Z(this,zr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Z(this,zr,"f")[e.data.id]=e.data;break}if(Z(this,zr,"f")[e.data.id])return Z(this,zr,"f")[e.data.id];throw new Error("No snapshot available")},vS=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const a of i.delta.content)if(a.index in n.content){let l=n.content[a.index];n.content[a.index]=Z(this,an,"m",wS).call(this,a,l)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},wS=function(e,n){return As.accumulateDelta(n,e)},xS=function(e){switch(Ne(this,Xc,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ne(this,Rs,e.data),Z(this,Xn,"f")&&(this._emit("toolCallDone",Z(this,Xn,"f")),Ne(this,Xn,void 0));break}};let My=class extends ke{constructor(){super(...arguments),this.steps=new cC(this._client)}create(e,n,r){const{include:i,...a}=n;return this._client.post(pe`/threads/${e}/runs`,{query:{include:i},body:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(pe`/threads/${i}/runs/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:i,...a}=n;return this._client.post(pe`/threads/${i}/runs/${e}`,{body:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(pe`/threads/${e}/runs`,Dt,{query:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{thread_id:i}=n;return this._client.post(pe`/threads/${i}/runs/${e}/cancel`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,n,r){return Cl.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i=xe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:l}=await this.retrieve(e,n,{...r,headers:{...r?.headers,...i}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const f=l.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await Yl(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,r){return Cl.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:i,...a}=n;return this._client.post(pe`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const i=await this.submitToolOutputs(e,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(e,n,r){return Cl.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};My.Steps=cC;class ah extends ke{constructor(){super(...arguments),this.runs=new My(this._client),this.messages=new uC(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(pe`/threads/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(pe`/threads/${e}`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n){return this._client.delete(pe`/threads/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Cl.createThreadAssistantStream(e,this._client.beta.threads,n)}}ah.Runs=My;ah.Messages=uC;class Ya extends ke{constructor(){super(...arguments),this.realtime=new ih(this._client),this.chatkit=new sh(this._client),this.assistants=new iC(this._client),this.threads=new ah(this._client)}}Ya.Realtime=ih;Ya.ChatKit=sh;Ya.Assistants=iC;Ya.Threads=ah;class fC extends ke{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class hC extends ke{retrieve(e,n,r){const{container_id:i}=n;return this._client.get(pe`/containers/${i}/files/${e}/content`,{...r,headers:xe([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}let Ly=class extends ke{constructor(){super(...arguments),this.content=new hC(this._client)}create(e,n,r){return this._client.post(pe`/containers/${e}/files`,Is({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:i}=n;return this._client.get(pe`/containers/${i}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(pe`/containers/${e}/files`,Dt,{query:n,...r})}delete(e,n,r){const{container_id:i}=n;return this._client.delete(pe`/containers/${i}/files/${e}`,{...r,headers:xe([{Accept:"*/*"},r?.headers])})}};Ly.Content=hC;class zy extends ke{constructor(){super(...arguments),this.files=new Ly(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(pe`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",Dt,{query:e,...n})}delete(e,n){return this._client.delete(pe`/containers/${e}`,{...n,headers:xe([{Accept:"*/*"},n?.headers])})}}zy.Files=Ly;class dC extends ke{create(e,n,r){const{include:i,...a}=n;return this._client.post(pe`/conversations/${e}/items`,{query:{include:i},body:a,...r})}retrieve(e,n,r){const{conversation_id:i,...a}=n;return this._client.get(pe`/conversations/${i}/items/${e}`,{query:a,...r})}list(e,n={},r){return this._client.getAPIList(pe`/conversations/${e}/items`,Tf,{query:n,...r})}delete(e,n,r){const{conversation_id:i}=n;return this._client.delete(pe`/conversations/${i}/items/${e}`,r)}}class Py extends ke{constructor(){super(...arguments),this.items=new dC(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(pe`/conversations/${e}`,n)}update(e,n,r){return this._client.post(pe`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(pe`/conversations/${e}`,n)}}Py.Items=dC;class pC extends ke{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&sn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?a:(sn(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(l=>(l&&l.data&&l.data.forEach(c=>{const f=c.embedding;c.embedding=o6(f)}),l)))}}class mC extends ke{retrieve(e,n,r){const{eval_id:i,run_id:a}=n;return this._client.get(pe`/evals/${i}/runs/${a}/output_items/${e}`,r)}list(e,n,r){const{eval_id:i,...a}=n;return this._client.getAPIList(pe`/evals/${i}/runs/${e}/output_items`,Dt,{query:a,...r})}}class jy extends ke{constructor(){super(...arguments),this.outputItems=new mC(this._client)}create(e,n,r){return this._client.post(pe`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:i}=n;return this._client.get(pe`/evals/${i}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(pe`/evals/${e}/runs`,Dt,{query:n,...r})}delete(e,n,r){const{eval_id:i}=n;return this._client.delete(pe`/evals/${i}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:i}=n;return this._client.post(pe`/evals/${i}/runs/${e}`,r)}}jy.OutputItems=mC;class By extends ke{constructor(){super(...arguments),this.runs=new jy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(pe`/evals/${e}`,n)}update(e,n,r){return this._client.post(pe`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",Dt,{query:e,...n})}delete(e,n){return this._client.delete(pe`/evals/${e}`,n)}}By.Runs=jy;let gC=class extends ke{create(e,n){return this._client.post("/files",Is({body:e,...n},this._client))}retrieve(e,n){return this._client.get(pe`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",Dt,{query:e,...n})}delete(e,n){return this._client.delete(pe`/files/${e}`,n)}content(e,n){return this._client.get(pe`/files/${e}/content`,{...n,headers:xe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),a=Date.now();let l=await this.retrieve(e);for(;!l.status||!i.has(l.status);)if(await Yl(n),l=await this.retrieve(e),Date.now()-a>r)throw new Ey({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return l}};class yC extends ke{}let _C=class extends ke{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Uy extends ke{constructor(){super(...arguments),this.graders=new _C(this._client)}}Uy.Graders=_C;class bC extends ke{create(e,n,r){return this._client.getAPIList(pe`/fine_tuning/checkpoints/${e}/permissions`,rh,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(pe`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete(pe`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let $y=class extends ke{constructor(){super(...arguments),this.permissions=new bC(this._client)}};$y.Permissions=bC;class vC extends ke{list(e,n={},r){return this._client.getAPIList(pe`/fine_tuning/jobs/${e}/checkpoints`,Dt,{query:n,...r})}}class qy extends ke{constructor(){super(...arguments),this.checkpoints=new vC(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(pe`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",Dt,{query:e,...n})}cancel(e,n){return this._client.post(pe`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(pe`/fine_tuning/jobs/${e}/events`,Dt,{query:n,...r})}pause(e,n){return this._client.post(pe`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(pe`/fine_tuning/jobs/${e}/resume`,n)}}qy.Checkpoints=vC;class Xa extends ke{constructor(){super(...arguments),this.methods=new yC(this._client),this.jobs=new qy(this._client),this.checkpoints=new $y(this._client),this.alpha=new Uy(this._client)}}Xa.Methods=yC;Xa.Jobs=qy;Xa.Checkpoints=$y;Xa.Alpha=Uy;class wC extends ke{}class Fy extends ke{constructor(){super(...arguments),this.graderModels=new wC(this._client)}}Fy.GraderModels=wC;class xC extends ke{createVariation(e,n){return this._client.post("/images/variations",Is({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Is({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class SC extends ke{retrieve(e,n){return this._client.get(pe`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",rh,e)}delete(e,n){return this._client.delete(pe`/models/${e}`,n)}}class EC extends ke{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class kC extends ke{accept(e,n,r){return this._client.post(pe`/realtime/calls/${e}/accept`,{body:n,...r,headers:xe([{Accept:"*/*"},r?.headers])})}hangup(e,n){return this._client.post(pe`/realtime/calls/${e}/hangup`,{...n,headers:xe([{Accept:"*/*"},n?.headers])})}refer(e,n,r){return this._client.post(pe`/realtime/calls/${e}/refer`,{body:n,...r,headers:xe([{Accept:"*/*"},r?.headers])})}reject(e,n={},r){return this._client.post(pe`/realtime/calls/${e}/reject`,{body:n,...r,headers:xe([{Accept:"*/*"},r?.headers])})}}class CC extends ke{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class oh extends ke{constructor(){super(...arguments),this.clientSecrets=new CC(this._client),this.calls=new kC(this._client)}}oh.ClientSecrets=CC;oh.Calls=kC;function u6(t,e){return!e||!f6(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:TC(t,e)}function TC(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:p6(e,i)};if(i.type==="message"){const a=i.content.map(l=>l.type==="output_text"?{...l,parsed:c6(e,l.text)}:l);return{...i,content:a}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Rg(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const a of i.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function c6(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function f6(t){return!!Ay(t.text?.format)}function h6(t){return t?.$brand==="auto-parseable-tool"}function d6(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function p6(t,e){const n=d6(t.tools??[],e.name);return{...e,...e,parsed_arguments:h6(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Rg(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var ka,Nc,$i,Dc,SS,ES,kS,CS;class Vy extends Oy{constructor(e){super(),ka.add(this),Nc.set(this,void 0),$i.set(this,void 0),Dc.set(this,void 0),Ne(this,Nc,e)}static createResponse(e,n,r){const i=new Vy(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Z(this,ka,"m",SS).call(this);let a,l=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),l=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of a)Z(this,ka,"m",ES).call(this,c,l);if(a.controller.signal?.aborted)throw new yr;return Z(this,ka,"m",kS).call(this)}[(Nc=new WeakMap,$i=new WeakMap,Dc=new WeakMap,ka=new WeakSet,SS=function(){this.ended||Ne(this,$i,void 0)},ES=function(n,r){if(this.ended)return;const i=(l,c)=>{(r==null||c.sequence_number>r)&&this._emit(l,c)},a=Z(this,ka,"m",CS).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const l=a.output[n.output_index];if(!l)throw new Te(`missing output at index ${n.output_index}`);if(l.type==="message"){const c=l.content[n.content_index];if(!c)throw new Te(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${c.type}`);i("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const l=a.output[n.output_index];if(!l)throw new Te(`missing output at index ${n.output_index}`);l.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:l.arguments});break}default:i(n.type,n);break}},kS=function(){if(this.ended)throw new Te("stream has ended, this shouldn't happen");const n=Z(this,$i,"f");if(!n)throw new Te("request ended without sending any events");Ne(this,$i,void 0);const r=m6(n,Z(this,Nc,"f"));return Ne(this,Dc,r),r},CS=function(n){let r=Z(this,$i,"f");if(!r){if(n.type!=="response.created")throw new Te(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Ne(this,$i,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new Te(`missing output at index ${n.output_index}`);const a=i.type,l=n.part;a==="message"&&l.type!=="reasoning_text"?i.content.push(l):a==="reasoning"&&l.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(l));break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new Te(`missing output at index ${n.output_index}`);if(i.type==="message"){const a=i.content[n.content_index];if(!a)throw new Te(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Te(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new Te(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.reasoning_text.delta":{const i=r.output[n.output_index];if(!i)throw new Te(`missing output at index ${n.output_index}`);if(i.type==="reasoning"){const a=i.content?.[n.content_index];if(!a)throw new Te(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Te(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ne(this,$i,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const a=n.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const a of n)a.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,l)=>n.push({resolve:a,reject:l})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Z(this,Dc,"f");if(!e)throw new Te("stream ended without producing a ChatCompletion");return e}}function m6(t,e){return u6(t,e)}class AC extends ke{list(e,n={},r){return this._client.getAPIList(pe`/responses/${e}/input_items`,Dt,{query:n,...r})}}class RC extends ke{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class lh extends ke{constructor(){super(...arguments),this.inputItems=new AC(this._client),this.inputTokens=new RC(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Rg(r),r))}retrieve(e,n={},r){return this._client.get(pe`/responses/${e}`,{query:n,...r,stream:n?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Rg(i),i))}delete(e,n){return this._client.delete(pe`/responses/${e}`,{...n,headers:xe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>TC(r,e))}stream(e,n){return Vy.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(pe`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}lh.InputItems=AC;lh.InputTokens=RC;class OC extends ke{create(e,n,r){return this._client.post(pe`/uploads/${e}/parts`,Is({body:n,...r},this._client))}}class Hy extends ke{constructor(){super(...arguments),this.parts=new OC(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(pe`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(pe`/uploads/${e}/complete`,{body:n,...r})}}Hy.Parts=OC;const g6=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class IC extends ke{create(e,n,r){return this._client.post(pe`/vector_stores/${e}/file_batches`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(pe`/vector_stores/${i}/file_batches/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{vector_store_id:i}=n;return this._client.post(pe`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r){const{vector_store_id:i,...a}=n;return this._client.getAPIList(pe`/vector_stores/${i}/file_batches/${e}/files`,Dt,{query:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,n,r){const i=xe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:l}=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const f=l.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await Yl(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=i?.maxConcurrency??5,l=Math.min(a,n.length),c=this._client,f=n.values(),d=[...r];async function m(_){for(let y of _){const v=await c.files.create({file:y,purpose:"assistants"},i);d.push(v.id)}}const p=Array(l).fill(f).map(m);return await g6(p),await this.createAndPoll(e,{file_ids:d})}}class NC extends ke{create(e,n,r){return this._client.post(pe`/vector_stores/${e}/files`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(pe`/vector_stores/${i}/files/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{vector_store_id:i,...a}=n;return this._client.post(pe`/vector_stores/${i}/files/${e}`,{body:a,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(pe`/vector_stores/${e}/files`,Dt,{query:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{vector_store_id:i}=n;return this._client.delete(pe`/vector_stores/${i}/files/${e}`,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i=xe([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse(),l=a.data;switch(l.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const f=a.response.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await Yl(c);break;case"failed":case"completed":return l}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){const{vector_store_id:i}=n;return this._client.getAPIList(pe`/vector_stores/${i}/files/${e}/content`,rh,{...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class uh extends ke{constructor(){super(...arguments),this.files=new NC(this._client),this.fileBatches=new IC(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(pe`/vector_stores/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(pe`/vector_stores/${e}`,{body:n,...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",Dt,{query:e,...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(pe`/vector_stores/${e}`,{...n,headers:xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,r){return this._client.getAPIList(pe`/vector_stores/${e}/search`,rh,{body:n,method:"post",...r,headers:xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}uh.Files=NC;uh.FileBatches=IC;class DC extends ke{create(e,n){return this._client.post("/videos",fS({body:e,...n},this._client))}retrieve(e,n){return this._client.get(pe`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Tf,{query:e,...n})}delete(e,n){return this._client.delete(pe`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(pe`/videos/${e}/content`,{query:n,...r,headers:xe([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(pe`/videos/${e}/remix`,fS({body:n,...r},this._client))}}var Oa,MC,Wc;class LC extends ke{constructor(){super(...arguments),Oa.add(this)}async unwrap(e,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,n,r,i),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");Z(this,Oa,"m",MC).call(this,r);const a=xe([n]).values,l=Z(this,Oa,"m",Wc).call(this,a,"webhook-signature"),c=Z(this,Oa,"m",Wc).call(this,a,"webhook-timestamp"),f=Z(this,Oa,"m",Wc).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new ul("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>i)throw new ul("Webhook timestamp is too old");if(d>m+i)throw new ul("Webhook timestamp is too new");const p=l.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),_=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),y=f?`${f}.${c}.${e}`:`${c}.${e}`,v=await crypto.subtle.importKey("raw",_,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const w of p)try{const C=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",v,C,new TextEncoder().encode(y)))return}catch{continue}throw new ul("The given webhook signature does not match the expected signature")}}Oa=new WeakSet,MC=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Wc=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var Og,Gy,ef,zC;class je{constructor({baseURL:e=Ea("OPENAI_BASE_URL"),apiKey:n=Ea("OPENAI_API_KEY"),organization:r=Ea("OPENAI_ORG_ID")??null,project:i=Ea("OPENAI_PROJECT_ID")??null,webhookSecret:a=Ea("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(Og.add(this),ef.set(this,void 0),this.completions=new fC(this),this.chat=new Dy(this),this.embeddings=new pC(this),this.files=new gC(this),this.images=new xC(this),this.audio=new Wl(this),this.moderations=new EC(this),this.models=new SC(this),this.fineTuning=new Xa(this),this.graders=new Fy(this),this.vectorStores=new uh(this),this.webhooks=new LC(this),this.beta=new Ya(this),this.batches=new rC(this),this.uploads=new Hy(this),this.responses=new lh(this),this.realtime=new oh(this),this.conversations=new Py(this),this.evals=new By(this),this.containers=new zy(this),this.videos=new DC(this),n===void 0)throw new Te("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:r,project:i,webhookSecret:a,...l,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&y5())throw new Te(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??Gy.DEFAULT_TIMEOUT,this.logger=c.logger??console;const f="warn";this.logLevel=f,this.logLevel=uS(c.logLevel,"ClientOptions.logLevel",this)??uS(Ea("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??f,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??x5(),Ne(this,ef,E5),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return xe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return O5(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Aa}`}defaultIdempotencyKey(){return`stainless-node-retry-${sk()}`}makeStatusError(e,n,r,i){return on.generate(e,n,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof Te?r:new Te(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new Te(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const i=!Z(this,Og,"m",zC).call(this)&&r||this.baseURL,a=h5(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return d5(l)||(n={...l,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}request(e,n=null){return new nh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){const i=await e,a=i.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(i);const{req:l,url:c,timeout:f}=await this.buildRequest(i,{retryCount:a-n});await this.prepareRequest(l,{url:c,options:i});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,p=Date.now();if(sn(this).debug(`[${d}] sending request`,Ss({retryOfRequestLogID:r,method:i.method,url:c,options:i,headers:l.headers})),i.signal?.aborted)throw new yr;const _=new AbortController,y=await this.fetchWithTimeout(c,l,f,_).catch(_g),v=Date.now();if(y instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(i.signal?.aborted)throw new yr;const I=yg(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return sn(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${S}`),sn(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${S})`,Ss({retryOfRequestLogID:r,url:c,durationMs:v-p,message:y.message})),this.retryRequest(i,n,r??d);throw sn(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),sn(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ss({retryOfRequestLogID:r,url:c,durationMs:v-p,message:y.message})),I?new Ey:new eh({cause:y})}const w=[...y.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,I])=>", "+S+": "+JSON.stringify(I)).join(""),C=`[${d}${m}${w}] ${l.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${v-p}ms`;if(!y.ok){const S=await this.shouldRetry(y);if(n&&S){const M=`retrying, ${n} attempts remaining`;return await S5(y.body),sn(this).info(`${C} - ${M}`),sn(this).debug(`[${d}] response error (${M})`,Ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-p})),this.retryRequest(i,n,r??d,y.headers)}const I=S?"error; no more retries left":"error; not retryable";sn(this).info(`${C} - ${I}`);const T=await y.text().catch(M=>_g(M).message),L=g5(T),z=L?void 0:T;throw sn(this).debug(`[${d}] response error (${I})`,Ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:z,durationMs:Date.now()-p})),this.makeStatusError(y.status,L,z,y.headers)}return sn(this).info(C),sn(this).debug(`[${d}] response start`,Ss({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-p})),{response:y,options:i,controller:_,requestLogID:d,retryOfRequestLogID:r,startTime:p}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new B5(this,r,e)}async fetchWithTimeout(e,n,r,i){const{signal:a,method:l,...c}=n||{};a&&a.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:i.signal,...d?{duplex:"half"}:{},method:"GET",...c};l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){let a;const l=i?.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(a=f)}const c=i?.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Yl(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:i,path:a,query:l,defaultBaseURL:c}=r,f=this.buildURL(a,l,c);"timeout"in r&&m5("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:r}),p=await this.buildHeaders({options:e,method:i,bodyHeaders:d,retryCount:n});return{req:{method:i,headers:p,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...r.fetchOptions??{}},url:f,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const l=xe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...w5(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=xe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:_k(e)}:Z(this,ef,"f").call(this,{body:e,headers:r})}}Gy=je,ef=new WeakMap,Og=new WeakSet,zC=function(){return this.baseURL!=="https://api.openai.com/v1"};je.OpenAI=Gy;je.DEFAULT_TIMEOUT=6e5;je.OpenAIError=Te;je.APIError=on;je.APIConnectionError=eh;je.APIConnectionTimeoutError=Ey;je.APIUserAbortError=yr;je.NotFoundError=uk;je.ConflictError=ck;je.RateLimitError=hk;je.BadRequestError=ak;je.AuthenticationError=ok;je.InternalServerError=dk;je.PermissionDeniedError=lk;je.UnprocessableEntityError=fk;je.InvalidWebhookSignatureError=ul;je.toFile=V5;je.Completions=fC;je.Chat=Dy;je.Embeddings=pC;je.Files=gC;je.Images=xC;je.Audio=Wl;je.Moderations=EC;je.Models=SC;je.FineTuning=Xa;je.Graders=Fy;je.VectorStores=uh;je.Webhooks=LC;je.Beta=Ya;je.Batches=rC;je.Uploads=Hy;je.Responses=lh;je.Realtime=oh;je.Conversations=Py;je.Evals=By;je.Containers=zy;je.Videos=DC;class y6 extends je{constructor(e){super({...e,dangerouslyAllowBrowser:!0})}}function _6(t){return new y6({apiKey:t.apiKey,organization:t.organization,baseURL:t.baseURL})}function b6(t){return`${t}-${Date.now()}-${Math.random().toString(36).substring(7)}`}class v6 extends Kj{constructor(e,n){super({},n),this.kind="text",this.name="openai",this.client=_6(e)}async*chatStream(e){const n=new Map,r=this.mapTextOptionsToOpenAI(e);try{const i=await this.client.responses.create({...r,stream:!0},{headers:e.request?.headers,signal:e.request?.signal});yield*this.processOpenAIStreamChunks(i,n,e,()=>b6(this.name))}catch(i){const a=i;throw console.error(">>> chatStream: Fatal error during response creation <<<"),console.error(">>> Error message:",a.message),console.error(">>> Error stack:",a.stack),console.error(">>> Full error:",a),i}}async structuredOutput(e){const{chatOptions:n,outputSchema:r}=e,i=this.mapTextOptionsToOpenAI(n),a=Sl(r,r.required||[]);try{const l=await this.client.responses.create({...i,stream:!1,text:{format:{type:"json_schema",name:"structured_output",schema:a,strict:!0}}},{headers:n.request?.headers,signal:n.request?.signal}),c=this.extractTextFromResponse(l);let f;try{f=JSON.parse(c)}catch{throw new Error(`Failed to parse structured output as JSON. Content: ${c.slice(0,200)}${c.length>200?"...":""}`)}return{data:gg(f),rawText:c}}catch(l){const c=l;throw console.error(">>> structuredOutput: Error during response creation <<<"),console.error(">>> Error message:",c.message),l}}extractTextFromResponse(e){let n="";for(const r of e.output)if(r.type==="message")for(const i of r.content)i.type==="output_text"&&(n+=i.text);return n}async*processOpenAIStreamChunks(e,n,r,i){let a="",l="";const c=Date.now();let f=0,d=!1,m=!1,p=null,_=r.model;try{for await(const y of e){f++;const v=w=>w.type==="output_text"?(a+=w.text,{type:"content",id:p||i(),model:_||r.model,timestamp:c,delta:w.text,content:a,role:"assistant"}):w.type==="reasoning_text"?(l+=w.text,{type:"thinking",id:p||i(),model:_||r.model,timestamp:c,delta:w.text,content:l}):{type:"error",id:p||i(),model:_||r.model,timestamp:c,error:{message:w.refusal}};if((y.type==="response.created"||y.type==="response.incomplete"||y.type==="response.failed")&&(p=y.response.id,_=y.response.model,d=!1,m=!1,a="",l="",y.response.error&&(yield{type:"error",id:y.response.id,model:y.response.model,timestamp:c,error:y.response.error}),y.response.incomplete_details&&(yield{type:"error",id:y.response.id,model:y.response.model,timestamp:c,error:{message:y.response.incomplete_details.reason??""}})),y.type==="response.output_text.delta"&&y.delta){const w=Array.isArray(y.delta)?y.delta.join(""):typeof y.delta=="string"?y.delta:"";w&&(a+=w,d=!0,yield{type:"content",id:p||i(),model:_||r.model,timestamp:c,delta:w,content:a,role:"assistant"})}if(y.type==="response.reasoning_text.delta"&&y.delta){const w=Array.isArray(y.delta)?y.delta.join(""):typeof y.delta=="string"?y.delta:"";w&&(l+=w,m=!0,yield{type:"thinking",id:p||i(),model:_||r.model,timestamp:c,delta:w,content:l})}if(y.type==="response.reasoning_summary_text.delta"&&y.delta){const w=typeof y.delta=="string"?y.delta:"";w&&(l+=w,m=!0,yield{type:"thinking",id:p||i(),model:_||r.model,timestamp:c,delta:w,content:l})}if(y.type==="response.content_part.added"){const w=y.part;yield v(w)}if(y.type==="response.content_part.done"){const w=y.part;if(w.type==="output_text"&&d||w.type==="reasoning_text"&&m)continue;yield v(w)}if(y.type==="response.output_item.added"){const w=y.item;w.type==="function_call"&&w.id&&(n.has(w.id)||n.set(w.id,{index:y.output_index,name:w.name||""}))}if(y.type==="response.function_call_arguments.done"){const{item_id:w,output_index:C}=y,I=n.get(w)?.name||"";yield{type:"tool_call",id:p||i(),model:_||r.model,timestamp:c,index:C,toolCall:{id:w,type:"function",function:{name:I,arguments:y.arguments}}}}if(y.type==="response.completed"){const w=y.response.output.some(C=>C.type==="function_call");yield{type:"done",id:p||i(),model:_||r.model,timestamp:c,usage:{promptTokens:y.response.usage?.input_tokens||0,completionTokens:y.response.usage?.output_tokens||0,totalTokens:y.response.usage?.total_tokens||0},finishReason:w?"tool_calls":"stop"}}y.type==="error"&&(yield{type:"error",id:p||i(),model:_||r.model,timestamp:c,error:{message:y.message,code:y.code??void 0}})}}catch(y){const v=y;console.log("[OpenAI Adapter] Stream ended with error. Event type summary:",{totalChunks:f,error:v.message}),yield{type:"error",id:i(),model:r.model,timestamp:c,error:{message:v.message||"Unknown error occurred",code:v.code}}}}mapTextOptionsToOpenAI(e){const n=e.modelOptions,r=this.convertMessagesToInput(e.messages);n&&Qj({...n,model:e.model});const i=e.tools?c5(e.tools):void 0;return{model:e.model,temperature:e.temperature,max_output_tokens:e.maxTokens,top_p:e.topP,metadata:e.metadata,instructions:e.systemPrompts?.join(`
`),...n,input:r,tools:i}}convertMessagesToInput(e){const n=[];for(const r of e){if(r.role==="tool"){n.push({type:"function_call_output",call_id:r.toolCallId||"",output:typeof r.content=="string"?r.content:JSON.stringify(r.content)});continue}if(r.role==="assistant"){if(r.toolCalls&&r.toolCalls.length>0)for(const l of r.toolCalls){const c=typeof l.function.arguments=="string"?l.function.arguments:JSON.stringify(l.function.arguments);n.push({type:"function_call",call_id:l.id,name:l.function.name,arguments:c})}if(r.content){const l=this.extractTextContent(r.content);l&&n.push({type:"message",role:"assistant",content:l})}continue}const i=this.normalizeContent(r.content),a=[];for(const l of i)a.push(this.convertContentPartToOpenAI(l));a.length===0&&a.push({type:"input_text",text:""}),n.push({type:"message",role:"user",content:a})}return n}convertContentPartToOpenAI(e){switch(e.type){case"text":return{type:"input_text",text:e.content};case"image":{const n=e.metadata;return e.source.type==="url"?{type:"input_image",image_url:e.source.value,detail:n?.detail||"auto"}:{type:"input_image",image_url:e.source.value,detail:n?.detail||"auto"}}case"audio":return e.source.type==="url"?{type:"input_file",file_url:e.source.value}:{type:"input_file",file_data:e.source.value};default:throw new Error(`Unsupported content part type: ${e.type}`)}}normalizeContent(e){return e===null?[]:typeof e=="string"?[{type:"text",content:e}]:e}extractTextContent(e){return e===null?"":typeof e=="string"?e:e.filter(n=>n.type==="text").map(n=>n.content).join("")}}function w6(t){const e=`${window.location.origin}/openai/v1`;return new v6({apiKey:"not-needed",baseURL:e},t)}function x6(){return hy().ai?.model||"gpt-5.1"}function ce(t,e,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const d=l.prototype,m=Object.keys(d);for(let p=0;p<m.length;p++){const _=m[p];_ in c||(c[_]=d[_].bind(c))}}const i=n?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function l(c){var f;const d=n?.Parent?new a:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const m of d._zod.deferred)m();return d}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class $a extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class PC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const jC={};function Ns(t){return jC}function BC(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Ig(t,e){return typeof e=="bigint"?e.toString():e}function Ky(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Zy(t){return t==null}function Qy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const TS=Symbol("evaluating");function it(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==TS)return r===void 0&&(r=TS,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Ps(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Yi(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function AS(t){return JSON.stringify(t)}function S6(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const UC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Lf(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const E6=Ky(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ul(t){if(Lf(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Lf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $C(t){return Ul(t)?{...t}:Array.isArray(t)?[...t]:t}const k6=new Set(["string","number","symbol"]);function ch(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xi(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function De(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function C6(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function T6(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=Yi(t._zod.def,{get shape(){const l={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(l[c]=n.shape[c])}return Ps(this,"shape",l),l},checks:[]});return Xi(t,a)}function A6(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=Yi(t._zod.def,{get shape(){const l={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete l[c]}return Ps(this,"shape",l),l},checks:[]});return Xi(t,a)}function R6(t,e){if(!Ul(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const a=t._zod.def.shape;for(const l in e)if(Object.getOwnPropertyDescriptor(a,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Yi(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Ps(this,"shape",a),a}});return Xi(t,i)}function O6(t,e){if(!Ul(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Yi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Ps(this,"shape",r),r}});return Xi(t,n)}function I6(t,e){const n=Yi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Ps(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Xi(t,n)}function N6(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Yi(e._zod.def,{get shape(){const c=e._zod.def.shape,f={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(f[d]=t?new t({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)f[d]=t?new t({type:"optional",innerType:c[d]}):c[d];return Ps(this,"shape",f),f},checks:[]});return Xi(e,l)}function D6(t,e,n){const r=Yi(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new t({type:"nonoptional",innerType:i[l]});return Ps(this,"shape",a),a}});return Xi(e,r)}function za(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function qC(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Mc(t){return typeof t=="string"?t:t?.message}function Ds(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Mc(t.inst?._zod.def?.error?.(t))??Mc(e?.error?.(t))??Mc(n.customError?.(t))??Mc(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Jy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function $l(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const FC=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Ig,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},VC=ce("$ZodError",FC),HC=ce("$ZodError",FC,{Parent:Error});function M6(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function L6(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,c=0;for(;c<a.path.length;){const f=a.path[c];c===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(e(a))):l[f]=l[f]||{_errors:[]},l=l[f],c++}}};return r(t),n}const Yy=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new $a;if(l.issues.length){const c=new(i?.Err??t)(l.issues.map(f=>Ds(f,a,Ns())));throw UC(c,i?.callee),c}return l.value},Xy=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(i?.Err??t)(l.issues.map(f=>Ds(f,a,Ns())));throw UC(c,i?.callee),c}return l.value},fh=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new $a;return a.issues.length?{success:!1,error:new(t??VC)(a.issues.map(l=>Ds(l,i,Ns())))}:{success:!0,data:a.value}},z6=fh(HC),hh=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>Ds(l,i,Ns())))}:{success:!0,data:a.value}},P6=hh(HC),j6=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yy(t)(e,n,i)},B6=t=>(e,n,r)=>Yy(t)(e,n,r),U6=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xy(t)(e,n,i)},$6=t=>async(e,n,r)=>Xy(t)(e,n,r),q6=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fh(t)(e,n,i)},F6=t=>(e,n,r)=>fh(t)(e,n,r),V6=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hh(t)(e,n,i)},H6=t=>async(e,n,r)=>hh(t)(e,n,r),G6=/^[cC][^\s-]{8,}$/,K6=/^[0-9a-z]+$/,Z6=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Q6=/^[0-9a-vA-V]{20}$/,J6=/^[A-Za-z0-9]{27}$/,Y6=/^[a-zA-Z0-9_-]{21}$/,X6=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,W6=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,RS=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nB(){return new RegExp(tB,"u")}const rB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,GC=/^[A-Za-z0-9_-]*$/,lB=/^\+[1-9]\d{6,14}$/,KC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",uB=new RegExp(`^${KC}$`);function ZC(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cB(t){return new RegExp(`^${ZC(t)}$`)}function fB(t){const e=ZC({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${KC}T(?:${r})$`)}const hB=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},dB=/^[^A-Z]*$/,pB=/^[^a-z]*$/,$r=ce("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),mB=ce("$ZodCheckMaxLength",(t,e)=>{var n;$r.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Zy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const l=Jy(i);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),gB=ce("$ZodCheckMinLength",(t,e)=>{var n;$r.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Zy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const l=Jy(i);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),yB=ce("$ZodCheckLengthEquals",(t,e)=>{var n;$r.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Zy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,a=i.length;if(a===e.length)return;const l=Jy(i),c=a>e.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),dh=ce("$ZodCheckStringFormat",(t,e)=>{var n,r;$r.init(t,e),t._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),_B=ce("$ZodCheckRegex",(t,e)=>{dh.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),bB=ce("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=dB),dh.init(t,e)}),vB=ce("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=pB),dh.init(t,e)}),wB=ce("$ZodCheckIncludes",(t,e)=>{$r.init(t,e);const n=ch(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),xB=ce("$ZodCheckStartsWith",(t,e)=>{$r.init(t,e);const n=new RegExp(`^${ch(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),SB=ce("$ZodCheckEndsWith",(t,e)=>{$r.init(t,e);const n=new RegExp(`.*${ch(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),EB=ce("$ZodCheckOverwrite",(t,e)=>{$r.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class kB{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...n,i.join(`
`))}}const CB={major:4,minor:3,patch:4},qt=ce("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=CB;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const a of i._zod.onattach)a(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,f)=>{let d=za(l),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(l))continue}else if(d)continue;const _=l.issues.length,y=p._zod.check(l);if(y instanceof Promise&&f?.async===!1)throw new $a;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,l.issues.length!==_&&(d||(d=za(l,_)))});else{if(l.issues.length===_)continue;d||(d=za(l,_))}}return m?m.then(()=>l):l},a=(l,c,f)=>{if(za(l))return l.aborted=!0,l;const d=i(c,r,f);if(d instanceof Promise){if(f.async===!1)throw new $a;return d.then(m=>t._zod.parse(m,f))}return t._zod.parse(d,f)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const d=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(m=>a(m,l,c)):a(d,l,c)}const f=t._zod.parse(l,c);if(f instanceof Promise){if(c.async===!1)throw new $a;return f.then(d=>i(d,r,c))}return i(f,r,c)}}it(t,"~standard",()=>({validate:i=>{try{const a=z6(t,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return P6(t,i).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),Wy=ce("$ZodString",(t,e)=>{qt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??hB(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),_t=ce("$ZodStringFormat",(t,e)=>{dh.init(t,e),Wy.init(t,e)}),TB=ce("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=W6),_t.init(t,e)}),AB=ce("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=RS(r))}else e.pattern??(e.pattern=RS());_t.init(t,e)}),RB=ce("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=eB),_t.init(t,e)}),OB=ce("$ZodURL",(t,e)=>{_t.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),IB=ce("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=nB()),_t.init(t,e)}),NB=ce("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Y6),_t.init(t,e)}),DB=ce("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=G6),_t.init(t,e)}),MB=ce("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=K6),_t.init(t,e)}),LB=ce("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Z6),_t.init(t,e)}),zB=ce("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Q6),_t.init(t,e)}),PB=ce("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=J6),_t.init(t,e)}),jB=ce("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=fB(e)),_t.init(t,e)}),BB=ce("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=uB),_t.init(t,e)}),UB=ce("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=cB(e)),_t.init(t,e)}),$B=ce("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=X6),_t.init(t,e)}),qB=ce("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=rB),_t.init(t,e),t._zod.bag.format="ipv4"}),FB=ce("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=iB),_t.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),VB=ce("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=sB),_t.init(t,e)}),HB=ce("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=aB),_t.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function QC(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const GB=ce("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=oB),_t.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{QC(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function KB(t){if(!GC.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return QC(n)}const ZB=ce("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=GC),_t.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{KB(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),QB=ce("$ZodE164",(t,e)=>{e.pattern??(e.pattern=lB),_t.init(t,e)});function JB(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const YB=ce("$ZodJWT",(t,e)=>{_t.init(t,e),t._zod.check=n=>{JB(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),XB=ce("$ZodUnknown",(t,e)=>{qt.init(t,e),t._zod.parse=n=>n}),WB=ce("$ZodNever",(t,e)=>{qt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function OS(t,e,n){t.issues.length&&e.issues.push(...qC(n,t.issues)),e.value[n]=t.value}const eU=ce("$ZodArray",(t,e)=>{qt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const a=[];for(let l=0;l<i.length;l++){const c=i[l],f=e.element._zod.run({value:c,issues:[]},r);f instanceof Promise?a.push(f.then(d=>OS(d,n,l))):OS(f,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function zf(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...qC(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function JC(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=C6(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function YC(t,e,n,r,i,a){const l=[],c=i.keySet,f=i.catchall._zod,d=f.def.type,m=f.optout==="optional";for(const p in e){if(c.has(p))continue;if(d==="never"){l.push(p);continue}const _=f.run({value:e[p],issues:[]},r);_ instanceof Promise?t.push(_.then(y=>zf(y,n,p,e,m))):zf(_,n,p,e,m)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const tU=ce("$ZodObject",(t,e)=>{if(qt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...c};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Ky(()=>JC(e));it(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const m=c[d]._zod;if(m.values){f[d]??(f[d]=new Set);for(const p of m.values)f[d].add(p)}}return f});const i=Lf,a=e.catchall;let l;t._zod.parse=(c,f)=>{l??(l=r.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;c.value={};const m=[],p=l.shape;for(const _ of l.keys){const y=p[_],v=y._zod.optout==="optional",w=y._zod.run({value:d[_],issues:[]},f);w instanceof Promise?m.push(w.then(C=>zf(C,c,_,d,v))):zf(w,c,_,d,v)}return a?YC(m,d,c,f,r.value,t):m.length?Promise.all(m).then(()=>c):c}}),nU=ce("$ZodObjectJIT",(t,e)=>{tU.init(t,e);const n=t._zod.parse,r=Ky(()=>JC(e)),i=_=>{const y=new kB(["shape","payload","ctx"]),v=r.value,w=T=>{const L=AS(T);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};y.write("const input = payload.value;");const C=Object.create(null);let S=0;for(const T of v.keys)C[T]=`key_${S++}`;y.write("const newResult = {};");for(const T of v.keys){const L=C[T],z=AS(T),M=_[T]?._zod?.optout==="optional";y.write(`const ${L} = ${w(T)};`),M?y.write(`
        if (${L}.issues.length) {
          if (${z} in input) {
            payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${z}, ...iss.path] : [${z}]
            })));
          }
        }
        
        if (${L}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${L}.value;
        }
        
      `):y.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        if (${L}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${L}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const I=y.compile();return(T,L)=>I(_,T,L)};let a;const l=Lf,c=!jC.jitless,d=c&&E6.value,m=e.catchall;let p;t._zod.parse=(_,y)=>{p??(p=r.value);const v=_.value;return l(v)?c&&d&&y?.async===!1&&y.jitless!==!0?(a||(a=i(e.shape)),_=a(_,y),m?YC([],v,_,y,p,t):_):n(_,y):(_.issues.push({expected:"object",code:"invalid_type",input:v,inst:t}),_)}});function IS(t,e,n,r){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const i=t.filter(a=>!za(a));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>Ds(l,r,Ns())))}),e)}const rU=ce("$ZodUnion",(t,e)=>{qt.init(t,e),it(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),it(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),it(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),it(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>Qy(a.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,a)=>{if(n)return r(i,a);let l=!1;const c=[];for(const f of e.options){const d=f._zod.run({value:i.value,issues:[]},a);if(d instanceof Promise)c.push(d),l=!0;else{if(d.issues.length===0)return d;c.push(d)}}return l?Promise.all(c).then(f=>IS(f,i,t,a)):IS(c,i,t,a)}}),iU=ce("$ZodIntersection",(t,e)=>{qt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,a=e.left._zod.run({value:i,issues:[]},r),l=e.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([f,d])=>NS(n,f,d)):NS(n,a,l)}});function Ng(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ul(t)&&Ul(e)){const n=Object.keys(e),r=Object.keys(t).filter(a=>n.indexOf(a)!==-1),i={...t,...e};for(const a of r){const l=Ng(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};i[a]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],a=e[r],l=Ng(i,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function NS(t,e,n){const r=new Map;let i;for(const c of e.issues)if(c.code==="unrecognized_keys"){i??(i=c);for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(c);const a=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(a.length&&i&&t.issues.push({...i,keys:a}),za(t))return t;const l=Ng(e.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return t.value=l.data,t}const sU=ce("$ZodEnum",(t,e)=>{qt.init(t,e);const n=BC(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>k6.has(typeof i)).map(i=>typeof i=="string"?ch(i):i.toString()).join("|")})$`),t._zod.parse=(i,a)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),aU=ce("$ZodTransform",(t,e)=>{qt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new PC(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new $a;return n.value=i,n}});function DS(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const XC=ce("$ZodOptional",(t,e)=>{qt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",it(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),it(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Qy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>DS(a,n.value)):DS(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),oU=ce("$ZodExactOptional",(t,e)=>{XC.init(t,e),it(t._zod,"values",()=>e.innerType._zod.values),it(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),lU=ce("$ZodNullable",(t,e)=>{qt.init(t,e),it(t._zod,"optin",()=>e.innerType._zod.optin),it(t._zod,"optout",()=>e.innerType._zod.optout),it(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Qy(n.source)}|null)$`):void 0}),it(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),uU=ce("$ZodDefault",(t,e)=>{qt.init(t,e),t._zod.optin="optional",it(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>MS(a,e)):MS(i,e)}});function MS(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const cU=ce("$ZodPrefault",(t,e)=>{qt.init(t,e),t._zod.optin="optional",it(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),fU=ce("$ZodNonOptional",(t,e)=>{qt.init(t,e),it(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>LS(a,t)):LS(i,t)}});function LS(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const hU=ce("$ZodCatch",(t,e)=>{qt.init(t,e),it(t._zod,"optin",()=>e.innerType._zod.optin),it(t._zod,"optout",()=>e.innerType._zod.optout),it(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Ds(l,r,Ns()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>Ds(a,r,Ns()))},input:n.value}),n.issues=[]),n)}}),dU=ce("$ZodPipe",(t,e)=>{qt.init(t,e),it(t._zod,"values",()=>e.in._zod.values),it(t._zod,"optin",()=>e.in._zod.optin),it(t._zod,"optout",()=>e.out._zod.optout),it(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(n,r);return a instanceof Promise?a.then(l=>Lc(l,e.in,r)):Lc(a,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(a=>Lc(a,e.out,r)):Lc(i,e.out,r)}});function Lc(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const pU=ce("$ZodReadonly",(t,e)=>{qt.init(t,e),it(t._zod,"propValues",()=>e.innerType._zod.propValues),it(t._zod,"values",()=>e.innerType._zod.values),it(t._zod,"optin",()=>e.innerType?._zod?.optin),it(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(zS):zS(i)}});function zS(t){return t.value=Object.freeze(t.value),t}const mU=ce("$ZodCustom",(t,e)=>{$r.init(t,e),qt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(a=>PS(a,n,r,t));PS(i,n,r,t)}});function PS(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push($l(i))}}var jS;class gU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function yU(){return new gU}(jS=globalThis).__zod_globalRegistry??(jS.__zod_globalRegistry=yU());const _l=globalThis.__zod_globalRegistry;function _U(t,e){return new t({type:"string",...De(e)})}function bU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...De(e)})}function BS(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...De(e)})}function vU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...De(e)})}function wU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(e)})}function xU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(e)})}function SU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(e)})}function EU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...De(e)})}function kU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...De(e)})}function CU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(e)})}function TU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...De(e)})}function AU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(e)})}function RU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...De(e)})}function OU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...De(e)})}function IU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(e)})}function NU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(e)})}function DU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(e)})}function MU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(e)})}function LU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(e)})}function zU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...De(e)})}function PU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...De(e)})}function jU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...De(e)})}function BU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...De(e)})}function UU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(e)})}function $U(t,e){return new t({type:"string",format:"date",check:"string_format",...De(e)})}function qU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...De(e)})}function FU(t,e){return new t({type:"string",format:"duration",check:"string_format",...De(e)})}function VU(t){return new t({type:"unknown"})}function HU(t,e){return new t({type:"never",...De(e)})}function WC(t,e){return new mB({check:"max_length",...De(e),maximum:t})}function Pf(t,e){return new gB({check:"min_length",...De(e),minimum:t})}function eT(t,e){return new yB({check:"length_equals",...De(e),length:t})}function GU(t,e){return new _B({check:"string_format",format:"regex",...De(e),pattern:t})}function KU(t){return new bB({check:"string_format",format:"lowercase",...De(t)})}function ZU(t){return new vB({check:"string_format",format:"uppercase",...De(t)})}function QU(t,e){return new wB({check:"string_format",format:"includes",...De(e),includes:t})}function JU(t,e){return new xB({check:"string_format",format:"starts_with",...De(e),prefix:t})}function YU(t,e){return new SB({check:"string_format",format:"ends_with",...De(e),suffix:t})}function Wa(t){return new EB({check:"overwrite",tx:t})}function XU(t){return Wa(e=>e.normalize(t))}function WU(){return Wa(t=>t.trim())}function e8(){return Wa(t=>t.toLowerCase())}function t8(){return Wa(t=>t.toUpperCase())}function n8(){return Wa(t=>S6(t))}function r8(t,e,n){return new t({type:"array",element:e,...De(n)})}function i8(t,e,n){return new t({type:"custom",check:"custom",fn:e,...De(n)})}function s8(t){const e=a8(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push($l(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push($l(i))}},t(n.value,n)));return e}function a8(t,e){const n=new $r({check:"custom",...De(e)});return n._zod.check=t,n}function tT(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??_l,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function ln(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const c=t._zod.toJSONSchema?.();if(c)l.schema=c;else{const m={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,m);else{const _=l.schema,y=e.processors[i.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);y(t,e,_,m)}const p=t._zod.parent;p&&(l.ref||(l.ref=p),ln(p,e,m),e.seen.get(p).isParent=!0)}const f=e.metadataRegistry.get(t);return f&&Object.assign(l.schema,f),e.io==="input"&&vn(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function nT(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of t.seen.entries()){const c=t.metadataRegistry.get(l[0])?.id;if(c){const f=r.get(c);if(f&&f!==l[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,l[0])}}const i=l=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const p=t.external.registry.get(l[0])?.id,_=t.external.uri??(v=>v);if(p)return{ref:_(p)};const y=l[1].defId??l[1].schema.id??`schema${t.counter++}`;return l[1].defId=y,{defId:y,ref:`${_("__shared")}#/${c}/${y}`}}if(l[1]===n)return{ref:"#"};const d=`#/${c}/`,m=l[1].schema.id??`__schema${t.counter++}`;return{defId:m,ref:d+m}},a=l=>{if(l[1].schema.$ref)return;const c=l[1],{ref:f,defId:d}=i(l);c.def={...c.schema},d&&(c.defId=d);const m=c.schema;for(const p in m)delete m[p];m.$ref=f};if(t.cycles==="throw")for(const l of t.seen.entries()){const c=l[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of t.seen.entries()){const c=l[1];if(e===l[0]){a(l);continue}if(t.external){const d=t.external.registry.get(l[0])?.id;if(e!==l[0]&&d){a(l);continue}}if(t.metadataRegistry.get(l[0])?.id){a(l);continue}if(c.cycle){a(l);continue}if(c.count>1&&t.reused==="ref"){a(l);continue}}}function rT(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{const c=t.seen.get(l);if(c.ref===null)return;const f=c.def??c.schema,d={...f},m=c.ref;if(c.ref=null,m){r(m);const _=t.seen.get(m),y=_.schema;if(y.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(y)):Object.assign(f,y),Object.assign(f,d),l._zod.parent===m)for(const w in f)w==="$ref"||w==="allOf"||w in d||delete f[w];if(y.$ref)for(const w in f)w==="$ref"||w==="allOf"||w in _.def&&JSON.stringify(f[w])===JSON.stringify(_.def[w])&&delete f[w]}const p=l._zod.parent;if(p&&p!==m){r(p);const _=t.seen.get(p);if(_?.schema.$ref&&(f.$ref=_.schema.$ref,_.def))for(const y in f)y==="$ref"||y==="allOf"||y in _.def&&JSON.stringify(f[y])===JSON.stringify(_.def[y])&&delete f[y]}t.override({zodSchema:l,jsonSchema:f,path:c.path??[]})};for(const l of[...t.seen.entries()].reverse())r(l[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const l=t.external.registry.get(e)?.id;if(!l)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(l)}Object.assign(i,n.def??n.schema);const a=t.external?.defs??{};for(const l of t.seen.entries()){const c=l[1];c.def&&c.defId&&(a[c.defId]=c.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const l=JSON.parse(JSON.stringify(i));return Object.defineProperty(l,"~standard",{value:{...e["~standard"],jsonSchema:{input:jf(e,"input",t.processors),output:jf(e,"output",t.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function vn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return vn(r.element,n);if(r.type==="set")return vn(r.valueType,n);if(r.type==="lazy")return vn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return vn(r.innerType,n);if(r.type==="intersection")return vn(r.left,n)||vn(r.right,n);if(r.type==="record"||r.type==="map")return vn(r.keyType,n)||vn(r.valueType,n);if(r.type==="pipe")return vn(r.in,n)||vn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(vn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(vn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(vn(i,n))return!0;return!!(r.rest&&vn(r.rest,n))}return!1}const o8=(t,e={})=>n=>{const r=tT({...n,processors:e});return ln(t,r),nT(r,t),rT(r,t)},jf=(t,e,n={})=>r=>{const{libraryOptions:i,target:a}=r??{},l=tT({...i??{},target:a,io:e,processors:n});return ln(t,l),nT(l,t),rT(l,t)},l8={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u8=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:a,maximum:l,format:c,patterns:f,contentEncoding:d}=t._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof l=="number"&&(i.maxLength=l),c&&(i.format=l8[c]??c,i.format===""&&delete i.format,c==="time"&&delete i.format),d&&(i.contentEncoding=d),f&&f.size>0){const m=[...f];m.length===1?i.pattern=m[0].source:m.length>1&&(i.allOf=[...m.map(p=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},c8=(t,e,n,r)=>{n.not={}},f8=(t,e,n,r)=>{},h8=(t,e,n,r)=>{const i=t._zod.def,a=BC(i.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},d8=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},p8=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},m8=(t,e,n,r)=>{const i=n,a=t._zod.def,{minimum:l,maximum:c}=t._zod.bag;typeof l=="number"&&(i.minItems=l),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=ln(a.element,e,{...r,path:[...r.path,"items"]})},g8=(t,e,n,r)=>{const i=n,a=t._zod.def;i.type="object",i.properties={};const l=a.shape;for(const d in l)i.properties[d]=ln(l[d],e,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(l)),f=new Set([...c].filter(d=>{const m=a.shape[d]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));f.size>0&&(i.required=Array.from(f)),a.catchall?._zod.def.type==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=ln(a.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},y8=(t,e,n,r)=>{const i=t._zod.def,a=i.inclusive===!1,l=i.options.map((c,f)=>ln(c,e,{...r,path:[...r.path,a?"oneOf":"anyOf",f]}));a?n.oneOf=l:n.anyOf=l},_8=(t,e,n,r)=>{const i=t._zod.def,a=ln(i.left,e,{...r,path:[...r.path,"allOf",0]}),l=ln(i.right,e,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,f=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];n.allOf=f},b8=(t,e,n,r)=>{const i=t._zod.def,a=ln(i.innerType,e,r),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},v8=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType},w8=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},x8=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},S8=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},E8=(t,e,n,r)=>{const i=t._zod.def,a=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ln(a,e,r);const l=e.seen.get(t);l.ref=a},k8=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,n.readOnly=!0},iT=(t,e,n,r)=>{const i=t._zod.def;ln(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType},C8=ce("ZodISODateTime",(t,e)=>{jB.init(t,e),vt.init(t,e)});function T8(t){return UU(C8,t)}const A8=ce("ZodISODate",(t,e)=>{BB.init(t,e),vt.init(t,e)});function R8(t){return $U(A8,t)}const O8=ce("ZodISOTime",(t,e)=>{UB.init(t,e),vt.init(t,e)});function I8(t){return qU(O8,t)}const N8=ce("ZodISODuration",(t,e)=>{$B.init(t,e),vt.init(t,e)});function D8(t){return FU(N8,t)}const M8=(t,e)=>{VC.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>L6(t,n)},flatten:{value:n=>M6(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Ig,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Ig,2)}},isEmpty:{get(){return t.issues.length===0}}})},br=ce("ZodError",M8,{Parent:Error}),L8=Yy(br),z8=Xy(br),P8=fh(br),j8=hh(br),B8=j6(br),U8=B6(br),$8=U6(br),q8=$6(br),F8=q6(br),V8=F6(br),H8=V6(br),G8=H6(br),Ft=ce("ZodType",(t,e)=>(qt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:jf(t,"input"),output:jf(t,"output")}}),t.toJSONSchema=o8(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Yi(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Xi(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>L8(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>P8(t,n,r),t.parseAsync=async(n,r)=>z8(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>j8(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>B8(t,n,r),t.decode=(n,r)=>U8(t,n,r),t.encodeAsync=async(n,r)=>$8(t,n,r),t.decodeAsync=async(n,r)=>q8(t,n,r),t.safeEncode=(n,r)=>F8(t,n,r),t.safeDecode=(n,r)=>V8(t,n,r),t.safeEncodeAsync=async(n,r)=>H8(t,n,r),t.safeDecodeAsync=async(n,r)=>G8(t,n,r),t.refine=(n,r)=>t.check(P$(n,r)),t.superRefine=n=>t.check(j$(n)),t.overwrite=n=>t.check(Wa(n)),t.optional=()=>qS(t),t.exactOptional=()=>E$(t),t.nullable=()=>FS(t),t.nullish=()=>qS(FS(t)),t.nonoptional=n=>O$(t,n),t.array=()=>m$(t),t.or=n=>_$([t,n]),t.and=n=>v$(t,n),t.transform=n=>VS(t,x$(n)),t.default=n=>T$(t,n),t.prefault=n=>R$(t,n),t.catch=n=>N$(t,n),t.pipe=n=>VS(t,n),t.readonly=()=>L$(t),t.describe=n=>{const r=t.clone();return _l.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return _l.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return _l.get(t);const r=t.clone();return _l.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),sT=ce("_ZodString",(t,e)=>{Wy.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,i,a)=>u8(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(GU(...r)),t.includes=(...r)=>t.check(QU(...r)),t.startsWith=(...r)=>t.check(JU(...r)),t.endsWith=(...r)=>t.check(YU(...r)),t.min=(...r)=>t.check(Pf(...r)),t.max=(...r)=>t.check(WC(...r)),t.length=(...r)=>t.check(eT(...r)),t.nonempty=(...r)=>t.check(Pf(1,...r)),t.lowercase=r=>t.check(KU(r)),t.uppercase=r=>t.check(ZU(r)),t.trim=()=>t.check(WU()),t.normalize=(...r)=>t.check(XU(...r)),t.toLowerCase=()=>t.check(e8()),t.toUpperCase=()=>t.check(t8()),t.slugify=()=>t.check(n8())}),K8=ce("ZodString",(t,e)=>{Wy.init(t,e),sT.init(t,e),t.email=n=>t.check(bU(Z8,n)),t.url=n=>t.check(EU(Q8,n)),t.jwt=n=>t.check(BU(c$,n)),t.emoji=n=>t.check(kU(J8,n)),t.guid=n=>t.check(BS(US,n)),t.uuid=n=>t.check(vU(zc,n)),t.uuidv4=n=>t.check(wU(zc,n)),t.uuidv6=n=>t.check(xU(zc,n)),t.uuidv7=n=>t.check(SU(zc,n)),t.nanoid=n=>t.check(CU(Y8,n)),t.guid=n=>t.check(BS(US,n)),t.cuid=n=>t.check(TU(X8,n)),t.cuid2=n=>t.check(AU(W8,n)),t.ulid=n=>t.check(RU(e$,n)),t.base64=n=>t.check(zU(o$,n)),t.base64url=n=>t.check(PU(l$,n)),t.xid=n=>t.check(OU(t$,n)),t.ksuid=n=>t.check(IU(n$,n)),t.ipv4=n=>t.check(NU(r$,n)),t.ipv6=n=>t.check(DU(i$,n)),t.cidrv4=n=>t.check(MU(s$,n)),t.cidrv6=n=>t.check(LU(a$,n)),t.e164=n=>t.check(jU(u$,n)),t.datetime=n=>t.check(T8(n)),t.date=n=>t.check(R8(n)),t.time=n=>t.check(I8(n)),t.duration=n=>t.check(D8(n))});function Ki(t){return _U(K8,t)}const vt=ce("ZodStringFormat",(t,e)=>{_t.init(t,e),sT.init(t,e)}),Z8=ce("ZodEmail",(t,e)=>{RB.init(t,e),vt.init(t,e)}),US=ce("ZodGUID",(t,e)=>{TB.init(t,e),vt.init(t,e)}),zc=ce("ZodUUID",(t,e)=>{AB.init(t,e),vt.init(t,e)}),Q8=ce("ZodURL",(t,e)=>{OB.init(t,e),vt.init(t,e)}),J8=ce("ZodEmoji",(t,e)=>{IB.init(t,e),vt.init(t,e)}),Y8=ce("ZodNanoID",(t,e)=>{NB.init(t,e),vt.init(t,e)}),X8=ce("ZodCUID",(t,e)=>{DB.init(t,e),vt.init(t,e)}),W8=ce("ZodCUID2",(t,e)=>{MB.init(t,e),vt.init(t,e)}),e$=ce("ZodULID",(t,e)=>{LB.init(t,e),vt.init(t,e)}),t$=ce("ZodXID",(t,e)=>{zB.init(t,e),vt.init(t,e)}),n$=ce("ZodKSUID",(t,e)=>{PB.init(t,e),vt.init(t,e)}),r$=ce("ZodIPv4",(t,e)=>{qB.init(t,e),vt.init(t,e)}),i$=ce("ZodIPv6",(t,e)=>{FB.init(t,e),vt.init(t,e)}),s$=ce("ZodCIDRv4",(t,e)=>{VB.init(t,e),vt.init(t,e)}),a$=ce("ZodCIDRv6",(t,e)=>{HB.init(t,e),vt.init(t,e)}),o$=ce("ZodBase64",(t,e)=>{GB.init(t,e),vt.init(t,e)}),l$=ce("ZodBase64URL",(t,e)=>{ZB.init(t,e),vt.init(t,e)}),u$=ce("ZodE164",(t,e)=>{QB.init(t,e),vt.init(t,e)}),c$=ce("ZodJWT",(t,e)=>{YB.init(t,e),vt.init(t,e)}),f$=ce("ZodUnknown",(t,e)=>{XB.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>f8()});function $S(){return VU(f$)}const h$=ce("ZodNever",(t,e)=>{WB.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>c8(t,n,r)});function d$(t){return HU(h$,t)}const p$=ce("ZodArray",(t,e)=>{eU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>m8(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(Pf(n,r)),t.nonempty=n=>t.check(Pf(1,n)),t.max=(n,r)=>t.check(WC(n,r)),t.length=(n,r)=>t.check(eT(n,r)),t.unwrap=()=>t.element});function m$(t,e){return r8(p$,t,e)}const g$=ce("ZodObject",(t,e)=>{nU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>g8(t,n,r,i),it(t,"shape",()=>e.shape),t.keyof=()=>e0(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:$S()}),t.loose=()=>t.clone({...t._zod.def,catchall:$S()}),t.strict=()=>t.clone({...t._zod.def,catchall:d$()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>R6(t,n),t.safeExtend=n=>O6(t,n),t.merge=n=>I6(t,n),t.pick=n=>T6(t,n),t.omit=n=>A6(t,n),t.partial=(...n)=>N6(aT,t,n[0]),t.required=(...n)=>D6(oT,t,n[0])});function Wi(t,e){const n={type:"object",shape:t??{},...De(e)};return new g$(n)}const y$=ce("ZodUnion",(t,e)=>{rU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>y8(t,n,r,i),t.options=e.options});function _$(t,e){return new y$({type:"union",options:t,...De(e)})}const b$=ce("ZodIntersection",(t,e)=>{iU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>_8(t,n,r,i)});function v$(t,e){return new b$({type:"intersection",left:t,right:e})}const Dg=ce("ZodEnum",(t,e)=>{sU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,i,a)=>h8(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const a={};for(const l of r)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Dg({...e,checks:[],...De(i),entries:a})},t.exclude=(r,i)=>{const a={...e.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Dg({...e,checks:[],...De(i),entries:a})}});function e0(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Dg({type:"enum",entries:n,...De(e)})}const w$=ce("ZodTransform",(t,e)=>{aU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>p8(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new PC(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push($l(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push($l(l))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function x$(t){return new w$({type:"transform",transform:t})}const aT=ce("ZodOptional",(t,e)=>{XC.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>iT(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function qS(t){return new aT({type:"optional",innerType:t})}const S$=ce("ZodExactOptional",(t,e)=>{oU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>iT(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function E$(t){return new S$({type:"optional",innerType:t})}const k$=ce("ZodNullable",(t,e)=>{lU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>b8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function FS(t){return new k$({type:"nullable",innerType:t})}const C$=ce("ZodDefault",(t,e)=>{uU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>w8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function T$(t,e){return new C$({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():$C(e)}})}const A$=ce("ZodPrefault",(t,e)=>{cU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>x8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function R$(t,e){return new A$({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():$C(e)}})}const oT=ce("ZodNonOptional",(t,e)=>{fU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>v8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function O$(t,e){return new oT({type:"nonoptional",innerType:t,...De(e)})}const I$=ce("ZodCatch",(t,e)=>{hU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>S8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function N$(t,e){return new I$({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const D$=ce("ZodPipe",(t,e)=>{dU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>E8(t,n,r,i),t.in=e.in,t.out=e.out});function VS(t,e){return new D$({type:"pipe",in:t,out:e})}const M$=ce("ZodReadonly",(t,e)=>{pU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>k8(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function L$(t){return new M$({type:"readonly",innerType:t})}const z$=ce("ZodCustom",(t,e)=>{mU.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,i)=>d8(t,n)});function P$(t,e={}){return i8(z$,t,e)}function j$(t){return s8(t)}const HS=10*1024;function Xo(){return Math.random().toString(36).substring(2,9)}function B$(t){try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch{return t}}function U$(t){return t?t.length<=HS?t:t.slice(0,HS)+`
...[TRUNCATED]`:"(empty)"}function $$(t){const e=t.body.type==="json"||t.body.type==="raw"?t.body.content:t.body.type==="form-urlencoded"?t.body.data:t.body.type==="form-data"?t.body.data.map(n=>({key:n.key,type:n.type,value:n.type==="file"?n.file?.name:n.value})):null;return{method:t.method,url:t.url,headers:t.headers.filter(n=>n.enabled!==!1),queryParams:t.query.filter(n=>n.enabled!==!1),body:{type:t.body.type,content:e}}}function q$(t,e){const n=t.httpResponse;return n?{status:n.status,statusCode:n.statusCode,headers:n.headers,body:U$(e),duration:n.duration}:null}const lT=Wi({}),F$=Wi({method:e0(["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"]).describe("The HTTP method")}),V$=Wi({url:Ki().describe("The full URL for the request")}),H$=Wi({headers:Ki().describe('JSON array of header objects with "key", "value", and optional "enabled" (default true) properties. Example: [{"key": "Content-Type", "value": "application/json"}]')}),G$=Wi({key:Ki().describe("The header name"),value:Ki().describe("The header value")}),K$=Wi({params:Ki().describe('JSON array of parameter objects with "key", "value", and optional "enabled" (default true) properties. Example: [{"key": "page", "value": "1"}]')}),Z$=Wi({key:Ki().describe("The parameter name"),value:Ki().describe("The parameter value")}),Q$=Wi({type:e0(["none","json","form-urlencoded","raw"]).describe("The body type"),content:Ki().optional().describe("The body content. For JSON, provide valid JSON string. For form-urlencoded, provide JSON array like headers/params.")}),J$=hi({name:"get_current_request",description:"Get the current HTTP request configuration including method, URL, headers, query params, and body",inputSchema:lT}),Y$=hi({name:"get_response",description:"Get the response from the last executed request, including status, headers, and body",inputSchema:lT}),X$=hi({name:"set_method",description:"Set the HTTP method for the request",inputSchema:F$}),W$=hi({name:"set_url",description:"Set the URL for the request",inputSchema:V$}),e9=hi({name:"set_headers",description:"Set the headers for the request. This replaces all existing headers.",inputSchema:H$}),t9=hi({name:"add_header",description:"Add a single header to the request",inputSchema:G$}),n9=hi({name:"set_query_params",description:"Set the query parameters for the request. This replaces all existing query params.",inputSchema:K$}),r9=hi({name:"add_query_param",description:"Add a single query parameter to the request",inputSchema:Z$}),i9=hi({name:"set_body",description:"Set the request body",inputSchema:Q$});function s9(t){const{request:e,setters:n,responseBodyText:r}=t,i=J$.client(async()=>$$(e)),a=Y$.client(async()=>q$(e,r)||{error:"No response available. Execute the request first."}),l=X$.client(async y=>{const v=y;return n.setMethod(v.method),{success:!0,method:v.method}}),c=W$.client(async y=>{const v=y;return n.setUrl(v.url),{success:!0,url:v.url}}),f=e9.client(async y=>{const w=JSON.parse(y.headers).map(C=>({id:Xo(),key:C.key,value:C.value,enabled:C.enabled!==!1}));return n.setHeaders(w),{success:!0,headerCount:w.length}}),d=t9.client(async y=>{const v=y,w=[...e.headers,{id:Xo(),key:v.key,value:v.value,enabled:!0}];return n.setHeaders(w),{success:!0,added:{key:v.key,value:v.value}}}),m=n9.client(async y=>{const w=JSON.parse(y.params).map(C=>({id:Xo(),key:C.key,value:C.value,enabled:C.enabled!==!1}));return n.setQuery(w),{success:!0,paramCount:w.length}}),p=r9.client(async y=>{const v=y,w=[...e.query,{id:Xo(),key:v.key,value:v.value,enabled:!0}];return n.setQuery(w),{success:!0,added:{key:v.key,value:v.value}}}),_=i9.client(async y=>{const v=y;let w;switch(v.type){case"none":w={type:"none"};break;case"json":w={type:"json",content:B$(v.content||"")};break;case"raw":w={type:"raw",content:v.content||""};break;case"form-urlencoded":{w={type:"form-urlencoded",data:v.content?JSON.parse(v.content).map(S=>({id:Xo(),key:S.key,value:S.value,enabled:S.enabled!==!1})):[]};break}default:w={type:"none"}}return n.setBody(w),{success:!0,bodyType:v.type}});return Vj(i,a,l,c,f,d,m,p,_)}function a9(){return`You are an AI assistant helping users build and test HTTP requests. You have access to tools to view and modify the current request configuration.

Your capabilities:
- View the current request (method, URL, headers, query params, body)
- Modify any part of the request
- View and analyze responses from executed requests

Guidelines:
- When the user asks to create or modify a request, use the appropriate tools
- When analyzing responses, look for errors, unexpected data, or issues
- Be concise but helpful in your explanations
- If the user's request is ambiguous, ask for clarification
- When setting headers or params, preserve existing ones unless the user asks to replace them
- Format your responses using Markdown: use **bold**, \`code\`, code blocks with language tags, lists, and headers when appropriate

The user is working with an HTTP client similar to Postman or Insomnia.`}const GS={name:"Request Assistant",placeholder:"Ask about your request..."};const o9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,l9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,u9={};function KS(t,e){return(u9.jsx?l9:o9).test(t)}var Ca={},dm,ZS;function c9(){if(ZS)return dm;ZS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",m="*",p="",_="comment",y="declaration";function v(C,S){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];S=S||{};var I=1,T=1;function L(he){var re=he.match(e);re&&(I+=re.length);var F=he.lastIndexOf(f);T=~F?he.length-F:T+he.length}function z(){var he={line:I,column:T};return function(re){return re.position=new E(he),q(),re}}function E(he){this.start=he,this.end={line:I,column:T},this.source=S.source}E.prototype.content=C;function M(he){var re=new Error(S.source+":"+I+":"+T+": "+he);if(re.reason=he,re.filename=S.source,re.line=I,re.column=T,re.source=C,!S.silent)throw re}function $(he){var re=he.exec(C);if(re){var F=re[0];return L(F),C=C.slice(F.length),re}}function q(){$(n)}function P(he){var re;for(he=he||[];re=K();)re!==!1&&he.push(re);return he}function K(){var he=z();if(!(d!=C.charAt(0)||m!=C.charAt(1))){for(var re=2;p!=C.charAt(re)&&(m!=C.charAt(re)||d!=C.charAt(re+1));)++re;if(re+=2,p===C.charAt(re-1))return M("End of comment missing");var F=C.slice(2,re-2);return T+=2,L(F),C=C.slice(re),T+=2,he({type:_,comment:F})}}function ie(){var he=z(),re=$(r);if(re){if(K(),!$(i))return M("property missing ':'");var F=$(a),te=he({type:y,property:w(re[0].replace(t,p)),value:F?w(F[0].replace(t,p)):p});return $(l),te}}function ge(){var he=[];P(he);for(var re;re=ie();)re!==!1&&(he.push(re),P(he));return he}return q(),ge()}function w(C){return C?C.replace(c,p):p}return dm=v,dm}var QS;function f9(){if(QS)return Ca;QS=1;var t=Ca&&Ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.default=n;const e=t(c9());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const l=(0,e.default)(r),c=typeof i=="function";return l.forEach(f=>{if(f.type!=="declaration")return;const{property:d,value:m}=f;c?i(d,m,f):m&&(a=a||{},a[d]=m)}),a}return Ca}var Wo={},JS;function h9(){if(JS)return Wo;JS=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},l=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},f=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(i,c):d=d.replace(r,c),d.replace(e,l))};return Wo.camelCase=f,Wo}var el,YS;function d9(){if(YS)return el;YS=1;var t=el&&el.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(f9()),n=h9();function r(i,a){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(c,f){c&&f&&(l[(0,n.camelCase)(c,a)]=f)}),l}return r.default=r,el=r,el}var p9=d9();const m9=N1(p9),uT=cT("end"),t0=cT("start");function cT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function g9(t){const e=t0(t),n=uT(t);if(e&&n)return{start:e,end:n}}function Tl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?XS(t.position):"start"in t||"end"in t?XS(t):"line"in t||"column"in t?Mg(t):""}function Mg(t){return WS(t&&t.line)+":"+WS(t&&t.column)}function XS(t){return Mg(t&&t.start)+"-"+Mg(t&&t.end)}function WS(t){return t&&typeof t=="number"?t:1}class yn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(l=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?a.ruleId=r:(a.source=r.slice(0,f),a.ruleId=r.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){const f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=Tl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}yn.prototype.file="";yn.prototype.name="";yn.prototype.reason="";yn.prototype.message="";yn.prototype.stack="";yn.prototype.column=void 0;yn.prototype.line=void 0;yn.prototype.ancestors=void 0;yn.prototype.cause=void 0;yn.prototype.fatal=void 0;yn.prototype.place=void 0;yn.prototype.ruleId=void 0;yn.prototype.source=void 0;const n0={}.hasOwnProperty,y9=new Map,_9=/[A-Z]/g,b9=new Set(["table","tbody","thead","tfoot","tr"]),v9=new Set(["td","th"]),fT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function w9(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=R9(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=A9(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Jl:LE,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=hT(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function hT(t,e,n){if(e.type==="element")return x9(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return S9(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return k9(t,e,n);if(e.type==="mdxjsEsm")return E9(t,e);if(e.type==="root")return C9(t,e,n);if(e.type==="text")return T9(t,e)}function x9(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Jl,t.schema=i),t.ancestors.push(e);const a=pT(t,e.tagName,!1),l=O9(t,e);let c=i0(t,e);return b9.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Zf(f):!0})),dT(t,l,a,e),r0(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function S9(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}ql(t,e.position)}function E9(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ql(t,e.position)}function k9(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Jl,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:pT(t,e.name,!0),l=I9(t,e),c=i0(t,e);return dT(t,l,a,e),r0(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function C9(t,e,n){const r={};return r0(r,i0(t,e)),t.create(e,t.Fragment,r,n)}function T9(t,e){return e.value}function dT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function r0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function A9(t,e,n){return r;function r(i,a,l,c){const d=Array.isArray(l.children)?n:e;return c?d(a,l,c):d(a,l)}}function R9(t,e){return n;function n(r,i,a,l){const c=Array.isArray(a.children),f=t0(r);return e(i,a,l,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function O9(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&n0.call(e.properties,i)){const a=N9(t,i,e.properties[i]);if(a){const[l,c]=a;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&v9.has(e.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function I9(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else ql(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else ql(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function i0(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:y9;for(;++r<e.children.length;){const a=e.children[r];let l;if(t.passKeys){const f=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(f){const d=i.get(f)||0;l=f+"-"+d,i.set(f,d+1)}}const c=hT(t,a,l);c!==void 0&&n.push(c)}return n}function N9(t,e,n){const r=ME(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PE(n):jE(n)),r.property==="style"){let i=typeof n=="object"?n:D9(t,String(n));return t.stylePropertyNameCase==="css"&&(i=M9(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?C4[r.property]||r.property:r.attribute,n]}}function D9(t,e){try{return m9(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new yn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=fT+"#cannot-parse-style-attribute",i}}function pT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,l;for(;++a<i.length;){const c=KS(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=KS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return n0.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);ql(t)}function ql(t,e){const n=new yn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=fT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function M9(t){const e={};let n;for(n in t)n0.call(t,n)&&(e[L9(n)]=t[n]);return e}function L9(t){let e=t.replace(_9,z9);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function z9(t){return"-"+t.toLowerCase()}const pm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},P9={};function s0(t,e){const n=P9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mT(t,r,i)}function mT(t,e,n){if(j9(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return e1(t.children,e,n)}return Array.isArray(t)?e1(t,e,n):""}function e1(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=mT(t[i],e,n);return r.join("")}function j9(t){return!!(t&&typeof t=="object")}const t1=document.createElement("i");function a0(t){const e="&"+t+";";t1.innerHTML=e;const n=t1.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Wn(t,e,n,r){const i=t.length;let a=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function mr(t,e){return t.length>0?(Wn(t,t.length,0,e),t):e}const n1={}.hasOwnProperty;function gT(t){const e={};let n=-1;for(;++n<t.length;)B9(e,t[n]);return e}function B9(t,e){let n;for(n in e){const i=(n1.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){n1.call(i,l)||(i[l]=[]);const c=a[l];U9(i[l],Array.isArray(c)?c:c?[c]:[])}}}function U9(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Wn(t,0,0,r)}function yT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Cr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const En=es(/[A-Za-z]/),gn=es(/[\dA-Za-z]/),$9=es(/[#-'*+\--9=?A-Z^-~]/);function Bf(t){return t!==null&&(t<32||t===127)}const Lg=es(/\d/),q9=es(/[\dA-Fa-f]/),F9=es(/[!-/:-@[-`{-~]/);function Re(t){return t!==null&&t<-2}function ct(t){return t!==null&&(t<0||t===32)}function Fe(t){return t===-2||t===-1||t===32}const ph=es(new RegExp("\\p{P}|\\p{S}","u")),Ms=es(/\s/);function es(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function eo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&gn(t.charCodeAt(n+1))&&gn(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),i=1):l=""}else l=String.fromCharCode(a);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Qe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(f){return Fe(f)?(t.enter(n),c(f)):e(f)}function c(f){return Fe(f)&&a++<i?(t.consume(f),c):(t.exit(n),e(f))}}const V9={tokenize:H9};function H9(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Qe(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Re(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}const G9={tokenize:K9},r1={tokenize:Z9};function K9(t){const e=this,n=[];let r=0,i,a,l;return c;function c(T){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,f,d)(T)}return d(T)}function f(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&I();const L=e.events.length;let z=L,E;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){E=e.events[z][1].end;break}S(r);let M=L;for(;M<e.events.length;)e.events[M][1].end={...E},M++;return Wn(e.events,z+1,0,e.events.slice(L)),e.events.length=M,d(T)}return c(T)}function d(T){if(r===n.length){if(!i)return _(T);if(i.currentConstruct&&i.currentConstruct.concrete)return v(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(r1,m,p)(T)}function m(T){return i&&I(),S(r),_(T)}function p(T){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,v(T)}function _(T){return e.containerState={},t.attempt(r1,y,v)(T)}function y(T){return r++,n.push([e.currentConstruct,e.containerState]),_(T)}function v(T){if(T===null){i&&I(),S(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(T)}function w(T){if(T===null){C(t.exit("chunkFlow"),!0),S(0),t.consume(T);return}return Re(T)?(t.consume(T),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(T),w)}function C(T,L){const z=e.sliceStream(T);if(L&&z.push(null),T.previous=a,a&&(a.next=T),a=T,i.defineSkip(T.start),i.write(z),e.parser.lazy[T.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<l&&(!i.events[E][1].end||i.events[E][1].end.offset>l))return;const M=e.events.length;let $=M,q,P;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(q){P=e.events[$][1].end;break}q=!0}for(S(r),E=M;E<e.events.length;)e.events[E][1].end={...P},E++;Wn(e.events,$+1,0,e.events.slice(M)),e.events.length=E}}function S(T){let L=n.length;for(;L-- >T;){const z=n[L];e.containerState=z[1],z[0].exit.call(e,t)}n.length=T}function I(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Z9(t,e,n){return Qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ha(t){if(t===null||ct(t)||Ms(t))return 1;if(ph(t))return 2}function mh(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const zg={name:"attention",resolveAll:Q9,tokenize:J9};function Q9(t,e){let n=-1,r,i,a,l,c,f,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},_={...t[n][1].start};i1(p,-f),i1(_,f),l={type:f>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},a={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=mr(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=mr(d,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",a,e]]),d=mr(d,mh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=mr(d,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=mr(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Wn(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function J9(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ha(r);let a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;const d=t.exit("attentionSequence"),m=Ha(f),p=!m||m===2&&i||n.includes(f),_=!i||i===2&&m||n.includes(r);return d._open=!!(a===42?p:p&&(i||!_)),d._close=!!(a===42?_:_&&(m||!p)),e(f)}}function i1(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Y9={name:"autolink",tokenize:X9};function X9(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return En(y)?(t.consume(y),l):y===64?n(y):d(y)}function l(y){return y===43||y===45||y===46||gn(y)?(r=1,c(y)):d(y)}function c(y){return y===58?(t.consume(y),r=0,f):(y===43||y===45||y===46||gn(y))&&r++<32?(t.consume(y),c):(r=0,d(y))}function f(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Bf(y)?n(y):(t.consume(y),f)}function d(y){return y===64?(t.consume(y),m):$9(y)?(t.consume(y),d):n(y)}function m(y){return gn(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,m):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):_(y)}function _(y){if((y===45||gn(y))&&r++<63){const v=y===45?_:p;return t.consume(y),v}return n(y)}}const eu={partial:!0,tokenize:W9};function W9(t,e,n){return r;function r(a){return Fe(a)?Qe(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?e(a):n(a)}}const _T={continuation:{tokenize:tq},exit:nq,name:"blockQuote",tokenize:eq};function eq(t,e,n){const r=this;return i;function i(l){if(l===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Fe(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function tq(t,e,n){const r=this;return i;function i(l){return Fe(l)?Qe(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(_T,e,n)(l)}}function nq(t){t.exit("blockQuote")}const bT={name:"characterEscape",tokenize:rq};function rq(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return F9(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const vT={name:"characterReference",tokenize:iq};function iq(t,e,n){const r=this;let i=0,a,l;return c;function c(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),f}function f(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,l=gn,m(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=q9,m):(t.enter("characterReferenceValue"),a=7,l=Lg,m(p))}function m(p){if(p===59&&i){const _=t.exit("characterReferenceValue");return l===gn&&!a0(r.sliceSerialize(_))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(p)&&i++<a?(t.consume(p),m):n(p)}}const s1={partial:!0,tokenize:aq},a1={concrete:!0,name:"codeFenced",tokenize:sq};function sq(t,e,n){const r=this,i={partial:!0,tokenize:z};let a=0,l=0,c;return f;function f(E){return d(E)}function d(E){const M=r.events[r.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(E)}function m(E){return E===c?(l++,t.consume(E),m):l<3?n(E):(t.exit("codeFencedFenceSequence"),Fe(E)?Qe(t,p,"whitespace")(E):p(E))}function p(E){return E===null||Re(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(s1,w,L)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===null||Re(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(E)):Fe(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,y,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),_)}function y(E){return E===null||Re(E)?p(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===null||Re(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(E)):E===96&&E===c?n(E):(t.consume(E),v)}function w(E){return t.attempt(i,L,C)(E)}function C(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),S}function S(E){return a>0&&Fe(E)?Qe(t,I,"linePrefix",a+1)(E):I(E)}function I(E){return E===null||Re(E)?t.check(s1,w,L)(E):(t.enter("codeFlowValue"),T(E))}function T(E){return E===null||Re(E)?(t.exit("codeFlowValue"),I(E)):(t.consume(E),T)}function L(E){return t.exit("codeFenced"),e(E)}function z(E,M,$){let q=0;return P;function P(re){return E.enter("lineEnding"),E.consume(re),E.exit("lineEnding"),K}function K(re){return E.enter("codeFencedFence"),Fe(re)?Qe(E,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ie(re)}function ie(re){return re===c?(E.enter("codeFencedFenceSequence"),ge(re)):$(re)}function ge(re){return re===c?(q++,E.consume(re),ge):q>=l?(E.exit("codeFencedFenceSequence"),Fe(re)?Qe(E,he,"whitespace")(re):he(re)):$(re)}function he(re){return re===null||Re(re)?(E.exit("codeFencedFence"),M(re)):$(re)}}}function aq(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const mm={name:"codeIndented",tokenize:lq},oq={partial:!0,tokenize:uq};function lq(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Qe(t,a,"linePrefix",5)(d)}function a(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?f(d):Re(d)?t.attempt(oq,l,f)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Re(d)?(t.exit("codeFlowValue"),l(d)):(t.consume(d),c)}function f(d){return t.exit("codeIndented"),e(d)}}function uq(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Re(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):Qe(t,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Re(l)?i(l):n(l)}}const cq={name:"codeText",previous:hq,resolve:fq,tokenize:dq};function fq(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function hq(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dq(t,e,n){let r=0,i,a;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),c(p)}function c(p){return p===96?(t.consume(p),r++,c):(t.exit("codeTextSequence"),f(p))}function f(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),f):p===96?(a=t.enter("codeTextSequence"),i=0,m(p)):Re(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Re(p)?(t.exit("codeTextData"),f(p)):(t.consume(p),d)}function m(p){return p===96?(t.consume(p),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class pq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&tl(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),tl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),tl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);tl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);tl(this.left,n.reverse())}}}function tl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function wT(t){const e={};let n=-1,r,i,a,l,c,f,d;const m=new pq(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,mq(m,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return Wn(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function mq(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,f=[],d={};let m,p,_=-1,y=n,v=0,w=0;const C=[w];for(;y;){for(;t.get(++i)[1]!==y;);a.push(i),y._tokenizer||(m=r.sliceStream(y),y.next||m.push(null),p&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++_<c.length;)c[_][0]==="exit"&&c[_-1][0]==="enter"&&c[_][1].type===c[_-1][1].type&&c[_][1].start.line!==c[_][1].end.line&&(w=_+1,C.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):C.pop(),_=C.length;_--;){const S=c.slice(C[_],C[_+1]),I=a.pop();f.push([I,I+S.length-1]),t.splice(I,2,S)}for(f.reverse(),_=-1;++_<f.length;)d[v+f[_][0]]=v+f[_][1],v+=f[_][1]-f[_][0]-1;return d}const gq={resolve:_q,tokenize:bq},yq={partial:!0,tokenize:vq};function _q(t){return wT(t),t}function bq(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):Re(c)?t.check(yq,l,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function vq(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Qe(t,a,"linePrefix")}function a(l){if(l===null||Re(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function xT(t,e,n,r,i,a,l,c,f){const d=f||Number.POSITIVE_INFINITY;let m=0;return p;function p(S){return S===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(S),t.exit(a),_):S===null||S===32||S===41||Bf(S)?n(S):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),w(S))}function _(S){return S===62?(t.enter(a),t.consume(S),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(t.exit("chunkString"),t.exit(c),_(S)):S===null||S===60||Re(S)?n(S):(t.consume(S),S===92?v:y)}function v(S){return S===60||S===62||S===92?(t.consume(S),y):y(S)}function w(S){return!m&&(S===null||S===41||ct(S))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(S)):m<d&&S===40?(t.consume(S),m++,w):S===41?(t.consume(S),m--,w):S===null||S===32||S===40||Bf(S)?n(S):(t.consume(S),S===92?C:w)}function C(S){return S===40||S===41||S===92?(t.consume(S),w):w(S)}}function ST(t,e,n,r,i,a){const l=this;let c=0,f;return d;function d(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),m}function m(y){return c>999||y===null||y===91||y===93&&!f||y===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):Re(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||Re(y)||c++>999?(t.exit("chunkString"),m(y)):(t.consume(y),f||(f=!Fe(y)),y===92?_:p)}function _(y){return y===91||y===92||y===93?(t.consume(y),c++,p):p(y)}}function ET(t,e,n,r,i,a){let l;return c;function c(_){return _===34||_===39||_===40?(t.enter(r),t.enter(i),t.consume(_),t.exit(i),l=_===40?41:_,f):n(_)}function f(_){return _===l?(t.enter(i),t.consume(_),t.exit(i),t.exit(r),e):(t.enter(a),d(_))}function d(_){return _===l?(t.exit(a),f(l)):_===null?n(_):Re(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),Qe(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===l||_===null||Re(_)?(t.exit("chunkString"),d(_)):(t.consume(_),_===92?p:m)}function p(_){return _===l||_===92?(t.consume(_),m):m(_)}}function Al(t,e){let n;return r;function r(i){return Re(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Fe(i)?Qe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const wq={name:"definition",tokenize:Sq},xq={partial:!0,tokenize:Eq};function Sq(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),l(y)}function l(y){return ST.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return i=Cr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),f):n(y)}function f(y){return ct(y)?Al(t,d)(y):d(y)}function d(y){return xT(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function m(y){return t.attempt(xq,p,p)(y)}function p(y){return Fe(y)?Qe(t,_,"whitespace")(y):_(y)}function _(y){return y===null||Re(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function Eq(t,e,n){return r;function r(c){return ct(c)?Al(t,i)(c):n(c)}function i(c){return ET(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Fe(c)?Qe(t,l,"whitespace")(c):l(c)}function l(c){return c===null||Re(c)?e(c):n(c)}}const kq={name:"hardBreakEscape",tokenize:Cq};function Cq(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Re(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Tq={name:"headingAtx",resolve:Aq,tokenize:Rq};function Aq(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Wn(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Rq(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||ct(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),f(m)):m===null||Re(m)?(t.exit("atxHeading"),e(m)):Fe(m)?Qe(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function f(m){return m===35?(t.consume(m),f):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||ct(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const Oq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o1=["pre","script","style","textarea"],Iq={concrete:!0,name:"htmlFlow",resolveTo:Mq,tokenize:Lq},Nq={partial:!0,tokenize:Pq},Dq={partial:!0,tokenize:zq};function Mq(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Lq(t,e,n){const r=this;let i,a,l,c,f;return d;function d(A){return m(A)}function m(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),p}function p(A){return A===33?(t.consume(A),_):A===47?(t.consume(A),a=!0,w):A===63?(t.consume(A),i=3,r.interrupt?e:k):En(A)?(t.consume(A),l=String.fromCharCode(A),C):n(A)}function _(A){return A===45?(t.consume(A),i=2,y):A===91?(t.consume(A),i=5,c=0,v):En(A)?(t.consume(A),i=4,r.interrupt?e:k):n(A)}function y(A){return A===45?(t.consume(A),r.interrupt?e:k):n(A)}function v(A){const W="CDATA[";return A===W.charCodeAt(c++)?(t.consume(A),c===W.length?r.interrupt?e:ie:v):n(A)}function w(A){return En(A)?(t.consume(A),l=String.fromCharCode(A),C):n(A)}function C(A){if(A===null||A===47||A===62||ct(A)){const W=A===47,ee=l.toLowerCase();return!W&&!a&&o1.includes(ee)?(i=1,r.interrupt?e(A):ie(A)):Oq.includes(l.toLowerCase())?(i=6,W?(t.consume(A),S):r.interrupt?e(A):ie(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?I(A):T(A))}return A===45||gn(A)?(t.consume(A),l+=String.fromCharCode(A),C):n(A)}function S(A){return A===62?(t.consume(A),r.interrupt?e:ie):n(A)}function I(A){return Fe(A)?(t.consume(A),I):P(A)}function T(A){return A===47?(t.consume(A),P):A===58||A===95||En(A)?(t.consume(A),L):Fe(A)?(t.consume(A),T):P(A)}function L(A){return A===45||A===46||A===58||A===95||gn(A)?(t.consume(A),L):z(A)}function z(A){return A===61?(t.consume(A),E):Fe(A)?(t.consume(A),z):T(A)}function E(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),f=A,M):Fe(A)?(t.consume(A),E):$(A)}function M(A){return A===f?(t.consume(A),f=null,q):A===null||Re(A)?n(A):(t.consume(A),M)}function $(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||ct(A)?z(A):(t.consume(A),$)}function q(A){return A===47||A===62||Fe(A)?T(A):n(A)}function P(A){return A===62?(t.consume(A),K):n(A)}function K(A){return A===null||Re(A)?ie(A):Fe(A)?(t.consume(A),K):n(A)}function ie(A){return A===45&&i===2?(t.consume(A),F):A===60&&i===1?(t.consume(A),te):A===62&&i===4?(t.consume(A),N):A===63&&i===3?(t.consume(A),k):A===93&&i===5?(t.consume(A),fe):Re(A)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Nq,U,ge)(A)):A===null||Re(A)?(t.exit("htmlFlowData"),ge(A)):(t.consume(A),ie)}function ge(A){return t.check(Dq,he,U)(A)}function he(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),re}function re(A){return A===null||Re(A)?ge(A):(t.enter("htmlFlowData"),ie(A))}function F(A){return A===45?(t.consume(A),k):ie(A)}function te(A){return A===47?(t.consume(A),l="",de):ie(A)}function de(A){if(A===62){const W=l.toLowerCase();return o1.includes(W)?(t.consume(A),N):ie(A)}return En(A)&&l.length<8?(t.consume(A),l+=String.fromCharCode(A),de):ie(A)}function fe(A){return A===93?(t.consume(A),k):ie(A)}function k(A){return A===62?(t.consume(A),N):A===45&&i===2?(t.consume(A),k):ie(A)}function N(A){return A===null||Re(A)?(t.exit("htmlFlowData"),U(A)):(t.consume(A),N)}function U(A){return t.exit("htmlFlow"),e(A)}}function zq(t,e,n){const r=this;return i;function i(l){return Re(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function Pq(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(eu,e,n)}}const jq={name:"htmlText",tokenize:Bq};function Bq(t,e,n){const r=this;let i,a,l;return c;function c(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),f}function f(k){return k===33?(t.consume(k),d):k===47?(t.consume(k),z):k===63?(t.consume(k),T):En(k)?(t.consume(k),$):n(k)}function d(k){return k===45?(t.consume(k),m):k===91?(t.consume(k),a=0,v):En(k)?(t.consume(k),I):n(k)}function m(k){return k===45?(t.consume(k),y):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),_):Re(k)?(l=p,te(k)):(t.consume(k),p)}function _(k){return k===45?(t.consume(k),y):p(k)}function y(k){return k===62?F(k):k===45?_(k):p(k)}function v(k){const N="CDATA[";return k===N.charCodeAt(a++)?(t.consume(k),a===N.length?w:v):n(k)}function w(k){return k===null?n(k):k===93?(t.consume(k),C):Re(k)?(l=w,te(k)):(t.consume(k),w)}function C(k){return k===93?(t.consume(k),S):w(k)}function S(k){return k===62?F(k):k===93?(t.consume(k),S):w(k)}function I(k){return k===null||k===62?F(k):Re(k)?(l=I,te(k)):(t.consume(k),I)}function T(k){return k===null?n(k):k===63?(t.consume(k),L):Re(k)?(l=T,te(k)):(t.consume(k),T)}function L(k){return k===62?F(k):T(k)}function z(k){return En(k)?(t.consume(k),E):n(k)}function E(k){return k===45||gn(k)?(t.consume(k),E):M(k)}function M(k){return Re(k)?(l=M,te(k)):Fe(k)?(t.consume(k),M):F(k)}function $(k){return k===45||gn(k)?(t.consume(k),$):k===47||k===62||ct(k)?q(k):n(k)}function q(k){return k===47?(t.consume(k),F):k===58||k===95||En(k)?(t.consume(k),P):Re(k)?(l=q,te(k)):Fe(k)?(t.consume(k),q):F(k)}function P(k){return k===45||k===46||k===58||k===95||gn(k)?(t.consume(k),P):K(k)}function K(k){return k===61?(t.consume(k),ie):Re(k)?(l=K,te(k)):Fe(k)?(t.consume(k),K):q(k)}function ie(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,ge):Re(k)?(l=ie,te(k)):Fe(k)?(t.consume(k),ie):(t.consume(k),he)}function ge(k){return k===i?(t.consume(k),i=void 0,re):k===null?n(k):Re(k)?(l=ge,te(k)):(t.consume(k),ge)}function he(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||ct(k)?q(k):(t.consume(k),he)}function re(k){return k===47||k===62||ct(k)?q(k):n(k)}function F(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function te(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),de}function de(k){return Fe(k)?Qe(t,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):fe(k)}function fe(k){return t.enter("htmlTextData"),l(k)}}const o0={name:"labelEnd",resolveAll:Fq,resolveTo:Vq,tokenize:Hq},Uq={tokenize:Gq},$q={tokenize:Kq},qq={tokenize:Zq};function Fq(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Wn(t,0,t.length,n),t}function Vq(t,e){let n=t.length,r=0,i,a,l,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=mr(c,t.slice(a+1,a+r+3)),c=mr(c,[["enter",m,e]]),c=mr(c,mh(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),c=mr(c,[["exit",m,e],t[l-2],t[l-1],["exit",d,e]]),c=mr(c,t.slice(l+1)),c=mr(c,[["exit",f,e]]),Wn(t,a,t.length,c),t}function Hq(t,e,n){const r=this;let i=r.events.length,a,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(_){return a?a._inactive?p(_):(l=r.parser.defined.includes(Cr(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),f):n(_)}function f(_){return _===40?t.attempt(Uq,m,l?m:p)(_):_===91?t.attempt($q,m,l?d:p)(_):l?m(_):p(_)}function d(_){return t.attempt(qq,m,p)(_)}function m(_){return e(_)}function p(_){return a._balanced=!0,n(_)}}function Gq(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return ct(p)?Al(t,a)(p):a(p)}function a(p){return p===41?m(p):xT(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return ct(p)?Al(t,f)(p):m(p)}function c(p){return n(p)}function f(p){return p===34||p===39||p===40?ET(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function d(p){return ct(p)?Al(t,m)(p):m(p)}function m(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Kq(t,e,n){const r=this;return i;function i(c){return ST.call(r,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Cr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function Zq(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const Qq={name:"labelStartImage",resolveAll:o0.resolveAll,tokenize:Jq};function Jq(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Yq={name:"labelStartLink",resolveAll:o0.resolveAll,tokenize:Xq};function Xq(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const gm={name:"lineEnding",tokenize:Wq};function Wq(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Qe(t,e,"linePrefix")}}const tf={name:"thematicBreak",tokenize:eF};function eF(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),l(d)}function l(d){return i=d,c(d)}function c(d){return d===i?(t.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||Re(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===i?(t.consume(d),r++,f):(t.exit("thematicBreakSequence"),Fe(d)?Qe(t,c,"whitespace")(d):c(d))}}const zn={continuation:{tokenize:iF},exit:aF,name:"list",tokenize:rF},tF={partial:!0,tokenize:oF},nF={partial:!0,tokenize:sF};function rF(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Lg(y)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(tf,n,d)(y):d(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(y)}return n(y)}function f(y){return Lg(y)&&++l<10?(t.consume(y),f):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(eu,r.interrupt?n:m,t.attempt(tF,_,p))}function m(y){return r.containerState.initialBlankLine=!0,a++,_(y)}function p(y){return Fe(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),_):n(y)}function _(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function iF(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(eu,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qe(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Fe(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(nF,e,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qe(t,t.attempt(zn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function sF(t,e,n){const r=this;return Qe(t,i,"listItemIndent",r.containerState.size+1);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}function aF(t){t.exit(this.containerState.type)}function oF(t,e,n){const r=this;return Qe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const l=r.events[r.events.length-1];return!Fe(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const l1={name:"setextUnderline",resolveTo:lF,tokenize:uF};function lF(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function uF(t,e,n){const r=this;let i;return a;function a(d){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,l(d)):n(d)}function l(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===i?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),Fe(d)?Qe(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Re(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const cF={tokenize:fF};function fF(t){const e=this,n=t.attempt(eu,r,t.attempt(this.parser.constructs.flowInitial,i,Qe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(gq,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const hF={resolveAll:CT()},dF=kT("string"),pF=kT("text");function kT(t){return{resolveAll:CT(t==="text"?mF:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,l,c);return l;function l(m){return d(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),f)}function d(m){if(m===null)return!0;const p=i[m];let _=-1;if(p)for(;++_<p.length;){const y=p[_];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function CT(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function mF(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,l=-1,c=0,f;for(;a--;){const d=i[a];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)f=!0,c++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const gF={42:zn,43:zn,45:zn,48:zn,49:zn,50:zn,51:zn,52:zn,53:zn,54:zn,55:zn,56:zn,57:zn,62:_T},yF={91:wq},_F={[-2]:mm,[-1]:mm,32:mm},bF={35:Tq,42:tf,45:[l1,tf],60:Iq,61:l1,95:tf,96:a1,126:a1},vF={38:vT,92:bT},wF={[-5]:gm,[-4]:gm,[-3]:gm,33:Qq,38:vT,42:zg,60:[Y9,jq],91:Yq,92:[kq,bT],93:o0,95:zg,96:cq},xF={null:[zg,hF]},SF={null:[42,95]},EF={null:[]},kF=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SF,contentInitial:yF,disable:EF,document:gF,flow:bF,flowInitial:_F,insideSpan:xF,string:vF,text:wF},Symbol.toStringTag,{value:"Module"}));function CF(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let l=[],c=[];const f={attempt:M(z),check:M(E),consume:I,enter:T,exit:L,interrupt:M(E,{interrupt:!0})},d={code:null,containerState:{},defineSkip:w,events:[],now:v,parser:t,previous:null,sliceSerialize:_,sliceStream:y,write:p};let m=e.tokenize.call(d,f);return e.resolveAll&&a.push(e),d;function p(K){return l=mr(l,K),C(),l[l.length-1]!==null?[]:($(e,0),d.events=mh(a,d.events,d),d.events)}function _(K,ie){return AF(y(K),ie)}function y(K){return TF(l,K)}function v(){const{_bufferIndex:K,_index:ie,line:ge,column:he,offset:re}=r;return{_bufferIndex:K,_index:ie,line:ge,column:he,offset:re}}function w(K){i[K.line]=K.column,P()}function C(){let K;for(;r._index<l.length;){const ie=l[r._index];if(typeof ie=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<ie.length;)S(ie.charCodeAt(r._bufferIndex));else S(ie)}}function S(K){m=m(K)}function I(K){Re(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,P()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=K}function T(K,ie){const ge=ie||{};return ge.type=K,ge.start=v(),d.events.push(["enter",ge,d]),c.push(ge),ge}function L(K){const ie=c.pop();return ie.end=v(),d.events.push(["exit",ie,d]),ie}function z(K,ie){$(K,ie.from)}function E(K,ie){ie.restore()}function M(K,ie){return ge;function ge(he,re,F){let te,de,fe,k;return Array.isArray(he)?U(he):"tokenize"in he?U([he]):N(he);function N(ue){return oe;function oe(_e){const ye=_e!==null&&ue[_e],Ke=_e!==null&&ue.null,We=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return U(We)(_e)}}function U(ue){return te=ue,de=0,ue.length===0?F:A(ue[de])}function A(ue){return oe;function oe(_e){return k=q(),fe=ue,ue.partial||(d.currentConstruct=ue),ue.name&&d.parser.constructs.disable.null.includes(ue.name)?ee():ue.tokenize.call(ie?Object.assign(Object.create(d),ie):d,f,W,ee)(_e)}}function W(ue){return K(fe,k),re}function ee(ue){return k.restore(),++de<te.length?A(te[de]):F}}}function $(K,ie){K.resolveAll&&!a.includes(K)&&a.push(K),K.resolve&&Wn(d.events,ie,d.events.length-ie,K.resolve(d.events.slice(ie),d)),K.resolveTo&&(d.events=K.resolveTo(d.events,d))}function q(){const K=v(),ie=d.previous,ge=d.currentConstruct,he=d.events.length,re=Array.from(c);return{from:he,restore:F};function F(){r=K,d.previous=ie,d.currentConstruct=ge,d.events.length=he,c=re,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TF(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,a)];else{if(l=t.slice(n,i),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(t[i].slice(0,a))}return l}function AF(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(a)}i=a===-2,r.push(l)}return r.join("")}function RF(t){const r={constructs:gT([kF,...(t||{}).extensions||[]]),content:i(V9),defined:[],document:i(G9),flow:i(cF),lazy:{},string:i(dF),text:i(pF)};return r;function i(a){return l;function l(c){return CF(r,a,c)}}}function OF(t){for(;!wT(t););return t}const u1=/[\0\t\n\r]/g;function IF(){let t=1,e="",n=!0,r;return i;function i(a,l,c){const f=[];let d,m,p,_,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(u1.lastIndex=p,d=u1.exec(a),_=d&&d.index!==void 0?d.index:a.length,y=a.charCodeAt(_),!d){e=a.slice(p);break}if(y===10&&p===_&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),p<_&&(f.push(a.slice(p,_)),t+=_-p),y){case 0:{f.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,f.push(-2);t++<m;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}p=_+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const NF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DF(t){return t.replace(NF,MF)}function MF(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return yT(n.slice(a?2:1),a?16:10)}return a0(n)||t}const TT={}.hasOwnProperty;function LF(t,e,n){return typeof e!="string"&&(n=e,e=void 0),zF(n)(OF(RF(n).document().write(IF()(t,e,!0))))}function zF(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a($n),autolinkProtocol:q,autolinkEmail:q,atxHeading:a(Vt),blockQuote:a(Ke),characterEscape:q,characterReference:q,codeFenced:a(We),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(We,l),codeText:a(et,l),codeTextData:q,data:q,codeFlowValue:q,definition:a(ft),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Mt),hardBreakEscape:a(_n),hardBreakTrailing:a(_n),htmlFlow:a(Xt,l),htmlFlowData:q,htmlText:a(Xt,l),htmlTextData:q,image:a(Cn),label:l,link:a($n),listItem:a(be),listItemValue:_,listOrdered:a(Tn,p),listUnordered:a(Tn),paragraph:a(Be),reference:A,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Vt),strong:a(Ue),thematicBreak:a(Je)},exit:{atxHeading:f(),atxHeadingSequence:z,autolink:f(),autolinkEmail:ye,autolinkProtocol:_e,blockQuote:f(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:ue,characterReference:oe,codeFenced:f(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:P,codeIndented:f(S),codeText:f(re),codeTextData:P,data:P,definition:f(),definitionDestinationString:L,definitionLabelString:I,definitionTitleString:T,emphasis:f(),hardBreakEscape:f(ie),hardBreakTrailing:f(ie),htmlFlow:f(ge),htmlFlowData:P,htmlText:f(he),htmlTextData:P,image:f(te),label:fe,labelText:de,lineEnding:K,link:f(F),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:W,resourceDestinationString:k,resourceTitleString:N,resource:U,setextHeading:f($),setextHeadingLineSequence:M,setextHeadingText:E,strong:f(),thematicBreak:f()}};AT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(X){let le={type:"root",children:[]};const ve={stack:[le],tokenStack:[],config:e,enter:c,exit:d,buffer:l,resume:m,data:n},Ee=[];let Ie=-1;for(;++Ie<X.length;)if(X[Ie][1].type==="listOrdered"||X[Ie][1].type==="listUnordered")if(X[Ie][0]==="enter")Ee.push(Ie);else{const wt=Ee.pop();Ie=i(X,wt,Ie)}for(Ie=-1;++Ie<X.length;){const wt=e[X[Ie][0]];TT.call(wt,X[Ie][1].type)&&wt[X[Ie][1].type].call(Object.assign({sliceSerialize:X[Ie][2].sliceSerialize},ve),X[Ie][1])}if(ve.tokenStack.length>0){const wt=ve.tokenStack[ve.tokenStack.length-1];(wt[1]||c1).call(ve,void 0,wt[0])}for(le.position={start:qi(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:qi(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<e.transforms.length;)le=e.transforms[Ie](le)||le;return le}function i(X,le,ve){let Ee=le-1,Ie=-1,wt=!1,cn,Ht,bt,An;for(;++Ee<=ve;){const lt=X[Ee];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?Ie++:Ie--,An=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(cn&&!An&&!Ie&&!bt&&(bt=Ee),An=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:An=void 0}if(!Ie&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||Ie===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(cn){let pi=Ee;for(Ht=void 0;pi--;){const vr=X[pi];if(vr[1].type==="lineEnding"||vr[1].type==="lineEndingBlank"){if(vr[0]==="exit")continue;Ht&&(X[Ht][1].type="lineEndingBlank",wt=!0),vr[1].type="lineEnding",Ht=pi}else if(!(vr[1].type==="linePrefix"||vr[1].type==="blockQuotePrefix"||vr[1].type==="blockQuotePrefixWhitespace"||vr[1].type==="blockQuoteMarker"||vr[1].type==="listItemIndent"))break}bt&&(!Ht||bt<Ht)&&(cn._spread=!0),cn.end=Object.assign({},Ht?X[Ht][1].start:lt[1].end),X.splice(Ht||Ee,0,["exit",cn,lt[2]]),Ee++,ve++}if(lt[1].type==="listItemPrefix"){const pi={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};cn=pi,X.splice(Ee,0,["enter",pi,lt[2]]),Ee++,ve++,bt=void 0,An=!0}}}return X[le][1]._spread=wt,ve}function a(X,le){return ve;function ve(Ee){c.call(this,X(Ee),Ee),le&&le.call(this,Ee)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(X,le,ve){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([le,ve||void 0]),X.position={start:qi(le.start),end:void 0}}function f(X){return le;function le(ve){X&&X.call(this,ve),d.call(this,ve)}}function d(X,le){const ve=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==X.type&&(le?le.call(this,X,Ee[0]):(Ee[1]||c1).call(this,X,Ee[0]));else throw new Error("Cannot close `"+X.type+"` ("+Tl({start:X.start,end:X.end})+"): its not open");ve.position.end=qi(X.end)}function m(){return s0(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function _(X){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function y(){const X=this.resume(),le=this.stack[this.stack.length-1];le.lang=X}function v(){const X=this.resume(),le=this.stack[this.stack.length-1];le.meta=X}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X.replace(/(\r?\n|\r)$/g,"")}function I(X){const le=this.resume(),ve=this.stack[this.stack.length-1];ve.label=le,ve.identifier=Cr(this.sliceSerialize(X)).toLowerCase()}function T(){const X=this.resume(),le=this.stack[this.stack.length-1];le.title=X}function L(){const X=this.resume(),le=this.stack[this.stack.length-1];le.url=X}function z(X){const le=this.stack[this.stack.length-1];if(!le.depth){const ve=this.sliceSerialize(X).length;le.depth=ve}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function M(X){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function q(X){const ve=this.stack[this.stack.length-1].children;let Ee=ve[ve.length-1];(!Ee||Ee.type!=="text")&&(Ee=Ae(),Ee.position={start:qi(X.start),end:void 0},ve.push(Ee)),this.stack.push(Ee)}function P(X){const le=this.stack.pop();le.value+=this.sliceSerialize(X),le.position.end=qi(X.end)}function K(X){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=le.children[le.children.length-1];ve.position.end=qi(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(le.type)&&(q.call(this,X),P.call(this,X))}function ie(){this.data.atHardBreak=!0}function ge(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function he(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function re(){const X=this.resume(),le=this.stack[this.stack.length-1];le.value=X}function F(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=le,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function te(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=le,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function de(X){const le=this.sliceSerialize(X),ve=this.stack[this.stack.length-2];ve.label=DF(le),ve.identifier=Cr(le).toLowerCase()}function fe(){const X=this.stack[this.stack.length-1],le=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Ee=X.children;ve.children=Ee}else ve.alt=le}function k(){const X=this.resume(),le=this.stack[this.stack.length-1];le.url=X}function N(){const X=this.resume(),le=this.stack[this.stack.length-1];le.title=X}function U(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function W(X){const le=this.resume(),ve=this.stack[this.stack.length-1];ve.label=le,ve.identifier=Cr(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function ee(X){this.data.characterReferenceType=X.type}function ue(X){const le=this.sliceSerialize(X),ve=this.data.characterReferenceType;let Ee;ve?(Ee=yT(le,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=a0(le);const Ie=this.stack[this.stack.length-1];Ie.value+=Ee}function oe(X){const le=this.stack.pop();le.position.end=qi(X.end)}function _e(X){P.call(this,X);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(X)}function ye(X){P.call(this,X);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(X)}function Ke(){return{type:"blockquote",children:[]}}function We(){return{type:"code",lang:null,meta:null,value:""}}function et(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Mt(){return{type:"emphasis",children:[]}}function Vt(){return{type:"heading",depth:0,children:[]}}function _n(){return{type:"break"}}function Xt(){return{type:"html",value:""}}function Cn(){return{type:"image",title:null,url:"",alt:null}}function $n(){return{type:"link",title:null,url:"",children:[]}}function Tn(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function be(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function Be(){return{type:"paragraph",children:[]}}function Ue(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function Je(){return{type:"thematicBreak"}}}function qi(t){return{line:t.line,column:t.column,offset:t.offset}}function AT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?AT(t,r):PF(t,r)}}function PF(t,e){let n;for(n in e)if(TT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function c1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Tl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Tl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Tl({start:e.start,end:e.end})+") is still open")}function jF(t){const e=this;e.parser=n;function n(r){return LF(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function BF(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function UF(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function $F(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function qF(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FF(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VF(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=eo(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=a+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function HF(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GF(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function RT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function KF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return RT(t,e);const i={src:eo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function ZF(t,e){const n={src:eo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function QF(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function JF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return RT(t,e);const i={href:eo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function YF(t,e){const n={href:eo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function XF(t,e,n){const r=t.all(e),i=n?WF(n):OT(e),a={},l=[];if(typeof e.checked=="boolean"){const m=r[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?l.push(...m.children):l.push(m)}const f=r[r.length-1];f&&(i||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,d),t.applyData(e,d)}function WF(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=OT(n[r])}return e}function OT(t){const e=t.spread;return e??t.children.length>1}function eV(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function tV(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nV(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function rV(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iV(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=t0(e.children[1]),f=uT(e.children[e.children.length-1]);c&&f&&(l.position={start:c,end:f}),i.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function sV(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const p=e.children[f],_={},y=l?l[f]:void 0;y&&(_.align=y);let v={type:"element",tagName:a,properties:_,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),d.push(v)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function aV(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const f1=9,h1=32;function oV(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(d1(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(d1(e.slice(i),i>0,!1)),a.join("")}function d1(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===f1||a===h1;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===f1||a===h1;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function lV(t,e){const n={type:"text",value:oV(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function uV(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const cV={blockquote:BF,break:UF,code:$F,delete:qF,emphasis:FF,footnoteReference:VF,heading:HF,html:GF,imageReference:KF,image:ZF,inlineCode:QF,linkReference:JF,link:YF,listItem:XF,list:eV,paragraph:tV,root:nV,strong:rV,table:iV,tableCell:aV,tableRow:sV,text:lV,thematicBreak:uV,toml:Pc,yaml:Pc,definition:Pc,footnoteDefinition:Pc};function Pc(){}const IT=-1,gh=0,Rl=1,Uf=2,l0=3,u0=4,c0=5,f0=6,NT=7,DT=8,p1=typeof self=="object"?self:globalThis,fV=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,l]=e[i];switch(a){case gh:case IT:return n(l,i);case Rl:{const c=n([],i);for(const f of l)c.push(r(f));return c}case Uf:{const c=n({},i);for(const[f,d]of l)c[r(f)]=r(d);return c}case l0:return n(new Date(l),i);case u0:{const{source:c,flags:f}=l;return n(new RegExp(c,f),i)}case c0:{const c=n(new Map,i);for(const[f,d]of l)c.set(r(f),r(d));return c}case f0:{const c=n(new Set,i);for(const f of l)c.add(r(f));return c}case NT:{const{name:c,message:f}=l;return n(new p1[c](f),i)}case DT:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new p1[a](l),i)};return r},m1=t=>fV(new Map,t)(0),Ta="",{toString:hV}={},{keys:dV}=Object,nl=t=>{const e=typeof t;if(e!=="object"||!t)return[gh,e];const n=hV.call(t).slice(8,-1);switch(n){case"Array":return[Rl,Ta];case"Object":return[Uf,Ta];case"Date":return[l0,Ta];case"RegExp":return[u0,Ta];case"Map":return[c0,Ta];case"Set":return[f0,Ta];case"DataView":return[Rl,n]}return n.includes("Array")?[Rl,n]:n.includes("Error")?[NT,n]:[Uf,n]},jc=([t,e])=>t===gh&&(e==="function"||e==="symbol"),pV=(t,e,n,r)=>{const i=(l,c)=>{const f=r.push(l)-1;return n.set(c,f),f},a=l=>{if(n.has(l))return n.get(l);let[c,f]=nl(l);switch(c){case gh:{let m=l;switch(f){case"bigint":c=DT,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return i([IT],l)}return i([c,m],l)}case Rl:{if(f){let _=l;return f==="DataView"?_=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(_=new Uint8Array(l)),i([f,[..._]],l)}const m=[],p=i([c,m],l);for(const _ of l)m.push(a(_));return p}case Uf:{if(f)switch(f){case"BigInt":return i([f,l.toString()],l);case"Boolean":case"Number":case"String":return i([f,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const m=[],p=i([c,m],l);for(const _ of dV(l))(t||!jc(nl(l[_])))&&m.push([a(_),a(l[_])]);return p}case l0:return i([c,l.toISOString()],l);case u0:{const{source:m,flags:p}=l;return i([c,{source:m,flags:p}],l)}case c0:{const m=[],p=i([c,m],l);for(const[_,y]of l)(t||!(jc(nl(_))||jc(nl(y))))&&m.push([a(_),a(y)]);return p}case f0:{const m=[],p=i([c,m],l);for(const _ of l)(t||!jc(nl(_)))&&m.push(a(_));return p}}const{message:d}=l;return i([c,{name:f,message:d}],l)};return a},g1=(t,{json:e,lossy:n}={})=>{const r=[];return pV(!(e||n),!!e,new Map,r)(t),r},$f=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?m1(g1(t,e)):structuredClone(t):(t,e)=>m1(g1(t,e));function mV(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function gV(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function yV(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||mV,r=t.options.footnoteBackLabel||gV,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const m=t.all(d),p=String(d.identifier).toUpperCase(),_=eo(p.toLowerCase());let y=0;const v=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){v.length>0&&v.push({type:"text",value:" "});let I=typeof n=="string"?n:n(f,y);typeof I=="string"&&(I={type:"text",value:I}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,y),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const C=m[m.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const I=C.children[C.children.length-1];I&&I.type==="text"?I.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...v)}else m.push(...v);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(m,!0)};t.patch(d,S),c.push(S)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...$f(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const yh=(function(t){if(t==null)return wV;if(typeof t=="function")return _h(t);if(typeof t=="object")return Array.isArray(t)?_V(t):bV(t);if(typeof t=="string")return vV(t);throw new Error("Expected function, string, or object as test")});function _V(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=yh(t[n]);return _h(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function bV(t){const e=t;return _h(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function vV(t){return _h(e);function e(n){return n&&n.type===t}}function _h(t){return e;function e(n,r,i){return!!(xV(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function wV(){return!0}function xV(t){return t!==null&&typeof t=="object"&&"type"in t}const MT=[],SV=!0,Pg=!1,EV="skip";function LT(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=yh(i),l=r?-1:1;c(t,void 0,[])();function c(f,d,m){const p=f&&typeof f=="object"?f:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(f.type+(y?"<"+y+">":""))+")"})}return _;function _(){let y=MT,v,w,C;if((!e||a(f,d,m[m.length-1]||void 0))&&(y=kV(n(f,m)),y[0]===Pg))return y;if("children"in f&&f.children){const S=f;if(S.children&&y[0]!==EV)for(w=(r?S.children.length:-1)+l,C=m.concat(S);w>-1&&w<S.children.length;){const I=S.children[w];if(v=c(I,w,C)(),v[0]===Pg)return v;w=typeof v[1]=="number"?v[1]:w+l}}return y}}}function kV(t){return Array.isArray(t)?t:typeof t=="number"?[SV,t]:t==null?MT:[t]}function h0(t,e,n,r){let i,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,i=n):(a=e,l=n,i=r),LT(t,a,c,i);function c(f,d){const m=d[d.length-1],p=m?m.children.indexOf(f):void 0;return l(f,p,m)}}const jg={}.hasOwnProperty,CV={};function TV(t,e){const n=e||CV,r=new Map,i=new Map,a=new Map,l={...cV,...n.handlers},c={all:d,applyData:RV,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:l,one:f,options:n,patch:AV,wrap:IV};return h0(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?r:i,_=String(m.identifier).toUpperCase();p.has(_)||p.set(_,m)}}),c;function f(m,p){const _=m.type,y=c.handlers[_];if(jg.call(c.handlers,_)&&y)return y(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(_)){if("children"in m){const{children:w,...C}=m,S=$f(C);return S.children=c.all(m),S}return $f(m)}return(c.options.unknownHandler||OV)(c,m,p)}function d(m){const p=[];if("children"in m){const _=m.children;let y=-1;for(;++y<_.length;){const v=c.one(_[y],m);if(v){if(y&&_[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=y1(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=y1(w.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function AV(t,e){t.position&&(e.position=g9(t))}function RV(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,$f(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function OV(t,e){const n=e.data||{},r="value"in e&&!(jg.call(n,"hProperties")||jg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function IV(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function y1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function _1(t,e){const n=TV(t,e),r=n.one(t,void 0),i=yV(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function NV(t,e){return t&&"run"in t?async function(n,r){const i=_1(n,{file:r,...e});await t.run(i,r)}:function(n,r){return _1(n,{file:r,...t||e})}}function b1(t){if(t)throw t}var ym,v1;function DV(){if(v1)return ym;v1=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!p)return!1;var _;for(_ in d);return typeof _>"u"||t.call(d,_)},l=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return ym=function f(){var d,m,p,_,y,v,w=arguments[0],C=1,S=arguments.length,I=!1;for(typeof w=="boolean"&&(I=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(d=arguments[C],d!=null)for(m in d)p=c(w,m),_=c(d,m),w!==_&&(I&&_&&(a(_)||(y=i(_)))?(y?(y=!1,v=p&&i(p)?p:[]):v=p&&a(p)?p:{},l(w,{name:m,newValue:f(I,v,_)})):typeof _<"u"&&l(w,{name:m,newValue:_}));return w},ym}var MV=DV();const _m=N1(MV);function Bg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LV(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(f,...d){const m=t[++a];let p=-1;if(f){l(f);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,m?zV(m,c)(...d):l(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function zV(t,e){let n;return r;function r(...l){const c=t.length>l.length;let f;c&&l.push(i);try{f=t.apply(this,l)}catch(d){const m=d;if(c&&n)throw m;return i(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,i):f instanceof Error?i(f):a(f))}function i(l,...c){n||(n=!0,e(l,...c))}function a(l){i(null,l)}}const Lr={basename:PV,dirname:jV,extname:BV,join:UV,sep:"/"};function PV(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');tu(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else l<0&&(a=!0,l=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function jV(t){if(tu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function BV(t){tu(t);let e=t.length,n=-1,r=0,i=-1,a=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function UV(...t){let e=-1,n;for(;++e<t.length;)tu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$V(n)}function $V(t){tu(t);const e=t.codePointAt(0)===47;let n=qV(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function qV(t,e){let n="",r=0,i=-1,a=0,l=-1,c,f;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||a===1))if(i!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),i=l,a=0;continue}}else if(n.length>0){n="",r=0,i=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function tu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const FV={cwd:VV};function VV(){return"/"}function Ug(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function HV(t){if(typeof t=="string")t=new URL(t);else if(!Ug(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return GV(t)}function GV(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bm=["history","path","basename","stem","extname","dirname"];class zT{constructor(e){let n;e?Ug(e)?n={path:e}:typeof e=="string"||KV(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":FV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bm.length;){const a=bm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)bm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lr.basename(this.path):void 0}set basename(e){wm(e,"basename"),vm(e,"basename"),this.path=Lr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Lr.dirname(this.path):void 0}set dirname(e){w1(this.basename,"dirname"),this.path=Lr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Lr.extname(this.path):void 0}set extname(e){if(vm(e,"extname"),w1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ug(e)&&(e=HV(e)),wm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Lr.basename(this.path,this.extname):void 0}set stem(e){wm(e,"stem"),vm(e,"stem"),this.path=Lr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new yn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function vm(t,e){if(t&&t.includes(Lr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Lr.sep+"`")}function wm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function w1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function KV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ZV=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),QV={}.hasOwnProperty;class d0 extends ZV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LV()}copy(){const e=new d0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(_m(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Em("data",this.frozen),this.namespace[e]=n,this):QV.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Em("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Bc(e),r=this.parser||this.Parser;return xm("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),xm("process",this.parser||this.Parser),Sm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,l){const c=Bc(e),f=r.parse(c);r.run(f,c,function(m,p,_){if(m||!p||!_)return d(m);const y=p,v=r.stringify(y,_);XV(v)?_.value=v:_.result=v,d(m,_)});function d(m,p){m||!p?l(m):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),xm("processSync",this.parser||this.Parser),Sm("processSync",this.compiler||this.Compiler),this.process(e,i),S1("processSync","process",n),r;function i(a,l){n=!0,b1(a),r=l}}run(e,n,r){x1(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const f=Bc(n);i.run(e,f,d);function d(m,p,_){const y=p||e;m?c(m):l?l(y):r(void 0,y,_)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),S1("runSync","run",r),i;function a(l,c){b1(l),i=c,r=!0}}stringify(e,n){this.freeze();const r=Bc(n),i=this.compiler||this.Compiler;return Sm("stringify",i),x1(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Em("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...p]=d;f(m,p)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(i.settings=_m(!0,i.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const p=d[m];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,m){let p=-1,_=-1;for(;++p<r.length;)if(r[p][0]===d){_=p;break}if(_===-1)r.push([d,...m]);else if(m.length>0){let[y,...v]=m;const w=r[_][1];Bg(w)&&Bg(y)&&(y=_m(!0,w,y)),r[_]=[d,y,...v]}}}}const JV=new d0().freeze();function xm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Sm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Em(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function x1(t){if(!Bg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function S1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Bc(t){return YV(t)?t:new zT(t)}function YV(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function XV(t){return typeof t=="string"||WV(t)}function WV(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E1=[],k1={allowDangerousHtml:!0},tH=/^(https?|ircs?|mailto|xmpp)$/i,nH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rH(t){const e=iH(t),n=sH(t);return aH(e.runSync(e.parse(n),n),t)}function iH(t){const e=t.rehypePlugins||E1,n=t.remarkPlugins||E1,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...k1}:k1;return JV().use(jF).use(n).use(NV,r).use(e)}function sH(t){const e=t.children||"",n=new zT;return typeof e=="string"&&(n.value=e),n}function aH(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||oH;for(const m of nH)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+eH+m.id,void 0);return h0(t,d),w9(t,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function d(m,p,_){if(m.type==="raw"&&_&&typeof p=="number")return l?_.children.splice(p,1):_.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let y;for(y in pm)if(Object.hasOwn(pm,y)&&Object.hasOwn(m.properties,y)){const v=m.properties[y],w=pm[y];(w===null||w.includes(m.tagName))&&(m.properties[y]=f(String(v||""),y,m))}}if(m.type==="element"){let y=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(m,p,_)),y&&_&&typeof p=="number")return c&&m.children?_.children.splice(p,1,...m.children):_.children.splice(p,1),p}}}function oH(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||tH.test(t.slice(0,e))?t:""}function lH(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function PT(t,e,n){const i=yh((n||{}).ignore||[]),a=uH(e);let l=-1;for(;++l<a.length;)LT(t,"text",c);function c(d,m){let p=-1,_;for(;++p<m.length;){const y=m[p],v=_?_.children:void 0;if(i(y,v?v.indexOf(y):void 0,_))return;_=y}if(_)return f(d,m)}function f(d,m){const p=m[m.length-1],_=a[l][0],y=a[l][1];let v=0;const C=p.children.indexOf(d);let S=!1,I=[];_.lastIndex=0;let T=_.exec(d.value);for(;T;){const L=T.index,z={index:T.index,input:T.input,stack:[...m,d]};let E=y(...T,z);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?_.lastIndex=L+1:(v!==L&&I.push({type:"text",value:d.value.slice(v,L)}),Array.isArray(E)?I.push(...E):E&&I.push(E),v=L+T[0].length,S=!0),!_.global)break;T=_.exec(d.value)}return S?(v<d.value.length&&I.push({type:"text",value:d.value.slice(v)}),p.children.splice(C,1,...I)):I=[d],C+I.length}}function uH(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([cH(i[0]),fH(i[1])])}return e}function cH(t){return typeof t=="string"?new RegExp(lH(t),"g"):t}function fH(t){return typeof t=="function"?t:function(){return t}}const km="phrasing",Cm=["autolink","link","image","label"];function hH(){return{transforms:[bH],enter:{literalAutolink:pH,literalAutolinkEmail:Tm,literalAutolinkHttp:Tm,literalAutolinkWww:Tm},exit:{literalAutolink:_H,literalAutolinkEmail:yH,literalAutolinkHttp:mH,literalAutolinkWww:gH}}}function dH(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Cm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Cm},{character:":",before:"[ps]",after:"\\/",inConstruct:km,notInConstruct:Cm}]}}function pH(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Tm(t){this.config.enter.autolinkProtocol.call(this,t)}function mH(t){this.config.exit.autolinkProtocol.call(this,t)}function gH(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function yH(t){this.config.exit.autolinkEmail.call(this,t)}function _H(t){this.exit(t)}function bH(t){PT(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vH],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wH]],{ignore:["link","linkReference"]})}function vH(t,e,n,r,i){let a="";if(!jT(i)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!xH(n)))return!1;const l=SH(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:a+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function wH(t,e,n,r){return!jT(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function xH(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function SH(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=bf(t,"(");let a=bf(t,")");for(;r!==-1&&i>a;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[t,n]}function jT(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ms(n)||ph(n))&&(!e||n!==47)}BT.peek=NH;function EH(){this.buffer()}function kH(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function CH(){this.buffer()}function TH(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function AH(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function RH(t){this.exit(t)}function OH(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function IH(t){this.exit(t)}function NH(){return"["}function BT(t,e,n,r){const i=n.createTracker(r);let a=i.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return a+=i.move(n.safe(n.associationId(t),{after:"]",before:a})),c(),l(),a+=i.move("]"),a}function DH(){return{enter:{gfmFootnoteCallString:EH,gfmFootnoteCall:kH,gfmFootnoteDefinitionLabelString:CH,gfmFootnoteDefinition:TH},exit:{gfmFootnoteCallString:AH,gfmFootnoteCall:RH,gfmFootnoteDefinitionLabelString:OH,gfmFootnoteDefinition:IH}}}function MH(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:BT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,l){const c=a.createTracker(l);let f=c.move("[^");const d=a.enter("footnoteDefinition"),m=a.enter("label");return f+=c.move(a.safe(a.associationId(r),{before:f,after:"]"})),m(),f+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),f+=c.move((e?`
`:" ")+a.indentLines(a.containerFlow(r,c.current()),e?UT:LH))),d(),f}}function LH(t,e,n){return e===0?t:UT(t,e,n)}function UT(t,e,n){return(n?"":"    ")+t}const zH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];$T.peek=$H;function PH(){return{canContainEols:["delete"],enter:{strikethrough:BH},exit:{strikethrough:UH}}}function jH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zH}],handlers:{delete:$T}}}function BH(t){this.enter({type:"delete",children:[]},t)}function UH(t){this.exit(t)}function $T(t,e,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(t,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),a(),l}function $H(){return"~"}function qH(t){return t.length}function FH(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||qH,a=[],l=[],c=[],f=[];let d=0,m=-1;for(;++m<t.length;){const w=[],C=[];let S=-1;for(t[m].length>d&&(d=t[m].length);++S<t[m].length;){const I=VH(t[m][S]);if(n.alignDelimiters!==!1){const T=i(I);C[S]=T,(f[S]===void 0||T>f[S])&&(f[S]=T)}w.push(I)}l[m]=w,c[m]=C}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<d;)a[p]=C1(r[p]);else{const w=C1(r);for(;++p<d;)a[p]=w}p=-1;const _=[],y=[];for(;++p<d;){const w=a[p];let C="",S="";w===99?(C=":",S=":"):w===108?C=":":w===114&&(S=":");let I=n.alignDelimiters===!1?1:Math.max(1,f[p]-C.length-S.length);const T=C+"-".repeat(I)+S;n.alignDelimiters!==!1&&(I=C.length+I+S.length,I>f[p]&&(f[p]=I),y[p]=I),_[p]=T}l.splice(1,0,_),c.splice(1,0,y),m=-1;const v=[];for(;++m<l.length;){const w=l[m],C=c[m];p=-1;const S=[];for(;++p<d;){const I=w[p]||"";let T="",L="";if(n.alignDelimiters!==!1){const z=f[p]-(C[p]||0),E=a[p];E===114?T=" ".repeat(z):E===99?z%2?(T=" ".repeat(z/2+.5),L=" ".repeat(z/2-.5)):(T=" ".repeat(z/2),L=T):L=" ".repeat(z)}n.delimiterStart!==!1&&!p&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||p)&&S.push(" "),n.alignDelimiters!==!1&&S.push(T),S.push(I),n.alignDelimiters!==!1&&S.push(L),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||p!==d-1)&&S.push("|")}v.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return v.join(`
`)}function VH(t){return t==null?"":String(t)}function C1(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function HH(t,e,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const l=n.indentLines(n.containerFlow(t,a.current()),GH);return i(),l}function GH(t,e,n){return">"+(n?"":" ")+t}function KH(t,e){return T1(t,e.inConstruct,!0)&&!T1(t,e.notInConstruct,!1)}function T1(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function A1(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&KH(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function ZH(t,e){const n=String(t);let r=n.indexOf(e),i=r,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>l&&(l=a):a=1,i=r+e.length,r=n.indexOf(e,i);return l}function QH(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function JH(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function YH(t,e,n,r){const i=JH(n),a=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(QH(t,n)){const p=n.enter("codeIndented"),_=n.indentLines(a,XH);return p(),_}const c=n.createTracker(r),f=i.repeat(Math.max(ZH(a,i)+1,3)),d=n.enter("codeFenced");let m=c.move(f);if(t.lang){const p=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(t.lang&&t.meta){const p=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),a&&(m+=c.move(a+`
`)),m+=c.move(f),d(),m}function XH(t,e,n){return(n?"":"    ")+t}function p0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function WH(t,e,n,r){const i=p0(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const f=n.createTracker(r);let d=f.move("[");return d+=f.move(n.safe(n.associationId(t),{before:d,after:"]",...f.current()})),d+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(t.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(c=n.enter("destinationRaw"),d+=f.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=f.move(" "+i),d+=f.move(n.safe(t.title,{before:d,after:i,...f.current()})),d+=f.move(i),c()),l(),d}function e7(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Fl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function qf(t,e,n){const r=Ha(t),i=Ha(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}qT.peek=t7;function qT(t,e,n,r){const i=e7(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(i);let f=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const d=f.charCodeAt(0),m=qf(r.before.charCodeAt(r.before.length-1),d,i);m.inside&&(f=Fl(d)+f.slice(1));const p=f.charCodeAt(f.length-1),_=qf(r.after.charCodeAt(0),p,i);_.inside&&(f=f.slice(0,-1)+Fl(p));const y=l.move(i);return a(),n.attentionEncodeSurroundingInfo={after:_.outside,before:m.outside},c+f+y}function t7(t,e,n){return n.options.emphasis||"*"}function n7(t,e){let n=!1;return h0(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Pg}),!!((!t.depth||t.depth<3)&&s0(t)&&(e.options.setext||n))}function r7(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(n7(t,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),_=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return p(),m(),_+`
`+(i===1?"=":"-").repeat(_.length-(Math.max(_.lastIndexOf("\r"),_.lastIndexOf(`
`))+1))}const l="#".repeat(i),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(d)&&(d=Fl(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,n.options.closeAtx&&(d+=" "+l),f(),c(),d}FT.peek=i7;function FT(t){return t.value||""}function i7(){return"<"}VT.peek=s7;function VT(t,e,n,r){const i=p0(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const f=n.createTracker(r);let d=f.move("![");return d+=f.move(n.safe(t.alt,{before:d,after:"]",...f.current()})),d+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(t.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(c=n.enter("destinationRaw"),d+=f.move(n.safe(t.url,{before:d,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),d+=f.move(" "+i),d+=f.move(n.safe(t.title,{before:d,after:i,...f.current()})),d+=f.move(i),c()),d+=f.move(")"),l(),d}function s7(){return"!"}HT.peek=a7;function HT(t,e,n,r){const i=t.referenceType,a=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("![");const d=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(d+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=m,a(),i==="full"||!d||d!==p?f+=c.move(p+"]"):i==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function a7(){return"!"}GT.peek=o7;function GT(t,e,n){let r=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const l=n.unsafe[a],c=n.compilePattern(l);let f;if(l.atBreak)for(;f=c.exec(r);){let d=f.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(f.index+1)}}return i+r+i}function o7(){return"`"}function KT(t,e){const n=s0(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}ZT.peek=l7;function ZT(t,e,n,r){const i=p0(n),a=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,f;if(KT(t,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(t,{before:p,after:">",...l.current()})),p+=l.move(">"),c(),n.stack=m,p}c=n.enter("link"),f=n.enter("label");let d=l.move("[");return d+=l.move(n.containerPhrasing(t,{before:d,after:"](",...l.current()})),d+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),d+=l.move("<"),d+=l.move(n.safe(t.url,{before:d,after:">",...l.current()})),d+=l.move(">")):(f=n.enter("destinationRaw"),d+=l.move(n.safe(t.url,{before:d,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),d+=l.move(" "+i),d+=l.move(n.safe(t.title,{before:d,after:i,...l.current()})),d+=l.move(i),f()),d+=l.move(")"),c(),d}function l7(t,e,n){return KT(t,n)?"<":"["}QT.peek=u7;function QT(t,e,n,r){const i=t.referenceType,a=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let f=c.move("[");const d=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(d+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=m,a(),i==="full"||!d||d!==p?f+=c.move(p+"]"):i==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}function u7(){return"["}function m0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function c7(t){const e=m0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function f7(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function JT(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function h7(t,e,n,r){const i=n.enter("list"),a=n.bulletCurrent;let l=t.ordered?f7(n):m0(n);const c=t.ordered?l==="."?")":".":c7(n);let f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),JT(n)===l&&m){let p=-1;for(;++p<t.children.length;){const _=t.children[p];if(_&&_.type==="listItem"&&_.children&&_.children[0]&&_.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;const d=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=a,i(),d}function d7(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function p7(t,e,n,r){const i=d7(n);let a=n.bulletCurrent||m0(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);const f=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,c.current()),m);return f(),d;function m(p,_,y){return _?(y?"":" ".repeat(l))+p:(y?a:a+" ".repeat(l-a.length))+p}}function m7(t,e,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,r);return a(),i(),l}const g7=yh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function y7(t,e,n,r){return(t.children.some(function(l){return g7(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function _7(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}YT.peek=b7;function YT(t,e,n,r){const i=_7(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(i+i);let f=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const d=f.charCodeAt(0),m=qf(r.before.charCodeAt(r.before.length-1),d,i);m.inside&&(f=Fl(d)+f.slice(1));const p=f.charCodeAt(f.length-1),_=qf(r.after.charCodeAt(0),p,i);_.inside&&(f=f.slice(0,-1)+Fl(p));const y=l.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:_.outside,before:m.outside},c+f+y}function b7(t,e,n){return n.options.strong||"*"}function v7(t,e,n,r){return n.safe(t.value,r)}function w7(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function x7(t,e,n){const r=(JT(n)+(n.options.ruleSpaces?" ":"")).repeat(w7(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XT={blockquote:HH,break:A1,code:YH,definition:WH,emphasis:qT,hardBreak:A1,heading:r7,html:FT,image:VT,imageReference:HT,inlineCode:GT,link:ZT,linkReference:QT,list:h7,listItem:p7,paragraph:m7,root:y7,strong:YT,text:v7,thematicBreak:x7};function S7(){return{enter:{table:E7,tableData:R1,tableHeader:R1,tableRow:C7},exit:{codeText:T7,table:k7,tableData:Am,tableHeader:Am,tableRow:Am}}}function E7(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function k7(t){this.exit(t),this.data.inTable=void 0}function C7(t){this.enter({type:"tableRow",children:[]},t)}function Am(t){this.exit(t)}function R1(t){this.enter({type:"tableCell",children:[]},t)}function T7(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,A7));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function A7(t,e){return e==="|"?e:t}function R7(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:_,table:l,tableCell:f,tableRow:c}};function l(y,v,w,C){return d(m(y,w,C),y.align)}function c(y,v,w,C){const S=p(y,w,C),I=d([S]);return I.slice(0,I.indexOf(`
`))}function f(y,v,w,C){const S=w.enter("tableCell"),I=w.enter("phrasing"),T=w.containerPhrasing(y,{...C,before:a,after:a});return I(),S(),T}function d(y,v){return FH(y,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function m(y,v,w){const C=y.children;let S=-1;const I=[],T=v.enter("table");for(;++S<C.length;)I[S]=p(C[S],v,w);return T(),I}function p(y,v,w){const C=y.children;let S=-1;const I=[],T=v.enter("tableRow");for(;++S<C.length;)I[S]=f(C[S],y,v,w);return T(),I}function _(y,v,w){let C=XT.inlineCode(y,v,w);return w.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function O7(){return{exit:{taskListCheckValueChecked:O1,taskListCheckValueUnchecked:O1,paragraph:N7}}}function I7(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:D7}}}function O1(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function N7(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let a=-1,l;for(;++a<i.length;){const c=i[a];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function D7(t,e,n,r){const i=t.children[0],a=typeof t.checked=="boolean"&&i&&i.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);a&&c.move(l);let f=XT.listItem(t,e,n,{...r,...c.current()});return a&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),f;function d(m){return m+l}}function M7(){return[hH(),DH(),PH(),S7(),O7()]}function L7(t){return{extensions:[dH(),MH(t),jH(),R7(t),I7()]}}const z7={tokenize:q7,partial:!0},WT={tokenize:F7,partial:!0},eA={tokenize:V7,partial:!0},tA={tokenize:H7,partial:!0},P7={tokenize:G7,partial:!0},nA={name:"wwwAutolink",tokenize:U7,previous:iA},rA={name:"protocolAutolink",tokenize:$7,previous:sA},di={name:"emailAutolink",tokenize:B7,previous:aA},qr={};function j7(){return{text:qr}}let ws=48;for(;ws<123;)qr[ws]=di,ws++,ws===58?ws=65:ws===91&&(ws=97);qr[43]=di;qr[45]=di;qr[46]=di;qr[95]=di;qr[72]=[di,rA];qr[104]=[di,rA];qr[87]=[di,nA];qr[119]=[di,nA];function B7(t,e,n){const r=this;let i,a;return l;function l(p){return!$g(p)||!aA.call(r,r.previous)||g0(r.events)?n(p):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(p))}function c(p){return $g(p)?(t.consume(p),c):p===64?(t.consume(p),f):n(p)}function f(p){return p===46?t.check(P7,m,d)(p):p===45||p===95||gn(p)?(a=!0,t.consume(p),f):m(p)}function d(p){return t.consume(p),i=!0,f}function m(p){return a&&i&&En(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(p)):n(p)}}function U7(t,e,n){const r=this;return i;function i(l){return l!==87&&l!==119||!iA.call(r,r.previous)||g0(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(z7,t.attempt(WT,t.attempt(eA,a),n),n)(l))}function a(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function $7(t,e,n){const r=this;let i="",a=!1;return l;function l(p){return(p===72||p===104)&&sA.call(r,r.previous)&&!g0(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),t.consume(p),c):n(p)}function c(p){if(En(p)&&i.length<5)return i+=String.fromCodePoint(p),t.consume(p),c;if(p===58){const _=i.toLowerCase();if(_==="http"||_==="https")return t.consume(p),f}return n(p)}function f(p){return p===47?(t.consume(p),a?d:(a=!0,f)):n(p)}function d(p){return p===null||Bf(p)||ct(p)||Ms(p)||ph(p)?n(p):t.attempt(WT,t.attempt(eA,m),n)(p)}function m(p){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(p)}}function q7(t,e,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,t.consume(l),i):l===46&&r===3?(t.consume(l),a):n(l)}function a(l){return l===null?n(l):e(l)}}function F7(t,e,n){let r,i,a;return l;function l(d){return d===46||d===95?t.check(tA,f,c)(d):d===null||ct(d)||Ms(d)||d!==45&&ph(d)?f(d):(a=!0,t.consume(d),l)}function c(d){return d===95?r=!0:(i=r,r=void 0),t.consume(d),l}function f(d){return i||r||!a?n(d):e(d)}}function V7(t,e){let n=0,r=0;return i;function i(l){return l===40?(n++,t.consume(l),i):l===41&&r<n?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?t.check(tA,e,a)(l):l===null||ct(l)||Ms(l)?e(l):(t.consume(l),i)}function a(l){return l===41&&r++,t.consume(l),i}}function H7(t,e,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),r):c===38?(t.consume(c),a):c===93?(t.consume(c),i):c===60||c===null||ct(c)||Ms(c)?e(c):n(c)}function i(c){return c===null||c===40||c===91||ct(c)||Ms(c)?e(c):r(c)}function a(c){return En(c)?l(c):n(c)}function l(c){return c===59?(t.consume(c),r):En(c)?(t.consume(c),l):n(c)}}function G7(t,e,n){return r;function r(a){return t.consume(a),i}function i(a){return gn(a)?n(a):e(a)}}function iA(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ct(t)}function sA(t){return!En(t)}function aA(t){return!(t===47||$g(t))}function $g(t){return t===43||t===45||t===46||t===95||gn(t)}function g0(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const K7={tokenize:tG,partial:!0};function Z7(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:X7,continuation:{tokenize:W7},exit:eG}},text:{91:{name:"gfmFootnoteCall",tokenize:Y7},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Q7,resolveTo:J7}}}}function Q7(t,e,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const f=r.events[i][1];if(f.type==="labelImage"){l=f;break}if(f.type==="gfmFootnoteCall"||f.type==="labelLink"||f.type==="label"||f.type==="image"||f.type==="link")break}return c;function c(f){if(!l||!l._balanced)return n(f);const d=Cr(r.sliceSerialize({start:l.end,end:r.now()}));return d.codePointAt(0)!==94||!a.includes(d.slice(1))?n(f):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),e(f))}}function J7(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...c),t}function Y7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,l;return c;function c(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),f}function f(p){return p!==94?n(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(p){if(a>999||p===93&&!l||p===null||p===91||ct(p))return n(p);if(p===93){t.exit("chunkString");const _=t.exit("gfmFootnoteCallString");return i.includes(Cr(r.sliceSerialize(_)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(p)}return ct(p)||(l=!0),a++,t.consume(p),p===92?m:d}function m(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function X7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,l=0,c;return f;function f(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(v)}function m(v){if(l>999||v===93&&!c||v===null||v===91||ct(v))return n(v);if(v===93){t.exit("chunkString");const w=t.exit("gfmFootnoteDefinitionLabelString");return a=Cr(r.sliceSerialize(w)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),_}return ct(v)||(c=!0),l++,t.consume(v),v===92?p:m}function p(v){return v===91||v===92||v===93?(t.consume(v),l++,m):m(v)}function _(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(a)||i.push(a),Qe(t,y,"gfmFootnoteDefinitionWhitespace")):n(v)}function y(v){return e(v)}}function W7(t,e,n){return t.check(eu,e,t.attempt(K7,e,n))}function eG(t){t.exit("gfmFootnoteDefinition")}function tG(t,e,n){const r=this;return Qe(t,i,"gfmFootnoteDefinitionIndent",5);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(a):n(a)}}function nG(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,c){let f=-1;for(;++f<l.length;)if(l[f][0]==="enter"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._close){let d=f;for(;d--;)if(l[d][0]==="exit"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._open&&l[f][1].end.offset-l[f][1].start.offset===l[d][1].end.offset-l[d][1].start.offset){l[f][1].type="strikethroughSequence",l[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[d][1].start),end:Object.assign({},l[f][1].end)},p={type:"strikethroughText",start:Object.assign({},l[d][1].end),end:Object.assign({},l[f][1].start)},_=[["enter",m,c],["enter",l[d][1],c],["exit",l[d][1],c],["enter",p,c]],y=c.parser.constructs.insideSpan.null;y&&Wn(_,_.length,0,mh(y,l.slice(d+1,f),c)),Wn(_,_.length,0,[["exit",p,c],["enter",l[f][1],c],["exit",l[f][1],c],["exit",m,c]]),Wn(l,d-1,f-d+3,_),f=d+_.length-2;break}}for(f=-1;++f<l.length;)l[f][1].type==="strikethroughSequenceTemporary"&&(l[f][1].type="data");return l}function a(l,c,f){const d=this.previous,m=this.events;let p=0;return _;function _(v){return d===126&&m[m.length-1][1].type!=="characterEscape"?f(v):(l.enter("strikethroughSequenceTemporary"),y(v))}function y(v){const w=Ha(d);if(v===126)return p>1?f(v):(l.consume(v),p++,y);if(p<2&&!n)return f(v);const C=l.exit("strikethroughSequenceTemporary"),S=Ha(v);return C._open=!S||S===2&&!!w,C._close=!w||w===2&&!!S,c(v)}}}class rG{constructor(){this.map=[]}add(e,n,r){iG(this,e,n,r)}consume(e){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const a of i)e.push(a);i=r.pop()}this.map.length=0}}function iG(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function sG(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function aG(){return{flow:{null:{name:"table",tokenize:oG,resolveAll:lG}}}}function oG(t,e,n){const r=this;let i=0,a=0,l;return c;function c(P){let K=r.events.length-1;for(;K>-1;){const he=r.events[K][1].type;if(he==="lineEnding"||he==="linePrefix")K--;else break}const ie=K>-1?r.events[K][1].type:null,ge=ie==="tableHead"||ie==="tableRow"?E:f;return ge===E&&r.parser.lazy[r.now().line]?n(P):ge(P)}function f(P){return t.enter("tableHead"),t.enter("tableRow"),d(P)}function d(P){return P===124||(l=!0,a+=1),m(P)}function m(P){return P===null?n(P):Re(P)?a>1?(a=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),y):n(P):Fe(P)?Qe(t,m,"whitespace")(P):(a+=1,l&&(l=!1,i+=1),P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),l=!0,m):(t.enter("data"),p(P)))}function p(P){return P===null||P===124||ct(P)?(t.exit("data"),m(P)):(t.consume(P),P===92?_:p)}function _(P){return P===92||P===124?(t.consume(P),p):p(P)}function y(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(t.enter("tableDelimiterRow"),l=!1,Fe(P)?Qe(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):v(P))}function v(P){return P===45||P===58?C(P):P===124?(l=!0,t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),w):z(P)}function w(P){return Fe(P)?Qe(t,C,"whitespace")(P):C(P)}function C(P){return P===58?(a+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),S):P===45?(a+=1,S(P)):P===null||Re(P)?L(P):z(P)}function S(P){return P===45?(t.enter("tableDelimiterFiller"),I(P)):z(P)}function I(P){return P===45?(t.consume(P),I):P===58?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(P))}function T(P){return Fe(P)?Qe(t,L,"whitespace")(P):L(P)}function L(P){return P===124?v(P):P===null||Re(P)?!l||i!==a?z(P):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(P)):z(P)}function z(P){return n(P)}function E(P){return t.enter("tableRow"),M(P)}function M(P){return P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),M):P===null||Re(P)?(t.exit("tableRow"),e(P)):Fe(P)?Qe(t,M,"whitespace")(P):(t.enter("data"),$(P))}function $(P){return P===null||P===124||ct(P)?(t.exit("data"),M(P)):(t.consume(P),P===92?q:$)}function q(P){return P===92||P===124?(t.consume(P),$):$(P)}}function lG(t,e){let n=-1,r=!0,i=0,a=[0,0,0,0],l=[0,0,0,0],c=!1,f=0,d,m,p;const _=new rG;for(;++n<t.length;){const y=t[n],v=y[1];y[0]==="enter"?v.type==="tableHead"?(c=!1,f!==0&&(I1(_,e,f,d,m),m=void 0,f=0),d={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},_.add(n,0,[["enter",d,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,p=void 0,a=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},_.add(n,0,[["enter",m,e]])),i=v.type==="tableDelimiterRow"?2:m?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],p=Uc(_,e,a,i,void 0,p),a=[0,0,0,0]),l[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],p=Uc(_,e,a,i,void 0,p)),a=l,l=[a[1],n,0,0])):v.type==="tableHead"?(c=!0,f=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(f=n,a[1]!==0?(l[0]=l[1],p=Uc(_,e,a,i,n,p)):l[1]!==0&&(p=Uc(_,e,l,i,n,p)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(l[3]=n)}for(f!==0&&I1(_,e,f,d,m),_.consume(e.events),n=-1;++n<e.events.length;){const y=e.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=sG(e.events,n))}return t}function Uc(t,e,n,r,i,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},Ia(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const f=Ia(e.events,n[1]);if(a={type:l,start:Object.assign({},f),end:Object.assign({},f)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const d=Ia(e.events,n[2]),m=Ia(e.events,n[3]),p={type:c,start:Object.assign({},d),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",p,e]]),r!==2){const _=e.events[n[2]],y=e.events[n[3]];if(_[1].end=Object.assign({},y[1].end),_[1].type="chunkText",_[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,w=n[3]-n[2]-1;t.add(v,w,[])}}t.add(n[3]+1,0,[["exit",p,e]])}return i!==void 0&&(a.end=Object.assign({},Ia(e.events,i)),t.add(i,0,[["exit",a,e]]),a=void 0),a}function I1(t,e,n,r,i){const a=[],l=Ia(e.events,n);i&&(i.end=Object.assign({},l),a.push(["exit",i,e])),r.end=Object.assign({},l),a.push(["exit",r,e]),t.add(n+1,0,a)}function Ia(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const uG={name:"tasklistCheck",tokenize:fG};function cG(){return{text:{91:uG}}}function fG(t,e,n){const r=this;return i;function i(f){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(f):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),a)}function a(f){return ct(f)?(t.enter("taskListCheckValueUnchecked"),t.consume(f),t.exit("taskListCheckValueUnchecked"),l):f===88||f===120?(t.enter("taskListCheckValueChecked"),t.consume(f),t.exit("taskListCheckValueChecked"),l):n(f)}function l(f){return f===93?(t.enter("taskListCheckMarker"),t.consume(f),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(f)}function c(f){return Re(f)?e(f):Fe(f)?t.check({tokenize:hG},e,n)(f):n(f)}}function hG(t,e,n){return Qe(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function dG(t){return gT([j7(),Z7(),nG(t),aG(),cG()])}const pG={};function mG(t){const e=this,n=t||pG,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(dG(n)),a.push(M7()),l.push(L7(n))}function gG(t){PT(t,[/\r?\n|\r/g,yG])}function yG(){return{type:"break"}}function _G(){return function(t){gG(t)}}const bG={pre:({children:t})=>O.jsx(O.Fragment,{children:t}),li:({children:t,...e})=>O.jsx("li",{className:"py-0.5 ml-0",...e,children:t}),ul:({children:t,...e})=>O.jsx("ul",{className:"list-disc list-outside ml-5 pl-0 my-2",...e,children:t}),ol:({children:t,...e})=>O.jsx("ol",{className:"list-decimal list-outside ml-5 pl-0 my-2",...e,children:t}),strong:({children:t,...e})=>O.jsx("span",{className:"font-semibold",...e,children:t}),a:({children:t,href:e,...n})=>{let r=e||"";return r&&!r.startsWith("http")&&!r.startsWith("#")&&(r=`https://${r}`),O.jsx("a",{className:"text-sky-400 hover:underline",href:r,target:"_blank",rel:"noreferrer noopener",...n,children:t})},h1:({children:t,...e})=>O.jsx("h1",{className:"text-xl font-semibold mt-4 mb-2",...e,children:t}),h2:({children:t,...e})=>O.jsx("h2",{className:"text-lg font-semibold mt-4 mb-2",...e,children:t}),h3:({children:t,...e})=>O.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",...e,children:t}),h4:({children:t,...e})=>O.jsx("h4",{className:"text-sm font-semibold mt-3 mb-1",...e,children:t}),h5:({children:t,...e})=>O.jsx("h5",{className:"text-sm font-semibold mt-2 mb-1",...e,children:t}),h6:({children:t,...e})=>O.jsx("h6",{className:"text-xs font-semibold mt-2 mb-1",...e,children:t}),p:({children:t,...e})=>O.jsx("p",{className:"my-2 leading-relaxed",...e,children:t}),table:({children:t,...e})=>O.jsx("div",{className:"overflow-x-auto my-3",children:O.jsx("table",{className:"w-full border-collapse border border-neutral-600 text-xs",...e,children:t})}),thead:({children:t,...e})=>O.jsx("thead",{className:"bg-neutral-700",...e,children:t}),tbody:({children:t,...e})=>O.jsx("tbody",{...e,children:t}),tr:({children:t,...e})=>O.jsx("tr",{className:"border-b border-neutral-600",...e,children:t}),th:({children:t,...e})=>O.jsx("th",{className:"p-2 text-left font-semibold border-r last:border-r-0 border-neutral-600",...e,children:t}),td:({children:t,...e})=>O.jsx("td",{className:"p-2 border-r last:border-r-0 border-neutral-600",...e,children:t}),blockquote:({children:t,...e})=>O.jsx("blockquote",{className:"border-l-4 border-neutral-500 pl-3 py-1 my-2 italic text-neutral-300",...e,children:t}),hr:({...t})=>O.jsx("hr",{className:"my-4 border-neutral-600",...t}),code({children:t,className:e,...n}){const r=/language-(\w+)/.exec(e||""),i=String(t).replace(/\n$/,""),a=i.includes(`
`);if(!r&&!a)return O.jsx("code",{...n,className:`${e||""} bg-neutral-700 px-1.5 py-0.5 rounded text-xs font-mono text-sky-300`,children:t});const l=r?.[1]||"text";return O.jsxs("div",{className:"my-3",children:[O.jsx("div",{className:"flex items-center justify-between bg-neutral-700 px-3 py-1 rounded-t text-xs text-neutral-400",children:O.jsx("span",{children:l})}),O.jsx("pre",{className:"bg-neutral-800 p-3 rounded-b overflow-x-auto",children:O.jsx("code",{className:"text-xs font-mono text-neutral-200",children:i})})]})}},vG=[mG,_G],wG=t=>{const e=yt.c(6),{children:n}=t;if(!n)return null;let r=n,i;if(e[0]!==r){r=r.replace(/^(#{1,6}\s+.+)\n```/gm,"$1\n\n```");let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=/```\n(#{1,6}\s+)/gm,e[3]=l):l=e[3],i=r.replace(l,"```\n\n$1"),e[0]=r,e[1]=i,e[2]=r}else i=e[1],r=e[2];r=i;let a;return e[4]!==r?(a=O.jsx(rH,{remarkPlugins:vG,components:bG,children:r}),e[4]=r,e[5]=a):a=e[5],a},xG=J.memo(wG,(t,e)=>t.children===e.children);function SG(t){const e=yt.c(85),{isOpen:n,onClose:r,request:i,setters:a}=t,[l,c]=J.useState(""),[f,d]=J.useState(),m=J.useRef(null),p=J.useRef(null),_=J.useRef(i.id);let y;e[0]!==i.httpResponse?(y=()=>{(async function(){if(i.httpResponse?.body)try{const Ee=await i.httpResponse.body.text();d(Ee)}catch{d("(unable to read response body)")}else d(void 0)})()},e[0]=i.httpResponse,e[1]=y):y=e[1];const v=i.httpResponse?.body;let w;e[2]!==v?(w=[v],e[2]=v,e[3]=w):w=e[3],J.useEffect(y,w);let C;e[4]!==i||e[5]!==f||e[6]!==a?(C={request:i,setters:a,responseBodyText:f},e[4]=i,e[5]=f,e[6]=a,e[7]=C):C=e[7];const S=C;let I;e[8]!==S?(I=s9(S),e[8]=S,e[9]=I):I=e[9];const T=I;let L;if(e[10]!==T){const le=x6(),ve=w6(le),Ee=a9();L=Hj(Ie=>Ej({adapter:ve,messages:Ie,tools:T,systemPrompts:[Ee],agentLoopStrategy:tk(10)})),e[10]=T,e[11]=L}else L=e[11];const z=L;let E;e[12]!==z||e[13]!==T?(E={connection:z,tools:T},e[12]=z,e[13]=T,e[14]=E):E=e[14];const{messages:M,sendMessage:$,isLoading:q,stop:P,clear:K}=Gj(E);let ie,ge;e[15]!==K||e[16]!==i.id?(ie=()=>{_.current!==i.id&&(K(),_.current=i.id)},ge=[i.id,K],e[15]=K,e[16]=i.id,e[17]=ie,e[18]=ge):(ie=e[17],ge=e[18]),J.useEffect(ie,ge);let he;e[19]===Symbol.for("react.memo_cache_sentinel")?(he=()=>{m.current?.scrollIntoView({behavior:"smooth"})},e[19]=he):he=e[19];let re;e[20]!==M?(re=[M],e[20]=M,e[21]=re):re=e[21],J.useEffect(he,re);let F,te;e[22]!==n?(F=()=>{n&&p.current?.focus()},te=[n],e[22]=n,e[23]=F,e[24]=te):(F=e[23],te=e[24]),J.useEffect(F,te);let de;e[25]!==l||e[26]!==q||e[27]!==$?(de=le=>{le.preventDefault(),!(!l.trim()||q)&&($(l.trim()),c(""))},e[25]=l,e[26]=q,e[27]=$,e[28]=de):de=e[28];const fe=de;let k;e[29]!==fe?(k=le=>{le.key==="Enter"&&!le.shiftKey&&(le.preventDefault(),fe(le))},e[29]=fe,e[30]=k):k=e[30];const N=k,U=EG;let A;e[31]!==q||e[32]!==M?(A=(le,ve)=>q&&le.role==="assistant"&&ve===M.length-1,e[31]=q,e[32]=M,e[33]=A):A=e[33];const W=A;if(!n)return null;let ee;e[34]===Symbol.for("react.memo_cache_sentinel")?(ee=O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(df,{size:16,className:"text-amber-500"}),O.jsx("h3",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:GS.name})]}),e[34]=ee):ee=e[34];let ue;e[35]===Symbol.for("react.memo_cache_sentinel")?(ue=O.jsx(Kf,{size:16}),e[35]=ue):ue=e[35];let oe;e[36]!==K?(oe=O.jsx("button",{onClick:K,className:"p-1.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded transition-colors",title:"Clear chat",children:ue}),e[36]=K,e[37]=oe):oe=e[37];let _e;e[38]===Symbol.for("react.memo_cache_sentinel")?(_e=O.jsx(fy,{size:16}),e[38]=_e):_e=e[38];let ye;e[39]!==r?(ye=O.jsx("button",{onClick:r,className:"p-1.5 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 dark:hover:text-neutral-300 dark:hover:bg-neutral-800 rounded transition-colors",children:_e}),e[39]=r,e[40]=ye):ye=e[40];let Ke;e[41]!==oe||e[42]!==ye?(Ke=O.jsxs("div",{className:"shrink-0 h-12 px-4 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800",children:[ee,O.jsxs("div",{className:"flex items-center gap-1",children:[oe,ye]})]}),e[41]=oe,e[42]=ye,e[43]=Ke):Ke=e[43];let We;e[44]!==M.length?(We=M.length===0&&O.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 text-sm py-8",children:[O.jsx(df,{size:24,className:"mx-auto mb-3 text-amber-500/50"}),O.jsx("p",{className:"mb-2",children:"Ask me to help build your request"}),O.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:'Examples: "Create a POST request to /api/users with a JSON body" or "Add an Authorization header"'})]}),e[44]=M.length,e[45]=We):We=e[45];let et;if(e[46]!==W||e[47]!==M){let le;e[49]!==W?(le=(ve,Ee)=>{const Ie=U(ve);return O.jsx("div",{className:`text-sm ${ve.role==="user"?"bg-neutral-100 dark:bg-neutral-800 rounded-lg px-3 py-2":""}`,children:O.jsx("div",{className:ve.role==="user"?"text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300",children:ve.role==="assistant"?Ie?O.jsx(xG,{children:Ie}):W(ve,Ee)?O.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[O.jsx(ng,{size:14,className:"animate-spin"}),"Thinking..."]}):null:O.jsx("span",{className:"whitespace-pre-wrap",children:Ie})})},ve.id)},e[49]=W,e[50]=le):le=e[50],et=M.map(le),e[46]=W,e[47]=M,e[48]=et}else et=e[48];let ft;e[51]!==q||e[52]!==M?(ft=q&&(M.length===0||M[M.length-1]?.role==="user")&&O.jsx("div",{className:"text-sm",children:O.jsx("div",{className:"text-neutral-800 dark:text-neutral-200",children:O.jsxs("span",{className:"flex items-center gap-2 text-neutral-400",children:[O.jsx(ng,{size:14,className:"animate-spin"}),"Thinking..."]})})}),e[51]=q,e[52]=M,e[53]=ft):ft=e[53];let Mt;e[54]===Symbol.for("react.memo_cache_sentinel")?(Mt=O.jsx("div",{ref:m}),e[54]=Mt):Mt=e[54];let Vt;e[55]!==We||e[56]!==et||e[57]!==ft?(Vt=O.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[We,et,ft,Mt]}),e[55]=We,e[56]=et,e[57]=ft,e[58]=Vt):Vt=e[58];let _n;e[59]===Symbol.for("react.memo_cache_sentinel")?(_n=le=>c(le.target.value),e[59]=_n):_n=e[59];let Xt;e[60]===Symbol.for("react.memo_cache_sentinel")?(Xt={maxHeight:"120px"},e[60]=Xt):Xt=e[60];let Cn;e[61]!==N||e[62]!==l||e[63]!==q?(Cn=O.jsx("textarea",{ref:p,value:l,onChange:_n,onKeyDown:N,placeholder:GS.placeholder,rows:1,disabled:q,className:"flex-1 px-3 py-2 bg-neutral-50 border border-neutral-200 dark:bg-neutral-800 dark:border-neutral-700 rounded-lg text-neutral-900 dark:text-neutral-100 text-sm placeholder-neutral-400 resize-none focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 disabled:opacity-50",style:Xt}),e[61]=N,e[62]=l,e[63]=q,e[64]=Cn):Cn=e[64];const $n=q?"button":"submit",Tn=q?P:void 0;let be;e[65]!==l||e[66]!==q?(be=!q&&!l.trim(),e[65]=l,e[66]=q,e[67]=be):be=e[67];let Be;e[68]!==q?(Be=q?O.jsx($L,{size:16}):O.jsx(ML,{size:16}),e[68]=q,e[69]=Be):Be=e[69];let Ue;e[70]!==$n||e[71]!==Tn||e[72]!==be||e[73]!==Be?(Ue=O.jsx("button",{type:$n,onClick:Tn,disabled:be,className:"p-2 bg-amber-500 hover:bg-amber-400 disabled:bg-neutral-300 dark:disabled:bg-neutral-700 disabled:text-neutral-500 text-white rounded-lg transition-colors",children:Be}),e[70]=$n,e[71]=Tn,e[72]=be,e[73]=Be,e[74]=Ue):Ue=e[74];let Ae;e[75]!==Cn||e[76]!==Ue?(Ae=O.jsxs("div",{className:"flex items-end gap-2",children:[Cn,Ue]}),e[75]=Cn,e[76]=Ue,e[77]=Ae):Ae=e[77];let Je;e[78]!==fe||e[79]!==Ae?(Je=O.jsx("form",{onSubmit:fe,className:"shrink-0 p-3 border-t border-neutral-200 dark:border-neutral-800",children:Ae}),e[78]=fe,e[79]=Ae,e[80]=Je):Je=e[80];let X;return e[81]!==Ke||e[82]!==Vt||e[83]!==Je?(X=O.jsxs("div",{className:"w-96 shrink-0 bg-white border border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 flex flex-col rounded-xl overflow-hidden",children:[Ke,Vt,Je]}),e[81]=Ke,e[82]=Vt,e[83]=Je,e[84]=X):X=e[84],X}function EG(t){return t.parts.filter(CG).map(kG).join("").replace(/^undefined/,"")}function kG(t){return t.content}function CG(t){return t.type==="text"&&!!t.content}function TG(t){return t>=200&&t<300?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":t>=300&&t<400?"bg-amber-500/20 text-amber-400 border-amber-500/30":t>=400&&t<500?"bg-orange-500/20 text-orange-400 border-orange-500/30":t>=500?"bg-rose-500/20 text-rose-400 border-rose-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}function AG(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(2)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`}function RG(){const t=yt.c(17),{request:e}=Ji();if(!e?.httpResponse)return null;const n=e.httpResponse;let r;t[0]!==n.statusCode?(r=TG(n.statusCode),t[0]=n.statusCode,t[1]=r):r=t[1];const i=`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-semibold border ${r}`,a=n.statusCode>0?n.status:"Error";let l;t[2]!==i||t[3]!==a?(l=O.jsx("span",{className:i,children:a}),t[2]=i,t[3]=a,t[4]=l):l=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=O.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Time:"}),t[5]=c):c=t[5];let f;t[6]!==n.duration?(f=O.jsxs("div",{className:"flex items-center gap-2",children:[c,O.jsxs("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:[n.duration,"ms"]})]}),t[6]=n.duration,t[7]=f):f=t[7];let d;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=O.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Size:"}),t[8]=d):d=t[8];let m;t[9]!==n.body.size?(m=AG(n.body.size),t[9]=n.body.size,t[10]=m):m=t[10];let p;t[11]!==m?(p=O.jsxs("div",{className:"flex items-center gap-2",children:[d,O.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:m})]}),t[11]=m,t[12]=p):p=t[12];let _;return t[13]!==l||t[14]!==f||t[15]!==p?(_=O.jsxs("div",{className:"px-3 py-2 flex items-center gap-4 text-xs shrink-0",children:[l,f,p]}),t[13]=l,t[14]=f,t[15]=p,t[16]=_):_=t[16],_}function OG(){const t=yt.c(13),{request:e,aiPanelOpen:n,toggleAiPanel:r,setMethod:i,setUrl:a,setHeaders:l,setQuery:c,setBody:f}=Ji();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=O.jsx(ez,{}),t[0]=d):d=t[0];let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=O.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden gap-2 min-w-0",children:[O.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:O.jsx(_j,{})}),O.jsx(RG,{})]}),t[1]=m):m=t[1];let p;t[2]!==n||t[3]!==e||t[4]!==f||t[5]!==l||t[6]!==i||t[7]!==c||t[8]!==a||t[9]!==r?(p=n&&hy().ai?.model&&O.jsx(SG,{isOpen:n,onClose:r,request:e,setters:{setMethod:i,setUrl:a,setHeaders:l,setQuery:c,setBody:f}}),t[2]=n,t[3]=e,t[4]=f,t[5]=l,t[6]=i,t[7]=c,t[8]=a,t[9]=r,t[10]=p):p=t[10];let _;return t[11]!==p?(_=O.jsxs("div",{className:"h-screen flex bg-neutral-50 dark:bg-[#0d0d0d] py-2 pr-2 pl-1 gap-2",children:[d,m,p]}),t[11]=p,t[12]=_):_=t[12],_}function IG(){const t=yt.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=O.jsx(WM,{children:O.jsx(OG,{})}),t[0]=e):e=t[0],e}sz().then(()=>{OO.createRoot(document.getElementById("root")).render(O.jsx(J.StrictMode,{children:O.jsx(n2,{client:aE,children:O.jsx(IG,{})})}))});
