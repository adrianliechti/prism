const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BdAV_C_H.js","assets/tex-CxkMU7Pf.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-CE9lU5zL.js","assets/csharp-K5feNrxe.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-DnHKYNfI.js","assets/vue-html-CChd_i61.js","assets/vue-vine-8moa0y9V.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var Jc={exports:{}},aa={};var Ug;function tS(){if(Ug)return aa;Ug=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:c,ref:l!==void 0?l:null,props:u}}return aa.Fragment=e,aa.jsx=s,aa.jsxs=s,aa}var Vg;function nS(){return Vg||(Vg=1,Jc.exports=tS()),Jc.exports}var R=nS(),Zc={exports:{}},ye={};var Pg;function iS(){if(Pg)return ye;Pg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function D(T,N,P){this.props=T,this.context=N,this.refs=A,this.updater=P||S}D.prototype.isReactComponent={},D.prototype.setState=function(T,N){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,N,"setState")},D.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function V(){}V.prototype=D.prototype;function L(T,N,P){this.props=T,this.context=N,this.refs=A,this.updater=P||S}var K=L.prototype=new V;K.constructor=L,w(K,D.prototype),K.isPureReactComponent=!0;var k=Array.isArray;function B(){}var J={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ie(T,N,P){var Y=P.ref;return{$$typeof:n,type:T,key:N,ref:Y!==void 0?Y:null,props:P}}function ae(T,N){return ie(T.type,N,T.props)}function pe(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function me(T){var N={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(P){return N[P]})}var Ge=/\/+/g;function Ne(T,N){return typeof T=="object"&&T!==null&&T.key!=null?me(""+T.key):N.toString(36)}function Ce(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(B,B):(T.status="pending",T.then(function(N){T.status==="pending"&&(T.status="fulfilled",T.value=N)},function(N){T.status==="pending"&&(T.status="rejected",T.reason=N)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function q(T,N,P,Y,Z){var X=typeof T;(X==="undefined"||X==="boolean")&&(T=null);var ne=!1;if(T===null)ne=!0;else switch(X){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(T.$$typeof){case n:case e:ne=!0;break;case g:return ne=T._init,q(ne(T._payload),N,P,Y,Z)}}if(ne)return Z=Z(T),ne=Y===""?"."+Ne(T,0):Y,k(Z)?(P="",ne!=null&&(P=ne.replace(Ge,"$&/")+"/"),q(Z,N,P,"",function($e){return $e})):Z!=null&&(pe(Z)&&(Z=ae(Z,P+(Z.key==null||T&&T.key===Z.key?"":(""+Z.key).replace(Ge,"$&/")+"/")+ne)),N.push(Z)),1;ne=0;var ue=Y===""?".":Y+":";if(k(T))for(var ge=0;ge<T.length;ge++)Y=T[ge],X=ue+Ne(Y,ge),ne+=q(Y,N,P,X,Z);else if(ge=b(T),typeof ge=="function")for(T=ge.call(T),ge=0;!(Y=T.next()).done;)Y=Y.value,X=ue+Ne(Y,ge++),ne+=q(Y,N,P,X,Z);else if(X==="object"){if(typeof T.then=="function")return q(Ce(T),N,P,Y,Z);throw N=String(T),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ne}function te(T,N,P){if(T==null)return T;var Y=[],Z=0;return q(T,Y,"","",function(X){return N.call(P,X,Z++)}),Y}function re(T){if(T._status===-1){var N=T._result;N=N(),N.then(function(P){(T._status===0||T._status===-1)&&(T._status=1,T._result=P)},function(P){(T._status===0||T._status===-1)&&(T._status=2,T._result=P)}),T._status===-1&&(T._status=0,T._result=N)}if(T._status===1)return T._result.default;throw T._result}var se=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},U={map:te,forEach:function(T,N,P){te(T,function(){N.apply(this,arguments)},P)},count:function(T){var N=0;return te(T,function(){N++}),N},toArray:function(T){return te(T,function(N){return N})||[]},only:function(T){if(!pe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ye.Activity=y,ye.Children=U,ye.Component=D,ye.Fragment=s,ye.Profiler=l,ye.PureComponent=L,ye.StrictMode=r,ye.Suspense=p,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ye.__COMPILER_RUNTIME={__proto__:null,c:function(T){return J.H.useMemoCache(T)}},ye.cache=function(T){return function(){return T.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(T,N,P){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Y=w({},T.props),Z=T.key;if(N!=null)for(X in N.key!==void 0&&(Z=""+N.key),N)!ee.call(N,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&N.ref===void 0||(Y[X]=N[X]);var X=arguments.length-2;if(X===1)Y.children=P;else if(1<X){for(var ne=Array(X),ue=0;ue<X;ue++)ne[ue]=arguments[ue+2];Y.children=ne}return ie(T.type,Z,Y)},ye.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ye.createElement=function(T,N,P){var Y,Z={},X=null;if(N!=null)for(Y in N.key!==void 0&&(X=""+N.key),N)ee.call(N,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Z[Y]=N[Y]);var ne=arguments.length-2;if(ne===1)Z.children=P;else if(1<ne){for(var ue=Array(ne),ge=0;ge<ne;ge++)ue[ge]=arguments[ge+2];Z.children=ue}if(T&&T.defaultProps)for(Y in ne=T.defaultProps,ne)Z[Y]===void 0&&(Z[Y]=ne[Y]);return ie(T,X,Z)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(T){return{$$typeof:d,render:T}},ye.isValidElement=pe,ye.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:re}},ye.memo=function(T,N){return{$$typeof:m,type:T,compare:N===void 0?null:N}},ye.startTransition=function(T){var N=J.T,P={};J.T=P;try{var Y=T(),Z=J.S;Z!==null&&Z(P,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(B,se)}catch(X){se(X)}finally{N!==null&&P.types!==null&&(N.types=P.types),J.T=N}},ye.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ye.use=function(T){return J.H.use(T)},ye.useActionState=function(T,N,P){return J.H.useActionState(T,N,P)},ye.useCallback=function(T,N){return J.H.useCallback(T,N)},ye.useContext=function(T){return J.H.useContext(T)},ye.useDebugValue=function(){},ye.useDeferredValue=function(T,N){return J.H.useDeferredValue(T,N)},ye.useEffect=function(T,N){return J.H.useEffect(T,N)},ye.useEffectEvent=function(T){return J.H.useEffectEvent(T)},ye.useId=function(){return J.H.useId()},ye.useImperativeHandle=function(T,N,P){return J.H.useImperativeHandle(T,N,P)},ye.useInsertionEffect=function(T,N){return J.H.useInsertionEffect(T,N)},ye.useLayoutEffect=function(T,N){return J.H.useLayoutEffect(T,N)},ye.useMemo=function(T,N){return J.H.useMemo(T,N)},ye.useOptimistic=function(T,N){return J.H.useOptimistic(T,N)},ye.useReducer=function(T,N,P){return J.H.useReducer(T,N,P)},ye.useRef=function(T){return J.H.useRef(T)},ye.useState=function(T){return J.H.useState(T)},ye.useSyncExternalStore=function(T,N,P){return J.H.useSyncExternalStore(T,N,P)},ye.useTransition=function(){return J.H.useTransition()},ye.version="19.2.3",ye}var Hg;function ld(){return Hg||(Hg=1,Zc.exports=iS()),Zc.exports}var F=ld(),Wc={exports:{}},la={},ef={exports:{}},tf={};var qg;function sS(){return qg||(qg=1,(function(n){function e(q,te){var re=q.length;q.push(te);e:for(;0<re;){var se=re-1>>>1,U=q[se];if(0<l(U,te))q[se]=te,q[re]=U,re=se;else break e}}function s(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var te=q[0],re=q.pop();if(re!==te){q[0]=re;e:for(var se=0,U=q.length,T=U>>>1;se<T;){var N=2*(se+1)-1,P=q[N],Y=N+1,Z=q[Y];if(0>l(P,re))Y<U&&0>l(Z,P)?(q[se]=Z,q[Y]=re,se=Y):(q[se]=P,q[N]=re,se=N);else if(Y<U&&0>l(Z,re))q[se]=Z,q[Y]=re,se=Y;else break e}}return te}function l(q,te){var re=q.sortIndex-te.sortIndex;return re!==0?re:q.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],g=1,y=null,_=3,b=!1,S=!1,w=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var te=s(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=q)r(m),te.sortIndex=te.expirationTime,e(p,te);else break;te=s(m)}}function k(q){if(w=!1,K(q),!S)if(s(p)!==null)S=!0,B||(B=!0,me());else{var te=s(m);te!==null&&Ce(k,te.startTime-q)}}var B=!1,J=-1,ee=5,ie=-1;function ae(){return A?!0:!(n.unstable_now()-ie<ee)}function pe(){if(A=!1,B){var q=n.unstable_now();ie=q;var te=!0;try{e:{S=!1,w&&(w=!1,V(J),J=-1),b=!0;var re=_;try{t:{for(K(q),y=s(p);y!==null&&!(y.expirationTime>q&&ae());){var se=y.callback;if(typeof se=="function"){y.callback=null,_=y.priorityLevel;var U=se(y.expirationTime<=q);if(q=n.unstable_now(),typeof U=="function"){y.callback=U,K(q),te=!0;break t}y===s(p)&&r(p),K(q)}else r(p);y=s(p)}if(y!==null)te=!0;else{var T=s(m);T!==null&&Ce(k,T.startTime-q),te=!1}}break e}finally{y=null,_=re,b=!1}te=void 0}}finally{te?me():B=!1}}}var me;if(typeof L=="function")me=function(){L(pe)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Ne=Ge.port2;Ge.port1.onmessage=pe,me=function(){Ne.postMessage(null)}}else me=function(){D(pe,0)};function Ce(q,te){J=D(function(){q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(q){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var re=_;_=te;try{return q()}finally{_=re}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=_;_=q;try{return te()}finally{_=re}},n.unstable_scheduleCallback=function(q,te,re){var se=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?se+re:se):re=se,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=re+U,q={id:g++,callback:te,priorityLevel:q,startTime:re,expirationTime:U,sortIndex:-1},re>se?(q.sortIndex=re,e(m,q),s(p)===null&&q===s(m)&&(w?(V(J),J=-1):w=!0,Ce(k,re-se))):(q.sortIndex=U,e(p,q),S||b||(S=!0,B||(B=!0,me()))),q},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(q){var te=_;return function(){var re=_;_=te;try{return q.apply(this,arguments)}finally{_=re}}}})(tf)),tf}var Gg;function rS(){return Gg||(Gg=1,ef.exports=sS()),ef.exports}var nf={exports:{}},Tt={};var Kg;function aS(){if(Kg)return Tt;Kg=1;var n=ld();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,g)},Tt.flushSync=function(p){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=g,r.d.f()}},Tt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Tt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Tt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Tt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Tt.requestFormReset=function(p){r.d.r(p)},Tt.unstable_batchedUpdates=function(p,m){return p(m)},Tt.useFormState=function(p,m,g){return c.H.useFormState(p,m,g)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var Qg;function lS(){if(Qg)return nf.exports;Qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nf.exports=aS(),nf.exports}var Fg;function oS(){if(Fg)return la;Fg=1;var n=rS(),e=ld(),s=lS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return p(f),t;if(h===o)return p(f),i;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=h;else{for(var v=!1,x=f.child;x;){if(x===a){v=!0,a=f,o=h;break}if(x===o){v=!0,o=f,a=h;break}x=x.sibling}if(!v){for(x=h.child;x;){if(x===a){v=!0,a=h,o=f;break}if(x===o){v=!0,o=h,a=f;break}x=x.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=pe&&t[pe]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ge?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case L:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:Ne(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return Ne(t(i))}catch{}}return null}var Ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},se=[],U=-1;function T(t){return{current:t}}function N(t){0>U||(t.current=se[U],se[U]=null,U--)}function P(t,i){U++,se[U]=t.current,t.current=i}var Y=T(null),Z=T(null),X=T(null),ne=T(null);function ue(t,i){switch(P(X,i),P(Z,t),P(Y,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?og(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=og(i),t=ug(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(Y),P(Y,t)}function ge(){N(Y),N(Z),N(X)}function $e(t){t.memoizedState!==null&&P(ne,t);var i=Y.current,a=ug(i,t.type);i!==a&&(P(Z,t),P(Y,a))}function Xe(t){Z.current===t&&(N(Y),N(Z)),ne.current===t&&(N(ne),na._currentValue=re)}var Qe,kt;function sn(t){if(Qe===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qe=i&&i[1]||"",kt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+t+kt}var ri=!1;function bn(t,i){if(!t||ri)return"";ri=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],x=h[1];if(v&&x){var C=v.split(`
`),I=x.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===I.length)for(o=C.length-1,f=I.length-1;1<=o&&0<=f&&C[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==I[f]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=f);break}}}finally{ri=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sn(a):""}function hr(t,i){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==i&&i!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return bn(t.type,!1);case 11:return bn(t.type.render,!1);case 1:return bn(t.type,!0);case 31:return sn("Activity");default:return""}}function pr(t){try{var i="",a=null;do i+=hr(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Vi=Object.prototype.hasOwnProperty,hs=n.unstable_scheduleCallback,ce=n.unstable_cancelCallback,Ae=n.unstable_shouldYield,Be=n.unstable_requestPaint,de=n.unstable_now,gt=n.unstable_getCurrentPriorityLevel,jt=n.unstable_ImmediatePriority,zn=n.unstable_UserBlockingPriority,Tn=n.unstable_NormalPriority,ct=n.unstable_LowPriority,wt=n.unstable_IdlePriority,Rn=n.log,ai=n.unstable_setDisableYieldValue,li=null,yt=null;function oi(t){if(typeof Rn=="function"&&ai(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(li,t)}catch{}}var Qt=Math.clz32?Math.clz32:Pv,Uv=Math.log,Vv=Math.LN2;function Pv(t){return t>>>=0,t===0?32:31-(Uv(t)/Vv|0)|0}var Ma=256,La=262144,ja=4194304;function Pi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ia(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~h,o!==0?f=Pi(o):(v&=x,v!==0?f=Pi(v):a||(a=x&~t,a!==0&&(f=Pi(a))))):(x=o&~h,x!==0?f=Pi(x):v!==0?f=Pi(v):a||(a=o&~t,a!==0&&(f=Pi(a)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:f}function mr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hv(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(){var t=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),t}function Uo(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qv(t,i,a,o,f,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,I=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Qt(a),$=1<<G;x[G]=0,C[G]=-1;var z=I[G];if(z!==null)for(I[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&Gd(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~i))}function Gd(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Qt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Kd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Qt(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Qd(t,i){var a=i&-i;return a=(a&42)!==0?1:Vo(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Po(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fd(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Ng(t.type))}function Yd(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var ui=Math.random().toString(36).slice(2),vt="__reactFiber$"+ui,It="__reactProps$"+ui,ps="__reactContainer$"+ui,Ho="__reactEvents$"+ui,Gv="__reactListeners$"+ui,Kv="__reactHandles$"+ui,$d="__reactResources$"+ui,yr="__reactMarker$"+ui;function qo(t){delete t[vt],delete t[It],delete t[Ho],delete t[Gv],delete t[Kv]}function ms(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ps]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=gg(t);t!==null;){if(a=t[vt])return a;t=gg(t)}return i}t=a,a=t.parentNode}return null}function gs(t){if(t=t[vt]||t[ps]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ys(t){var i=t[$d];return i||(i=t[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[yr]=!0}var Xd=new Set,Jd={};function Hi(t,i){vs(t,i),vs(t+"Capture",i)}function vs(t,i){for(Jd[t]=i,t=0;t<i.length;t++)Xd.add(i[t])}var Qv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zd={},Wd={};function Fv(t){return Vi.call(Wd,t)?!0:Vi.call(Zd,t)?!1:Qv.test(t)?Wd[t]=!0:(Zd[t]=!0,!1)}function za(t,i,a){if(Fv(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ba(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Bn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eh(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yv(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Go(t){if(!t._valueTracker){var i=eh(t)?"checked":"value";t._valueTracker=Yv(t,i,""+t[i])}}function th(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=eh(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $v=/[\n"\\]/g;function an(t){return t.replace($v,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ko(t,i,a,o,f,h,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,v,rn(i)):a!=null?Qo(t,v,rn(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+rn(x):t.removeAttribute("name")}function nh(t,i,a,o,f,h,v,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){Go(t);return}a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Go(t)}function Qo(t,i,a){i==="number"&&Ua(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _s(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ih(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function sh(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Go(t)}function bs(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Xv.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ah(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&rh(t,f,o)}else for(var h in i)i.hasOwnProperty(h)&&rh(t,h,i[h])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Zv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Yo=null;function $o(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,xs=null;function lh(t){var i=gs(t);if(i&&(t=i.stateNode)){var a=t[It]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ko(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[It]||null;if(!f)throw Error(r(90));Ko(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&th(o)}break e;case"textarea":ih(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_s(t,!!a.multiple,i,!1)}}}var Xo=!1;function oh(t,i,a){if(Xo)return t(i,a);Xo=!0;try{var o=t(i);return o}finally{if(Xo=!1,(Ss!==null||xs!==null)&&(Cl(),Ss&&(i=Ss,t=xs,xs=Ss=null,lh(i),t)))for(i=0;i<t.length;i++)lh(t[i])}}function _r(t,i){var a=t.stateNode;if(a===null)return null;var o=a[It]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(Vn)try{var br={};Object.defineProperty(br,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Jo=!1}var ci=null,Zo=null,Pa=null;function uh(){if(Pa)return Pa;var t,i=Zo,a=i.length,o,f="value"in ci?ci.value:ci.textContent,h=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===f[h-o];o++);return Pa=f.slice(t,1<o?1-o:void 0)}function Ha(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qa(){return!0}function ch(){return!1}function zt(t){function i(a,o,f,h,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?qa:ch,this.isPropagationStopped=ch,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=zt(qi),Sr=y({},qi,{view:0,detail:0}),Wv=zt(Sr),Wo,eu,xr,Ka=y({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(Wo=t.screenX-xr.screenX,eu=t.screenY-xr.screenY):eu=Wo=0,xr=t),Wo)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),fh=zt(Ka),e_=y({},Ka,{dataTransfer:0}),t_=zt(e_),n_=y({},Sr,{relatedTarget:0}),tu=zt(n_),i_=y({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),s_=zt(i_),r_=y({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a_=zt(r_),l_=y({},qi,{data:0}),dh=zt(l_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=c_[t])?!!i[t]:!1}function nu(){return f_}var d_=y({},Sr,{key:function(t){if(t.key){var i=o_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h_=zt(d_),p_=y({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=zt(p_),m_=y({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),g_=zt(m_),y_=y({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=zt(y_),__=y({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=zt(__),S_=y({},qi,{newState:0,oldState:0}),x_=zt(S_),E_=[9,13,27,32],iu=Vn&&"CompositionEvent"in window,Er=null;Vn&&"documentMode"in document&&(Er=document.documentMode);var w_=Vn&&"TextEvent"in window&&!Er,ph=Vn&&(!iu||Er&&8<Er&&11>=Er),mh=" ",gh=!1;function yh(t,i){switch(t){case"keyup":return E_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function T_(t,i){switch(t){case"compositionend":return vh(i);case"keypress":return i.which!==32?null:(gh=!0,mh);case"textInput":return t=i.data,t===mh&&gh?null:t;default:return null}}function R_(t,i){if(Es)return t==="compositionend"||!iu&&yh(t,i)?(t=uh(),Pa=Zo=ci=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ph&&i.locale!=="ko"?null:i.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!C_[t.type]:i==="textarea"}function bh(t,i,a,o){Ss?xs?xs.push(o):xs=[o]:Ss=o,i=Ll(i,"onChange"),0<i.length&&(a=new Ga("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var wr=null,Tr=null;function A_(t){ng(t,0)}function Qa(t){var i=vr(t);if(th(i))return t}function Sh(t,i){if(t==="change")return i}var xh=!1;if(Vn){var su;if(Vn){var ru="oninput"in document;if(!ru){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),ru=typeof Eh.oninput=="function"}su=ru}else su=!1;xh=su&&(!document.documentMode||9<document.documentMode)}function wh(){wr&&(wr.detachEvent("onpropertychange",Th),Tr=wr=null)}function Th(t){if(t.propertyName==="value"&&Qa(Tr)){var i=[];bh(i,Tr,t,$o(t)),oh(A_,i)}}function O_(t,i,a){t==="focusin"?(wh(),wr=i,Tr=a,wr.attachEvent("onpropertychange",Th)):t==="focusout"&&wh()}function k_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qa(Tr)}function D_(t,i){if(t==="click")return Qa(i)}function N_(t,i){if(t==="input"||t==="change")return Qa(i)}function M_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ft=typeof Object.is=="function"?Object.is:M_;function Rr(t,i){if(Ft(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Vi.call(i,f)||!Ft(t[f],i[f]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,i){var a=Rh(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rh(a)}}function Ah(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ah(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Oh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ua(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ua(t.document)}return i}function au(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var L_=Vn&&"documentMode"in document&&11>=document.documentMode,ws=null,lu=null,Cr=null,ou=!1;function kh(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ou||ws==null||ws!==Ua(o)||(o=ws,"selectionStart"in o&&au(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cr&&Rr(Cr,o)||(Cr=o,o=Ll(lu,"onSelect"),0<o.length&&(i=new Ga("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ws)))}function Gi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ts={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},uu={},Dh={};Vn&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ki(t){if(uu[t])return uu[t];if(!Ts[t])return t;var i=Ts[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Dh)return uu[t]=i[a];return t}var Nh=Ki("animationend"),Mh=Ki("animationiteration"),Lh=Ki("animationstart"),j_=Ki("transitionrun"),I_=Ki("transitionstart"),z_=Ki("transitioncancel"),jh=Ki("transitionend"),Ih=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function Sn(t,i){Ih.set(t,i),Hi(i,[t])}var Fa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ln=[],Rs=0,fu=0;function Ya(){for(var t=Rs,i=fu=Rs=0;i<t;){var a=ln[i];ln[i++]=null;var o=ln[i];ln[i++]=null;var f=ln[i];ln[i++]=null;var h=ln[i];if(ln[i++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&zh(a,f,h)}}function $a(t,i,a,o){ln[Rs++]=t,ln[Rs++]=i,ln[Rs++]=a,ln[Rs++]=o,fu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function du(t,i,a,o){return $a(t,i,a,o),Xa(t)}function Qi(t,i){return $a(t,null,null,i),Xa(t)}function zh(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&i!==null&&(f=31-Qt(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),h):null}function Xa(t){if(50<$r)throw $r=0,Sc=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Cs={};function B_(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,i,a,o){return new B_(t,i,a,o)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,i){var a=t.alternate;return a===null?(a=Yt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ja(t,i,a,o,f,h){var v=0;if(o=t,typeof t=="function")hu(t)&&(v=1);else if(typeof t=="string")v=qb(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Yt(31,a,i,f),t.elementType=ie,t.lanes=h,t;case w:return Fi(a.children,f,h,i);case A:v=8,f|=24;break;case D:return t=Yt(12,a,i,f|2),t.elementType=D,t.lanes=h,t;case k:return t=Yt(13,a,i,f),t.elementType=k,t.lanes=h,t;case B:return t=Yt(19,a,i,f),t.elementType=B,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:v=10;break e;case V:v=9;break e;case K:v=11;break e;case J:v=14;break e;case ee:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Yt(v,a,i,f),i.elementType=t,i.type=o,i.lanes=h,i}function Fi(t,i,a,o){return t=Yt(7,t,o,i),t.lanes=a,t}function pu(t,i,a){return t=Yt(6,t,null,i),t.lanes=a,t}function Uh(t){var i=Yt(18,null,null,0);return i.stateNode=t,i}function mu(t,i,a){return i=Yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vh=new WeakMap;function on(t,i){if(typeof t=="object"&&t!==null){var a=Vh.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pr(i)},Vh.set(t,i),i)}return{value:t,source:i,stack:pr(i)}}var As=[],Os=0,Za=null,Ar=0,un=[],cn=0,fi=null,Cn=1,An="";function Hn(t,i){As[Os++]=Ar,As[Os++]=Za,Za=t,Ar=i}function Ph(t,i,a){un[cn++]=Cn,un[cn++]=An,un[cn++]=fi,fi=t;var o=Cn;t=An;var f=32-Qt(o)-1;o&=~(1<<f),a+=1;var h=32-Qt(i)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Cn=1<<32-Qt(i)+f|a<<f|o,An=h+t}else Cn=1<<h|a<<f|o,An=t}function gu(t){t.return!==null&&(Hn(t,1),Ph(t,1,0))}function yu(t){for(;t===Za;)Za=As[--Os],As[Os]=null,Ar=As[--Os],As[Os]=null;for(;t===fi;)fi=un[--cn],un[cn]=null,An=un[--cn],un[cn]=null,Cn=un[--cn],un[cn]=null}function Hh(t,i){un[cn++]=Cn,un[cn++]=An,un[cn++]=fi,Cn=i.id,An=i.overflow,fi=t}var _t=null,Pe=null,Re=!1,di=null,fn=!1,vu=Error(r(519));function hi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(on(i,t)),vu}function qh(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[vt]=t,i[It]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Jr.length;a++)xe(Jr[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),nh(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),sh(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ag(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=Un),i=!0):i=!1,i||hi(t,!0)}function Gh(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:_t=_t.return}}function ks(t){if(t!==_t)return!1;if(!Re)return Gh(t),Re=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ic(t.type,t.memoizedProps)),a=!a),a&&Pe&&hi(t),Gh(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Pe=mg(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Pe=mg(t)}else i===27?(i=Pe,Ci(t.type)?(t=Pc,Pc=null,Pe=t):Pe=i):Pe=_t?hn(t.stateNode.nextSibling):null;return!0}function Yi(){Pe=_t=null,Re=!1}function _u(){var t=di;return t!==null&&(Pt===null?Pt=t:Pt.push.apply(Pt,t),di=null),t}function Or(t){di===null?di=[t]:di.push(t)}var bu=T(null),$i=null,qn=null;function pi(t,i,a){P(bu,i._currentValue),i._currentValue=a}function Gn(t){t._currentValue=bu.current,N(bu)}function Su(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function xu(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=f;for(var C=0;C<i.length;C++)if(x.context===i[C]){h.lanes|=a,x=h.alternate,x!==null&&(x.lanes|=a),Su(h.return,a,t),o||(v=null);break e}h=x.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),Su(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ds(t,i,a,o){t=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var x=f.type;Ft(f.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(f===ne.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(na):t=[na])}f=f.return}t!==null&&xu(i,t,a,o),i.flags|=262144}function Wa(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xi(t){$i=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bt(t){return Kh($i,t)}function el(t,i){return $i===null&&Xi(t),Kh(t,i)}function Kh(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qn===null){if(t===null)throw Error(r(308));qn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qn=qn.next=i;return a}var U_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},V_=n.unstable_scheduleCallback,P_=n.unstable_NormalPriority,We={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new U_,data:new Map,refCount:0}}function kr(t){t.refCount--,t.refCount===0&&V_(P_,function(){t.controller.abort()})}var Dr=null,wu=0,Ns=0,Ms=null;function H_(t,i){if(Dr===null){var a=Dr=[];wu=0,Ns=Cc(),Ms={status:"pending",value:void 0,then:function(o){a.push(o)}}}return wu++,i.then(Qh,Qh),i}function Qh(){if(--wu===0&&Dr!==null){Ms!==null&&(Ms.status="fulfilled");var t=Dr;Dr=null,Ns=0,Ms=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function q_(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Fh=q.S;q.S=function(t,i){km=de(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&H_(t,i),Fh!==null&&Fh(t,i)};var Ji=T(null);function Tu(){var t=Ji.current;return t!==null?t:Ue.pooledCache}function tl(t,i){i===null?P(Ji,Ji.current):P(Ji,i.pool)}function Yh(){var t=Tu();return t===null?null:{parent:We._currentValue,pool:t}}var Ls=Error(r(460)),Ru=Error(r(474)),nl=Error(r(542)),il={then:function(){}};function $h(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xh(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Un,Un),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zh(t),t;default:if(typeof i.status=="string")i.then(Un,Un);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zh(t),t}throw Wi=i,Ls}}function Zi(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wi=a,Ls):a}}var Wi=null;function Jh(){if(Wi===null)throw Error(r(459));var t=Wi;return Wi=null,t}function Zh(t){if(t===Ls||t===nl)throw Error(r(483))}var js=null,Nr=0;function sl(t){var i=Nr;return Nr+=1,js===null&&(js=[]),Xh(js,t,i)}function Mr(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rl(t,i){throw i.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wh(t){function i(M,O){if(t){var j=M.deletions;j===null?(M.deletions=[O],M.flags|=16):j.push(O)}}function a(M,O){if(!t)return null;for(;O!==null;)i(M,O),O=O.sibling;return null}function o(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function f(M,O){return M=Pn(M,O),M.index=0,M.sibling=null,M}function h(M,O,j){return M.index=j,t?(j=M.alternate,j!==null?(j=j.index,j<O?(M.flags|=67108866,O):j):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function x(M,O,j,Q){return O===null||O.tag!==6?(O=pu(j,M.mode,Q),O.return=M,O):(O=f(O,j),O.return=M,O)}function C(M,O,j,Q){var fe=j.type;return fe===w?G(M,O,j.props.children,Q,j.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&Zi(fe)===O.type)?(O=f(O,j.props),Mr(O,j),O.return=M,O):(O=Ja(j.type,j.key,j.props,null,M.mode,Q),Mr(O,j),O.return=M,O)}function I(M,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=mu(j,M.mode,Q),O.return=M,O):(O=f(O,j.children||[]),O.return=M,O)}function G(M,O,j,Q,fe){return O===null||O.tag!==7?(O=Fi(j,M.mode,Q,fe),O.return=M,O):(O=f(O,j),O.return=M,O)}function $(M,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pu(""+O,M.mode,j),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return j=Ja(O.type,O.key,O.props,null,M.mode,j),Mr(j,O),j.return=M,j;case S:return O=mu(O,M.mode,j),O.return=M,O;case ee:return O=Zi(O),$(M,O,j)}if(Ce(O)||me(O))return O=Fi(O,M.mode,j,null),O.return=M,O;if(typeof O.then=="function")return $(M,sl(O),j);if(O.$$typeof===L)return $(M,el(M,O),j);rl(M,O)}return null}function z(M,O,j,Q){var fe=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:x(M,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===fe?C(M,O,j,Q):null;case S:return j.key===fe?I(M,O,j,Q):null;case ee:return j=Zi(j),z(M,O,j,Q)}if(Ce(j)||me(j))return fe!==null?null:G(M,O,j,Q,null);if(typeof j.then=="function")return z(M,O,sl(j),Q);if(j.$$typeof===L)return z(M,O,el(M,j),Q);rl(M,j)}return null}function H(M,O,j,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(j)||null,x(O,M,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return M=M.get(Q.key===null?j:Q.key)||null,C(O,M,Q,fe);case S:return M=M.get(Q.key===null?j:Q.key)||null,I(O,M,Q,fe);case ee:return Q=Zi(Q),H(M,O,j,Q,fe)}if(Ce(Q)||me(Q))return M=M.get(j)||null,G(O,M,Q,fe,null);if(typeof Q.then=="function")return H(M,O,j,sl(Q),fe);if(Q.$$typeof===L)return H(M,O,j,el(O,Q),fe);rl(O,Q)}return null}function le(M,O,j,Q){for(var fe=null,Oe=null,oe=O,_e=O=0,we=null;oe!==null&&_e<j.length;_e++){oe.index>_e?(we=oe,oe=null):we=oe.sibling;var ke=z(M,oe,j[_e],Q);if(ke===null){oe===null&&(oe=we);break}t&&oe&&ke.alternate===null&&i(M,oe),O=h(ke,O,_e),Oe===null?fe=ke:Oe.sibling=ke,Oe=ke,oe=we}if(_e===j.length)return a(M,oe),Re&&Hn(M,_e),fe;if(oe===null){for(;_e<j.length;_e++)oe=$(M,j[_e],Q),oe!==null&&(O=h(oe,O,_e),Oe===null?fe=oe:Oe.sibling=oe,Oe=oe);return Re&&Hn(M,_e),fe}for(oe=o(oe);_e<j.length;_e++)we=H(oe,M,_e,j[_e],Q),we!==null&&(t&&we.alternate!==null&&oe.delete(we.key===null?_e:we.key),O=h(we,O,_e),Oe===null?fe=we:Oe.sibling=we,Oe=we);return t&&oe.forEach(function(Ni){return i(M,Ni)}),Re&&Hn(M,_e),fe}function he(M,O,j,Q){if(j==null)throw Error(r(151));for(var fe=null,Oe=null,oe=O,_e=O=0,we=null,ke=j.next();oe!==null&&!ke.done;_e++,ke=j.next()){oe.index>_e?(we=oe,oe=null):we=oe.sibling;var Ni=z(M,oe,ke.value,Q);if(Ni===null){oe===null&&(oe=we);break}t&&oe&&Ni.alternate===null&&i(M,oe),O=h(Ni,O,_e),Oe===null?fe=Ni:Oe.sibling=Ni,Oe=Ni,oe=we}if(ke.done)return a(M,oe),Re&&Hn(M,_e),fe;if(oe===null){for(;!ke.done;_e++,ke=j.next())ke=$(M,ke.value,Q),ke!==null&&(O=h(ke,O,_e),Oe===null?fe=ke:Oe.sibling=ke,Oe=ke);return Re&&Hn(M,_e),fe}for(oe=o(oe);!ke.done;_e++,ke=j.next())ke=H(oe,M,_e,ke.value,Q),ke!==null&&(t&&ke.alternate!==null&&oe.delete(ke.key===null?_e:ke.key),O=h(ke,O,_e),Oe===null?fe=ke:Oe.sibling=ke,Oe=ke);return t&&oe.forEach(function(eS){return i(M,eS)}),Re&&Hn(M,_e),fe}function ze(M,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===w&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var fe=j.key;O!==null;){if(O.key===fe){if(fe=j.type,fe===w){if(O.tag===7){a(M,O.sibling),Q=f(O,j.props.children),Q.return=M,M=Q;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&Zi(fe)===O.type){a(M,O.sibling),Q=f(O,j.props),Mr(Q,j),Q.return=M,M=Q;break e}a(M,O);break}else i(M,O);O=O.sibling}j.type===w?(Q=Fi(j.props.children,M.mode,Q,j.key),Q.return=M,M=Q):(Q=Ja(j.type,j.key,j.props,null,M.mode,Q),Mr(Q,j),Q.return=M,M=Q)}return v(M);case S:e:{for(fe=j.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(M,O.sibling),Q=f(O,j.children||[]),Q.return=M,M=Q;break e}else{a(M,O);break}else i(M,O);O=O.sibling}Q=mu(j,M.mode,Q),Q.return=M,M=Q}return v(M);case ee:return j=Zi(j),ze(M,O,j,Q)}if(Ce(j))return le(M,O,j,Q);if(me(j)){if(fe=me(j),typeof fe!="function")throw Error(r(150));return j=fe.call(j),he(M,O,j,Q)}if(typeof j.then=="function")return ze(M,O,sl(j),Q);if(j.$$typeof===L)return ze(M,O,el(M,j),Q);rl(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(M,O.sibling),Q=f(O,j),Q.return=M,M=Q):(a(M,O),Q=pu(j,M.mode,Q),Q.return=M,M=Q),v(M)):a(M,O)}return function(M,O,j,Q){try{Nr=0;var fe=ze(M,O,j,Q);return js=null,fe}catch(oe){if(oe===Ls||oe===nl)throw oe;var Oe=Yt(29,oe,null,M.mode);return Oe.lanes=Q,Oe.return=M,Oe}}}var es=Wh(!0),ep=Wh(!1),mi=!1;function Cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(De&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Xa(t),zh(t,null,a),i}return $a(t,o,i,a),Xa(t)}function Lr(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Kd(t,a)}}function Ou(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?f=h=i:h=h.next=i}else f=h=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ku=!1;function jr(){if(ku){var t=Ms;if(t!==null)throw t}}function Ir(t,i,a,o){ku=!1;var f=t.updateQueue;mi=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var C=x,I=C.next;C.next=null,v===null?h=I:v.next=I,v=C;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==v&&(x===null?G.firstBaseUpdate=I:x.next=I,G.lastBaseUpdate=C))}if(h!==null){var $=f.baseState;v=0,G=I=C=null,x=h;do{var z=x.lane&-536870913,H=z!==x.lane;if(H?(Ee&z)===z:(o&z)===z){z!==0&&z===Ns&&(ku=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var le=t,he=x;z=i;var ze=a;switch(he.tag){case 1:if(le=he.payload,typeof le=="function"){$=le.call(ze,$,z);break e}$=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=he.payload,z=typeof le=="function"?le.call(ze,$,z):le,z==null)break e;$=y({},$,z);break e;case 2:mi=!0}}z=x.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[z]:H.push(z))}else H={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(I=G=H,C=$):G=G.next=H,v|=z;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;H=x,x=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(C=$),f.baseState=C,f.firstBaseUpdate=I,f.lastBaseUpdate=G,h===null&&(f.shared.lanes=0),xi|=v,t.lanes=v,t.memoizedState=$}}function tp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function np(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tp(a[t],i)}var Is=T(null),al=T(0);function ip(t,i){t=Wn,P(al,t),P(Is,i),Wn=t|i.baseLanes}function Du(){P(al,Wn),P(Is,Is.current)}function Nu(){Wn=al.current,N(Is),N(al)}var $t=T(null),dn=null;function vi(t){var i=t.alternate;P(Je,Je.current&1),P($t,t),dn===null&&(i===null||Is.current!==null||i.memoizedState!==null)&&(dn=t)}function Mu(t){P(Je,Je.current),P($t,t),dn===null&&(dn=t)}function sp(t){t.tag===22?(P(Je,Je.current),P($t,t),dn===null&&(dn=t)):_i()}function _i(){P(Je,Je.current),P($t,$t.current)}function Xt(t){N($t),dn===t&&(dn=null),N(Je)}var Je=T(0);function ll(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uc(a)||Vc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kn=0,ve=null,je=null,et=null,ol=!1,zs=!1,ts=!1,ul=0,zr=0,Bs=null,G_=0;function Fe(){throw Error(r(321))}function Lu(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ft(t[a],i[a]))return!1;return!0}function ju(t,i,a,o,f,h){return Kn=h,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?Pp:Xu,ts=!1,h=a(o,f),ts=!1,zs&&(h=ap(i,a,o,f)),rp(t),h}function rp(t){q.H=Vr;var i=je!==null&&je.next!==null;if(Kn=0,et=je=ve=null,ol=!1,zr=0,Bs=null,i)throw Error(r(300));t===null||tt||(t=t.dependencies,t!==null&&Wa(t)&&(tt=!0))}function ap(t,i,a,o){ve=t;var f=0;do{if(zs&&(Bs=null),zr=0,zs=!1,25<=f)throw Error(r(301));if(f+=1,et=je=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=Hp,h=i(a,o)}while(zs);return h}function K_(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?Br(i):i,t=t.useState()[0],(je!==null?je.memoizedState:null)!==t&&(ve.flags|=1024),i}function Iu(){var t=ul!==0;return ul=0,t}function zu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bu(t){if(ol){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ol=!1}Kn=0,et=je=ve=null,zs=!1,zr=ul=0,Bs=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ve.memoizedState=et=t:et=et.next=t,et}function Ze(){if(je===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var i=et===null?ve.memoizedState:et.next;if(i!==null)et=i,je=t;else{if(t===null)throw ve.alternate===null?Error(r(467)):Error(r(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},et===null?ve.memoizedState=et=t:et=et.next=t}return et}function cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(t){var i=zr;return zr+=1,Bs===null&&(Bs=[]),t=Xh(Bs,t,i),i=ve,(et===null?i.memoizedState:et.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Pp:Xu),t}function fl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Br(t);if(t.$$typeof===L)return bt(t)}throw Error(r(438,String(t)))}function Uu(t){var i=null,a=ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cl(),ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=ae;return i.index++,a}function Qn(t,i){return typeof i=="function"?i(t):i}function dl(t){var i=Ze();return Vu(i,je,t)}function Vu(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}i.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{i=f.next;var x=v=null,C=null,I=i,G=!1;do{var $=I.lane&-536870913;if($!==I.lane?(Ee&$)===$:(Kn&$)===$){var z=I.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),$===Ns&&(G=!0);else if((Kn&z)===z){I=I.next,z===Ns&&(G=!0);continue}else $={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(x=C=$,v=h):C=C.next=$,ve.lanes|=z,xi|=z;$=I.action,ts&&a(h,$),h=I.hasEagerState?I.eagerState:a(h,$)}else z={lane:$,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(x=C=z,v=h):C=C.next=z,ve.lanes|=$,xi|=$;I=I.next}while(I!==null&&I!==i);if(C===null?v=h:C.next=x,!Ft(h,t.memoizedState)&&(tt=!0,G&&(a=Ms,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=C,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pu(t){var i=Ze(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Ft(h,i.memoizedState)||(tt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,o]}function lp(t,i,a){var o=ve,f=Ze(),h=Re;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Ft((je||f).memoizedState,a);if(v&&(f.memoizedState=a,tt=!0),f=f.queue,Gu(cp.bind(null,o,f,t),[t]),f.getSnapshot!==i||v||et!==null&&et.memoizedState.tag&1){if(o.flags|=2048,Us(9,{destroy:void 0},up.bind(null,o,f,a,i),null),Ue===null)throw Error(r(349));h||(Kn&127)!==0||op(o,i,a)}return a}function op(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ve.updateQueue,i===null?(i=cl(),ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function up(t,i,a,o){i.value=a,i.getSnapshot=o,fp(i)&&dp(t)}function cp(t,i,a){return a(function(){fp(i)&&dp(t)})}function fp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ft(t,a)}catch{return!0}}function dp(t){var i=Qi(t,2);i!==null&&Ht(i,t,2)}function Hu(t){var i=Dt();if(typeof t=="function"){var a=t;if(t=a(),ts){oi(!0);try{a()}finally{oi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},i}function hp(t,i,a,o){return t.baseState=a,Vu(t,je,typeof o=="function"?o:Qn)}function Q_(t,i,a,o,f){if(ml(t))throw Error(r(485));if(t=i.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};q.T!==null?a(!0):h.isTransition=!1,o(h),a=i.pending,a===null?(h.next=i.pending=h,pp(i,h)):(h.next=a.next,i.pending=a.next=h)}}function pp(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var h=q.T,v={};q.T=v;try{var x=a(f,o),C=q.S;C!==null&&C(v,x),mp(t,i,x)}catch(I){qu(t,i,I)}finally{h!==null&&v.types!==null&&(h.types=v.types),q.T=h}}else try{h=a(f,o),mp(t,i,h)}catch(I){qu(t,i,I)}}function mp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gp(t,i,o)},function(o){return qu(t,i,o)}):gp(t,i,a)}function gp(t,i,a){i.status="fulfilled",i.value=a,yp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,pp(t,a)))}function qu(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,yp(i),i=i.next;while(i!==o)}t.action=null}function yp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vp(t,i){return i}function _p(t,i){if(Re){var a=Ue.formState;if(a!==null){e:{var o=ve;if(Re){if(Pe){t:{for(var f=Pe,h=fn;f.nodeType!==8;){if(!h){f=null;break t}if(f=hn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Pe=hn(f.nextSibling),o=f.data==="F!";break e}}hi(o)}o=!1}o&&(i=a[0])}}return a=Dt(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:i},a.queue=o,a=Bp.bind(null,ve,o),o.dispatch=a,o=Hu(!1),h=$u.bind(null,ve,!1,o.queue),o=Dt(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=Q_.bind(null,ve,f,h,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function bp(t){var i=Ze();return Sp(i,je,t)}function Sp(t,i,a){if(i=Vu(t,i,vp)[0],t=dl(Qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Br(i)}catch(v){throw v===Ls?nl:v}else o=i;i=Ze();var f=i.queue,h=f.dispatch;return a!==i.memoizedState&&(ve.flags|=2048,Us(9,{destroy:void 0},F_.bind(null,f,a),null)),[o,h,t]}function F_(t,i){t.action=i}function xp(t){var i=Ze(),a=je;if(a!==null)return Sp(i,a,t);Ze(),i=i.memoizedState,a=Ze();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Us(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=ve.updateQueue,i===null&&(i=cl(),ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ep(){return Ze().memoizedState}function hl(t,i,a,o){var f=Dt();ve.flags|=t,f.memoizedState=Us(1|i,{destroy:void 0},a,o===void 0?null:o)}function pl(t,i,a,o){var f=Ze();o=o===void 0?null:o;var h=f.memoizedState.inst;je!==null&&o!==null&&Lu(o,je.memoizedState.deps)?f.memoizedState=Us(i,h,a,o):(ve.flags|=t,f.memoizedState=Us(1|i,h,a,o))}function wp(t,i){hl(8390656,8,t,i)}function Gu(t,i){pl(2048,8,t,i)}function Y_(t){ve.flags|=4;var i=ve.updateQueue;if(i===null)i=cl(),ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Tp(t){var i=Ze().memoizedState;return Y_({ref:i,nextImpl:t}),function(){if((De&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Rp(t,i){return pl(4,2,t,i)}function Cp(t,i){return pl(4,4,t,i)}function Ap(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Op(t,i,a){a=a!=null?a.concat([t]):null,pl(4,4,Ap.bind(null,i,t),a)}function Ku(){}function kp(t,i){var a=Ze();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Lu(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Dp(t,i){var a=Ze();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Lu(i,o[1]))return o[0];if(o=t(),ts){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,i],o}function Qu(t,i,a){return a===void 0||(Kn&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nm(),ve.lanes|=t,xi|=t,a)}function Np(t,i,a,o){return Ft(a,i)?a:Is.current!==null?(t=Qu(t,a,o),Ft(t,i)||(tt=!0),t):(Kn&42)===0||(Kn&1073741824)!==0&&(Ee&261930)===0?(tt=!0,t.memoizedState=a):(t=Nm(),ve.lanes|=t,xi|=t,i)}function Mp(t,i,a,o,f){var h=te.p;te.p=h!==0&&8>h?h:8;var v=q.T,x={};q.T=x,$u(t,!1,i,a);try{var C=f(),I=q.S;if(I!==null&&I(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=q_(C,o);Ur(t,i,G,Wt(t))}else Ur(t,i,o,Wt(t))}catch($){Ur(t,i,{then:function(){},status:"rejected",reason:$},Wt())}finally{te.p=h,v!==null&&x.types!==null&&(v.types=x.types),q.T=v}}function $_(){}function Fu(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Lp(t).queue;Mp(t,f,i,re,a===null?$_:function(){return jp(t),a(o)})}function Lp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jp(t){var i=Lp(t);i.next===null&&(i=t.alternate.memoizedState),Ur(t,i.next.queue,{},Wt())}function Yu(){return bt(na)}function Ip(){return Ze().memoizedState}function zp(){return Ze().memoizedState}function X_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Wt();t=gi(a);var o=yi(i,t,a);o!==null&&(Ht(o,i,a),Lr(o,i,a)),i={cache:Eu()},t.payload=i;return}i=i.return}}function J_(t,i,a){var o=Wt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ml(t)?Up(i,a):(a=du(t,i,a,o),a!==null&&(Ht(a,t,o),Vp(a,i,o)))}function Bp(t,i,a){var o=Wt();Ur(t,i,a,o)}function Ur(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ml(t))Up(i,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,x=h(v,a);if(f.hasEagerState=!0,f.eagerState=x,Ft(x,v))return $a(t,i,f,0),Ue===null&&Ya(),!1}catch{}if(a=du(t,i,f,o),a!==null)return Ht(a,t,o),Vp(a,i,o),!0}return!1}function $u(t,i,a,o){if(o={lane:2,revertLane:Cc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ml(t)){if(i)throw Error(r(479))}else i=du(t,a,o,2),i!==null&&Ht(i,t,2)}function ml(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function Up(t,i){zs=ol=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Kd(t,a)}}var Vr={readContext:bt,use:fl,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Vr.useEffectEvent=Fe;var Pp={readContext:bt,use:fl,useCallback:function(t,i){return Dt().memoizedState=[t,i===void 0?null:i],t},useContext:bt,useEffect:wp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hl(4194308,4,Ap.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hl(4194308,4,t,i)},useInsertionEffect:function(t,i){hl(4,2,t,i)},useMemo:function(t,i){var a=Dt();i=i===void 0?null:i;var o=t();if(ts){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=Dt();if(a!==void 0){var f=a(i);if(ts){oi(!0);try{a(i)}finally{oi(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=J_.bind(null,ve,t),[o.memoizedState,t]},useRef:function(t){var i=Dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Hu(t);var i=t.queue,a=Bp.bind(null,ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ku,useDeferredValue:function(t,i){var a=Dt();return Qu(a,t,i)},useTransition:function(){var t=Hu(!1);return t=Mp.bind(null,ve,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=ve,f=Dt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ue===null)throw Error(r(349));(Ee&127)!==0||op(o,i,a)}f.memoizedState=a;var h={value:a,getSnapshot:i};return f.queue=h,wp(cp.bind(null,o,h,t),[t]),o.flags|=2048,Us(9,{destroy:void 0},up.bind(null,o,h,a,i),null),a},useId:function(){var t=Dt(),i=Ue.identifierPrefix;if(Re){var a=An,o=Cn;a=(o&~(1<<32-Qt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ul++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=G_++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yu,useFormState:_p,useActionState:_p,useOptimistic:function(t){var i=Dt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$u.bind(null,ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Uu,useCacheRefresh:function(){return Dt().memoizedState=X_.bind(null,ve)},useEffectEvent:function(t){var i=Dt(),a={impl:t};return i.memoizedState=a,function(){if((De&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Xu={readContext:bt,use:fl,useCallback:kp,useContext:bt,useEffect:Gu,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:dl,useRef:Ep,useState:function(){return dl(Qn)},useDebugValue:Ku,useDeferredValue:function(t,i){var a=Ze();return Np(a,je.memoizedState,t,i)},useTransition:function(){var t=dl(Qn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:Br(t),i]},useSyncExternalStore:lp,useId:Ip,useHostTransitionStatus:Yu,useFormState:bp,useActionState:bp,useOptimistic:function(t,i){var a=Ze();return hp(a,je,t,i)},useMemoCache:Uu,useCacheRefresh:zp};Xu.useEffectEvent=Tp;var Hp={readContext:bt,use:fl,useCallback:kp,useContext:bt,useEffect:Gu,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Pu,useRef:Ep,useState:function(){return Pu(Qn)},useDebugValue:Ku,useDeferredValue:function(t,i){var a=Ze();return je===null?Qu(a,t,i):Np(a,je.memoizedState,t,i)},useTransition:function(){var t=Pu(Qn)[0],i=Ze().memoizedState;return[typeof t=="boolean"?t:Br(t),i]},useSyncExternalStore:lp,useId:Ip,useHostTransitionStatus:Yu,useFormState:xp,useActionState:xp,useOptimistic:function(t,i){var a=Ze();return je!==null?hp(a,je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:zp};Hp.useEffectEvent=Tp;function Ju(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:y({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zu={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Wt(),f=gi(o);f.payload=i,a!=null&&(f.callback=a),i=yi(t,f,o),i!==null&&(Ht(i,t,o),Lr(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Wt(),f=gi(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=yi(t,f,o),i!==null&&(Ht(i,t,o),Lr(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Wt(),o=gi(a);o.tag=2,i!=null&&(o.callback=i),i=yi(t,o,a),i!==null&&(Ht(i,t,a),Lr(i,t,a))}};function qp(t,i,a,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):i.prototype&&i.prototype.isPureReactComponent?!Rr(a,o)||!Rr(f,h):!0}function Gp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Zu.enqueueReplaceState(i,i.state,null)}function ns(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=y({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Kp(t){Fa(t)}function Qp(t){console.error(t)}function Fp(t){Fa(t)}function gl(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wu(t,i,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){gl(t,i)},a}function $p(t){return t=gi(t),t.tag=3,t}function Xp(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Yp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yp(i,a,o),typeof f!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function Z_(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ds(i,a,f,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Al():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===il?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),wc(t,o,f)),!1;case 22:return a.flags|=65536,o===il?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),wc(t,o,f)),!1}throw Error(r(435,a.tag))}return wc(t,o,f),Al(),!1}if(Re)return i=$t.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==vu&&(t=Error(r(422),{cause:o}),Or(on(t,a)))):(o!==vu&&(i=Error(r(423),{cause:o}),Or(on(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=on(o,a),f=Wu(t.stateNode,o,f),Ou(t,f),Ye!==4&&(Ye=2)),!1;var h=Error(r(520),{cause:o});if(h=on(h,a),Yr===null?Yr=[h]:Yr.push(h),Ye!==4&&(Ye=2),i===null)return!0;o=on(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Wu(a.stateNode,o,t),Ou(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$p(f),Xp(f,t,a,o),Ou(a,f),!1}a=a.return}while(a!==null);return!1}var ec=Error(r(461)),tt=!1;function St(t,i,a,o){i.child=t===null?ep(i,null,a,o):es(i,t.child,a,o)}function Jp(t,i,a,o,f){a=a.render;var h=i.ref;if("ref"in o){var v={};for(var x in o)x!=="ref"&&(v[x]=o[x])}else v=o;return Xi(i),o=ju(t,i,a,v,h,f),x=Iu(),t!==null&&!tt?(zu(t,i,f),Fn(t,i,f)):(Re&&x&&gu(i),i.flags|=1,St(t,i,o,f),i.child)}function Zp(t,i,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!hu(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Wp(t,i,h,o,f)):(t=Ja(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!oc(t,f)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(v,o)&&t.ref===i.ref)return Fn(t,i,f)}return i.flags|=1,t=Pn(h,o),t.ref=i.ref,t.return=i,i.child=t}function Wp(t,i,a,o,f){if(t!==null){var h=t.memoizedProps;if(Rr(h,o)&&t.ref===i.ref)if(tt=!1,i.pendingProps=o=h,oc(t,f))(t.flags&131072)!==0&&(tt=!0);else return i.lanes=t.lanes,Fn(t,i,f)}return tc(t,i,a,o,f)}function em(t,i,a,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,i.child=null;return tm(t,i,h,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tl(i,h!==null?h.cachePool:null),h!==null?ip(i,h):Du(),sp(i);else return o=i.lanes=536870912,tm(t,i,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(tl(i,h.cachePool),ip(i,h),_i(),i.memoizedState=null):(t!==null&&tl(i,null),Du(),_i());return St(t,i,f,a),i.child}function Pr(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tm(t,i,a,o,f){var h=Tu();return h=h===null?null:{parent:We._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&tl(i,null),Du(),sp(i),t!==null&&Ds(t,i,o,!0),i.childLanes=f,null}function yl(t,i){return i=_l({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function nm(t,i,a){return es(i,t.child,null,a),t=yl(i,i.pendingProps),t.flags|=2,Xt(i),i.memoizedState=null,t}function W_(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Re){if(o.mode==="hidden")return t=yl(i,o),i.lanes=536870912,Pr(null,t);if(Mu(i),(t=Pe)?(t=pg(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},a=Uh(t),a.return=i,i.child=a,_t=i,Pe=null)):t=null,t===null)throw hi(i);return i.lanes=536870912,null}return yl(i,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Mu(i),f)if(i.flags&256)i.flags&=-257,i=nm(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(tt||Ds(t,i,a,!1),f=(a&t.childLanes)!==0,tt||f){if(o=Ue,o!==null&&(v=Qd(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,Qi(t,v),Ht(o,t,v),ec;Al(),i=nm(t,i,a)}else t=h.treeContext,Pe=hn(v.nextSibling),_t=i,Re=!0,di=null,fn=!1,t!==null&&Hh(i,t),i=yl(i,o),i.flags|=4096;return i}return t=Pn(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function tc(t,i,a,o,f){return Xi(i),a=ju(t,i,a,o,void 0,f),o=Iu(),t!==null&&!tt?(zu(t,i,f),Fn(t,i,f)):(Re&&o&&gu(i),i.flags|=1,St(t,i,a,f),i.child)}function im(t,i,a,o,f,h){return Xi(i),i.updateQueue=null,a=ap(i,o,a,f),rp(t),o=Iu(),t!==null&&!tt?(zu(t,i,h),Fn(t,i,h)):(Re&&o&&gu(i),i.flags|=1,St(t,i,a,h),i.child)}function sm(t,i,a,o,f){if(Xi(i),i.stateNode===null){var h=Cs,v=a.contextType;typeof v=="object"&&v!==null&&(h=bt(v)),h=new a(o,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zu,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=o,h.state=i.memoizedState,h.refs={},Cu(i),v=a.contextType,h.context=typeof v=="object"&&v!==null?bt(v):Cs,h.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ju(i,a,v,o),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Zu.enqueueReplaceState(h,h.state,null),Ir(i,o,h,f),jr(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){h=i.stateNode;var x=i.memoizedProps,C=ns(a,x);h.props=C;var I=h.context,G=a.contextType;v=Cs,typeof G=="object"&&G!==null&&(v=bt(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||I!==v)&&Gp(i,h,o,v),mi=!1;var z=i.memoizedState;h.state=z,Ir(i,o,h,f),jr(),I=i.memoizedState,x||z!==I||mi?(typeof $=="function"&&(Ju(i,a,$,o),I=i.memoizedState),(C=mi||qp(i,a,C,o,z,I,v))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=I),h.props=o,h.state=I,h.context=v,o=C):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{h=i.stateNode,Au(t,i),v=i.memoizedProps,G=ns(a,v),h.props=G,$=i.pendingProps,z=h.context,I=a.contextType,C=Cs,typeof I=="object"&&I!==null&&(C=bt(I)),x=a.getDerivedStateFromProps,(I=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==$||z!==C)&&Gp(i,h,o,C),mi=!1,z=i.memoizedState,h.state=z,Ir(i,o,h,f),jr();var H=i.memoizedState;v!==$||z!==H||mi||t!==null&&t.dependencies!==null&&Wa(t.dependencies)?(typeof x=="function"&&(Ju(i,a,x,o),H=i.memoizedState),(G=mi||qp(i,a,G,o,z,H,C)||t!==null&&t.dependencies!==null&&Wa(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,H,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,H,C)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),h.props=o,h.state=H,h.context=C,o=G):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return h=o,vl(t,i),o=(i.flags&128)!==0,h||o?(h=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&o?(i.child=es(i,t.child,null,f),i.child=es(i,null,a,f)):St(t,i,a,f),i.memoizedState=h.state,t=i.child):t=Fn(t,i,f),t}function rm(t,i,a,o){return Yi(),i.flags|=256,St(t,i,a,o),i.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(t){return{baseLanes:t,cachePool:Yh()}}function sc(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Zt),t}function am(t,i,a){var o=i.pendingProps,f=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Re){if(f?vi(i):_i(),(t=Pe)?(t=pg(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},a=Uh(t),a.return=i,i.child=a,_t=i,Pe=null)):t=null,t===null)throw hi(i);return Vc(t)?i.lanes=32:i.lanes=536870912,null}var x=o.children;return o=o.fallback,f?(_i(),f=i.mode,x=_l({mode:"hidden",children:x},f),o=Fi(o,f,a,null),x.return=i,o.return=i,x.sibling=o,i.child=x,o=i.child,o.memoizedState=ic(a),o.childLanes=sc(t,v,a),i.memoizedState=nc,Pr(null,o)):(vi(i),rc(i,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(h)i.flags&256?(vi(i),i.flags&=-257,i=ac(t,i,a)):i.memoizedState!==null?(_i(),i.child=t.child,i.flags|=128,i=null):(_i(),x=o.fallback,f=i.mode,o=_l({mode:"visible",children:o.children},f),x=Fi(x,f,a,null),x.flags|=2,o.return=i,x.return=i,o.sibling=x,i.child=o,es(i,t.child,null,a),o=i.child,o.memoizedState=ic(a),o.childLanes=sc(t,v,a),i.memoizedState=nc,i=Pr(null,o));else if(vi(i),Vc(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var I=v.dgst;v=I,o=Error(r(419)),o.stack="",o.digest=v,Or({value:o,source:null,stack:null}),i=ac(t,i,a)}else if(tt||Ds(t,i,a,!1),v=(a&t.childLanes)!==0,tt||v){if(v=Ue,v!==null&&(o=Qd(v,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Qi(t,o),Ht(v,t,o),ec;Uc(x)||Al(),i=ac(t,i,a)}else Uc(x)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Pe=hn(x.nextSibling),_t=i,Re=!0,di=null,fn=!1,t!==null&&Hh(i,t),i=rc(i,o.children),i.flags|=4096);return i}return f?(_i(),x=o.fallback,f=i.mode,C=t.child,I=C.sibling,o=Pn(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,I!==null?x=Pn(I,x):(x=Fi(x,f,a,null),x.flags|=2),x.return=i,o.return=i,o.sibling=x,i.child=o,Pr(null,o),o=i.child,x=t.child.memoizedState,x===null?x=ic(a):(f=x.cachePool,f!==null?(C=We._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Yh(),x={baseLanes:x.baseLanes|a,cachePool:f}),o.memoizedState=x,o.childLanes=sc(t,v,a),i.memoizedState=nc,Pr(t.child,o)):(vi(i),a=t.child,t=a.sibling,a=Pn(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function rc(t,i){return i=_l({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _l(t,i){return t=Yt(22,t,null,i),t.lanes=0,t}function ac(t,i,a){return es(i,t.child,null,a),t=rc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function lm(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Su(t.return,i,a)}function lc(t,i,a,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=h)}function om(t,i,a){var o=i.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Je.current,x=(v&2)!==0;if(x?(v=v&1|2,i.flags|=128):v&=1,P(Je,v),St(t,i,o,a),o=Re?Ar:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lm(t,a,i);else if(t.tag===19)lm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&ll(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),lc(i,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ll(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}lc(i,!0,a,null,h,o);break;case"together":lc(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ds(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Pn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function oc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wa(t)))}function eb(t,i,a){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),pi(i,We,t.memoizedState.cache),Yi();break;case 27:case 5:$e(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:pi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mu(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(vi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?am(t,i,a):(vi(i),t=Fn(t,i,a),t!==null?t.sibling:null);vi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ds(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return om(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(Je,Je.current),o)break;return null;case 22:return i.lanes=0,em(t,i,a,i.pendingProps);case 24:pi(i,We,t.memoizedState.cache)}return Fn(t,i,a)}function um(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)tt=!0;else{if(!oc(t,a)&&(i.flags&128)===0)return tt=!1,eb(t,i,a);tt=(t.flags&131072)!==0}else tt=!1,Re&&(i.flags&1048576)!==0&&Ph(i,Ar,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Zi(i.elementType),i.type=t,typeof t=="function")hu(t)?(o=ns(t,o),i.tag=1,i=sm(null,i,t,o,a)):(i.tag=0,i=tc(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===K){i.tag=11,i=Jp(null,i,t,o,a);break e}else if(f===J){i.tag=14,i=Zp(null,i,t,o,a);break e}}throw i=Ne(t)||t,Error(r(306,i,""))}}return i;case 0:return tc(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=ns(o,i.pendingProps),sm(t,i,o,f,a);case 3:e:{if(ue(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var h=i.memoizedState;f=h.element,Au(t,i),Ir(i,o,null,a);var v=i.memoizedState;if(o=v.cache,pi(i,We,o),o!==h.cache&&xu(i,[We],a,!0),jr(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=rm(t,i,o,a);break e}else if(o!==f){f=on(Error(r(424)),i),Or(f),i=rm(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Pe=hn(t.firstChild),_t=i,Re=!0,di=null,fn=!0,a=ep(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yi(),o===f){i=Fn(t,i,a);break e}St(t,i,o,a)}i=i.child}return i;case 26:return vl(t,i),t===null?(a=bg(i.type,null,i.pendingProps,null))?i.memoizedState=a:Re||(a=i.type,t=i.pendingProps,o=jl(X.current).createElement(a),o[vt]=i,o[It]=t,xt(o,a,t),ft(o),i.stateNode=o):i.memoizedState=bg(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $e(i),t===null&&Re&&(o=i.stateNode=yg(i.type,i.pendingProps,X.current),_t=i,fn=!0,f=Pe,Ci(i.type)?(Pc=f,Pe=hn(o.firstChild)):Pe=f),St(t,i,i.pendingProps.children,a),vl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Re&&((f=o=Pe)&&(o=kb(o,i.type,i.pendingProps,fn),o!==null?(i.stateNode=o,_t=i,Pe=hn(o.firstChild),fn=!1,f=!0):f=!1),f||hi(i)),$e(i),f=i.type,h=i.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Ic(f,h)?o=null:v!==null&&Ic(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=ju(t,i,K_,null,null,a),na._currentValue=f),vl(t,i),St(t,i,o,a),i.child;case 6:return t===null&&Re&&((t=a=Pe)&&(a=Db(a,i.pendingProps,fn),a!==null?(i.stateNode=a,_t=i,Pe=null,t=!0):t=!1),t||hi(i)),null;case 13:return am(t,i,a);case 4:return ue(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=es(i,null,o,a):St(t,i,o,a),i.child;case 11:return Jp(t,i,i.type,i.pendingProps,a);case 7:return St(t,i,i.pendingProps,a),i.child;case 8:return St(t,i,i.pendingProps.children,a),i.child;case 12:return St(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,pi(i,i.type,o.value),St(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Xi(i),f=bt(f),o=o(f),i.flags|=1,St(t,i,o,a),i.child;case 14:return Zp(t,i,i.type,i.pendingProps,a);case 15:return Wp(t,i,i.type,i.pendingProps,a);case 19:return om(t,i,a);case 31:return W_(t,i,a);case 22:return em(t,i,a,i.pendingProps);case 24:return Xi(i),o=bt(We),t===null?(f=Tu(),f===null&&(f=Ue,h=Eu(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),i.memoizedState={parent:o,cache:f},Cu(i),pi(i,We,f)):((t.lanes&a)!==0&&(Au(t,i),Ir(i,null,null,a),jr()),f=t.memoizedState,h=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),pi(i,We,o)):(o=h.cache,pi(i,We,o),o!==f.cache&&xu(i,[We],a,!0))),St(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Yn(t){t.flags|=4}function uc(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Im())t.flags|=8192;else throw Wi=il,Ru}else t.flags&=-16777217}function cm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tg(i))if(Im())t.flags|=8192;else throw Wi=il,Ru}function bl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qd():536870912,t.lanes|=i,qs|=i)}function Hr(t,i){if(!Re)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function He(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function tb(t,i,a){var o=i.pendingProps;switch(yu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(i),null;case 1:return He(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gn(We),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ks(i)?Yn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_u())),He(i),null;case 26:var f=i.type,h=i.memoizedState;return t===null?(Yn(i),h!==null?(He(i),cm(i,h)):(He(i),uc(i,f,null,o,a))):h?h!==t.memoizedState?(Yn(i),He(i),cm(i,h)):(He(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Yn(i),He(i),uc(i,f,t,o,a)),null;case 27:if(Xe(i),a=X.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Yn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return He(i),null}t=Y.current,ks(i)?qh(i):(t=yg(f,o,a),i.stateNode=t,Yn(i))}return He(i),null;case 5:if(Xe(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Yn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return He(i),null}if(h=Y.current,ks(i))qh(i);else{var v=jl(X.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[vt]=i,h[It]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=h;e:switch(xt(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Yn(i)}}return He(i),uc(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Yn(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=X.current,ks(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=_t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ag(t.nodeValue,a)),t||hi(i,!0)}else t=jl(t).createTextNode(o),t[vt]=i,i.stateNode=t}return He(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=ks(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[vt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),t=!1}else a=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Xt(i),i):(Xt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return He(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ks(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[vt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),f=!1}else f=_u(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xt(i),i):(Xt(i),null)}return Xt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bl(i,i.updateQueue),He(i),null);case 4:return ge(),t===null&&Dc(i.stateNode.containerInfo),He(i),null;case 10:return Gn(i.type),He(i),null;case 19:if(N(Je),o=i.memoizedState,o===null)return He(i),null;if(f=(i.flags&128)!==0,h=o.rendering,h===null)if(f)Hr(o,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=ll(t),h!==null){for(i.flags|=128,Hr(o,!1),t=h.updateQueue,i.updateQueue=t,bl(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bh(a,t),a=a.sibling;return P(Je,Je.current&1|2),Re&&Hn(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&de()>Tl&&(i.flags|=128,f=!0,Hr(o,!1),i.lanes=4194304)}else{if(!f)if(t=ll(h),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,bl(i,t),Hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Re)return He(i),null}else 2*de()-o.renderingStartTime>Tl&&a!==536870912&&(i.flags|=128,f=!0,Hr(o,!1),i.lanes=4194304);o.isBackwards?(h.sibling=i.child,i.child=h):(t=o.last,t!==null?t.sibling=h:i.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=de(),t.sibling=null,a=Je.current,P(Je,f?a&1|2:a&1),Re&&Hn(i,o.treeForkCount),t):(He(i),null);case 22:case 23:return Xt(i),Nu(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(He(i),i.subtreeFlags&6&&(i.flags|=8192)):He(i),a=i.updateQueue,a!==null&&bl(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&N(Ji),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gn(We),He(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function nb(t,i){switch(yu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gn(We),ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 31:if(i.memoizedState!==null){if(Xt(i),i.alternate===null)throw Error(r(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Xt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return N(Je),null;case 4:return ge(),null;case 10:return Gn(i.type),null;case 22:case 23:return Xt(i),Nu(),t!==null&&N(Ji),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gn(We),null;case 25:return null;default:return null}}function fm(t,i){switch(yu(i),i.tag){case 3:Gn(We),ge();break;case 26:case 27:case 5:Xe(i);break;case 4:ge();break;case 31:i.memoizedState!==null&&Xt(i);break;case 13:Xt(i);break;case 19:N(Je);break;case 10:Gn(i.type);break;case 22:case 23:Xt(i),Nu(),t!==null&&N(Ji);break;case 24:Gn(We)}}function qr(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==f)}}catch(x){Le(i,i.return,x)}}function bi(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,f=i;var C=a,I=x;try{I()}catch(G){Le(f,C,G)}}}o=o.next}while(o!==h)}}catch(G){Le(i,i.return,G)}}function dm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{np(i,a)}catch(o){Le(t,t.return,o)}}}function hm(t,i,a){a.props=ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Le(t,i,o)}}function Gr(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Le(t,i,f)}}function On(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Le(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Le(t,i,f)}else a.current=null}function pm(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Le(t,t.return,f)}}function cc(t,i,a){try{var o=t.stateNode;wb(o,t.type,a,i),o[It]=i}catch(f){Le(t,t.return,f)}}function mm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Un));else if(o!==4&&(o===27&&Ci(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(dc(t,i,a),t=t.sibling;t!==null;)dc(t,i,a),t=t.sibling}function Sl(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sl(t,i,a),t=t.sibling;t!==null;)Sl(t,i,a),t=t.sibling}function gm(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);xt(i,o,a),i[vt]=t,i[It]=a}catch(h){Le(t,t.return,h)}}var $n=!1,nt=!1,hc=!1,ym=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ib(t,i){if(t=t.containerInfo,Lc=Hl,t=Oh(t),au(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,x=-1,C=-1,I=0,G=0,$=t,z=null;t:for(;;){for(var H;$!==a||f!==0&&$.nodeType!==3||(x=v+f),$!==h||o!==0&&$.nodeType!==3||(C=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===a&&++I===f&&(x=v),z===h&&++G===o&&(C=v),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:t,selectionRange:a},Hl=!1,dt=i;dt!==null;)if(i=dt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,dt=t;else for(;dt!==null;){switch(i=dt,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var le=ns(a.type,f);t=o.getSnapshotBeforeUpdate(le,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(he){Le(a,a.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,dt=t;break}dt=i.return}}function vm(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Jn(t,a),o&4&&qr(5,a);break;case 1:if(Jn(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Le(a,a.return,v)}else{var f=ns(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Le(a,a.return,v)}}o&64&&dm(a),o&512&&Gr(a,a.return);break;case 3:if(Jn(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{np(t,i)}catch(v){Le(a,a.return,v)}}break;case 27:i===null&&o&4&&gm(a);case 26:case 5:Jn(t,a),i===null&&o&4&&pm(a),o&512&&Gr(a,a.return);break;case 12:Jn(t,a);break;case 31:Jn(t,a),o&4&&Sm(t,a);break;case 13:Jn(t,a),o&4&&xm(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=db.bind(null,a),Nb(t,a))));break;case 22:if(o=a.memoizedState!==null||$n,!o){i=i!==null&&i.memoizedState!==null||nt,f=$n;var h=nt;$n=o,(nt=i)&&!h?Zn(t,a,(a.subtreeFlags&8772)!==0):Jn(t,a),$n=f,nt=h}break;case 30:break;default:Jn(t,a)}}function _m(t){var i=t.alternate;i!==null&&(t.alternate=null,_m(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qo(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,Bt=!1;function Xn(t,i,a){for(a=a.child;a!==null;)bm(t,i,a),a=a.sibling}function bm(t,i,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:nt||On(a,i),Xn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||On(a,i);var o=qe,f=Bt;Ci(a.type)&&(qe=a.stateNode,Bt=!1),Xn(t,i,a),Wr(a.stateNode),qe=o,Bt=f;break;case 5:nt||On(a,i);case 6:if(o=qe,f=Bt,qe=null,Xn(t,i,a),qe=o,Bt=f,qe!==null)if(Bt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(h){Le(a,i,h)}else try{qe.removeChild(a.stateNode)}catch(h){Le(a,i,h)}break;case 18:qe!==null&&(Bt?(t=qe,dg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Js(t)):dg(qe,a.stateNode));break;case 4:o=qe,f=Bt,qe=a.stateNode.containerInfo,Bt=!0,Xn(t,i,a),qe=o,Bt=f;break;case 0:case 11:case 14:case 15:bi(2,a,i),nt||bi(4,a,i),Xn(t,i,a);break;case 1:nt||(On(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hm(a,i,o)),Xn(t,i,a);break;case 21:Xn(t,i,a);break;case 22:nt=(o=nt)||a.memoizedState!==null,Xn(t,i,a),nt=o;break;default:Xn(t,i,a)}}function Sm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Js(t)}catch(a){Le(i,i.return,a)}}}function xm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Js(t)}catch(a){Le(i,i.return,a)}}function sb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ym),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ym),i;default:throw Error(r(435,t.tag))}}function xl(t,i){var a=sb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=hb.bind(null,t,o);o.then(f,f)}})}function Ut(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,v=i,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Ci(x.type)){qe=x.stateNode,Bt=!1;break e}break;case 5:qe=x.stateNode,Bt=!1;break e;case 3:case 4:qe=x.stateNode.containerInfo,Bt=!0;break e}x=x.return}if(qe===null)throw Error(r(160));bm(h,v,f),qe=null,Bt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Em(i,t),i=i.sibling}var xn=null;function Em(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ut(i,t),Vt(t),o&4&&(bi(3,t,t.return),qr(3,t),bi(5,t,t.return));break;case 1:Ut(i,t),Vt(t),o&512&&(nt||a===null||On(a,a.return)),o&64&&$n&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=xn;if(Ut(i,t),Vt(t),o&512&&(nt||a===null||On(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[yr]||h[vt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),xt(h,o,a),h[vt]=t,ft(h),o=h;break e;case"link":var v=Eg("link","href",f).get(o+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(h=v[x],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}h=f.createElement(o),xt(h,o,a),f.head.appendChild(h);break;case"meta":if(v=Eg("meta","content",f).get(o+(a.content||""))){for(x=0;x<v.length;x++)if(h=v[x],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}h=f.createElement(o),xt(h,o,a),f.head.appendChild(h);break;default:throw Error(r(468,o))}h[vt]=t,ft(h),o=h}t.stateNode=o}else wg(f,t.type,t.stateNode);else t.stateNode=xg(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?wg(f,t.type,t.stateNode):xg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&cc(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ut(i,t),Vt(t),o&512&&(nt||a===null||On(a,a.return)),a!==null&&o&4&&cc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ut(i,t),Vt(t),o&512&&(nt||a===null||On(a,a.return)),t.flags&32){f=t.stateNode;try{bs(f,"")}catch(le){Le(t,t.return,le)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,cc(t,f,a!==null?a.memoizedProps:f)),o&1024&&(hc=!0);break;case 6:if(Ut(i,t),Vt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Le(t,t.return,le)}}break;case 3:if(Bl=null,f=xn,xn=Il(i.containerInfo),Ut(i,t),xn=f,Vt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Js(i.containerInfo)}catch(le){Le(t,t.return,le)}hc&&(hc=!1,wm(t));break;case 4:o=xn,xn=Il(t.stateNode.containerInfo),Ut(i,t),Vt(t),xn=o;break;case 12:Ut(i,t),Vt(t);break;case 31:Ut(i,t),Vt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xl(t,o)));break;case 13:Ut(i,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wl=de()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xl(t,o)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,I=$n,G=nt;if($n=I||f,nt=G||C,Ut(i,t),nt=G,$n=I,Vt(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||$n||nt||is(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(h=C.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=C.stateNode;var $=C.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){Le(C,C.return,le)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(le){Le(C,C.return,le)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;f?hg(H,!0):hg(C.stateNode,!1)}catch(le){Le(C,C.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,xl(t,a))));break;case 19:Ut(i,t),Vt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xl(t,o)));break;case 30:break;case 21:break;default:Ut(i,t),Vt(t)}}function Vt(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(mm(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,h=fc(t);Sl(t,h,f);break;case 5:var v=a.stateNode;a.flags&32&&(bs(v,""),a.flags&=-33);var x=fc(t);Sl(t,x,v);break;case 3:case 4:var C=a.stateNode.containerInfo,I=fc(t);dc(t,I,C);break;default:throw Error(r(161))}}catch(G){Le(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Jn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vm(t,i.alternate,i),i=i.sibling}function is(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:bi(4,i,i.return),is(i);break;case 1:On(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hm(i,i.return,a),is(i);break;case 27:Wr(i.stateNode);case 26:case 5:On(i,i.return),is(i);break;case 22:i.memoizedState===null&&is(i);break;case 30:is(i);break;default:is(i)}t=t.sibling}}function Zn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:Zn(f,h,a),qr(4,h);break;case 1:if(Zn(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Le(o,o.return,I)}if(o=h,f=o.updateQueue,f!==null){var x=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)tp(C[f],x)}catch(I){Le(o,o.return,I)}}a&&v&64&&dm(h),Gr(h,h.return);break;case 27:gm(h);case 26:case 5:Zn(f,h,a),a&&o===null&&v&4&&pm(h),Gr(h,h.return);break;case 12:Zn(f,h,a);break;case 31:Zn(f,h,a),a&&v&4&&Sm(f,h);break;case 13:Zn(f,h,a),a&&v&4&&xm(f,h);break;case 22:h.memoizedState===null&&Zn(f,h,a),Gr(h,h.return);break;case 30:break;default:Zn(f,h,a)}i=i.sibling}}function pc(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&kr(a))}function mc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&kr(t))}function En(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tm(t,i,a,o),i=i.sibling}function Tm(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:En(t,i,a,o),f&2048&&qr(9,i);break;case 1:En(t,i,a,o);break;case 3:En(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&kr(t)));break;case 12:if(f&2048){En(t,i,a,o),t=i.stateNode;try{var h=i.memoizedProps,v=h.id,x=h.onPostCommit;typeof x=="function"&&x(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Le(i,i.return,C)}}else En(t,i,a,o);break;case 31:En(t,i,a,o);break;case 13:En(t,i,a,o);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?En(t,i,a,o):Kr(t,i):h._visibility&2?En(t,i,a,o):(h._visibility|=2,Vs(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&pc(v,i);break;case 24:En(t,i,a,o),f&2048&&mc(i.alternate,i);break;default:En(t,i,a,o)}}function Vs(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,v=i,x=a,C=o,I=v.flags;switch(v.tag){case 0:case 11:case 15:Vs(h,v,x,C,f),qr(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Vs(h,v,x,C,f):Kr(h,v):(G._visibility|=2,Vs(h,v,x,C,f)),f&&I&2048&&pc(v.alternate,v);break;case 24:Vs(h,v,x,C,f),f&&I&2048&&mc(v.alternate,v);break;default:Vs(h,v,x,C,f)}i=i.sibling}}function Kr(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:Kr(a,o),f&2048&&pc(o.alternate,o);break;case 24:Kr(a,o),f&2048&&mc(o.alternate,o);break;default:Kr(a,o)}i=i.sibling}}var Qr=8192;function Ps(t,i,a){if(t.subtreeFlags&Qr)for(t=t.child;t!==null;)Rm(t,i,a),t=t.sibling}function Rm(t,i,a){switch(t.tag){case 26:Ps(t,i,a),t.flags&Qr&&t.memoizedState!==null&&Gb(a,xn,t.memoizedState,t.memoizedProps);break;case 5:Ps(t,i,a);break;case 3:case 4:var o=xn;xn=Il(t.stateNode.containerInfo),Ps(t,i,a),xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Qr,Qr=16777216,Ps(t,i,a),Qr=o):Ps(t,i,a));break;default:Ps(t,i,a)}}function Cm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];dt=o,Om(o,t)}Cm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:Fr(t),t.flags&2048&&bi(9,t,t.return);break;case 3:Fr(t);break;case 12:Fr(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,El(t)):Fr(t);break;default:Fr(t)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];dt=o,Om(o,t)}Cm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:bi(8,i,i.return),El(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,El(i));break;default:El(i)}t=t.sibling}}function Om(t,i){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:bi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:kr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,dt=o;else e:for(a=t;dt!==null;){o=dt;var f=o.sibling,h=o.return;if(_m(o),o===a){dt=null;break e}if(f!==null){f.return=h,dt=f;break e}dt=h}}}var rb={getCacheForType:function(t){var i=bt(We),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return bt(We).controller.signal}},ab=typeof WeakMap=="function"?WeakMap:Map,De=0,Ue=null,Se=null,Ee=0,Me=0,Jt=null,Si=!1,Hs=!1,gc=!1,Wn=0,Ye=0,xi=0,ss=0,yc=0,Zt=0,qs=0,Yr=null,Pt=null,vc=!1,wl=0,km=0,Tl=1/0,Rl=null,Ei=null,rt=0,wi=null,Gs=null,ei=0,_c=0,bc=null,Dm=null,$r=0,Sc=null;function Wt(){return(De&2)!==0&&Ee!==0?Ee&-Ee:q.T!==null?Cc():Fd()}function Nm(){if(Zt===0)if((Ee&536870912)===0||Re){var t=La;La<<=1,(La&3932160)===0&&(La=262144),Zt=t}else Zt=536870912;return t=$t.current,t!==null&&(t.flags|=32),Zt}function Ht(t,i,a){(t===Ue&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),Ti(t,Ee,Zt,!1)),gr(t,a),((De&2)===0||t!==Ue)&&(t===Ue&&((De&2)===0&&(ss|=a),Ye===4&&Ti(t,Ee,Zt,!1)),kn(t))}function Mm(t,i,a){if((De&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||mr(t,i),f=o?ub(t,i):Ec(t,i,!0),h=o;do{if(f===0){Hs&&!o&&Ti(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!lb(a)){f=Ec(t,i,!1),h=!1;continue}if(f===2){if(h=i,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var x=t;f=Yr;var C=x.current.memoizedState.isDehydrated;if(C&&(Ks(x,v).flags|=256),v=Ec(x,v,!1),v!==2){if(gc&&!C){x.errorRecoveryDisabledLanes|=h,ss|=h,f=4;break e}h=Pt,Pt=f,h!==null&&(Pt===null?Pt=h:Pt.push.apply(Pt,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Ks(t,0),Ti(t,i,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ti(o,i,Zt,!Si);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=wl+300-de(),10<f)){if(Ti(o,i,Zt,!Si),Ia(o,0,!0)!==0)break e;ei=i,o.timeoutHandle=cg(Lm.bind(null,o,a,Pt,Rl,vc,i,Zt,ss,qs,Si,h,"Throttled",-0,0),f);break e}Lm(o,a,Pt,Rl,vc,i,Zt,ss,qs,Si,h,null,-0,0)}}break}while(!0);kn(t)}function Lm(t,i,a,o,f,h,v,x,C,I,G,$,z,H){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Rm(i,h,$);var le=(h&62914560)===h?wl-de():(h&4194048)===h?km-de():0;if(le=Kb($,le),le!==null){ei=h,t.cancelPendingCommit=le(Hm.bind(null,t,i,h,a,o,f,v,x,C,G,$,null,z,H)),Ti(t,h,v,!I);return}}Hm(t,i,h,a,o,f,v,x,C)}function lb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!Ft(h(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(t,i,a,o){i&=~yc,i&=~ss,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var h=31-Qt(f),v=1<<h;o[h]=-1,f&=~v}a!==0&&Gd(t,a,i)}function Cl(){return(De&6)===0?(Xr(0),!1):!0}function xc(){if(Se!==null){if(Me===0)var t=Se.return;else t=Se,qn=$i=null,Bu(t),js=null,Nr=0,t=Se;for(;t!==null;)fm(t.alternate,t),t=t.return;Se=null}}function Ks(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ei=0,xc(),Ue=t,Se=a=Pn(t.current,null),Ee=i,Me=0,Jt=null,Si=!1,Hs=mr(t,i),gc=!1,qs=Zt=yc=ss=xi=Ye=0,Pt=Yr=null,vc=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-Qt(o),h=1<<f;i|=t[f],o&=~h}return Wn=i,Ya(),a}function jm(t,i){ve=null,q.H=Vr,i===Ls||i===nl?(i=Jh(),Me=3):i===Ru?(i=Jh(),Me=4):Me=i===ec?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Jt=i,Se===null&&(Ye=1,gl(t,on(i,t.current)))}function Im(){var t=$t.current;return t===null?!0:(Ee&4194048)===Ee?dn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===dn:!1}function zm(){var t=q.H;return q.H=Vr,t===null?Vr:t}function Bm(){var t=q.A;return q.A=rb,t}function Al(){Ye=4,Si||(Ee&4194048)!==Ee&&$t.current!==null||(Hs=!0),(xi&134217727)===0&&(ss&134217727)===0||Ue===null||Ti(Ue,Ee,Zt,!1)}function Ec(t,i,a){var o=De;De|=2;var f=zm(),h=Bm();(Ue!==t||Ee!==i)&&(Rl=null,Ks(t,i)),i=!1;var v=Ye;e:do try{if(Me!==0&&Se!==null){var x=Se,C=Jt;switch(Me){case 8:xc(),v=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(i=!0);var I=Me;if(Me=0,Jt=null,Qs(t,x,C,I),a&&Hs){v=0;break e}break;default:I=Me,Me=0,Jt=null,Qs(t,x,C,I)}}ob(),v=Ye;break}catch(G){jm(t,G)}while(!0);return i&&t.shellSuspendCounter++,qn=$i=null,De=o,q.H=f,q.A=h,Se===null&&(Ue=null,Ee=0,Ya()),v}function ob(){for(;Se!==null;)Um(Se)}function ub(t,i){var a=De;De|=2;var o=zm(),f=Bm();Ue!==t||Ee!==i?(Rl=null,Tl=de()+500,Ks(t,i)):Hs=mr(t,i);e:do try{if(Me!==0&&Se!==null){i=Se;var h=Jt;t:switch(Me){case 1:Me=0,Jt=null,Qs(t,i,h,1);break;case 2:case 9:if($h(h)){Me=0,Jt=null,Vm(i);break}i=function(){Me!==2&&Me!==9||Ue!==t||(Me=7),kn(t)},h.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:$h(h)?(Me=0,Jt=null,Vm(i)):(Me=0,Jt=null,Qs(t,i,h,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var x=Se;if(v?Tg(v):x.stateNode.complete){Me=0,Jt=null;var C=x.sibling;if(C!==null)Se=C;else{var I=x.return;I!==null?(Se=I,Ol(I)):Se=null}break t}}Me=0,Jt=null,Qs(t,i,h,5);break;case 6:Me=0,Jt=null,Qs(t,i,h,6);break;case 8:xc(),Ye=6;break e;default:throw Error(r(462))}}cb();break}catch(G){jm(t,G)}while(!0);return qn=$i=null,q.H=o,q.A=f,De=a,Se!==null?0:(Ue=null,Ee=0,Ya(),Ye)}function cb(){for(;Se!==null&&!Ae();)Um(Se)}function Um(t){var i=um(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,i===null?Ol(t):Se=i}function Vm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=im(a,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=im(a,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:Bu(i);default:fm(a,i),i=Se=Bh(i,Wn),i=um(a,i,Wn)}t.memoizedProps=t.pendingProps,i===null?Ol(t):Se=i}function Qs(t,i,a,o){qn=$i=null,Bu(i),js=null,Nr=0;var f=i.return;try{if(Z_(t,f,i,a,Ee)){Ye=1,gl(t,on(a,t.current)),Se=null;return}}catch(h){if(f!==null)throw Se=f,h;Ye=1,gl(t,on(a,t.current)),Se=null;return}i.flags&32768?(Re||o===1?t=!0:Hs||(Ee&536870912)!==0?t=!1:(Si=t=!0,(o===2||o===9||o===3||o===6)&&(o=$t.current,o!==null&&o.tag===13&&(o.flags|=16384))),Pm(i,t)):Ol(i)}function Ol(t){var i=t;do{if((i.flags&32768)!==0){Pm(i,Si);return}t=i.return;var a=tb(i.alternate,i,Wn);if(a!==null){Se=a;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=t}while(i!==null);Ye===0&&(Ye=5)}function Pm(t,i){do{var a=nb(t.alternate,t);if(a!==null){a.flags&=32767,Se=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Se=t;return}Se=t=a}while(t!==null);Ye=6,Se=null}function Hm(t,i,a,o,f,h,v,x,C){t.cancelPendingCommit=null;do kl();while(rt!==0);if((De&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(h=i.lanes|i.childLanes,h|=fu,qv(t,a,h,v,x,C),t===Ue&&(Se=Ue=null,Ee=0),Gs=i,wi=t,ei=a,_c=h,bc=f,Dm=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(Tn,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=te.p,te.p=2,v=De,De|=4;try{ib(t,i,a)}finally{De=v,te.p=f,q.T=o}}rt=1,qm(),Gm(),Km()}}function qm(){if(rt===1){rt=0;var t=wi,i=Gs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=te.p;te.p=2;var f=De;De|=4;try{Em(i,t);var h=jc,v=Oh(t.containerInfo),x=h.focusedElem,C=h.selectionRange;if(v!==x&&x&&x.ownerDocument&&Ah(x.ownerDocument.documentElement,x)){if(C!==null&&au(x)){var I=C.start,G=C.end;if(G===void 0&&(G=I),"selectionStart"in x)x.selectionStart=I,x.selectionEnd=Math.min(G,x.value.length);else{var $=x.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),le=x.textContent.length,he=Math.min(C.start,le),ze=C.end===void 0?he:Math.min(C.end,le);!H.extend&&he>ze&&(v=ze,ze=he,he=v);var M=Ch(x,he),O=Ch(x,ze);if(M&&O&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=$.createRange();j.setStart(M.node,M.offset),H.removeAllRanges(),he>ze?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for($=[],H=x;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<$.length;x++){var Q=$[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Hl=!!Lc,jc=Lc=null}finally{De=f,te.p=o,q.T=a}}t.current=i,rt=2}}function Gm(){if(rt===2){rt=0;var t=wi,i=Gs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=te.p;te.p=2;var f=De;De|=4;try{vm(t,i.alternate,i)}finally{De=f,te.p=o,q.T=a}}rt=3}}function Km(){if(rt===4||rt===3){rt=0,Be();var t=wi,i=Gs,a=ei,o=Dm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rt=5:(rt=0,Gs=wi=null,Qm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ei=null),Po(a),i=i.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(li,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,f=te.p,te.p=2,q.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var x=o[v];h(x.value,{componentStack:x.stack})}}finally{q.T=i,te.p=f}}(ei&3)!==0&&kl(),kn(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Sc?$r++:($r=0,Sc=t):$r=0,Xr(0)}}function Qm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,kr(i)))}function kl(){return qm(),Gm(),Km(),Fm()}function Fm(){if(rt!==5)return!1;var t=wi,i=_c;_c=0;var a=Po(ei),o=q.T,f=te.p;try{te.p=32>a?32:a,q.T=null,a=bc,bc=null;var h=wi,v=ei;if(rt=0,Gs=wi=null,ei=0,(De&6)!==0)throw Error(r(331));var x=De;if(De|=4,Am(h.current),Tm(h,h.current,v,a),De=x,Xr(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(li,h)}catch{}return!0}finally{te.p=f,q.T=o,Qm(t,i)}}function Ym(t,i,a){i=on(a,i),i=Wu(t.stateNode,i,2),t=yi(t,i,2),t!==null&&(gr(t,2),kn(t))}function Le(t,i,a){if(t.tag===3)Ym(t,t,a);else for(;i!==null;){if(i.tag===3){Ym(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ei===null||!Ei.has(o))){t=on(a,t),a=$p(2),o=yi(i,a,2),o!==null&&(Xp(a,o,i,t),gr(o,2),kn(o));break}}i=i.return}}function wc(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ab;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(gc=!0,f.add(a),t=fb.bind(null,t,i,a),i.then(t,t))}function fb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ue===t&&(Ee&a)===a&&(Ye===4||Ye===3&&(Ee&62914560)===Ee&&300>de()-wl?(De&2)===0&&Ks(t,0):yc|=a,qs===Ee&&(qs=0)),kn(t)}function $m(t,i){i===0&&(i=qd()),t=Qi(t,i),t!==null&&(gr(t,i),kn(t))}function db(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),$m(t,a)}function hb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),$m(t,a)}function pb(t,i){return hs(t,i)}var Dl=null,Fs=null,Tc=!1,Nl=!1,Rc=!1,Ri=0;function kn(t){t!==Fs&&t.next===null&&(Fs===null?Dl=Fs=t:Fs=Fs.next=t),Nl=!0,Tc||(Tc=!0,gb())}function Xr(t,i){if(!Rc&&Nl){Rc=!0;do for(var a=!1,o=Dl;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,x=o.pingedLanes;h=(1<<31-Qt(42|t)+1)-1,h&=f&~(v&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Wm(o,h))}else h=Ee,h=Ia(o,o===Ue?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||mr(o,h)||(a=!0,Wm(o,h));o=o.next}while(a);Rc=!1}}function mb(){Xm()}function Xm(){Nl=Tc=!1;var t=0;Ri!==0&&Rb()&&(t=Ri);for(var i=de(),a=null,o=Dl;o!==null;){var f=o.next,h=Jm(o,i);h===0?(o.next=null,a===null?Dl=f:a.next=f,f===null&&(Fs=a)):(a=o,(t!==0||(h&3)!==0)&&(Nl=!0)),o=f}rt!==0&&rt!==5||Xr(t),Ri!==0&&(Ri=0)}function Jm(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-Qt(h),x=1<<v,C=f[v];C===-1?((x&a)===0||(x&o)!==0)&&(f[v]=Hv(x,i)):C<=i&&(t.expiredLanes|=x),h&=~x}if(i=Ue,a=Ee,a=Ia(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ce(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&ce(o),Po(a)){case 2:case 8:a=zn;break;case 32:a=Tn;break;case 268435456:a=wt;break;default:a=Tn}return o=Zm.bind(null,t),a=hs(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&ce(o),t.callbackPriority=2,t.callbackNode=null,2}function Zm(t,i){if(rt!==0&&rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kl()&&t.callbackNode!==a)return null;var o=Ee;return o=Ia(t,t===Ue?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Mm(t,o,i),Jm(t,de()),t.callbackNode!=null&&t.callbackNode===a?Zm.bind(null,t):null)}function Wm(t,i){if(kl())return null;Mm(t,i,!0)}function gb(){Ab(function(){(De&6)!==0?hs(jt,mb):Xm()})}function Cc(){if(Ri===0){var t=Ns;t===0&&(t=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),Ri=t}return Ri}function eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function tg(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function yb(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var h=eg((f[It]||null).action),v=o.submitter;v&&(i=(i=v[It]||null)?eg(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var x=new Ga("action","action",null,o,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ri!==0){var C=v?tg(f,v):new FormData(f);Fu(a,{pending:!0,data:C,method:f.method,action:h},null,C)}}else typeof h=="function"&&(x.preventDefault(),C=v?tg(f,v):new FormData(f),Fu(a,{pending:!0,data:C,method:f.method,action:h},h,C))},currentTarget:f}]})}}for(var Ac=0;Ac<cu.length;Ac++){var Oc=cu[Ac],vb=Oc.toLowerCase(),_b=Oc[0].toUpperCase()+Oc.slice(1);Sn(vb,"on"+_b)}Sn(Nh,"onAnimationEnd"),Sn(Mh,"onAnimationIteration"),Sn(Lh,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(j_,"onTransitionRun"),Sn(I_,"onTransitionStart"),Sn(z_,"onTransitionCancel"),Sn(jh,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function ng(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(i)for(var v=o.length-1;0<=v;v--){var x=o[v],C=x.instance,I=x.currentTarget;if(x=x.listener,C!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=I;try{h(f)}catch(G){Fa(G)}f.currentTarget=null,h=C}else for(v=0;v<o.length;v++){if(x=o[v],C=x.instance,I=x.currentTarget,x=x.listener,C!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=I;try{h(f)}catch(G){Fa(G)}f.currentTarget=null,h=C}}}}function xe(t,i){var a=i[Ho];a===void 0&&(a=i[Ho]=new Set);var o=t+"__bubble";a.has(o)||(ig(i,t,2,!1),a.add(o))}function kc(t,i,a){var o=0;i&&(o|=4),ig(a,t,o,i)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[Ml]){t[Ml]=!0,Xd.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||kc(a,!1,t),kc(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ml]||(i[Ml]=!0,kc("selectionchange",!1,i))}}function ig(t,i,a,o){switch(Ng(i)){case 2:var f=Yb;break;case 8:f=$b;break;default:f=Qc}a=f.bind(null,i,a,t),f=void 0,!Jo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Nc(t,i,a,o,f){var h=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var x=o.stateNode.containerInfo;if(x===f)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;x!==null;){if(v=ms(x),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=h=v;continue e}x=x.parentNode}}o=o.return}oh(function(){var I=h,G=$o(a),$=[];e:{var z=Ih.get(t);if(z!==void 0){var H=Ga,le=t;switch(t){case"keypress":if(Ha(a)===0)break e;case"keydown":case"keyup":H=h_;break;case"focusin":le="focus",H=tu;break;case"focusout":le="blur",H=tu;break;case"beforeblur":case"afterblur":H=tu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=t_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g_;break;case Nh:case Mh:case Lh:H=s_;break;case jh:H=v_;break;case"scroll":case"scrollend":H=Wv;break;case"wheel":H=b_;break;case"copy":case"cut":case"paste":H=a_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=hh;break;case"toggle":case"beforetoggle":H=x_}var he=(i&4)!==0,ze=!he&&(t==="scroll"||t==="scrollend"),M=he?z!==null?z+"Capture":null:z;he=[];for(var O=I,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||M===null||(Q=_r(O,M),Q!=null&&he.push(Zr(O,Q,j))),ze)break;O=O.return}0<he.length&&(z=new H(z,le,null,a,G),$.push({event:z,listeners:he}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Yo&&(le=a.relatedTarget||a.fromElement)&&(ms(le)||le[ps]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=I,le=le?ms(le):null,le!==null&&(ze=u(le),he=le.tag,le!==ze||he!==5&&he!==27&&he!==6)&&(le=null)):(H=null,le=I),H!==le)){if(he=fh,Q="onMouseLeave",M="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(he=hh,Q="onPointerLeave",M="onPointerEnter",O="pointer"),ze=H==null?z:vr(H),j=le==null?z:vr(le),z=new he(Q,O+"leave",H,a,G),z.target=ze,z.relatedTarget=j,Q=null,ms(G)===I&&(he=new he(M,O+"enter",le,a,G),he.target=j,he.relatedTarget=ze,Q=he),ze=Q,H&&le)t:{for(he=Sb,M=H,O=le,j=0,Q=M;Q;Q=he(Q))j++;Q=0;for(var fe=O;fe;fe=he(fe))Q++;for(;0<j-Q;)M=he(M),j--;for(;0<Q-j;)O=he(O),Q--;for(;j--;){if(M===O||O!==null&&M===O.alternate){he=M;break t}M=he(M),O=he(O)}he=null}else he=null;H!==null&&sg($,z,H,he,!1),le!==null&&ze!==null&&sg($,ze,le,he,!0)}}e:{if(z=I?vr(I):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Oe=Sh;else if(_h(z))if(xh)Oe=N_;else{Oe=k_;var oe=O_}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?I&&Fo(I.elementType)&&(Oe=Sh):Oe=D_;if(Oe&&(Oe=Oe(t,I))){bh($,Oe,a,G);break e}oe&&oe(t,z,I),t==="focusout"&&I&&z.type==="number"&&I.memoizedProps.value!=null&&Qo(z,"number",z.value)}switch(oe=I?vr(I):window,t){case"focusin":(_h(oe)||oe.contentEditable==="true")&&(ws=oe,lu=I,Cr=null);break;case"focusout":Cr=lu=ws=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,kh($,a,G);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":kh($,a,G)}var _e;if(iu)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Es?yh(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ph&&a.locale!=="ko"&&(Es||we!=="onCompositionStart"?we==="onCompositionEnd"&&Es&&(_e=uh()):(ci=G,Zo="value"in ci?ci.value:ci.textContent,Es=!0)),oe=Ll(I,we),0<oe.length&&(we=new dh(we,t,null,a,G),$.push({event:we,listeners:oe}),_e?we.data=_e:(_e=vh(a),_e!==null&&(we.data=_e)))),(_e=w_?T_(t,a):R_(t,a))&&(we=Ll(I,"onBeforeInput"),0<we.length&&(oe=new dh("onBeforeInput","beforeinput",null,a,G),$.push({event:oe,listeners:we}),oe.data=_e)),yb($,t,I,a,G)}ng($,i)})}function Zr(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ll(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=_r(t,a),f!=null&&o.unshift(Zr(t,f,h)),f=_r(t,i),f!=null&&o.push(Zr(t,f,h))),t.tag===3)return o;t=t.return}return[]}function Sb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sg(t,i,a,o,f){for(var h=i._reactName,v=[];a!==null&&a!==o;){var x=a,C=x.alternate,I=x.stateNode;if(x=x.tag,C!==null&&C===o)break;x!==5&&x!==26&&x!==27||I===null||(C=I,f?(I=_r(a,h),I!=null&&v.unshift(Zr(a,I,C))):f||(I=_r(a,h),I!=null&&v.push(Zr(a,I,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var xb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function rg(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Eb,"")}function ag(t,i){return i=rg(i),rg(t)===i}function Ie(t,i,a,o,f,h){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||bs(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&bs(t,""+o);break;case"className":Ba(t,"class",o);break;case"tabIndex":Ba(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ba(t,a,o);break;case"style":ah(t,o,h);break;case"data":if(i!=="object"){Ba(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Va(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&Ie(t,i,"name",f.name,f,null),Ie(t,i,"formEncType",f.formEncType,f,null),Ie(t,i,"formMethod",f.formMethod,f,null),Ie(t,i,"formTarget",f.formTarget,f,null)):(Ie(t,i,"encType",f.encType,f,null),Ie(t,i,"method",f.method,f,null),Ie(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Va(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Un);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),za(t,"popover",o);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":za(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jv.get(a)||a,za(t,a,o))}}function Mc(t,i,a,o,f,h){switch(a){case"style":ah(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bs(t,o):(typeof o=="number"||typeof o=="bigint")&&bs(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),h=t[It]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):za(t,a,o)}}}function xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(t,i,h,v,a,null)}}f&&Ie(t,i,"srcSet",a.srcSet,a,null),o&&Ie(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var x=h=v=f=null,C=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":f=G;break;case"type":v=G;break;case"checked":C=G;break;case"defaultChecked":I=G;break;case"value":h=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Ie(t,i,o,G,a,null)}}nh(t,h,x,C,I,v,f,!1);return;case"select":xe("invalid",t),o=v=h=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":h=x;break;case"defaultValue":v=x;break;case"multiple":o=x;default:Ie(t,i,f,x,a,null)}i=h,a=v,t.multiple=!!o,i!=null?_s(t,!!o,i,!1):a!=null&&_s(t,!!o,a,!0);return;case"textarea":xe("invalid",t),h=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":o=x;break;case"defaultValue":f=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ie(t,i,v,x,a,null)}sh(t,o,f,h);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ie(t,i,C,o,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<Jr.length;o++)xe(Jr[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(t,i,I,o,a,null)}return;default:if(Fo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Mc(t,i,G,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&Ie(t,i,x,o,a,null))}function wb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,x=null,C=null,I=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||Ie(t,i,H,null,o,$)}}for(var z in o){var H=o[z];if($=a[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":h=H;break;case"name":f=H;break;case"checked":I=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==$&&Ie(t,i,z,H,o,$)}}Ko(t,v,x,C,I,G,h,f);return;case"select":H=v=x=z=null;for(h in a)if(C=a[h],a.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(h)||Ie(t,i,h,null,o,C)}for(f in o)if(h=o[f],C=a[f],o.hasOwnProperty(f)&&(h!=null||C!=null))switch(f){case"value":z=h;break;case"defaultValue":x=h;break;case"multiple":v=h;default:h!==C&&Ie(t,i,f,h,o,C)}i=x,a=v,o=H,z!=null?_s(t,!!a,z,!1):!!o!=!!a&&(i!=null?_s(t,!!a,i,!0):_s(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ie(t,i,x,null,o,f)}for(v in o)if(f=o[v],h=a[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":z=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==h&&Ie(t,i,v,f,o,h)}ih(t,z,H);return;case"option":for(var le in a)z=a[le],a.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Ie(t,i,le,null,o,z));for(C in o)z=o[C],H=a[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Ie(t,i,C,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!o.hasOwnProperty(he)&&Ie(t,i,he,null,o,z);for(I in o)if(z=o[I],H=a[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Ie(t,i,I,z,o,H)}return;default:if(Fo(i)){for(var ze in a)z=a[ze],a.hasOwnProperty(ze)&&z!==void 0&&!o.hasOwnProperty(ze)&&Mc(t,i,ze,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Mc(t,i,G,z,o,H);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Ie(t,i,M,null,o,z);for($ in o)z=o[$],H=a[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||Ie(t,i,$,z,o,H)}function lg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,v=f.initiatorType,x=f.duration;if(h&&x&&lg(v)){for(v=0,x=f.responseEnd,o+=1;o<a.length;o++){var C=a[o],I=C.startTime;if(I>x)break;var G=C.transferSize,$=C.initiatorType;G&&lg($)&&(C=C.responseEnd,v+=G*(C<x?1:(x-I)/(C-I)))}if(--o,i+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lc=null,jc=null;function jl(t){return t.nodeType===9?t:t.ownerDocument}function og(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ug(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ic(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zc=null;function Rb(){var t=window.event;return t&&t.type==="popstate"?t===zc?!1:(zc=t,!0):(zc=null,!1)}var cg=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(t){return fg.resolve(null).then(t).catch(Ob)}:cg;function Ob(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function dg(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),Js(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Wr(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wr(a);for(var h=a.firstChild;h;){var v=h.nextSibling,x=h.nodeName;h[yr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Wr(t.ownerDocument.body);a=f}while(a);Js(i)}function hg(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Bc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bc(a),qo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kb(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function Db(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=hn(t.nextSibling),t===null))return null;return t}function pg(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=hn(t.nextSibling),t===null))return null;return t}function Uc(t){return t.data==="$?"||t.data==="$~"}function Vc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Nb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pc=null;function mg(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function gg(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function yg(t,i,a){switch(i=jl(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wr(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qo(t)}var pn=new Map,vg=new Set;function Il(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=te.d;te.d={f:Mb,r:Lb,D:jb,C:Ib,L:zb,m:Bb,X:Vb,S:Ub,M:Pb};function Mb(){var t=ti.f(),i=Cl();return t||i}function Lb(t){var i=gs(t);i!==null&&i.tag===5&&i.type==="form"?jp(i):ti.r(t)}var Ys=typeof document>"u"?null:document;function _g(t,i,a){var o=Ys;if(o&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vg.has(f)||(vg.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),xt(i,"link",t),ft(i),o.head.appendChild(i)))}}function jb(t){ti.D(t),_g("dns-prefetch",t,null)}function Ib(t,i){ti.C(t,i),_g("preconnect",t,i)}function zb(t,i,a){ti.L(t,i,a);var o=Ys;if(o&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var h=f;switch(i){case"style":h=$s(t);break;case"script":h=Xs(t)}pn.has(h)||(t=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),pn.set(h,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ea(h))||i==="script"&&o.querySelector(ta(h))||(i=o.createElement("link"),xt(i,"link",t),ft(i),o.head.appendChild(i)))}}function Bb(t,i){ti.m(t,i);var a=Ys;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Xs(t)}if(!pn.has(h)&&(t=y({rel:"modulepreload",href:t},i),pn.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ta(h)))return}o=a.createElement("link"),xt(o,"link",t),ft(o),a.head.appendChild(o)}}}function Ub(t,i,a){ti.S(t,i,a);var o=Ys;if(o&&t){var f=ys(o).hoistableStyles,h=$s(t);i=i||"default";var v=f.get(h);if(!v){var x={loading:0,preload:null};if(v=o.querySelector(ea(h)))x.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":i},a),(a=pn.get(h))&&Hc(t,a);var C=v=o.createElement("link");ft(C),xt(C,"link",t),C._p=new Promise(function(I,G){C.onload=I,C.onerror=G}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,zl(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:x},f.set(h,v)}}}function Vb(t,i){ti.X(t,i);var a=Ys;if(a&&t){var o=ys(a).hoistableScripts,f=Xs(t),h=o.get(f);h||(h=a.querySelector(ta(f)),h||(t=y({src:t,async:!0},i),(i=pn.get(f))&&qc(t,i),h=a.createElement("script"),ft(h),xt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Pb(t,i){ti.M(t,i);var a=Ys;if(a&&t){var o=ys(a).hoistableScripts,f=Xs(t),h=o.get(f);h||(h=a.querySelector(ta(f)),h||(t=y({src:t,async:!0,type:"module"},i),(i=pn.get(f))&&qc(t,i),h=a.createElement("script"),ft(h),xt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function bg(t,i,a,o){var f=(f=X.current)?Il(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$s(a.href),a=ys(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$s(a.href);var h=ys(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(ea(t)))&&!h._p&&(v.instance=h,v.state.loading=5),pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pn.set(t,a),h||Hb(f,t,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xs(a),a=ys(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $s(t){return'href="'+an(t)+'"'}function ea(t){return'link[rel="stylesheet"]['+t+"]"}function Sg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Hb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),xt(i,"link",a),ft(i),t.head.appendChild(i))}function Xs(t){return'[src="'+an(t)+'"]'}function ta(t){return"script[async]"+t}function xg(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,ft(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ft(o),xt(o,"style",f),zl(o,a.precedence,t),i.instance=o;case"stylesheet":f=$s(a.href);var h=t.querySelector(ea(f));if(h)return i.state.loading|=4,i.instance=h,ft(h),h;o=Sg(a),(f=pn.get(f))&&Hc(o,f),h=(t.ownerDocument||t).createElement("link"),ft(h);var v=h;return v._p=new Promise(function(x,C){v.onload=x,v.onerror=C}),xt(h,"link",o),i.state.loading|=4,zl(h,a.precedence,t),i.instance=h;case"script":return h=Xs(a.src),(f=t.querySelector(ta(h)))?(i.instance=f,ft(f),f):(o=a,(f=pn.get(h))&&(o=y({},a),qc(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),ft(f),xt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,zl(o,a.precedence,t));return i.instance}function zl(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var x=o[v];if(x.dataset.precedence===i)h=x;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bl=null;function Eg(t,i,a){if(Bl===null){var o=new Map,f=Bl=new Map;f.set(a,o)}else f=Bl,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[yr]||h[vt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=t+v;var x=o.get(v);x?x.push(h):o.set(v,[h])}}return o}function wg(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Gb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$s(o.href),h=i.querySelector(ea(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ul.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=h,ft(h);return}h=i.ownerDocument||i,o=Sg(o),(f=pn.get(f))&&Hc(o,f),h=h.createElement("link"),ft(h);var v=h;v._p=new Promise(function(x,C){v.onload=x,v.onerror=C}),xt(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ul.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Gc=0;function Kb(t,i){return t.stylesheets&&t.count===0&&Pl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Pl(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&Gc===0&&(Gc=62500*Tb());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pl(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Gc?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vl=null;function Pl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vl=new Map,i.forEach(Qb,t),Vl=null,Ul.call(t))}function Qb(t,i){if(!(i.state.loading&4)){var a=Vl.get(t);if(a)var o=a.get(null);else{a=new Map,Vl.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=i.instance,v=f.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,f),a.set(v,f),this.count++,o=Ul.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var na={$$typeof:L,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Fb(t,i,a,o,f,h,v,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Rg(t,i,a,o,f,h,v,x,C,I,G,$){return t=new Fb(t,i,a,v,C,I,G,$,x),i=1,h===!0&&(i|=24),h=Yt(3,null,null,i),t.current=h,h.stateNode=t,i=Eu(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:i},Cu(h),t}function Cg(t){return t?(t=Cs,t):Cs}function Ag(t,i,a,o,f,h){f=Cg(f),o.context===null?o.context=f:o.pendingContext=f,o=gi(i),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=yi(t,o,i),a!==null&&(Ht(a,t,i),Lr(a,t,i))}function Og(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Kc(t,i){Og(t,i),(t=t.alternate)&&Og(t,i)}function kg(t){if(t.tag===13||t.tag===31){var i=Qi(t,67108864);i!==null&&Ht(i,t,67108864),Kc(t,67108864)}}function Dg(t){if(t.tag===13||t.tag===31){var i=Wt();i=Vo(i);var a=Qi(t,i);a!==null&&Ht(a,t,i),Kc(t,i)}}var Hl=!0;function Yb(t,i,a,o){var f=q.T;q.T=null;var h=te.p;try{te.p=2,Qc(t,i,a,o)}finally{te.p=h,q.T=f}}function $b(t,i,a,o){var f=q.T;q.T=null;var h=te.p;try{te.p=8,Qc(t,i,a,o)}finally{te.p=h,q.T=f}}function Qc(t,i,a,o){if(Hl){var f=Fc(o);if(f===null)Nc(t,i,o,ql,a),Mg(t,o);else if(Jb(f,t,i,a,o))o.stopPropagation();else if(Mg(t,o),i&4&&-1<Xb.indexOf(t)){for(;f!==null;){var h=gs(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Pi(h.pendingLanes);if(v!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var C=1<<31-Qt(v);x.entanglements[1]|=C,v&=~C}kn(h),(De&6)===0&&(Tl=de()+500,Xr(0))}}break;case 31:case 13:x=Qi(h,2),x!==null&&Ht(x,h,2),Cl(),Kc(h,2)}if(h=Fc(o),h===null&&Nc(t,i,o,ql,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Nc(t,i,o,null,a)}}function Fc(t){return t=$o(t),Yc(t)}var ql=null;function Yc(t){if(ql=null,t=ms(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ql=t,null}function Ng(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case jt:return 2;case zn:return 8;case Tn:case ct:return 32;case wt:return 268435456;default:return 32}default:return 32}}var $c=!1,Ai=null,Oi=null,ki=null,ia=new Map,sa=new Map,Di=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mg(t,i){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":ia.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(i.pointerId)}}function ra(t,i,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},i!==null&&(i=gs(i),i!==null&&kg(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Jb(t,i,a,o,f){switch(i){case"focusin":return Ai=ra(Ai,t,i,a,o,f),!0;case"dragenter":return Oi=ra(Oi,t,i,a,o,f),!0;case"mouseover":return ki=ra(ki,t,i,a,o,f),!0;case"pointerover":var h=f.pointerId;return ia.set(h,ra(ia.get(h)||null,t,i,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,sa.set(h,ra(sa.get(h)||null,t,i,a,o,f)),!0}return!1}function Lg(t){var i=ms(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,Yd(t.priority,function(){Dg(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,Yd(t.priority,function(){Dg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fc(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yo=o,a.target.dispatchEvent(o),Yo=null}else return i=gs(a),i!==null&&kg(i),t.blockedOn=a,!1;i.shift()}return!0}function jg(t,i,a){Gl(t)&&a.delete(i)}function Zb(){$c=!1,Ai!==null&&Gl(Ai)&&(Ai=null),Oi!==null&&Gl(Oi)&&(Oi=null),ki!==null&&Gl(ki)&&(ki=null),ia.forEach(jg),sa.forEach(jg)}function Kl(t,i){t.blockedOn===i&&(t.blockedOn=null,$c||($c=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zb)))}var Ql=null;function Ig(t){Ql!==t&&(Ql=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ql===t&&(Ql=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(Yc(o||a)===null)continue;break}var h=gs(a);h!==null&&(t.splice(i,3),i-=3,Fu(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Js(t){function i(C){return Kl(C,t)}Ai!==null&&Kl(Ai,t),Oi!==null&&Kl(Oi,t),ki!==null&&Kl(ki,t),ia.forEach(i),sa.forEach(i);for(var a=0;a<Di.length;a++){var o=Di[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Lg(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],v=f[It]||null;if(typeof h=="function")v||Ig(a);else if(v){var x=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[It]||null)x=v.formAction;else if(Yc(f)!==null)continue}else x=v.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),Ig(a)}}}function zg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Xc(t){this._internalRoot=t}Fl.prototype.render=Xc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Wt();Ag(a,o,t,i,null,null)},Fl.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ag(t.current,2,null,t,null,null),Cl(),i[ps]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Di.length&&i!==0&&i<Di[a].priority;a++);Di.splice(a,0,t),a===0&&Lg(t)}};var Bg=e.version;if(Bg!=="19.2.3")throw Error(r(527,Bg,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{li=Yl.inject(Wb),yt=Yl}catch{}}return la.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=Kp,h=Qp,v=Fp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Rg(t,1,!1,null,null,a,o,null,f,h,v,zg),t[ps]=i.current,Dc(t),new Xc(i)},la.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",h=Kp,v=Qp,x=Fp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Rg(t,1,!0,i,a??null,o,f,C,h,v,x,zg),i.context=Cg(null),a=i.current,o=Wt(),o=Vo(o),f=gi(o),f.callback=null,yi(a,f,o),a=o,i.current.lanes=a,gr(i,a),kn(i),t[ps]=i.current,Dc(t),new Fl(i)},la.version="19.2.3",la}var Yg;function uS(){if(Yg)return Wc.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wc.exports=oS(),Wc.exports}var cS=uS(),Ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fS={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},dS=class{#e=fS;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},os=new dS;function hS(n){setTimeout(n,0)}var rr=typeof window>"u"||"Deno"in globalThis;function gn(){}function pS(n,e){return typeof n=="function"?n(e):n}function xf(n){return typeof n=="number"&&n>=0&&n!==1/0}function v0(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ii(n,e){return typeof n=="function"?n(e):n}function yn(n,e){return typeof n=="function"?n(e):n}function $g(n,e){const{type:s="all",exact:r,fetchStatus:l,predicate:u,queryKey:c,stale:d}=n;if(c){if(r){if(e.queryHash!==od(c,e.options))return!1}else if(!va(e.queryKey,c))return!1}if(s!=="all"){const p=e.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||l&&l!==e.state.fetchStatus||u&&!u(e))}function Xg(n,e){const{exact:s,status:r,predicate:l,mutationKey:u}=n;if(u){if(!e.options.mutationKey)return!1;if(s){if(si(e.options.mutationKey)!==si(u))return!1}else if(!va(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||l&&!l(e))}function od(n,e){return(e?.queryKeyHashFn||si)(n)}function si(n){return JSON.stringify(n,(e,s)=>wf(s)?Object.keys(s).sort().reduce((r,l)=>(r[l]=s[l],r),{}):s)}function va(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(s=>va(n[s],e[s])):!1}var mS=Object.prototype.hasOwnProperty;function _0(n,e){if(n===e)return n;const s=Jg(n)&&Jg(e);if(!s&&!(wf(n)&&wf(e)))return e;const l=(s?n:Object.keys(n)).length,u=s?e:Object.keys(e),c=u.length,d=s?new Array(c):{};let p=0;for(let m=0;m<c;m++){const g=s?m:u[m],y=n[g],_=e[g];if(y===_){d[g]=y,(s?m<l:mS.call(n,g))&&p++;continue}if(y===null||_===null||typeof y!="object"||typeof _!="object"){d[g]=_;continue}const b=_0(y,_);d[g]=b,b===y&&p++}return l===c&&p===l?n:d}function Ef(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const s in n)if(n[s]!==e[s])return!1;return!0}function Jg(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function wf(n){if(!Zg(n))return!1;const e=n.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Zg(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Zg(n){return Object.prototype.toString.call(n)==="[object Object]"}function gS(n){return new Promise(e=>{os.setTimeout(e,n)})}function Tf(n,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,e):s.structuralSharing!==!1?_0(n,e):e}function yS(n,e,s=0){const r=[...n,e];return s&&r.length>s?r.slice(1):r}function vS(n,e,s=0){const r=[e,...n];return s&&r.length>s?r.slice(0,-1):r}var ud=Symbol();function b0(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===ud?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function _S(n,e,s){let r=!1,l;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(l??=e(),r||(r=!0,l.aborted?s():l.addEventListener("abort",s,{once:!0})),l)}),n}var bS=class extends Ca{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!rr&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cd=new bS;function Rf(){let n,e;const s=new Promise((l,u)=>{n=l,e=u});s.status="pending",s.catch(()=>{});function r(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{r({status:"fulfilled",value:l}),n(l)},s.reject=l=>{r({status:"rejected",reason:l}),e(l)},s}var SS=hS;function xS(){let n=[],e=0,s=d=>{d()},r=d=>{d()},l=SS;const u=d=>{e?n.push(d):l(()=>{s(d)})},c=()=>{const d=n;n=[],d.length&&l(()=>{r(()=>{d.forEach(p=>{s(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{l=d}}}var At=xS(),ES=class extends Ca{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!rr&&window.addEventListener){const e=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(s=>{s(n)}))}isOnline(){return this.#e}},co=new ES;function wS(n){return Math.min(1e3*2**n,3e4)}function S0(n){return(n??"online")==="online"?co.isOnline():!0}var Cf=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function x0(n){let e=!1,s=0,r;const l=Rf(),u=()=>l.status!=="pending",c=w=>{if(!u()){const A=new Cf(w);_(A),n.onCancel?.(A)}},d=()=>{e=!0},p=()=>{e=!1},m=()=>cd.isFocused()&&(n.networkMode==="always"||co.isOnline())&&n.canRun(),g=()=>S0(n.networkMode)&&n.canRun(),y=w=>{u()||(r?.(),l.resolve(w))},_=w=>{u()||(r?.(),l.reject(w))},b=()=>new Promise(w=>{r=A=>{(u()||m())&&w(A)},n.onPause?.()}).then(()=>{r=void 0,u()||n.onContinue?.()}),S=()=>{if(u())return;let w;const A=s===0?n.initialPromise:void 0;try{w=A??n.fn()}catch(D){w=Promise.reject(D)}Promise.resolve(w).then(y).catch(D=>{if(u())return;const V=n.retry??(rr?0:3),L=n.retryDelay??wS,K=typeof L=="function"?L(s,D):L,k=V===!0||typeof V=="number"&&s<V||typeof V=="function"&&V(s,D);if(e||!k){_(D);return}s++,n.onFail?.(s,D),gS(K).then(()=>m()?void 0:b()).then(()=>{e?_(D):S()})})};return{promise:l,status:()=>l.status,cancel:c,continue:()=>(r?.(),l),cancelRetry:d,continueRetry:p,canStart:g,start:()=>(g()?S():b().then(S),l)}}var E0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xf(this.gcTime)&&(this.#e=os.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(rr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(os.clearTimeout(this.#e),this.#e=void 0)}},TS=class extends E0{#e;#t;#n;#i;#s;#l;#a;constructor(n){super(),this.#a=!1,this.#l=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#i=n.client,this.#n=this.#i.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=ey(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){if(this.options={...this.#l,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=ey(this.options);e.data!==void 0&&(this.setState(Wg(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const s=Tf(this.state.data,n,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(n,e){this.#r({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#s?.promise;return this.#s?.cancel(n),e?e.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>yn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ud||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ii(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!v0(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},l=()=>{const d=b0(this.options,e),m=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#r({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=x0({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Cf&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(d,p)=>{this.#r({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Cf){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#r({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#r(n){const e=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...w0(s.data,this.options),fetchMeta:n.meta??null};case"success":const r={...s,...Wg(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?r:void 0,r;case"error":const l=n.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=e(this.state),At.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function w0(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Wg(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ey(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,s=e!==void 0,r=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var RS=class extends Ca{constructor(n,e){super(),this.options=e,this.#e=n,this.#r=null,this.#a=Rf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#s;#l;#a;#r;#m;#d;#h;#u;#c;#o;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ty(this.#t,this.options)?this.#f():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Af(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Af(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!Ef(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ny(this.#t,s,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==s||yn(this.options.enabled,this.#t)!==yn(e.enabled,this.#t)||Ii(this.options.staleTime,this.#t)!==Ii(e.staleTime,this.#t))&&this.#g();const l=this.#y();r&&(this.#t!==s||yn(this.options.enabled,this.#t)!==yn(e.enabled,this.#t)||l!==this.#o)&&this.#v(l)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),s=this.createResult(e,n);return AS(this,s)&&(this.#i=s,this.#l=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#i}trackResult(n,e){return new Proxy(n,{get:(s,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),s=this.#e.getQueryCache().build(this.#e,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(n){return this.#f({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(n){this.#x();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(gn)),e}#g(){this.#b();const n=Ii(this.options.staleTime,this.#t);if(rr||this.#i.isStale||!xf(n))return;const s=v0(this.#i.dataUpdatedAt,n)+1;this.#u=os.setTimeout(()=>{this.#i.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#S(),this.#o=n,!(rr||yn(this.options.enabled,this.#t)===!1||!xf(this.#o)||this.#o===0)&&(this.#c=os.setInterval(()=>{(this.options.refetchIntervalInBackground||cd.isFocused())&&this.#f()},this.#o))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(os.clearTimeout(this.#u),this.#u=void 0)}#S(){this.#c&&(os.clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const s=this.#t,r=this.options,l=this.#i,u=this.#s,c=this.#l,p=n!==s?n.state:this.#n,{state:m}=n;let g={...m},y=!1,_;if(e._optimisticResults){const ee=this.hasListeners(),ie=!ee&&ty(n,e),ae=ee&&ny(n,s,e,r);(ie||ae)&&(g={...g,...w0(m.data,n.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:w}=g;_=g.data;let A=!1;if(e.placeholderData!==void 0&&_===void 0&&w==="pending"){let ee;l?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(ee=l.data,A=!0):ee=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,ee!==void 0&&(w="success",_=Tf(l?.data,ee,e),y=!0)}if(e.select&&_!==void 0&&!A)if(l&&_===u?.data&&e.select===this.#m)_=this.#d;else try{this.#m=e.select,_=e.select(_),_=Tf(l?.data,_,e),this.#d=_,this.#r=null}catch(ee){this.#r=ee}this.#r&&(b=this.#r,_=this.#d,S=Date.now(),w="error");const D=g.fetchStatus==="fetching",V=w==="pending",L=w==="error",K=V&&D,k=_!==void 0,J={status:w,fetchStatus:g.fetchStatus,isPending:V,isSuccess:w==="success",isError:L,isInitialLoading:K,isLoading:K,data:_,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:D,isRefetching:D&&!V,isLoadingError:L&&!k,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:L&&k,isStale:fd(n,e),refetch:this.refetch,promise:this.#a,isEnabled:yn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const ee=pe=>{J.status==="error"?pe.reject(J.error):J.data!==void 0&&pe.resolve(J.data)},ie=()=>{const pe=this.#a=J.promise=Rf();ee(pe)},ae=this.#a;switch(ae.status){case"pending":n.queryHash===s.queryHash&&ee(ae);break;case"fulfilled":(J.status==="error"||J.data!==ae.value)&&ie();break;case"rejected":(J.status!=="error"||J.error!==ae.reason)&&ie();break}}return J}updateResult(){const n=this.#i,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#l=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Ef(e,n))return;this.#i=e;const s=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!this.#p.size)return!0;const u=new Set(l??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#i).some(c=>{const d=c;return this.#i[d]!==n[d]&&u.has(d)})};this.#E({listeners:s()})}#x(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(n){At.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function CS(n,e){return yn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function ty(n,e){return CS(n,e)||n.state.data!==void 0&&Af(n,e,e.refetchOnMount)}function Af(n,e,s){if(yn(e.enabled,n)!==!1&&Ii(e.staleTime,n)!=="static"){const r=typeof s=="function"?s(n):s;return r==="always"||r!==!1&&fd(n,e)}return!1}function ny(n,e,s,r){return(n!==e||yn(r.enabled,n)===!1)&&(!s.suspense||n.state.status!=="error")&&fd(n,s)}function fd(n,e){return yn(e.enabled,n)!==!1&&n.isStaleByTime(Ii(e.staleTime,n))}function AS(n,e){return!Ef(n.getCurrentResult(),e)}function iy(n){return{onFetch:(e,s)=>{const r=e.options,l=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let g=!1;const y=S=>{_S(S,()=>e.signal,()=>g=!0)},_=b0(e.options,e.fetchOptions),b=async(S,w,A)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const V=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:w,direction:A?"backward":"forward",meta:e.options.meta};return y(B),B})(),L=await _(V),{maxPages:K}=e.options,k=A?vS:yS;return{pages:k(S.pages,L,K),pageParams:k(S.pageParams,w,K)}};if(l&&u.length){const S=l==="backward",w=S?OS:sy,A={pages:u,pageParams:c},D=w(r,A);d=await b(A,D,S)}else{const S=n??u.length;do{const w=p===0?c[0]??r.initialPageParam:sy(r,d);if(p>0&&w==null)break;d=await b(d,w),p++}while(p<S)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=m}}}function sy(n,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,s[r],s):void 0}function OS(n,{pages:e,pageParams:s}){return e.length>0?n.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var kS=class extends E0{#e;#t;#n;#i;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||DS(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=x0({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",l=!this.#i.canStart();try{if(r)e();else{this.#s({type:"pending",variables:n,isPaused:l}),await this.#n.config.onMutate?.(n,this,s);const c=await this.options.onMutate?.(n,s);c!==this.state.context&&this.#s({type:"pending",context:c,variables:n,isPaused:l})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,n,this.state.context,this,s),await this.options.onSuccess?.(u,n,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,n,this.state.context,s),this.#s({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,n,this.state.context,this,s)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,n,this.state.context,s)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,n,this.state.context,s)}catch(c){Promise.reject(c)}throw this.#s({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#s(n){const e=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),At.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function DS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var NS=class extends Ca{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,s){const r=new kS({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:s});return this.add(r),r}add(n){this.#e.add(n);const e=$l(n);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=$l(n);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}else s[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=$l(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(l=>l.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=$l(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){At.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(s=>Xg(e,s))}findAll(n={}){return this.getAll().filter(e=>Xg(n,e))}notify(n){At.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return At.batch(()=>Promise.all(n.map(e=>e.continue().catch(gn))))}};function $l(n){return n.options.scope?.id}var MS=class extends Ca{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,s){const r=e.queryKey,l=e.queryHash??od(r,e);let u=this.get(l);return u||(u=new TS({client:n,queryKey:r,queryHash:l,options:n.defaultQueryOptions(e),state:s,defaultOptions:n.getQueryDefaults(r)}),this.add(u)),u}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){At.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(s=>$g(e,s))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(s=>$g(n,s)):e}notify(n){At.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){At.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},LS=class{#e;#t;#n;#i;#s;#l;#a;#r;constructor(n={}){this.#e=n.queryCache||new MS,this.#t=n.mutationCache||new NS,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#a=cd.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=co.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#a?.(),this.#a=void 0,this.#r?.(),this.#r=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),s=this.#e.build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(Ii(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(n,e,s){const r=this.defaultQueryOptions({queryKey:n}),u=this.#e.get(r.queryHash)?.state.data,c=pS(e,u);if(c!==void 0)return this.#e.build(this,r).setData(c,{...s,manual:!0})}setQueriesData(n,e,s){return At.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;At.batch(()=>{e.findAll(n).forEach(s=>{e.remove(s)})})}resetQueries(n,e){const s=this.#e;return At.batch(()=>(s.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const s={revert:!0,...e},r=At.batch(()=>this.#e.findAll(n).map(l=>l.cancel(s)));return Promise.all(r).then(gn).catch(gn)}invalidateQueries(n,e={}){return At.batch(()=>(this.#e.findAll(n).forEach(s=>{s.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>this.#e.findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(gn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(gn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(Ii(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(gn).catch(gn)}fetchInfiniteQuery(n){return n.behavior=iy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(gn).catch(gn)}ensureInfiniteQueryData(n){return n.behavior=iy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return co.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(si(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],s={};return e.forEach(r=>{va(n,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(n,e){this.#s.set(si(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],s={};return e.forEach(r=>{va(n,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=od(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ud&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jS=F.createContext(void 0),IS=({client:n,children:e})=>(F.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),R.jsx(jS.Provider,{value:n,children:e}));class or{}class ar extends or{constructor(e,s){super(),this.collection=e,this.alias=s,this.type="collectionRef"}}class vn extends or{constructor(e,s){super(),this.query=e,this.alias=s,this.type="queryRef"}}class Lt extends or{constructor(e){super(),this.path=e,this.type="ref"}}class qt extends or{constructor(e){super(),this.value=e,this.type="val"}}class _n extends or{constructor(e,s){super(),this.name=e,this.args=s,this.type="func"}}class T0 extends or{constructor(e,s){super(),this.name=e,this.args=s,this.type="agg"}}function dd(n){return n instanceof T0||n instanceof _n||n instanceof Lt||n instanceof qt}function hd(n){return typeof n=="object"&&"expression"in n?n.expression:n}function ry(n){return typeof n=="object"&&"expression"in n?n.expression:n}function ay(n){return typeof n=="object"&&"expression"in n&&n.residual===!0}function zS(n){return{expression:n,residual:!0}}function BS(n,e){if(n.from.alias===e)return n.from;for(const s of n.join||[])if(s.from.alias===e)return s.from}function _a(n,e,s){if(e.path.length!==0){if(e.path.length===1){const r=e.path[0];if(n.select){const l=n.select[r];if(l&&l.type==="ref")return _a(n,l,s)}return{collection:s,path:[r]}}if(e.path.length>1){const[r,...l]=e.path,u=BS(n,r);return u?u.type==="queryRef"?_a(u.query,new Lt(l),s):{collection:u.collection,path:l}:void 0}}}class tn extends Error{constructor(e){super(e),this.name="TanStackDBError"}}class ly extends tn{constructor(e,s,r){const l=`${e==="insert"?"Insert":"Update"} validation failed: ${s.map(u=>`
- ${u.message} - path: ${u.path}`).join("")}`;super(r||l),this.name="SchemaValidationError",this.type=e,this.issues=s}}class Aa extends tn{constructor(e){super(e),this.name="CollectionConfigurationError"}}class US extends Aa{constructor(){super("Collection requires a config")}}class VS extends Aa{constructor(){super("Collection requires a sync config")}}class PS extends Aa{constructor(){super("Schema must implement the standard-schema interface")}}class oy extends Aa{constructor(){super("Schema validation must be synchronous")}}class Oa extends tn{constructor(e){super(e),this.name="CollectionStateError"}}class HS extends Oa{constructor(e,s){super(`Cannot perform ${e} on collection "${s}" - collection is in error state. Try calling cleanup() and restarting the collection.`)}}class qS extends Oa{constructor(e,s,r){super(`Invalid collection status transition from "${e}" to "${s}" for collection "${r}"`)}}class GS extends Oa{constructor(){super("Collection is in error state")}}class KS extends Oa{constructor(){super("Active subscribers count is negative - this should never happen")}}class Ln extends tn{constructor(e){super(e),this.name="CollectionOperationError"}}class QS extends Ln{constructor(e){super(`An object was created without a defined key: ${JSON.stringify(e)}`)}}class FS extends Ln{constructor(e,s){const r=e===null?"null":typeof e;super(`getKey returned an invalid key type. Expected string or number, but got ${r}: ${JSON.stringify(e)}. Item: ${JSON.stringify(s)}`)}}class YS extends Ln{constructor(e){super(`Cannot insert document with ID "${e}" because it already exists in the collection`)}}class $S extends Ln{constructor(e,s,r){const l=`Cannot insert document with key "${e}" from sync because it already exists in the collection "${s}"`;r?.hasCustomGetKey&&r.hasJoins?super(`${l}. This collection uses a custom getKey with joined queries. Joined queries can produce multiple rows with the same key when relationships are not 1:1. Consider: (1) using a composite key in your getKey function (e.g., \`\${item.key1}-\${item.key2}\`), (2) ensuring your join produces unique rows per key, or (3) removing the custom getKey to use the default composite key behavior.`):super(l)}}class XS extends Ln{constructor(){super("The first argument to update is missing")}}class JS extends Ln{constructor(){super("No keys were passed to update")}}class ZS extends Ln{constructor(e){super(`The key "${e}" was passed to update but an object for this key was not found in the collection`)}}class WS extends Ln{constructor(e,s){super(`Updating the key of an item is not allowed. Original key: "${e}", Attempted new key: "${s}". Please delete the old item and create a new one if a key change is necessary.`)}}class ex extends Ln{constructor(){super("No keys were passed to delete")}}class tx extends Ln{constructor(e){super(`Collection.delete was called with key '${e}' but there is no item in the collection with this key`)}}class pd extends tn{constructor(e){super(e),this.name="MissingHandlerError"}}class nx extends pd{constructor(){super("Collection.insert called directly (not within an explicit transaction) but no 'onInsert' handler is configured.")}}class ix extends pd{constructor(){super("Collection.update called directly (not within an explicit transaction) but no 'onUpdate' handler is configured.")}}class sx extends pd{constructor(){super("Collection.delete called directly (not within an explicit transaction) but no 'onDelete' handler is configured.")}}class Bi extends tn{constructor(e){super(e),this.name="TransactionError"}}class rx extends Bi{constructor(){super("mutationFn is required when creating a transaction")}}class ax extends Bi{constructor(){super("You can no longer call .mutate() as the transaction is no longer pending")}}class lx extends Bi{constructor(){super("You can no longer call .rollback() as the transaction is already completed")}}class ox extends Bi{constructor(){super("You can no longer call .commit() as the transaction is no longer pending")}}class uy extends Bi{constructor(){super("No pending sync transaction to write to")}}class cy extends Bi{constructor(){super("The pending sync transaction is already committed, you can't still write to it.")}}class ux extends Bi{constructor(){super("No pending sync transaction to commit")}}class cx extends Bi{constructor(){super("The pending sync transaction is already committed, you can't commit it again.")}}class ur extends tn{constructor(e){super(e),this.name="QueryBuilderError"}}class fx extends ur{constructor(e){super(`Only one source is allowed in the ${e}`)}}class dx extends ur{constructor(e){super(`A sub query passed to a ${e} must have a from clause itself`)}}class hx extends ur{constructor(e){super(`Invalid source for live query: The value provided for alias "${e}" is not a Collection or subquery. Live queries only accept Collection instances or subqueries. Please ensure you're passing a valid Collection or QueryBuilder, not a plain array or other data type.`)}}class Xl extends ur{constructor(e,s){super(`Invalid source for ${e}: Expected an object with a single key-value pair like { alias: collection }. For example: .from({ todos: todosCollection }). Got: ${s}`)}}class px extends ur{constructor(){super("Join condition must be an equality expression")}}class mx extends ur{constructor(){super("Query must have a from clause")}}class nn extends tn{constructor(e){super(e),this.name="QueryCompilationError"}}class gx extends nn{constructor(){super("DISTINCT requires a SELECT clause.")}}class yx extends nn{constructor(){super("HAVING clause requires GROUP BY clause")}}class vx extends nn{constructor(){super("LIMIT and OFFSET require an ORDER BY clause to ensure deterministic results")}}class R0 extends nn{constructor(e,s,r){const l=s?`alias "${e}" (collection "${s}")`:`collection "${e}"`,u=r?.length?`. Available keys: ${r.join(", ")}`:"";super(`Input for ${l} not found in inputs map${u}`)}}class _x extends nn{constructor(e,s){super(`Subquery uses alias "${e}" which is already used in the parent query. Each alias must be unique across parent and subquery contexts. Parent query aliases: ${s.join(", ")}. Please rename "${e}" in either the parent query or subquery to avoid conflicts.`)}}class bx extends nn{constructor(e){super(`Unsupported FROM type: ${e}`)}}class Sx extends nn{constructor(e){super(`Unknown expression type: ${e}`)}}class xx extends nn{constructor(){super("Reference path cannot be empty")}}class Ex extends nn{constructor(e){super(`Unknown function: ${e}`)}}class fy extends nn{constructor(e){super(`Collection "${e}" not found during compilation of join`)}}class cs extends tn{constructor(e){super(e),this.name="JoinError"}}class wx extends cs{constructor(e){super(`Unsupported join type: ${e}`)}}class Tx extends cs{constructor(e){super(`Invalid join condition: both expressions refer to the same source "${e}"`)}}class Rx extends cs{constructor(){super("Invalid join condition: expressions must reference source aliases")}}class Cx extends cs{constructor(e){super(`Invalid join condition: left expression refers to an unavailable source "${e}"`)}}class Ax extends cs{constructor(e){super(`Invalid join condition: right expression does not refer to the joined source "${e}"`)}}class Ox extends cs{constructor(){super("Invalid join condition")}}class kx extends cs{constructor(e){super(`Unsupported join source type: ${e}`)}}class Do extends tn{constructor(e){super(e),this.name="GroupByError"}}class Dx extends Do{constructor(e){super(`Non-aggregate expression '${e}' in SELECT must also appear in GROUP BY clause`)}}class Nx extends Do{constructor(e){super(`Unsupported aggregate function: ${e}`)}}class Mx extends Do{constructor(e){super(`Aggregate function in HAVING clause must also be in SELECT clause: ${e}`)}}class Lx extends Do{constructor(e){super(`Unknown expression type in HAVING clause: ${e}`)}}class dy extends tn{constructor(e,s){const r=s instanceof Error?s.message:String(s);super(`Collection "${e}" sync cleanup function threw an error: ${r}`),this.name="SyncCleanupError"}}class jx extends tn{constructor(e){super(e),this.name="QueryOptimizerError"}}class Ix extends jx{constructor(){super("Cannot combine empty expression list")}}class zx extends nn{constructor(e,s,r,l){super(`Internal error: subscription for alias '${e}' (remapped from '${s}', collection '${r}') is missing in join pipeline. Available aliases: ${l.join(", ")}. This indicates a bug in alias tracking.`)}}class Bx extends nn{constructor(e){super(`Internal error: compiler returned aliases without inputs: ${e.join(", ")}. This indicates a bug in query compilation. Please report this issue.`)}}class Ux extends nn{constructor(){super("setWindow() can only be called on collections with an ORDER BY clause. Add .orderBy() to your query to enable window movement.")}}const sf=new WeakMap;let Vx=1;function hy(n){if(sf.has(n))return sf.get(n);const e=Vx++;return sf.set(n,e),e}const md=(n,e,s)=>{const{nulls:r}=s;if(n==null&&e==null)return 0;if(n==null)return r==="first"?-1:1;if(e==null)return r==="first"?1:-1;if(typeof n=="string"&&typeof e=="string"&&s.stringSort==="locale")return n.localeCompare(e,s.locale,s.localeOptions);if(Array.isArray(n)&&Array.isArray(e)){for(let c=0;c<Math.min(n.length,e.length);c++){const d=md(n[c],e[c],s);if(d!==0)return d}return n.length-e.length}if(n instanceof Date&&e instanceof Date)return n.getTime()-e.getTime();const l=typeof n=="object",u=typeof e=="object";if(l||u){if(l&&u){const c=hy(n),d=hy(e);return c-d}if(l)return 1;if(u)return-1}return n<e?-1:n>e?1:0},Px=(n,e,s)=>md(e,n,{...s,nulls:s.nulls==="first"?"last":"first"});function fo(n){return(e,s)=>n.direction==="asc"?md(e,s,n):Px(e,s,n)}const Of=fo({direction:"asc",nulls:"first",stringSort:"locale"});function Hx(n,e){if(n.byteLength!==e.byteLength)return!1;for(let s=0;s<n.byteLength;s++)if(n[s]!==e[s])return!1;return!0}const qx=128;function ni(n){return n instanceof Date?n.getTime():(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)&&n.byteLength<=qx?`__u8__${Array.from(n).join(",")}`:n}function Gx(n,e){if(n===e)return!0;const s=typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array,r=typeof Buffer<"u"&&e instanceof Buffer||e instanceof Uint8Array;return s&&r?Hx(n,e):!1}function ht(n){return n==null}function nr(n){return n===!0}function Gt(n,e=!1){return yd(n,e)}function gd(n){return yd(n,!0)}function yd(n,e){switch(n.type){case"val":{const s=n.value;return()=>s}case"ref":return e?Qx(n):Kx(n);case"func":return Fx(n,e);default:throw new Sx(n.type)}}function Kx(n){const[e,...s]=n.path;if(!e)throw new xx;if(s.length===0)return r=>r[e];if(s.length===1){const r=s[0];return l=>l[e]?.[r]}else return r=>{const l=r[e];if(l===void 0)return;let u=l;for(const c of s){if(u==null)return u;u=u[c]}return u}}function Qx(n){const e=n.path;return s=>{let r=s;for(const l of e){if(r==null)return r;r=r[l]}return r}}function Fx(n,e){const s=n.args.map(r=>yd(r,e));switch(n.name){case"eq":{const r=s[0],l=s[1];return u=>{const c=ni(r(u)),d=ni(l(u));return ht(c)||ht(d)?null:Gx(c,d)}}case"gt":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:c>d}}case"gte":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:c>=d}}case"lt":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:c<d}}case"lte":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:c<=d}}case"and":return r=>{let l=!1;for(const u of s){const c=u(r);if(c===!1)return!1;ht(c)&&(l=!0)}return l?null:!0};case"or":return r=>{let l=!1;for(const u of s){const c=u(r);if(c===!0)return!0;ht(c)&&(l=!0)}return l?null:!1};case"not":{const r=s[0];return l=>{const u=r(l);return ht(u)?null:!u}}case"in":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)?null:Array.isArray(d)?d.includes(c):!1}}case"like":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:py(c,d,!1)}}case"ilike":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return ht(c)||ht(d)?null:py(c,d,!0)}}case"upper":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"?u.toUpperCase():u}}case"lower":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"?u.toLowerCase():u}}case"length":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"||Array.isArray(u)?u.length:0}}case"concat":return r=>s.map(l=>{const u=l(r);try{return String(u??"")}catch{try{return JSON.stringify(u)||""}catch{return"[object]"}}}).join("");case"coalesce":return r=>{for(const l of s){const u=l(r);if(u!=null)return u}return null};case"add":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)+(d??0)}}case"subtract":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)-(d??0)}}case"multiply":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)*(d??0)}}case"divide":{const r=s[0],l=s[1];return u=>{const c=r(u),p=l(u)??0;return p!==0?(c??0)/p:null}}case"isUndefined":{const r=s[0];return l=>r(l)===void 0}case"isNull":{const r=s[0];return l=>r(l)===null}default:throw new Ex(n.name)}}function py(n,e,s){if(typeof n!="string"||typeof e!="string")return!1;const r=s?n.toLowerCase():n;let u=(s?e.toLowerCase():e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return u=u.replace(/%/g,".*"),u=u.replace(/_/g,"."),new RegExp(`^${u}$`).test(r)}function wn(n,e){return ro(n,e,new Map)}function ro(n,e,s){if(n===e)return!0;if(n==null||e==null||typeof n!=typeof e)return!1;if(n instanceof Date)return e instanceof Date?n.getTime()===e.getTime():!1;if(n instanceof RegExp)return e instanceof RegExp?n.source===e.source&&n.flags===e.flags:!1;if(n instanceof Map){if(!(e instanceof Map)||n.size!==e.size)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const l=Array.from(n.entries()).every(([u,c])=>e.has(u)&&ro(c,e.get(u),s));return s.delete(n),l}if(n instanceof Set){if(!(e instanceof Set)||n.size!==e.size)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const r=Array.from(n),l=Array.from(e);if(r.every(c=>typeof c!="object"))return s.delete(n),r.every(c=>e.has(c));const u=r.length===l.length;return s.delete(n),u}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)&&!(n instanceof DataView)&&!(e instanceof DataView)){const r=n,l=e;if(r.length!==l.length)return!1;for(let u=0;u<r.length;u++)if(r[u]!==l[u])return!1;return!0}if(ho(n)&&ho(e)){const r=kf(n),l=kf(e);return r!==l?!1:typeof n.equals=="function"?n.equals(e):n.toString()===e.toString()}if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const r=n.every((l,u)=>ro(l,e[u],s));return s.delete(n),r}if(typeof n=="object"){if(s.has(n))return s.get(n)===e;s.set(n,e);const r=Object.keys(n),l=Object.keys(e);if(r.length!==l.length)return s.delete(n),!1;const u=r.every(c=>c in e&&ro(n[c],e[c],s));return s.delete(n),u}return!1}const Yx=["Temporal.Duration","Temporal.Instant","Temporal.PlainDate","Temporal.PlainDateTime","Temporal.PlainMonthDay","Temporal.PlainTime","Temporal.PlainYearMonth","Temporal.ZonedDateTime"];function kf(n){return n[Symbol.toStringTag]}function ho(n){const e=kf(n);return typeof e=="string"&&Yx.includes(e)}const vd={direction:"asc",nulls:"first",stringSort:"locale"};class $x{constructor(e){this.originalIndex=e}lookup(e,s){const r=e==="gt"?"lt":e==="gte"?"lte":e==="lt"?"gt":e==="lte"?"gte":e;return this.originalIndex.lookup(r,s)}rangeQuery(e={}){return this.originalIndex.rangeQueryReversed(e)}rangeQueryReversed(e={}){return this.originalIndex.rangeQuery(e)}take(e,s,r){return this.originalIndex.takeReversed(e,s,r)}takeReversed(e,s,r){return this.originalIndex.take(e,s,r)}get orderedEntriesArray(){return this.originalIndex.orderedEntriesArrayReversed}get orderedEntriesArrayReversed(){return this.originalIndex.orderedEntriesArray}supports(e){return this.originalIndex.supports(e)}matchesField(e){return this.originalIndex.matchesField(e)}matchesCompareOptions(e){return this.originalIndex.matchesCompareOptions(e)}matchesDirection(e){return this.originalIndex.matchesDirection(e)}getStats(){return this.originalIndex.getStats()}add(e,s){this.originalIndex.add(e,s)}remove(e,s){this.originalIndex.remove(e,s)}update(e,s,r){this.originalIndex.update(e,s,r)}build(e){this.originalIndex.build(e)}clear(){this.originalIndex.clear()}get keyCount(){return this.originalIndex.keyCount}equalityLookup(e){return this.originalIndex.equalityLookup(e)}inArrayLookup(e){return this.originalIndex.inArrayLookup(e)}get indexedKeysSet(){return this.originalIndex.indexedKeysSet}get valueMapData(){return this.originalIndex.valueMapData}}function ka(n,e,s){const r=s??{...vd,...n.compareOptions};for(const l of n.indexes.values())if(l.matchesField(e)&&l.matchesCompareOptions(r))return l.matchesDirection(r.direction)?l:new $x(l)}function Xx(n){if(n.length===0)return new Set;if(n.length===1)return new Set(n[0]);let e=new Set(n[0]);for(let s=1;s<n.length;s++){const r=new Set;for(const l of e)n[s].has(l)&&r.add(l);e=r}return e}function Jx(n){const e=new Set;for(const s of n)for(const r of s)e.add(r);return e}function Zx(n,e){return _d(n,e)}function _d(n,e){if(n.type==="func")switch(n.name){case"eq":case"gt":case"gte":case"lt":case"lte":return e1(n,e);case"and":return t1(n,e);case"or":return n1(n,e);case"in":return i1(n,e)}return{canOptimize:!1,matchingKeys:new Set}}function Wx(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=new Map;for(const r of n.args)if(r.type==="func"&&["gt","gte","lt","lte"].includes(r.name)){const l=r;if(l.args.length===2){const u=l.args[0],c=l.args[1];let d=null,p=null,m=l.name;if(u.type==="ref"&&c.type==="val")d=u,p=c;else if(u.type==="val"&&c.type==="ref")switch(d=c,p=u,m){case"gt":m="lt";break;case"gte":m="lte";break;case"lt":m="gt";break;case"lte":m="gte";break}if(d&&p){const y=d.path.join("."),_=p.value;s.has(y)||s.set(y,[]),s.get(y).push({operation:m,value:_})}}}for(const[r,l]of s)if(l.length>=2){const u=r.split("."),c=ka(e,u);if(c&&c.supports("gt")&&c.supports("lt")){let d,p,m=!0,g=!0;for(const{operation:_,value:b}of l)switch(_){case"gt":(d===void 0||b>d)&&(d=b,m=!1);break;case"gte":(d===void 0||b>d)&&(d=b,m=!0);break;case"lt":(p===void 0||b<p)&&(p=b,g=!1);break;case"lte":(p===void 0||b<p)&&(p=b,g=!0);break}return{canOptimize:!0,matchingKeys:c.rangeQuery({from:d,to:p,fromInclusive:m,toInclusive:g})}}}return{canOptimize:!1,matchingKeys:new Set}}function e1(n,e){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];let l=null,u=null,c=n.name;if(s.type==="ref"&&r.type==="val")l=s,u=r;else if(s.type==="val"&&r.type==="ref")switch(l=r,u=s,c){case"gt":c="lt";break;case"gte":c="lte";break;case"lt":c="gt";break;case"lte":c="gte";break}if(l&&u){const d=l.path,p=ka(e,d);if(p){const m=u.value,g=c;return p.supports(g)?{canOptimize:!0,matchingKeys:p.lookup(g,m)}:{canOptimize:!1,matchingKeys:new Set}}}return{canOptimize:!1,matchingKeys:new Set}}function t1(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=Wx(n,e);if(s.canOptimize)return s;const r=[];for(const l of n.args){const u=_d(l,e);u.canOptimize&&r.push(u)}if(r.length>0){const l=r.map(c=>c.matchingKeys);return{canOptimize:!0,matchingKeys:Xx(l)}}return{canOptimize:!1,matchingKeys:new Set}}function n1(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=[];for(const r of n.args){const l=_d(r,e);l.canOptimize&&s.push(l)}if(s.length>0){const r=s.map(u=>u.matchingKeys);return{canOptimize:!0,matchingKeys:Jx(r)}}return{canOptimize:!1,matchingKeys:new Set}}function i1(n,e){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];if(s.type==="ref"&&r.type==="val"&&Array.isArray(r.value)){const l=s.path,u=r.value,c=ka(e,l);if(c){if(c.supports("in"))return{canOptimize:!0,matchingKeys:c.lookup("in",u)};if(c.supports("eq")){const d=new Set;for(const p of u){const m=c.lookup("eq",p);for(const g of m)d.add(g)}return{canOptimize:!0,matchingKeys:d}}}}return{canOptimize:!1,matchingKeys:new Set}}class s1 extends Map{constructor(e,s){super(s),this.defaultValue=e}get(e){return this.has(e)?super.get(e):this.defaultValue()}update(e,s){const r=this.get(e),l=s(r);return this.set(e,l),l}}const rf=3e4;function af(n,e){if(e.length<=rf)n.push(...e);else for(let s=0;s<e.length;s+=rf){const r=e.slice(s,s+rf);n.push(...r)}}function r1(n,e,s){let r=0,l=n.length;for(;r<l;){const u=Math.floor((r+l)/2),c=s(n[u],e);if(c<0)r=u+1;else if(c>0)l=u;else return u}return r}class a1{constructor(){this.objectIds=new WeakMap,this.nextId=0}getId(e){if(typeof e!="object"||e===null){const s=String(e);let r=0;for(let l=0;l<s.length;l++){const u=s.charCodeAt(l);r=(r<<5)-r+u,r=r&r}return r}return this.objectIds.has(e)||this.objectIds.set(e,this.nextId++),this.objectIds.get(e)}getStringId(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?`str_${String(e)}`:`obj_${this.getId(e)}`}}const lf=new a1;function l1(n,e){const[s,r]=n,[l,u]=e,c=[...Jl(s,Math.min(r,l)),...Jl(Math.max(s,u),r)],d=[...Jl(l,Math.min(u,s)),...Jl(Math.max(l,r),u)];return{onlyInA:c,onlyInB:d}}function Jl(n,e){const s=[];for(let r=n;r<e;r++)s.push(r);return s}function po(n,e){return typeof n==typeof e?n<e?-1:n>e?1:0:typeof n=="string"?-1:1}const o1=Et(),u1=Et(),c1=Et(),f1=Et(),d1=Et();function Et(){return Math.random()*(2**31-1)>>>0}const C0=new ArrayBuffer(8),h1=new DataView(C0),Mi=new Uint8Array(C0);class No{constructor(){this.hash=o1,this.length=0,this.carry=0,this.carryBytes=0}_mix(e){e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e,this.hash=this.hash<<13|this.hash>>>19,this.hash=Math.imul(this.hash,5)+3864292196}writeByte(e){this.carry|=(e&255)<<8*this.carryBytes,this.carryBytes++,this.length++,this.carryBytes===4&&(this._mix(this.carry>>>0),this.carry=0,this.carryBytes=0)}update(e){switch(typeof e){case"symbol":{this.update(d1);const s=e.description;if(!s)return;for(let r=0;r<s.length;r++){const l=s.charCodeAt(r);this.writeByte(l&255),this.writeByte(l>>>8&255)}return}case"string":this.update(u1);for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);this.writeByte(r&255),this.writeByte(r>>>8&255)}return;case"number":h1.setFloat64(0,e,!0),this.writeByte(Mi[0]),this.writeByte(Mi[1]),this.writeByte(Mi[2]),this.writeByte(Mi[3]),this.writeByte(Mi[4]),this.writeByte(Mi[5]),this.writeByte(Mi[6]),this.writeByte(Mi[7]);return;case"bigint":{let s=e;for(s<0n?(s=-s,this.update(f1)):this.update(c1);s>0n;)this.writeByte(Number(s&0xffn)),s>>=8n;e===0n&&this.writeByte(0);return}default:throw new TypeError(`Unsupported input type: ${typeof e}`)}}digest(){if(this.carryBytes>0){let e=this.carry>>>0;e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e}return this.hash^=this.length,this.hash^=this.hash>>>16,this.hash=Math.imul(this.hash,2246822507),this.hash^=this.hash>>>13,this.hash=Math.imul(this.hash,3266489909),this.hash^=this.hash>>>16,this.hash>>>0}}const p1=Et(),m1=Et(),g1=Et(),y1=Et(),v1=Et(),_1=Et(),b1=Et(),S1=Et(),x1=Et(),E1=Et(),w1=Et(),T1=Et(),R1=128,ba=new WeakMap;function Nt(n){const e=new No;return A0(e,n),e.digest()}function C1(n){const e=ba.get(n);if(e!==void 0)return e;let s;if(n instanceof Date)s=A1(n);else if(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)if(n.byteLength<=R1)s=O1(n);else return Df(n);else{if(n instanceof File)return Df(n);{let r=n,l=S1;n instanceof Array&&(l=x1),n instanceof Map&&(l=E1,r=[...n.entries()]),n instanceof Set&&(l=w1,r=[...n.entries()]),s=k1(r,l)}}return ba.set(n,s),s}function A1(n){const e=new No;return e.update(b1),e.update(n.getTime()),e.digest()}function O1(n){const e=new No;e.update(T1),e.update(n.byteLength);for(let s=0;s<n.byteLength;s++)e.writeByte(n[s]);return e.digest()}function k1(n,e){const s=new No;s.update(e);const r=Object.keys(n);r.sort(N1);for(const l of r)s.update(v1),s.update(l),A0(s,n[l]);return s.digest()}function A0(n,e){if(e===null){n.update(g1);return}switch(typeof e){case"undefined":n.update(y1);return;case"boolean":n.update(e?p1:m1);return;case"number":n.update(isNaN(e)?NaN:e===0?0:e);return;case"bigint":case"string":case"symbol":n.update(e);return;case"object":n.update(D1(e));return;case"function":n.update(Df(e));return;default:console.warn(`Ignored input during hashing because it is of type ${typeof e} which is not supported`)}}function D1(n){let e=ba.get(n);return e===void 0&&(e=C1(n)),e}let my=1;function Df(n){let e=ba.get(n);return e===void 0&&(e=my^_1,my++,ba.set(n,e)),e}function N1(n,e){return n.localeCompare(e)}class lt{#e;constructor(e=[]){this.#e=e}toString(e=!1){return`MultiSet(${JSON.stringify(this.#e,null,e?2:void 0)})`}toJSON(){return JSON.stringify(Array.from(this.getInner()))}static fromJSON(e){return new lt(JSON.parse(e))}map(e){return new lt(this.#e.map(([s,r])=>[e(s),r]))}filter(e){return new lt(this.#e.filter(([s,r])=>e(s)))}negate(){return new lt(this.#e.map(([e,s])=>[e,-s]))}concat(e){const s=[];return af(s,this.#e),af(s,e.getInner()),new lt(s)}consolidate(){if(this.#e.length>0){const e=this.#e[0]?.[0];if(Array.isArray(e)&&e.length===2)return this.#t()}return this.#n()}#t(){const e=new Map,s=new Map,r=u=>{if(u.length!==2)throw new Error("Expected tuple of length 2");const[c,d]=u;return`${lf.getStringId(c)}|${lf.getStringId(d)}`};for(const[u,c]of this.#e){if(!Array.isArray(u)||u.length!==2)return this.#n();const[d,p]=u;if(typeof d!="string"&&typeof d!="number")return this.#n();let m;Array.isArray(p)&&p.length===2?m=r(p):m=lf.getStringId(p);const g=d+"|"+m;e.set(g,(e.get(g)||0)+c),s.has(g)||s.set(g,u)}const l=[];for(const[u,c]of e)c!==0&&l.push([s.get(u),c]);return new lt(l)}#n(){const e=new s1(()=>0),s=new Map;let r=!1,l=!1,u=!1;for(const[p,m]of this.#e)if(typeof p=="string")r=!0;else if(typeof p=="number")l=!0;else{u=!0;break}const c=u||r&&l;for(const[p,m]of this.#e){const g=c?Nt(p):p;c&&!s.has(g)&&s.set(g,p),e.update(g,y=>y+m)}const d=[];for(const[p,m]of e.entries())if(m!==0){const g=c?s.get(p):p;d.push([g,m])}return new lt(d)}extend(e){const s=e instanceof lt?e.getInner():e;af(this.#e,s)}add(e,s){s!==0&&this.#e.push([e,s])}getInner(){return this.#e}}class M1{#e;constructor(e){this.#e=e}drain(){const e=[...this.#e].reverse();return this.#e.length=0,e}isEmpty(){return this.#e.length===0}}class jn{#e=[];sendData(e){e instanceof lt||(e=new lt(e));for(const s of this.#e)s.unshift(e)}newReader(){const e=[];return this.#e.push(e),new M1(e)}}class O0{constructor(e,s,r){this.id=e,this.inputs=s,this.output=r}hasPendingWork(){return this.inputs.some(e=>!e.isEmpty())}}class cr extends O0{constructor(e,s,r){super(e,[s],r),this.id=e}inputMessages(){return this.inputs[0].drain()}}class L1 extends O0{constructor(e,s,r,l){super(e,[s,r],l),this.id=e}inputAMessages(){return this.inputs[0].drain()}inputBMessages(){return this.inputs[1].drain()}}class bd extends cr{run(){for(const e of this.inputMessages())this.output.sendData(this.inner(e))}}class j1{#e=[];#t=0;#n=!1;constructor(){}#i(){if(this.#n)throw new Error("Graph already finalized")}getNextOperatorId(){return this.#i(),this.#t++}newInput(){this.#i();const e=new jn;return new I1(this,e)}addOperator(e){this.#i(),this.#e.push(e)}finalize(){this.#i(),this.#n=!0}step(){if(!this.#n)throw new Error("Graph not finalized");for(const e of this.#e)e.run()}pendingWork(){return this.#e.some(e=>e.hasPendingWork())}run(){for(;this.pendingWork();)this.step()}}class In{#e;#t;constructor(e,s){this.#e=e,this.#t=s}connectReader(){return this.#t.newReader()}get writer(){return this.#t}get graph(){return this.#e}pipe(...e){return e.reduce((s,r)=>r(s),this)}}class I1 extends In{sendData(e){this.writer.sendData(e)}}class z1 extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return e.map(this.#e)}}function Mt(n){return e=>{const s=new In(e.graph,new jn),r=new z1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}const ca=Symbol("NO_PREFIX");class gy extends Map{addValue(e,s){if(s===0)return this.size===0;const r=ma(e),l=this.get(r);if(ao(l)){const[u,c]=l;if(ma(u)!==r)throw new Error("Mismatching prefixes, this should never happen");if(u===e||Nt(u)===Nt(e)){const p=c+s;p===0?this.delete(r):this.set(r,[e,p])}else{const p=new fa;p.set(Nt(u),l),p.set(Nt(e),[e,s]),this.set(r,p)}}else l===void 0?this.set(r,[e,s]):l.addValue(e,s)&&this.delete(r);return this.size===0}}class fa extends Map{addValue(e,s){if(s===0)return this.size===0;const r=Nt(e),l=this.get(r);if(l){const[,u]=l,c=u+s;c===0?this.delete(r):this.set(r,[e,c])}else this.set(r,[e,s]);return this.size===0}}class Li{#e;#t=new Map;constructor(){this.#e=new Map}static fromMultiSets(e){const s=new Li;for(const r of e)for(const[l,u]of r.getInner()){const[c,d]=l;s.addValue(c,[d,u])}return s}toString(e=!1){return`Index(${JSON.stringify([...this.entries()],void 0,e?2:void 0)})`}get size(){return this.#e.size}has(e){return this.#e.has(e)}hasPresence(e){return(this.#t.get(e)||0)!==0}getConsolidatedMultiplicity(e){return this.#t.get(e)||0}getPresenceKeys(){return this.#t.keys()}get(e){return[...this.getIterator(e)]}*getIterator(e){const s=this.#e.get(e);if(ao(s))yield s;else{if(s===void 0)return;if(s instanceof fa)for(const r of s.values())yield r;else for(const r of s.values())if(ao(r))yield r;else for(const l of r.values())yield l}}*entries(){for(const e of this.#e.keys())for(const s of this.getIterator(e))yield[e,s]}*entriesIterators(){for(const e of this.#e.keys())yield[e,this.getIterator(e)]}addValue(e,s){const[r,l]=s;if(l===0)return;const u=(this.#t.get(e)||0)+l;u===0?this.#t.delete(e):this.#t.set(e,u);const c=this.#e.get(e);if(c===void 0){this.#e.set(e,s);return}if(ao(c)){this.#n(e,c,r,l);return}if(c instanceof fa){const d=ma(r);if(d!==ca){const p=new gy;p.set(ca,c),p.set(d,s),this.#e.set(e,p)}else c.addValue(r,l)&&this.#e.delete(e)}else c.addValue(r,l)&&this.#e.delete(e)}#n(e,s,r,l){const[u,c]=s;if(u===r){const m=c+l;m===0?this.#e.delete(e):this.#e.set(e,[r,m]);return}const d=ma(r),p=ma(u);if(p===d&&(u===r||Nt(u)===Nt(r))){const m=c+l;m===0?this.#e.delete(e):this.#e.set(e,[r,m]);return}if(p===ca&&d===ca){const m=new fa;m.set(Nt(u),s),m.set(Nt(r),[r,l]),this.#e.set(e,m)}else{const m=new gy;if(p===d){const g=new fa;g.set(Nt(u),s),g.set(Nt(r),[r,l]),m.set(p,g)}else m.set(p,s),m.set(d,[r,l]);this.#e.set(e,m)}}append(e){for(const[s,r]of e.entries())this.addValue(s,r)}join(e){const s=[];if(this.size<=e.size)for(const[r,l]of this.entriesIterators()){if(!e.has(r))continue;const u=e.get(r);for(const[c,d]of l)for(const[p,m]of u)d!==0&&m!==0&&s.push([[r,[c,p]],d*m])}else for(const[r,l]of e.entriesIterators()){if(!this.has(r))continue;const u=this.get(r);for(const[c,d]of l)for(const[p,m]of u)m!==0&&d!==0&&s.push([[r,[p,c]],m*d])}return new lt(s)}}function ma(n){return Array.isArray(n)&&(typeof n[0]=="string"||typeof n[0]=="number"||typeof n[0]=="bigint")?n[0]:ca}function ao(n){return Array.isArray(n)}class B1 extends cr{#e=new Li;#t=new Li;#n;constructor(e,s,r,l){super(e,s,r),this.#n=l}run(){const e=new Set;for(const r of this.inputMessages())for(const[l,u]of r.getInner()){const[c,d]=l;this.#e.addValue(c,[d,u]),e.add(c)}const s=[];for(const r of e){const l=this.#e.get(r),u=this.#t.get(r),c=this.#n(l),d=new Map,p=new Map;for(const[m,g]of c){const y=d.get(m)??0;d.set(m,y+g)}for(const[m,g]of u){const y=p.get(m)??0;p.set(m,y+g)}for(const[m,g]of p)d.has(m)||(s.push([[r,m],-g]),this.#t.addValue(r,[m,-g]));for(const[m,g]of d)p.has(m)||g!==0&&(s.push([[r,m],g]),this.#t.addValue(r,[m,g]));for(const[m,g]of d){const y=p.get(m);if(y!==void 0){const _=g-y;_!==0&&(s.push([[r,m],_]),this.#t.addValue(r,[m,_]))}}}s.length>0&&this.output.sendData(new lt(s))}}function U1(n){return e=>{const s=new In(e.graph,new jn),r=new B1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}function yy(n){return"pipe"in n}function vy(n,e={}){const s=Object.fromEntries(Object.entries(e).filter(([r,l])=>!yy(l)));return Object.fromEntries(Object.entries(e).filter(([r,l])=>yy(l))),r=>{const l="__original_key__";return r.pipe(Mt(d=>{const p=n(d),m=JSON.stringify(p),g={};g[l]=p;for(const[y,_]of Object.entries(s))g[y]=_.preMap(d);return[m,g]})).pipe(U1(d=>{let p=0;for(const[y,_]of d)p+=_;if(p<=0)return[];const m={},g=d[0]?.[0]?.[l];m[l]=g;for(const[y,_]of Object.entries(s)){const b=d.map(([S,w])=>[S[y],w]);m[y]=_.reduce(b)}return[[m,1]]})).pipe(Mt(([d,p])=>{const m=p[l],g={};Object.assign(g,m);for(const[y,_]of Object.entries(s))_.postMap?g[y]=_.postMap(p[y]):g[y]=p[y];return[d,g]}))}}function V1(n=e=>e){return{preMap:e=>n(e),reduce:e=>{let s=0;for(const[r,l]of e)s+=r*l;return s}}}function P1(n=e=>e){return{preMap:e=>n(e)==null?0:1,reduce:e=>{let s=0;for(const[r,l]of e)s+=r*l;return s}}}function H1(n=e=>e){return{preMap:e=>({sum:n(e),count:0}),reduce:e=>{let s=0,r=0;for(const[l,u]of e)s+=l.sum*u,r+=u;return{sum:s,count:r}},postMap:e=>e.sum/e.count}}function q1(n){const e=n??(s=>s);return{preMap:s=>e(s),reduce:s=>{let r;for(const[l,u]of s)(!r||l&&l<r)&&(r=l);return r}}}function G1(n){const e=n??(s=>s);return{preMap:s=>e(s),reduce:s=>{let r;for(const[l,u]of s)(!r||l&&l>r)&&(r=l);return r}}}const K1={sum:V1,count:P1,avg:H1,min:q1,max:G1};class Q1 extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return this.#e(e),e}}function F1(n){return e=>{const s=new In(e.graph,new jn),r=new Q1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class Y1 extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return e.filter(this.#e)}}function ji(n){return e=>{const s=new In(e.graph,new jn),r=new Y1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class $1 extends cr{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}run(){for(const e of this.inputMessages())this.#e(e),this.output.sendData(e)}}function X1(n){return e=>{const s=new In(e.graph,new jn),r=new $1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class J1 extends cr{run(){const e=this.inputMessages();if(e.length===0)return;const s=new lt;for(const l of e)s.extend(l);const r=s.consolidate();r.getInner().length>0&&this.output.sendData(r)}}function Z1(){return n=>{const e=new In(n.graph,new jn),s=new J1(n.graph.getNextOperatorId(),n.connectReader(),e.writer);return n.graph.addOperator(s),e}}class W1 extends L1{#e=new Li;#t=new Li;#n;constructor(e,s,r,l,u="inner"){super(e,s,r,l),this.#n=u}run(){const e=Li.fromMultiSets(this.inputAMessages()),s=Li.fromMultiSets(this.inputBMessages());if(e.size===0&&s.size===0)return;const r=new lt;this.#n!=="anti"&&this.emitInnerResults(e,s,r),(this.#n==="left"||this.#n==="full"||this.#n==="anti")&&this.emitLeftOuterResults(e,s,r),(this.#n==="right"||this.#n==="full")&&this.emitRightOuterResults(e,s,r),this.#e.append(e),this.#t.append(s),r.getInner().length>0&&this.output.sendData(r)}emitInnerResults(e,s,r){e.size>0&&r.extend(e.join(this.#t)),s.size>0&&r.extend(this.#e.join(s)),e.size>0&&s.size>0&&r.extend(e.join(s))}emitLeftOuterResults(e,s,r){if(e.size>0)for(const[l,u]of e.entriesIterators()){const c=this.#t.getConsolidatedMultiplicity(l),d=s.getConsolidatedMultiplicity(l);if(c+d===0)for(const[m,g]of u)g!==0&&r.add([l,[m,null]],g)}if(s.size>0)for(const l of s.getPresenceKeys()){const u=this.#t.getConsolidatedMultiplicity(l),c=s.getConsolidatedMultiplicity(l);if(c===0)continue;const d=u+c;if(u===0==(d===0))continue;const p=u===0;for(const[m,g]of this.#e.getIterator(l))g!==0&&r.add([l,[m,null]],p?-g:+g)}}emitRightOuterResults(e,s,r){if(s.size>0)for(const[l,u]of s.entriesIterators()){const c=this.#e.getConsolidatedMultiplicity(l),d=e.getConsolidatedMultiplicity(l);if(c+d===0)for(const[m,g]of u)g!==0&&r.add([l,[null,m]],g)}if(e.size>0)for(const l of e.getPresenceKeys()){const u=this.#e.getConsolidatedMultiplicity(l),c=e.getConsolidatedMultiplicity(l);if(c===0)continue;const d=u+c;if(u===0==(d===0))continue;const p=u===0;for(const[m,g]of this.#t.getIterator(l))g!==0&&r.add([l,[null,m]],p?-g:+g)}}}function eE(n,e="inner"){return s=>{if(s.graph!==n.graph)throw new Error("Cannot join streams from different graphs");const r=new In(s.graph,new jn),l=new W1(s.graph.getNextOperatorId(),s.connectReader(),n.connectReader(),r.writer,e);return s.graph.addOperator(l),r}}class tE extends cr{#e;#t;constructor(e,s,r,l=u=>u){super(e,s,r),this.#e=l,this.#t=new Map}run(){const e=new Map;for(const r of this.inputMessages())for(const[l,u]of r.getInner()){const c=Nt(this.#e(l)),p=(e.get(c)?.[0]??this.#t.get(c)??0)+u;e.set(c,[p,l])}const s=[];for(const[r,[l,u]]of e.entries()){const c=this.#t.get(r)??0;l===0?this.#t.delete(r):this.#t.set(r,l),c<=0&&l>0?s.push([[Nt(this.#e(u)),u[1]],1]):c>0&&l<=0&&s.push([[Nt(this.#e(u)),u[1]],-1])}s.length>0&&this.output.sendData(new lt(s))}}function nE(n=e=>e){return e=>{const s=new In(e.graph,new jn),r=new tE(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}const iE="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Ws(n,e,s){const r=s[0];if(e!=null&&n>=e)throw new Error(n+" >= "+e);if(n.slice(-1)===r||e&&e.slice(-1)===r)throw new Error("trailing zero");if(e){let c=0;for(;(n[c]||r)===e[c];)c++;if(c>0)return e.slice(0,c)+Ws(n.slice(c),e.slice(c),s)}const l=n?s.indexOf(n[0]):0,u=e!=null?s.indexOf(e[0]):s.length;if(u-l>1){const c=Math.round(.5*(l+u));return s[c]}else return e&&e.length>1?e.slice(0,1):s[l]+Ws(n.slice(1),null,s)}function k0(n){if(n.length!==D0(n[0]))throw new Error("invalid integer part of order key: "+n)}function D0(n){if(n>="a"&&n<="z")return n.charCodeAt(0)-97+2;if(n>="A"&&n<="Z")return 90-n.charCodeAt(0)+2;throw new Error("invalid order key head: "+n)}function da(n){const e=D0(n[0]);if(e>n.length)throw new Error("invalid order key: "+n);return n.slice(0,e)}function _y(n,e){if(n==="A"+e[0].repeat(26))throw new Error("invalid order key: "+n);const s=da(n);if(n.slice(s.length).slice(-1)===e[0])throw new Error("invalid order key: "+n)}function by(n,e){k0(n);const[s,...r]=n.split("");let l=!0;for(let u=r.length-1;l&&u>=0;u--){const c=e.indexOf(r[u])+1;c===e.length?r[u]=e[0]:(r[u]=e[c],l=!1)}if(l){if(s==="Z")return"a"+e[0];if(s==="z")return null;const u=String.fromCharCode(s.charCodeAt(0)+1);return u>"a"?r.push(e[0]):r.pop(),u+r.join("")}else return s+r.join("")}function sE(n,e){k0(n);const[s,...r]=n.split("");let l=!0;for(let u=r.length-1;l&&u>=0;u--){const c=e.indexOf(r[u])-1;c===-1?r[u]=e.slice(-1):(r[u]=e[c],l=!1)}if(l){if(s==="a")return"Z"+e.slice(-1);if(s==="A")return null;const u=String.fromCharCode(s.charCodeAt(0)-1);return u<"Z"?r.push(e.slice(-1)):r.pop(),u+r.join("")}else return s+r.join("")}function rE(n,e,s=iE){if(n!=null&&_y(n,s),e!=null&&_y(e,s),n!=null&&e!=null&&n>=e)throw new Error(n+" >= "+e);if(n==null){if(e==null)return"a"+s[0];const p=da(e),m=e.slice(p.length);if(p==="A"+s[0].repeat(26))return p+Ws("",m,s);if(p<e)return p;const g=sE(p,s);if(g==null)throw new Error("cannot decrement any more");return g}if(e==null){const p=da(n),m=n.slice(p.length),g=by(p,s);return g??p+Ws(m,null,s)}const r=da(n),l=n.slice(r.length),u=da(e),c=e.slice(u.length);if(r===u)return r+Ws(l,c,s);const d=by(r,s);if(d==null)throw new Error("cannot increment any more");return d<e?d:r+Ws(l,null,s)}class Sy{#e=[];#t;#n;#i;constructor(e,s,r){this.#n=e,this.#i=e+s,this.#t=r}get size(){const e=this.#n,s=this.#i-this.#n,r=this.#e.length-e;return Math.max(0,Math.min(s,r))}move({offset:e,limit:s}){const r=this.#n,l=this.#i-this.#n,u=[this.#n,this.#i===1/0?this.#n+this.size:this.#i];this.#n=e??r,this.#i=this.#n+(s??l);const c=[this.#n,this.#i===1/0?Math.max(this.#n+this.size,u[1]):this.#i],{onlyInA:d,onlyInB:p}=l1(u,c),m=[];p.forEach(y=>{const _=this.#e[y];_&&m.push(_)});const g=[];return d.forEach(y=>{const _=this.#e[y];_&&g.push(_)}),{moveIns:m,moveOuts:g,changes:d.length+p.length>0}}insert(e){const s={moveIn:null,moveOut:null},r=this.#s(e),l=r===0?null:wy(this.#e[r-1]),u=r===this.#e.length?null:wy(this.#e[r]),c=rE(l,u),d=xy(e,c);if(this.#e.splice(r,0,d),r<this.#i){const p=Math.max(r,this.#n);p<this.#e.length&&(s.moveIn=this.#e[p],this.#i<this.#e.length&&(s.moveOut=this.#e[this.#i]))}return s}delete(e){const s={moveIn:null,moveOut:null},r=this.#s(e),[l]=this.#e.splice(r,1);if(r<this.#i){if(s.moveOut=l,r<this.#n){const c=this.#n-1;c<this.#e.length?s.moveOut=this.#e[c]:s.moveOut=null}const u=this.#i-1;u<this.#e.length&&(s.moveIn=this.#e[u])}return s}#s(e){return r1(this.#e,xy(e,""),(s,r)=>this.#t(Ey(s),Ey(r)))}}class aE extends cr{#e=new Map;#t;constructor(e,s,r,l,u){super(e,s,r);const c=u.limit??1/0,d=u.offset??0;this.#t=this.createTopK(d,c,oE(l)),u.setSizeCallback?.(()=>this.#t.size),u.setWindowFn?.(this.moveTopK.bind(this))}createTopK(e,s,r){return new Sy(e,s,r)}moveTopK({offset:e,limit:s}){if(!(this.#t instanceof Sy))throw new Error("Cannot move B+-tree implementation of TopK with fractional index");const r=[],l=this.#t.move({offset:e,limit:s});l.moveIns.forEach(u=>this.handleMoveIn(u,r)),l.moveOuts.forEach(u=>this.handleMoveOut(u,r)),l.changes&&this.output.sendData(new lt(r))}run(){const e=[];for(const s of this.inputMessages())for(const[r,l]of s.getInner()){const[u,c]=r;this.processElement(u,c,l,e)}e.length>0&&this.output.sendData(new lt(e))}processElement(e,s,r,l){const{oldMultiplicity:u,newMultiplicity:c}=this.addKey(e,r);let d={moveIn:null,moveOut:null};u<=0&&c>0?d=this.#t.insert([e,s]):u>0&&c<=0&&(d=this.#t.delete([e,s])),this.handleMoveIn(d.moveIn,l),this.handleMoveOut(d.moveOut,l)}handleMoveIn(e,s){if(e){const[[r,l],u]=e;s.push([[r,[l,u]],1])}}handleMoveOut(e,s){if(e){const[[r,l],u]=e;s.push([[r,[l,u]],-1])}}getMultiplicity(e){return this.#e.get(e)??0}addKey(e,s){const r=this.getMultiplicity(e),l=r+s;return l===0?this.#e.delete(e):this.#e.set(e,l),{oldMultiplicity:r,newMultiplicity:l}}}function lE(n,e){const s=e||{};return r=>{const l=new In(r.graph,new jn),u=new aE(r.graph.getNextOperatorId(),r.connectReader(),l.writer,n,s);return r.graph.addOperator(u),l}}function xy(n,e){return[n,e]}function Ey(n){return n[0]}function wy(n){return n[1]}function oE(n){return([e,s],[r,l])=>{const u=n(s,l);return u!==0?u:po(e,r)}}function uE(n,e,s){const r=s?.limit??1/0,l=s?.offset??0,u=s?.setSizeCallback,c=s?.setWindowFn,d=s?.comparator??((p,m)=>p===m?0:p<m?-1:1);return p=>p.pipe(n((m,g)=>d(e(m),e(g)),{limit:r,offset:l,setSizeCallback:u,setWindowFn:c}),Z1())}function cE(n,e){return uE(lE,n,e)}class fE{constructor(e,s,r){this._root=of,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=e,s&&this.setPairs(s)}get size(){return this._size}get length(){return this._size}get isEmpty(){return this._size===0}clear(){this._root=of,this._size=0}get(e,s){return this._root.get(e,s,this)}set(e,s,r){this._root.isShared&&(this._root=this._root.clone());const l=this._root.set(e,s,r,this);return l===!0||l===!1?l:(this._root=new Sd([this._root,l]),!0)}has(e){return this.forRange(e,e,!0,void 0)!==0}delete(e){return this.editRange(e,e,!0,hE)!==0}get maxNodeSize(){return this._maxNodeSize}minKey(){return this._root.minKey()}maxKey(){return this._root.maxKey()}keysArray(){const e=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,(s,r)=>{e.push(s)}),e}nextHigherPair(e,s){return s=s||[],e===void 0?this._root.minPair(s):this._root.getPairOrNextHigher(e,this._compare,!1,s)}nextHigherKey(e){const s=this.nextHigherPair(e,Ty);return s&&s[0]}nextLowerPair(e,s){return s=s||[],e===void 0?this._root.maxPair(s):this._root.getPairOrNextLower(e,this._compare,!1,s)}nextLowerKey(e){const s=this.nextLowerPair(e,Ty);return s&&s[0]}setPairs(e,s){let r=0;for(const l of e)this.set(l[0],l[1],s)&&r++;return r}forRange(e,s,r,l,u){const c=this._root.forRange(e,s,r,!1,this,u||0,l);return typeof c=="number"?c:c.break}editRange(e,s,r,l,u){let c=this._root;c.isShared&&(this._root=c=c.clone());try{const d=c.forRange(e,s,r,!0,this,u||0,l);return typeof d=="number"?d:d.break}finally{let d;for(;c.keys.length<=1&&!c.isLeaf;)d||=c.isShared,this._root=c=c.keys.length===0?of:c.children[0];d&&(c.isShared=!0)}}}class Sa{get isLeaf(){return this.children===void 0}constructor(e=[],s){this.keys=e,this.values=s||Rt,this.isShared=void 0}maxKey(){return this.keys[this.keys.length-1]}indexOf(e,s,r){const l=this.keys;let u=0,c=l.length,d=c>>1;for(;u<c;){const p=r(l[d],e);if(p<0)u=d+1;else if(p>0)c=d;else{if(p===0)return d;if(e===e)return l.length;throw new Error("BTree: NaN was used as a key")}d=u+c>>1}return d^s}minKey(){return this.keys[0]}minPair(e){if(this.keys.length!==0)return e[0]=this.keys[0],e[1]=this.values[0],e}maxPair(e){if(this.keys.length===0)return;const s=this.keys.length-1;return e[0]=this.keys[s],e[1]=this.values[s],e}clone(){const e=this.values;return new Sa(this.keys.slice(0),e===Rt?e:e.slice(0))}get(e,s,r){const l=this.indexOf(e,-1,r._compare);return l<0?s:this.values[l]}getPairOrNextLower(e,s,r,l){const u=this.indexOf(e,-1,s),c=u<0?~u-1:r?u:u-1;if(c>=0)return l[0]=this.keys[c],l[1]=this.values[c],l}getPairOrNextHigher(e,s,r,l){const u=this.indexOf(e,-1,s),c=u<0?~u:r?u:u+1,d=this.keys;if(c<d.length)return l[0]=d[c],l[1]=this.values[c],l}set(e,s,r,l){let u=this.indexOf(e,-1,l._compare);if(u<0){if(u=~u,l._size++,this.keys.length<l._maxNodeSize)return this.insertInLeaf(u,e,s,l);{const c=this.splitOffRightSide();let d=this;return u>this.keys.length&&(u-=this.keys.length,d=c),d.insertInLeaf(u,e,s,l),c}}else return r!==!1&&(s!==void 0&&this.reifyValues(),this.keys[u]=e,this.values[u]=s),!1}reifyValues(){return this.values===Rt?this.values=this.values.slice(0,this.keys.length):this.values}insertInLeaf(e,s,r,l){if(this.keys.splice(e,0,s),this.values===Rt){for(;Rt.length<l._maxNodeSize;)Rt.push(void 0);if(r===void 0)return!0;this.values=Rt.slice(0,this.keys.length-1)}return this.values.splice(e,0,r),!0}takeFromRight(e){let s=this.values;e.values===Rt?s!==Rt&&s.push(void 0):(s=this.reifyValues(),s.push(e.values.shift())),this.keys.push(e.keys.shift())}takeFromLeft(e){let s=this.values;e.values===Rt?s!==Rt&&s.unshift(void 0):(s=this.reifyValues(),s.unshift(e.values.pop())),this.keys.unshift(e.keys.pop())}splitOffRightSide(){const e=this.keys.length>>1,s=this.keys.splice(e),r=this.values===Rt?Rt:this.values.splice(e);return new Sa(s,r)}forRange(e,s,r,l,u,c,d){const p=u._compare;let m,g;if(s===e){if(!r||(g=(m=this.indexOf(e,-1,p))+1,m<0))return c}else m=this.indexOf(e,0,p),g=this.indexOf(s,-1,p),g<0?g=~g:r===!0&&g++;const y=this.keys,_=this.values;if(d!==void 0)for(let b=m;b<g;b++){const S=y[b],w=d(S,_[b],c++);if(w!==void 0){if(l===!0){if(S!==y[b]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");w.delete?(this.keys.splice(b,1),this.values!==Rt&&this.values.splice(b,1),u._size--,b--,g--):w.hasOwnProperty("value")&&(_[b]=w.value)}if(w.break!==void 0)return w}}else c+=g-m;return c}mergeSibling(e,s){if(this.keys.push.apply(this.keys,e.keys),this.values===Rt){if(e.values===Rt)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,e.reifyValues())}}class Sd extends Sa{constructor(e,s){if(!s){s=[];for(let r=0;r<e.length;r++)s[r]=e[r].maxKey()}super(s),this.children=e}minKey(){return this.children[0].minKey()}minPair(e){return this.children[0].minPair(e)}maxPair(e){return this.children[this.children.length-1].maxPair(e)}get(e,s,r){const l=this.indexOf(e,0,r._compare),u=this.children;return l<u.length?u[l].get(e,s,r):void 0}getPairOrNextLower(e,s,r,l){const u=this.indexOf(e,0,s),c=this.children;if(u>=c.length)return this.maxPair(l);const d=c[u].getPairOrNextLower(e,s,r,l);return d===void 0&&u>0?c[u-1].maxPair(l):d}getPairOrNextHigher(e,s,r,l){const u=this.indexOf(e,0,s),c=this.children,d=c.length;if(u>=d)return;const p=c[u].getPairOrNextHigher(e,s,r,l);return p===void 0&&u<d-1?c[u+1].minPair(l):p}set(e,s,r,l){const u=this.children,c=l._maxNodeSize,d=l._compare;let p=Math.min(this.indexOf(e,0,d),u.length-1),m=u[p];if(m.isShared&&(u[p]=m=m.clone()),m.keys.length>=c){let y;p>0&&(y=u[p-1]).keys.length<c&&d(m.keys[0],e)<0?(y.isShared&&(u[p-1]=y=y.clone()),y.takeFromRight(m),this.keys[p-1]=y.maxKey()):(y=u[p+1])!==void 0&&y.keys.length<c&&d(m.maxKey(),e)<0&&(y.isShared&&(u[p+1]=y=y.clone()),y.takeFromLeft(m),this.keys[p]=u[p].maxKey())}const g=m.set(e,s,r,l);if(g===!1)return!1;if(this.keys[p]=m.maxKey(),g===!0)return!0;if(this.keys.length<c)return this.insert(p+1,g),!0;{const y=this.splitOffRightSide();let _=this;return d(g.maxKey(),this.maxKey())>0&&(_=y,p-=this.keys.length),_.insert(p+1,g),y}}insert(e,s){this.children.splice(e,0,s),this.keys.splice(e,0,s.maxKey())}splitOffRightSide(){const e=this.children.length>>1;return new Sd(this.children.splice(e),this.keys.splice(e))}takeFromRight(e){this.keys.push(e.keys.shift()),this.children.push(e.children.shift())}takeFromLeft(e){this.keys.unshift(e.keys.pop()),this.children.unshift(e.children.pop())}forRange(e,s,r,l,u,c,d){const p=u._compare,m=this.keys,g=this.children;let y=this.indexOf(e,0,p),_=y;const b=Math.min(s===e?y:this.indexOf(s,0,p),m.length-1);if(l){if(_<=b)try{for(;_<=b;_++){g[_].isShared&&(g[_]=g[_].clone());const S=g[_].forRange(e,s,r,l,u,c,d);if(m[_]=g[_].maxKey(),typeof S!="number")return S;c=S}}finally{const S=u._maxNodeSize>>1;for(y>0&&y--,_=b;_>=y;_--)g[_].keys.length<=S&&(g[_].keys.length!==0?this.tryMerge(_,u._maxNodeSize):(m.splice(_,1),g.splice(_,1)));g.length!==0&&g[0].keys.length===0&&pE(!1,"emptiness bug")}}else for(;_<=b;_++){const S=g[_].forRange(e,s,r,l,u,c,d);if(typeof S!="number")return S;c=S}return c}tryMerge(e,s){const r=this.children;return e>=0&&e+1<r.length&&r[e].keys.length+r[e+1].keys.length<=s?(r[e].isShared&&(r[e]=r[e].clone()),r[e].mergeSibling(r[e+1],s),r.splice(e+1,1),this.keys.splice(e+1,1),this.keys[e]=r[e].maxKey(),!0):!1}mergeSibling(e,s){const r=this.keys.length;this.keys.push.apply(this.keys,e.keys);const l=e.children;if(this.children.push.apply(this.children,l),e.isShared&&!this.isShared)for(const u of l)u.isShared=!0;this.tryMerge(r-1,s)}}const Rt=[],dE={delete:!0},hE=()=>dE,of=(function(){const n=new Sa;return n.isShared=!0,n})(),Ty=[];function pE(n,...e){throw e.unshift("B+ tree"),new Error(e.join(" "))}function mE(){const n=new Map;function e(s){const r=s.join(".");if(n.has(r))return n.get(r);const l=new Proxy({},{get(u,c,d){if(c==="__refProxy")return!0;if(c==="__path")return s;if(c==="__type")return;if(typeof c=="symbol")return Reflect.get(u,c,d);const p=[...s,String(c)];return e(p)},has(u,c){return c==="__refProxy"||c==="__path"||c==="__type"?!0:Reflect.has(u,c)},ownKeys(u){return Reflect.ownKeys(u)},getOwnPropertyDescriptor(u,c){return c==="__refProxy"||c==="__path"||c==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(u,c)}});return n.set(r,l),l}return e([])}function Zs(n){const e=new Map;let s=0;function r(u){const c=u.join(".");if(e.has(c))return e.get(c);const d=new Proxy({},{get(p,m,g){if(m==="__refProxy")return!0;if(m==="__path")return u;if(m==="__type")return;if(typeof m=="symbol")return Reflect.get(p,m,g);const y=[...u,String(m)];return r(y)},has(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?!0:Reflect.has(p,m)},ownKeys(p){const m=++s,g=`__SPREAD_SENTINEL__${u.join(".")}__${m}`;return Object.prototype.hasOwnProperty.call(p,g)||Object.defineProperty(p,g,{enumerable:!0,configurable:!0,value:!0}),Reflect.ownKeys(p)},getOwnPropertyDescriptor(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(p,m)}});return e.set(c,d),d}return new Proxy({},{get(u,c,d){if(c==="__refProxy")return!0;if(c==="__path")return[];if(c==="__type")return;if(typeof c=="symbol")return Reflect.get(u,c,d);const p=String(c);if(n.includes(p))return r([p])},has(u,c){return c==="__refProxy"||c==="__path"||c==="__type"||typeof c=="string"&&n.includes(c)?!0:Reflect.has(u,c)},ownKeys(u){return[...n,"__refProxy","__path","__type"]},getOwnPropertyDescriptor(u,c){if(c==="__refProxy"||c==="__path"||c==="__type")return{enumerable:!1,configurable:!0};if(typeof c=="string"&&n.includes(c))return{enumerable:!0,configurable:!0}}})}function mt(n){return gE(n)?new Lt(n.__path):n&&typeof n=="object"&&"type"in n&&(n.type==="func"||n.type==="ref"||n.type==="val"||n.type==="agg")?n:new qt(n)}function gE(n){return n&&typeof n=="object"&&n.__refProxy===!0}function Nf(n,e){return new _n("eq",[mt(n),mt(e)])}function Ry(n,e){return new _n("gt",[mt(n),mt(e)])}function yE(n,e){return new _n("gte",[mt(n),mt(e)])}function Mf(n,e){return new _n("lt",[mt(n),mt(e)])}function Lf(n,e,...s){const r=[n,e,...s];return new _n("and",r.map(l=>mt(l)))}function vE(n,e,...s){const r=[n,e,...s];return new _n("or",r.map(l=>mt(l)))}function _E(n,e){return new _n("in",[mt(n),mt(e)])}class bE{constructor(e,s,r,l){this.lookupCount=0,this.totalLookupTime=0,this.lastUpdated=new Date,this.id=e,this.expression=s,this.compareOptions=vd,this.name=r,this.initialize(l)}supports(e){return this.supportedOperations.has(e)}matchesField(e){return this.expression.type==="ref"&&this.expression.path.length===e.length&&this.expression.path.every((s,r)=>s===e[r])}matchesCompareOptions(e){const s={...this.compareOptions,direction:void 0},r={...e,direction:void 0};return wn(s,r)}matchesDirection(e){return this.compareOptions.direction===e}getStats(){return{entryCount:this.keyCount,lookupCount:this.lookupCount,averageLookupTime:this.lookupCount>0?this.totalLookupTime/this.lookupCount:0,lastUpdated:this.lastUpdated}}evaluateIndexExpression(e){return gd(this.expression)(e)}trackLookup(e){const s=performance.now()-e;this.lookupCount++,this.totalLookupTime+=s}updateTimestamp(){this.lastUpdated=new Date}}class jf extends bE{constructor(e,s,r,l){super(e,s,r,l),this.supportedOperations=new Set(["eq","gt","gte","lt","lte","in"]),this.valueMap=new Map,this.indexedKeys=new Set,this.compareFn=Of,this.compareFn=l?.compareFn??Of,l?.compareOptions&&(this.compareOptions=l.compareOptions),this.orderedEntries=new fE(this.compareFn)}initialize(e){}add(e,s){let r;try{r=this.evaluateIndexExpression(s)}catch(u){throw new Error(`Failed to evaluate index expression for key ${e}: ${u}`)}const l=ni(r);if(this.valueMap.has(l))this.valueMap.get(l).add(e);else{const u=new Set([e]);this.valueMap.set(l,u),this.orderedEntries.set(l,void 0)}this.indexedKeys.add(e),this.updateTimestamp()}remove(e,s){let r;try{r=this.evaluateIndexExpression(s)}catch(u){console.warn(`Failed to evaluate index expression for key ${e} during removal:`,u);return}const l=ni(r);if(this.valueMap.has(l)){const u=this.valueMap.get(l);u.delete(e),u.size===0&&(this.valueMap.delete(l),this.orderedEntries.delete(l))}this.indexedKeys.delete(e),this.updateTimestamp()}update(e,s,r){this.remove(e,s),this.add(e,r)}build(e){this.clear();for(const[s,r]of e)this.add(s,r)}clear(){this.orderedEntries.clear(),this.valueMap.clear(),this.indexedKeys.clear(),this.updateTimestamp()}lookup(e,s){const r=performance.now();let l;switch(e){case"eq":l=this.equalityLookup(s);break;case"gt":l=this.rangeQuery({from:s,fromInclusive:!1});break;case"gte":l=this.rangeQuery({from:s,fromInclusive:!0});break;case"lt":l=this.rangeQuery({to:s,toInclusive:!1});break;case"lte":l=this.rangeQuery({to:s,toInclusive:!0});break;case"in":l=this.inArrayLookup(s);break;default:throw new Error(`Operation ${e} not supported by BTreeIndex`)}return this.trackLookup(r),l}get keyCount(){return this.indexedKeys.size}equalityLookup(e){const s=ni(e);return new Set(this.valueMap.get(s)??[])}rangeQuery(e={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:u=!0}=e,c=new Set,d=ni(s),p=ni(r),m=d??this.orderedEntries.minKey(),g=p??this.orderedEntries.maxKey();return this.orderedEntries.forRange(m,g,u,(y,_)=>{if(!l&&this.compareFn(y,s)===0)return;const b=this.valueMap.get(y);b&&b.forEach(S=>c.add(S))}),c}rangeQueryReversed(e={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:u=!0}=e;return this.rangeQuery({from:r??this.orderedEntries.maxKey(),to:s??this.orderedEntries.minKey(),fromInclusive:u,toInclusive:l})}takeInternal(e,s,r,l,u=!1){const c=new Set,d=[];let p,m=ni(r);for(;(p=s(m))!==void 0&&d.length<e;){m=p[0];const g=this.valueMap.get(m);if(g&&g.size>0){const y=Array.from(g).sort(po);u&&y.reverse();for(const _ of y){if(d.length>=e)break;!c.has(_)&&(l?.(_)??!0)&&(d.push(_),c.add(_))}}}return d}take(e,s,r){const l=u=>this.orderedEntries.nextHigherPair(u);return this.takeInternal(e,l,s,r)}takeReversed(e,s,r){const l=u=>this.orderedEntries.nextLowerPair(u);return this.takeInternal(e,l,s,r,!0)}inArrayLookup(e){const s=new Set;for(const r of e){const l=ni(r),u=this.valueMap.get(l);u&&u.forEach(c=>s.add(c))}return s}get indexedKeysSet(){return this.indexedKeys}get orderedEntriesArray(){return this.orderedEntries.keysArray().map(e=>[e,this.valueMap.get(e)??new Set])}get orderedEntriesArrayReversed(){return this.takeReversed(this.orderedEntries.size).map(e=>[e,this.valueMap.get(e)??new Set])}get valueMapData(){return this.valueMap}}function N0(n){return n.config.autoIndex==="eager"}function Mo(n,e,s,r,l){if(!N0(s))return;const u=r??{...vd,...s.compareOptions};if(!Array.from(s.indexes.values()).find(d=>d.matchesField(e)&&d.matchesCompareOptions(u)))try{s.createIndex(d=>{let p=d;for(const m of e)p=p[m];return p},{name:`auto:${e.join(".")}`,indexType:jf,options:l?{compareFn:l,compareOptions:u}:{}})}catch(d){console.warn(`${s.id?`[${s.id}] `:""}Failed to create auto-index for field path "${e.join(".")}":`,d)}}function SE(n,e){if(!N0(e))return;const s=xE(n);for(const{fieldName:r,fieldPath:l}of s)Mo(r,l,e)}function xE(n){const e=[];function s(r){if(r.type!=="func")return;const l=r;if(l.name==="and"){for(const m of l.args)s(m);return}if(!["eq","gt","gte","lt","lte","in"].includes(l.name)||l.args.length<1||l.args[0].type!=="ref")return;const d=l.args[0].path;if(d.length===0)return;const p=d.join("_");e.push({fieldName:p,fieldPath:d})}return s(n),e}const{sum:EE,count:wE,avg:TE,min:RE,max:CE}=K1;function AE(n,e){const s=new Map,r=[...n];if(!e)return{selectToGroupByIndex:s,groupByExpressions:r};for(const[l,u]of Object.entries(e)){if(u.type==="agg")continue;const c=r.findIndex(d=>mo(u,d));if(c===-1)throw new Dx(l);s.set(l,c)}return{selectToGroupByIndex:s,groupByExpressions:r}}function Cy(n,e,s,r,l){if(e.length===0){const m={};if(r){for(const[y,_]of Object.entries(r))if(_.type==="agg"){const b=_;m[y]=Ay(b)}}const g=()=>({__singleGroup:!0});if(n=n.pipe(vy(g,m)),n=n.pipe(Mt(([,y])=>{const b={...y.__select_results||{}};if(r)for(const[S,w]of Object.entries(r))w.type==="agg"&&(b[S]=y[S]);return["single_group",{...y,__select_results:b}]})),s&&s.length>0)for(const y of s){const _=ry(y),b=go(_,r||{}),S=Gt(b);n=n.pipe(ji(([,w])=>{const A={result:w.__select_results};return nr(S(A))}))}if(l&&l.length>0)for(const y of l)n=n.pipe(ji(([,_])=>{const b={result:_.__select_results};return nr(y(b))}));return n}const u=AE(e,r),c=e.map(m=>Gt(m)),d=([,m])=>{const g={...m};delete g.__select_results;const y={};for(let _=0;_<e.length;_++){const b=c[_],S=b(g);y[`__key_${_}`]=S}return y},p={};if(r){for(const[m,g]of Object.entries(r))if(g.type==="agg"){const y=g;p[m]=Ay(y)}}if(n=n.pipe(vy(d,p)),n=n.pipe(Mt(([,m])=>{const g=m.__select_results||{},y={};if(r)for(const[b,S]of Object.entries(r))if(S.type!=="agg"){const w=u.selectToGroupByIndex.get(b);w!==void 0?y[b]=m[`__key_${w}`]:y[b]=g[b]}else y[b]=m[b];else for(let b=0;b<e.length;b++)y[`__key_${b}`]=m[`__key_${b}`];let _;if(e.length===1)_=m.__key_0;else{const b=[];for(let S=0;S<e.length;S++)b.push(m[`__key_${S}`]);_=JSON.stringify(b)}return[_,{...m,__select_results:y}]})),s&&s.length>0)for(const m of s){const g=ry(m),y=go(g,r||{}),_=Gt(y);n=n.pipe(ji(([,b])=>{const S={result:b.__select_results};return _(S)}))}if(l&&l.length>0)for(const m of l)n=n.pipe(ji(([,g])=>{const y={result:g.__select_results};return nr(m(y))}));return n}function mo(n,e){if(!n||!e||n.type!==e.type)return!1;switch(n.type){case"ref":return!n.path||!e.path||n.path.length!==e.path.length?!1:n.path.every((s,r)=>s===e.path[r]);case"val":return n.value===e.value;case"func":return n.name===e.name&&n.args?.length===e.args?.length&&(n.args||[]).every((s,r)=>mo(s,e.args[r]));case"agg":return n.name===e.name&&n.args?.length===e.args?.length&&(n.args||[]).every((s,r)=>mo(s,e.args[r]));default:return!1}}function Ay(n){const e=Gt(n.args[0]),s=([,u])=>{const c=e(u);return typeof c=="number"?c:c!=null?Number(c):0},r=([,u])=>{const c=e(u);return typeof c=="number"||c instanceof Date?c:c!=null?Number(c):0},l=([,u])=>e(u);switch(n.name.toLowerCase()){case"sum":return EE(s);case"count":return wE(l);case"avg":return TE(s);case"min":return RE(r);case"max":return CE(r);default:throw new Nx(n.name)}}function go(n,e,s="result"){switch(n.type){case"agg":{const r=n;for(const[l,u]of Object.entries(e))if(u.type==="agg"&&OE(r,u))return new Lt([s,l]);throw new Mx(r.name)}case"func":{const r=n,l=r.args.map(u=>go(u,e));return new _n(r.name,l)}case"ref":return n;case"val":return n;default:throw new Lx(n.type)}}function OE(n,e){return n.name===e.name&&n.args.length===e.args.length&&n.args.every((s,r)=>mo(s,e.args[r]))}function kE(n,e,s,r,l,u,c,d,p){const m=s.map(S=>{const w=go(S.expression,r,"__select_results");return{compiledExpression:Gt(w),compareOptions:If(S,l)}}),g=S=>{const w=S;return s.length>1?m.map(A=>A.compiledExpression(w)):s.length===1?m[0].compiledExpression(w):null},y=(S,w)=>{if(s.length>1){const A=S,D=w;for(let V=0;V<s.length;V++){const L=m[V],k=fo(L.compareOptions)(A[V],D[V]);if(k!==0)return k}return A.length-D.length}if(s.length===1){const A=m[0];return fo(A.compareOptions)(S,w)}return Of(S,w)};let _,b;if(d){let S,w,A,D=n.from.alias;const V=s[0],L=V.expression;if(L.type==="ref"){const K=_a(n,L,l);if(K){w=K.collection;const k=K.path[0],B=If(V,w);k&&Mo(k,K.path,w,B,y),A=Gt(new Lt(K.path),!0),S=ka(w,K.path,B),S?.supports("gt")||(S=void 0),D=L.path.length>1?String(L.path[0]):n.from.alias}}if(A){const k=s.every(ie=>ie.expression.type==="ref")?s.map(ie=>{const ae=ie.expression,pe=_a(n,ae,l);return Gt(pe?new Lt(pe.path):ie.expression,!0)}):void 0;b={alias:D,offset:p??0,limit:d,comparator:(ie,ae)=>{if(s.length===1){const pe=ie&&A(ie),me=ae&&A(ae);return y(pe,me)}if(k){const pe=me=>me&&k.map(Ge=>Ge(me));return y(pe(ie),pe(ae))}return 0},valueExtractorForRawRow:ie=>{if(s.length===1)return A(ie);if(k)return k.map(ae=>ae(ie))},firstColumnValueExtractor:A,index:S,orderBy:s};const ee=w?.id??l.id;u[ee]=b,S&&(_=ie=>{u[ee].dataNeeded=()=>{const ae=ie();return Math.max(0,b.limit-ae)}})}}return e.pipe(cE(g,{limit:d,offset:p,comparator:y,setSizeCallback:_,setWindowFn:S=>{c(w=>{S(w),b&&(b.offset=w.offset??b.offset,b.limit=w.limit??b.limit)})}}))}function If(n,e){return n.compareOptions.stringSort!==void 0?n.compareOptions:{...e.compareOptions,direction:n.compareOptions.direction,nulls:n.compareOptions.nulls}}function DE(n,e={}){const s=r=>{const l=[];for(const[u,c]of n.entries())(r?.(c)??!0)&&l.push({type:"insert",key:u,value:c});return l};if(e.limit!==void 0&&!e.orderBy)throw new Error("limit cannot be used without orderBy");if(e.orderBy){const r=e.where?ga(e.where):void 0,l=ME(n,e.orderBy,e.limit,r,e.optimizedOnly);if(l===void 0)return;const u=[];for(const c of l){const d=n.get(c);d!==void 0&&u.push({type:"insert",key:c,value:d})}return u}if(!e.where)return s();try{const r=e.where,l=Zx(r,n);if(l.canOptimize){const u=[];for(const c of l.matchingKeys){const d=n.get(c);d!==void 0&&u.push({type:"insert",key:c,value:d})}return u}else{if(e.optimizedOnly)return;const u=ga(r);return s(u)}}catch(r){console.warn(`${n.id?`[${n.id}] `:""}Error processing where clause, falling back to full scan:`,r);const l=ga(e.where);return e.optimizedOnly?void 0:s(l)}}function ga(n){const e=gd(n);return s=>{try{const r=e(s);return nr(r)}catch{return!1}}}function NE(n,e){const s=ga(e.whereExpression);return r=>{const l=[];for(const u of r)if(u.type==="insert")s(u.value)&&l.push(u);else if(u.type==="update"){const c=s(u.value),d=u.previousValue?s(u.previousValue):!1;c&&d?l.push(u):c&&!d?l.push({...u,type:"insert"}):!c&&d&&l.push({...u,type:"delete",value:u.previousValue})}else s(u.value)&&l.push(u);(l.length>0||r.length===0)&&n(l)}}function ME(n,e,s,r,l){if(e.length===1){const p=e[0],m=p.expression;if(m.type==="ref"){const y=m.path,_=If(p,n);Mo(y[0],y,n,_);const b=ka(n,y,_);if(b&&b.supports("gt")){const S=w=>{const A=n.get(w);return A===void 0?!1:r?.(A)??!0};return b.take(s??b.keyCount,void 0,S)}}}if(l)return;const u=[];for(const[p,m]of n.entries())(r?.(m)??!0)&&u.push({key:p,value:m});const c=(p,m)=>{for(const g of e){const y=fo(g.compareOptions),_=Oy(p.value,g.expression),b=Oy(m.value,g.expression),S=y(_,b);if(S!==0)return S}return 0};u.sort(c);const d=u.map(p=>p.key);return s!==void 0?d.slice(0,s):d}function Oy(n,e){if(e.type==="ref"){const s=e;let r=n;for(const l of s.path)r=r?.[l];return r}else return e.type==="val"?e.value:gd(e)(n)}class ky{constructor(e){this.map=new Map,this.sortedKeys=[],this.comparator=e}indexOf(e,s){let r=0,l=this.sortedKeys.length;if(!this.comparator){for(;r<l;){const u=Math.floor((r+l)/2),c=this.sortedKeys[u],d=po(e,c);if(d<0)l=u;else if(d>0)r=u+1;else return u}return r}for(;r<l;){const u=Math.floor((r+l)/2),c=this.sortedKeys[u],d=this.map.get(c),p=this.comparator(s,d);if(p<0)l=u;else if(p>0)r=u+1;else{const m=po(e,c);if(m<0)l=u;else if(m>0)r=u+1;else return u}}return r}set(e,s){if(this.map.has(e)){const l=this.map.get(e),u=this.indexOf(e,l);this.sortedKeys.splice(u,1)}const r=this.indexOf(e,s);return this.sortedKeys.splice(r,0,e),this.map.set(e,s),this}get(e){return this.map.get(e)}delete(e){if(this.map.has(e)){const s=this.map.get(e),r=this.indexOf(e,s);return this.sortedKeys.splice(r,1),this.map.delete(e)}return!1}has(e){return this.map.has(e)}clear(){this.map.clear(),this.sortedKeys=[]}get size(){return this.map.size}*[Symbol.iterator](){for(const e of this.sortedKeys)yield[e,this.map.get(e)]}entries(){return this[Symbol.iterator]()}keys(){return this.sortedKeys[Symbol.iterator]()}values(){return(function*(){for(const e of this.sortedKeys)yield this.map.get(e)}).call(this)}forEach(e){for(const s of this.sortedKeys)e(this.map.get(s),s,this.map)}}class LE{constructor(e){this.pendingSyncedTransactions=[],this.syncedMetadata=new Map,this.optimisticUpserts=new Map,this.optimisticDeletes=new Set,this.size=0,this.syncedKeys=new Set,this.preSyncVisibleState=new Map,this.recentlySyncedKeys=new Set,this.hasReceivedFirstCommit=!1,this.isCommittingSyncTransactions=!1,this.commitPendingTransactions=()=>{let s=!1;for(const c of this.transactions.values())if(c.state==="persisting"){s=!0;break}const{committedSyncedTransactions:r,uncommittedSyncedTransactions:l,hasTruncateSync:u}=this.pendingSyncedTransactions.reduce((c,d)=>(d.committed?(c.committedSyncedTransactions.push(d),d.truncate===!0&&(c.hasTruncateSync=!0)):c.uncommittedSyncedTransactions.push(d),c),{committedSyncedTransactions:[],uncommittedSyncedTransactions:[],hasTruncateSync:!1});if(!s||u){this.isCommittingSyncTransactions=!0;const c=u?r.find(_=>_.truncate)?.optimisticSnapshot:null,d=new Set;for(const _ of r)for(const b of _.operations)d.add(b.key);let p=this.preSyncVisibleState;if(p.size===0){p=new Map;for(const _ of d){const b=this.get(_);b!==void 0&&p.set(_,b)}}const m=[],g=this.config.sync.rowUpdateMode||"partial";for(const _ of r){if(_.truncate){const b=new Set([...this.syncedData.keys(),...c?.upserts.keys()||[]]);for(const S of b){if(c?.deletes.has(S))continue;const w=c?.upserts.get(S)||this.syncedData.get(S);w!==void 0&&m.push({type:"delete",key:S,value:w})}this.syncedData.clear(),this.syncedMetadata.clear(),this.syncedKeys.clear();for(const S of d)p.delete(S);this._events.emit("truncate",{type:"truncate",collection:this.collection})}for(const b of _.operations){const S=b.key;switch(this.syncedKeys.add(S),b.type){case"insert":this.syncedMetadata.set(S,b.metadata);break;case"update":this.syncedMetadata.set(S,Object.assign({},this.syncedMetadata.get(S),b.metadata));break;case"delete":this.syncedMetadata.delete(S);break}switch(b.type){case"insert":this.syncedData.set(S,b.value);break;case"update":{if(g==="partial"){const w=Object.assign({},this.syncedData.get(S),b.value);this.syncedData.set(S,w)}else this.syncedData.set(S,b.value);break}case"delete":this.syncedData.delete(S);break}}}if(u){const _=new Set;for(const w of r)for(const A of w.operations)(A.type==="insert"||A.type==="update")&&_.add(A.key);const b=new Map(c.upserts),S=new Set(c.deletes);for(const[w,A]of b)if(!S.has(w))if(_.has(w)){let D=!1;for(let V=m.length-1;V>=0;V--){const L=m[V];if(L.key===w&&L.type==="insert"){L.value=A,D=!0;break}}D||m.push({type:"insert",key:w,value:A})}else m.push({type:"insert",key:w,value:A});if(m.length>0&&S.size>0){const w=[];for(const A of m)A.type==="insert"&&S.has(A.key)||w.push(A);m.length=0,m.push(...w)}this.lifecycle.status!=="ready"&&this.lifecycle.markReady()}if(this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.isCommittingSyncTransactions=!1,u&&c){for(const[_,b]of c.upserts)this.optimisticUpserts.set(_,b);for(const _ of c.deletes)this.optimisticDeletes.add(_)}for(const _ of this.transactions.values())if(!["completed","failed"].includes(_.state)){for(const b of _.mutations)if(this.isThisCollection(b.collection)&&b.optimistic)switch(b.type){case"insert":case"update":this.optimisticUpserts.set(b.key,b.modified),this.optimisticDeletes.delete(b.key);break;case"delete":this.optimisticUpserts.delete(b.key),this.optimisticDeletes.add(b.key);break}}const y=new Map;for(const _ of this.transactions.values())if(_.state==="completed")for(const b of _.mutations)b.optimistic&&this.isThisCollection(b.collection)&&d.has(b.key)&&y.set(b.key,{type:b.type,value:b.modified});for(const _ of d){const b=p.get(_),S=this.get(_),w=y.get(_);let A=!1;w&&(w.type==="delete"&&b!==void 0&&S===void 0&&wn(w.value,b)||S!==void 0&&wn(w.value,S))&&(A=!0),A||(b===void 0&&S!==void 0?m.push({type:"insert",key:_,value:S}):b!==void 0&&S===void 0?m.push({type:"delete",key:_,value:b}):b!==void 0&&S!==void 0&&!wn(b,S)&&m.push({type:"update",key:_,value:S,previousValue:b}))}this.size=this.calculateSize(),m.length>0&&this.indexes.updateIndexes(m),this.changes.emitEvents(m,!0),this.pendingSyncedTransactions=l,this.preSyncVisibleState.clear(),Promise.resolve().then(()=>{this.recentlySyncedKeys.clear()}),this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0)}},this.config=e,this.transactions=new ky((s,r)=>s.compareCreatedAt(r)),this.syncedData=new ky(e.compare)}setDeps(e){this.collection=e.collection,this.lifecycle=e.lifecycle,this.changes=e.changes,this.indexes=e.indexes,this._events=e.events}get(e){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;if(!s.has(e))return r.has(e)?r.get(e):l.get(e)}has(e){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;return s.has(e)?!1:r.has(e)?!0:l.has(e)}*keys(){const{syncedData:e,optimisticDeletes:s,optimisticUpserts:r}=this;for(const l of e.keys())s.has(l)||(yield l);for(const l of r.keys())!e.has(l)&&!s.has(l)&&(yield l)}*values(){for(const e of this.keys()){const s=this.get(e);s!==void 0&&(yield s)}}*entries(){for(const e of this.keys()){const s=this.get(e);s!==void 0&&(yield[e,s])}}*[Symbol.iterator](){for(const[e,s]of this.entries())yield[e,s]}forEach(e){let s=0;for(const[r,l]of this.entries())e(l,r,s++)}map(e){const s=[];let r=0;for(const[l,u]of this.entries())s.push(e(u,l,r++));return s}isThisCollection(e){return e===this.collection}recomputeOptimisticState(e=!1){if(this.isCommittingSyncTransactions&&!e)return;const s=new Map(this.optimisticUpserts),r=new Set(this.optimisticDeletes);this.optimisticUpserts.clear(),this.optimisticDeletes.clear();const l=[];for(const d of this.transactions.values())["completed","failed"].includes(d.state)||l.push(d);for(const d of l)for(const p of d.mutations)if(this.isThisCollection(p.collection)&&p.optimistic)switch(p.type){case"insert":case"update":this.optimisticUpserts.set(p.key,p.modified),this.optimisticDeletes.delete(p.key);break;case"delete":this.optimisticUpserts.delete(p.key),this.optimisticDeletes.add(p.key);break}this.size=this.calculateSize();const u=[];this.collectOptimisticChanges(s,r,u);const c=u.filter(d=>!!(!this.recentlySyncedKeys.has(d.key)||e));if(this.pendingSyncedTransactions.length>0&&!e){const d=new Set;for(const m of this.pendingSyncedTransactions)for(const g of m.operations)d.add(g.key);const p=c.filter(m=>!(m.type==="delete"&&d.has(m.key)&&!l.some(y=>y.mutations.some(_=>this.isThisCollection(_.collection)&&_.key===m.key))));p.length>0&&this.indexes.updateIndexes(p),this.changes.emitEvents(p,e)}else c.length>0&&this.indexes.updateIndexes(c),this.changes.emitEvents(c,e)}calculateSize(){const e=this.syncedData.size,s=Array.from(this.optimisticDeletes).filter(l=>this.syncedData.has(l)&&!this.optimisticUpserts.has(l)).length,r=Array.from(this.optimisticUpserts.keys()).filter(l=>!this.syncedData.has(l)).length;return e-s+r}collectOptimisticChanges(e,s,r){const l=new Set([...e.keys(),...this.optimisticUpserts.keys(),...s,...this.optimisticDeletes]);for(const u of l){const c=this.get(u),d=this.getPreviousValue(u,e,s);d!==void 0&&c===void 0?r.push({type:"delete",key:u,value:d}):d===void 0&&c!==void 0?r.push({type:"insert",key:u,value:c}):d!==void 0&&c!==void 0&&d!==c&&r.push({type:"update",key:u,value:c,previousValue:d})}}getPreviousValue(e,s,r){if(!r.has(e))return s.has(e)?s.get(e):this.syncedData.get(e)}scheduleTransactionCleanup(e){if(e.state==="completed"){this.transactions.delete(e.id);return}e.isPersisted.promise.then(()=>{this.transactions.delete(e.id)}).catch(()=>{})}capturePreSyncVisibleState(){if(this.pendingSyncedTransactions.length===0)return;const e=new Set;for(const s of this.pendingSyncedTransactions)for(const r of s.operations)e.add(r.key);for(const s of e)this.recentlySyncedKeys.add(s);for(const s of e)if(!this.preSyncVisibleState.has(s)){const r=this.get(s);r!==void 0&&this.preSyncVisibleState.set(s,r)}}onTransactionStateChange(){this.changes.shouldBatchEvents=this.pendingSyncedTransactions.length>0,this.capturePreSyncVisibleState(),this.recomputeOptimisticState(!1)}cleanup(){this.syncedData.clear(),this.syncedMetadata.clear(),this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.size=0,this.pendingSyncedTransactions=[],this.syncedKeys.clear(),this.hasReceivedFirstCommit=!1}}class M0{constructor(){this.listeners=new Map}on(e,s){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(s),()=>{this.listeners.get(e)?.delete(s)}}once(e,s){const r=this.on(e,l=>{s(l),r()});return r}off(e,s){this.listeners.get(e)?.delete(s)}waitFor(e,s){return new Promise((r,l)=>{let u;const c=this.on(e,d=>{u&&(clearTimeout(u),u=void 0),r(d),c()});s&&(u=setTimeout(()=>{u=void 0,c(),l(new Error(`Timeout waiting for event ${String(e)}`))},s))})}emitInner(e,s){this.listeners.get(e)?.forEach(r=>{try{r(s)}catch(l){queueMicrotask(()=>{throw l})}})}clearListeners(){this.listeners.clear()}}function jE(n,e){if(e.length===0||n.length===0)return;if(n.length===1){const{expression:r,compareOptions:l}=n[0];return(l.direction==="asc"?Ry:Mf)(r,new qt(e[0]))}const s=[];for(let r=0;r<n.length&&r<e.length;r++){const l=n[r],u=e[r],c=[];for(let m=0;m<r;m++){const g=n[m],y=e[m];c.push(Nf(g.expression,new qt(y)))}const p=(l.compareOptions.direction==="asc"?Ry:Mf)(l.expression,new qt(u));if(c.length===0)s.push(p);else{const m=[...c,p];s.push(m.reduce((g,y)=>Lf(g,y)))}}return s.length===1?s[0]:s.reduce((r,l)=>vE(r,l))}class IE extends M0{constructor(e,s,r){super(),this.collection=e,this.callback=s,this.options=r,this.loadedInitialState=!1,this.skipFiltering=!1,this.snapshotSent=!1,this.loadedSubsets=[],this.sentKeys=new Set,this.limitedSnapshotRowCount=0,this._status="ready",this.pendingLoadSubsetPromises=new Set,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches=new Set,r.onUnsubscribe&&this.on("unsubscribed",u=>r.onUnsubscribe(u)),r.whereExpression&&SE(r.whereExpression,this.collection);const l=u=>{s(u),this.trackSentKeys(u)};this.callback=l,this.filteredCallback=r.whereExpression?NE(this.callback,r):this.callback,this.truncateCleanup=this.collection.on("truncate",()=>{this.handleTruncate()})}get status(){return this._status}handleTruncate(){const e=[...this.loadedSubsets],s=this.collection._sync.syncLoadSubsetFn!==null;if(e.length===0||!s){this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[];return}this.isBufferingForTruncate=!0,this.truncateBuffer=[],this.pendingTruncateRefetches.clear(),this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[],queueMicrotask(()=>{if(this.isBufferingForTruncate){for(const r of e){const l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),this.trackLoadSubsetPromise(l),l instanceof Promise&&(this.pendingTruncateRefetches.add(l),l.catch(()=>{}).finally(()=>{this.pendingTruncateRefetches.delete(l),this.checkTruncateRefetchComplete()}))}this.pendingTruncateRefetches.size===0&&this.flushTruncateBuffer()}})}checkTruncateRefetchComplete(){this.pendingTruncateRefetches.size===0&&this.isBufferingForTruncate&&this.flushTruncateBuffer()}flushTruncateBuffer(){this.isBufferingForTruncate=!1;const e=this.truncateBuffer.flat();e.length>0&&this.filteredCallback(e),this.truncateBuffer=[]}setOrderByIndex(e){this.orderByIndex=e}setStatus(e){if(this._status===e)return;const s=this._status;this._status=e,this.emitInner("status:change",{type:"status:change",subscription:this,previousStatus:s,status:e});const r=`status:${e}`;this.emitInner(r,{type:r,subscription:this,previousStatus:s,status:e})}trackLoadSubsetPromise(e){e instanceof Promise&&(this.pendingLoadSubsetPromises.add(e),this.setStatus("loadingSubset"),e.finally(()=>{this.pendingLoadSubsetPromises.delete(e),this.pendingLoadSubsetPromises.size===0&&this.setStatus("ready")}))}hasLoadedInitialState(){return this.loadedInitialState}hasSentAtLeastOneSnapshot(){return this.snapshotSent}emitEvents(e){const s=this.filterAndFlipChanges(e);this.isBufferingForTruncate?s.length>0&&this.truncateBuffer.push(s):this.filteredCallback(s)}requestSnapshot(e){if(this.loadedInitialState)return!1;const s={where:this.options.whereExpression,optimizedOnly:e?.optimizedOnly??!1};if(e){if("where"in e){const p=e.where;if(s.where){const m=s.where,g=Lf(m,p);s.where=g}else s.where=p}}else this.loadedInitialState=!0;const r={where:s.where,subscription:this,orderBy:e?.orderBy,limit:e?.limit},l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),(e?.trackLoadSubsetPromise??!0)&&this.trackLoadSubsetPromise(l);const c=this.collection.currentStateAsChanges(s);if(c===void 0)return!1;const d=c.filter(p=>!this.sentKeys.has(p.key));for(const p of d)this.sentKeys.add(p.key);return this.snapshotSent=!0,this.callback(d),!0}requestLimitedSnapshot({orderBy:e,limit:s,minValues:r,offset:l}){if(!s)throw new Error("limit is required");if(!this.orderByIndex)throw new Error("Ordered snapshot was requested but no index was found. You have to call setOrderByIndex before requesting an ordered snapshot.");const c=r?.[0],d=this.orderByIndex,p=this.options.whereExpression,m=p?ga(p):void 0,g=B=>{if(this.sentKeys.has(B))return!1;const J=this.collection.get(B);return J===void 0?!1:m?.(J)??!0};let y=c;const _=[];let b=[];if(c!==void 0){const{expression:B}=e[0],J=this.collection.currentStateAsChanges({where:Nf(B,new qt(c))});if(J){const ee=J.map(ae=>ae.key).filter(ae=>!this.sentKeys.has(ae)&&g(ae));b.push(...ee);const ie=d.take(s-b.length,c,g);b.push(...ie)}else b=d.take(s,c,g)}else b=d.take(s,c,g);const S=()=>Math.max(s-_.length,0),w=()=>b.length===0,A=e[0].expression,D=A.type==="ref"?Gt(new Lt(A.path),!0):null;for(;S()>0&&!w();){const B=new Set;for(const J of b){const ee=this.collection.get(J);_.push({type:"insert",key:J,value:ee}),y=D?D(ee):ee,B.add(J)}b=d.take(S(),y,g)}const V=this.limitedSnapshotRowCount;for(const B of _)this.sentKeys.add(B.key);this.callback(_),this.limitedSnapshotRowCount+=_.length,_.length>0&&(this.lastSentKey=_[_.length-1].key);let L;if(r!==void 0&&r.length>0){const B=jE(e,r);if(B){const{expression:J}=e[0],ee=r[0];let ie;if(ee instanceof Date){const ae=new Date(ee.getTime()+1);ie=Lf(yE(J,new qt(ee)),Mf(J,new qt(ae)))}else ie=Nf(J,new qt(ee));L={whereFrom:B,whereCurrent:ie,lastKey:this.lastSentKey}}}const K={where:p,limit:s,orderBy:e,cursor:L,offset:l??V,subscription:this},k=this.collection._sync.loadSubset(K);this.loadedSubsets.push(K),this.trackLoadSubsetPromise(k)}filterAndFlipChanges(e){if(this.loadedInitialState||this.skipFiltering)return e;const s=this.isBufferingForTruncate,r=[];for(const l of e){let u=l;if(this.sentKeys.has(l.key)){if(l.type==="insert")continue;l.type==="delete"&&this.sentKeys.delete(l.key)}else{if(l.type==="update")u={...l,type:"insert",previousValue:void 0};else if(l.type==="delete"&&!s)continue;this.sentKeys.add(l.key)}r.push(u)}return r}trackSentKeys(e){if(!(this.loadedInitialState||this.skipFiltering))for(const s of e)s.type==="delete"?this.sentKeys.delete(s.key):this.sentKeys.add(s.key)}markAllStateAsSeen(){this.skipFiltering=!0}unsubscribe(){this.truncateCleanup?.(),this.truncateCleanup=void 0,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches.clear();for(const e of this.loadedSubsets)this.collection._sync.unloadSubset(e);this.loadedSubsets=[],this.emitInner("unsubscribed",{type:"unsubscribed",subscription:this}),this.clearListeners()}}class zE{constructor(){this.activeSubscribersCount=0,this.changeSubscriptions=new Set,this.batchedEvents=[],this.shouldBatchEvents=!1}setDeps(e){this.lifecycle=e.lifecycle,this.sync=e.sync,this.events=e.events,this.collection=e.collection}emitEmptyReadyEvent(){for(const e of this.changeSubscriptions)e.emitEvents([])}emitEvents(e,s=!1){if(this.shouldBatchEvents&&!s){this.batchedEvents.push(...e);return}let r=e;if(s&&(this.batchedEvents.length>0&&(r=[...this.batchedEvents,...e]),this.batchedEvents=[],this.shouldBatchEvents=!1),r.length!==0)for(const l of this.changeSubscriptions)l.emitEvents(r)}subscribeChanges(e,s={}){this.addSubscriber();const r=new IE(this.collection,e,{...s,onUnsubscribe:()=>{this.removeSubscriber(),this.changeSubscriptions.delete(r)}});return s.includeInitialState?r.requestSnapshot({trackLoadSubsetPromise:!1}):s.includeInitialState===!1&&r.markAllStateAsSeen(),this.changeSubscriptions.add(r),r}addSubscriber(){const e=this.activeSubscribersCount;this.activeSubscribersCount++,this.lifecycle.cancelGCTimer(),(this.lifecycle.status==="cleaned-up"||this.lifecycle.status==="idle")&&this.sync.startSync(),this.events.emitSubscribersChange(this.activeSubscribersCount,e)}removeSubscriber(){const e=this.activeSubscribersCount;if(this.activeSubscribersCount--,this.activeSubscribersCount===0)this.lifecycle.startGCTimer();else if(this.activeSubscribersCount<0)throw new KS;this.events.emitSubscribersChange(this.activeSubscribersCount,e)}cleanup(){this.batchedEvents=[],this.shouldBatchEvents=!1}}const BE=n=>setTimeout(()=>{n({didTimeout:!0,timeRemaining:()=>50})},0),UE=n=>{clearTimeout(n)},VE=typeof window<"u"&&"requestIdleCallback"in window?(n,e)=>window.requestIdleCallback(n,e):(n,e)=>BE(n),uf=typeof window<"u"&&"cancelIdleCallback"in window?n=>window.cancelIdleCallback(n):UE;class PE{constructor(e,s){this.status="idle",this.hasBeenReady=!1,this.hasReceivedFirstCommit=!1,this.onFirstReadyCallbacks=[],this.gcTimeoutId=null,this.idleCallbackId=null,this.config=e,this.id=s}setDeps(e){this.indexes=e.indexes,this.events=e.events,this.changes=e.changes,this.sync=e.sync,this.state=e.state}validateStatusTransition(e,s){if(e===s)return;if(!{idle:["loading","error","cleaned-up"],loading:["ready","error","cleaned-up"],ready:["cleaned-up","error"],error:["cleaned-up","idle"],"cleaned-up":["loading","error"]}[e].includes(s))throw new qS(e,s,this.id)}setStatus(e,s=!1){if(e==="ready"&&!s)throw new Oa(`You can't directly call "setStatus('ready'). You must use markReady instead.`);this.validateStatusTransition(this.status,e);const r=this.status;this.status=e,e==="ready"&&!this.indexes.isIndexesResolved&&this.indexes.resolveAllIndexes().catch(l=>{console.warn(`${this.config.id?`[${this.config.id}] `:""}Failed to resolve indexes:`,l)}),this.events.emitStatusChange(e,r)}validateCollectionUsable(e){switch(this.status){case"error":throw new HS(e,this.id);case"cleaned-up":this.sync.startSync();break}}markReady(){if(this.validateStatusTransition(this.status,"ready"),this.status==="loading"){if(this.setStatus("ready",!0),!this.hasBeenReady){this.hasBeenReady=!0,this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0);const e=[...this.onFirstReadyCallbacks];this.onFirstReadyCallbacks=[],e.forEach(s=>s())}this.changes.changeSubscriptions.size>0&&this.changes.emitEmptyReadyEvent()}}startGCTimer(){this.gcTimeoutId&&clearTimeout(this.gcTimeoutId);const e=this.config.gcTime??3e5;e!==0&&(this.gcTimeoutId=setTimeout(()=>{this.changes.activeSubscribersCount===0&&this.scheduleIdleCleanup()},e))}cancelGCTimer(){this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.idleCallbackId!==null&&(uf(this.idleCallbackId),this.idleCallbackId=null)}scheduleIdleCleanup(){this.idleCallbackId!==null&&uf(this.idleCallbackId),this.idleCallbackId=VE(e=>{this.changes.activeSubscribersCount===0?this.performCleanup(e)&&(this.idleCallbackId=null):this.idleCallbackId=null},{timeout:1e3})}performCleanup(e){return!e||e.timeRemaining()>0||e.didTimeout?(this.sync.cleanup(),this.state.cleanup(),this.changes.cleanup(),this.indexes.cleanup(),this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.hasBeenReady=!1,this.onFirstReadyCallbacks=[],this.setStatus("cleaned-up"),this.events.cleanup(),!0):(this.scheduleIdleCleanup(),!1)}onFirstReady(e){if(this.hasBeenReady){e();return}this.onFirstReadyCallbacks.push(e)}cleanup(){this.idleCallbackId!==null&&(uf(this.idleCallbackId),this.idleCallbackId=null),this.performCleanup()}}const xd=Symbol("liveQueryInternal");class HE{constructor(e,s){this.preloadPromise=null,this.syncCleanupFn=null,this.syncLoadSubsetFn=null,this.syncUnloadSubsetFn=null,this.pendingLoadSubsetPromises=new Set,this.config=e,this.id=s,this.syncMode=e.syncMode??"eager"}setDeps(e){this.collection=e.collection,this.state=e.state,this.lifecycle=e.lifecycle,this._events=e.events}startSync(){if(!(this.lifecycle.status!=="idle"&&this.lifecycle.status!=="cleaned-up")){this.lifecycle.setStatus("loading");try{const e=qE(this.config.sync.sync({collection:this.collection,begin:()=>{this.state.pendingSyncedTransactions.push({committed:!1,operations:[],deletedKeys:new Set})},write:s=>{const r=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!r)throw new uy;if(r.committed)throw new cy;let l;"key"in s?l=s.key:l=this.config.getKey(s.value);let u=s.type;if(s.type==="insert"){const d=this.state.syncedData.has(l),p=r.deletedKeys.has(l),m=r.truncate===!0;if(d&&!p&&!m){const g=this.state.syncedData.get(l);if(g!==void 0&&wn(g,s.value))u="update";else{const _=this.config.utils[xd];throw new $S(l,this.id,{hasCustomGetKey:_?.hasCustomGetKey??!1,hasJoins:_?.hasJoins??!1})}}}const c={...s,type:u,key:l};r.operations.push(c),u==="delete"&&r.deletedKeys.add(l)},commit:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new ux;if(s.committed)throw new cx;s.committed=!0,this.state.commitPendingTransactions()},markReady:()=>{this.lifecycle.markReady()},truncate:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new uy;if(s.committed)throw new cy;s.operations=[],s.deletedKeys.clear(),s.truncate=!0,s.optimisticSnapshot={upserts:new Map(this.state.optimisticUpserts),deletes:new Set(this.state.optimisticDeletes)}}}));if(this.syncCleanupFn=e?.cleanup??null,this.syncLoadSubsetFn=e?.loadSubset??null,this.syncUnloadSubsetFn=e?.unloadSubset??null,this.syncMode==="on-demand"&&!this.syncLoadSubsetFn)throw new Aa(`Collection "${this.id}" is configured with syncMode "on-demand" but the sync function did not return a loadSubset handler. Either provide a loadSubset handler or use syncMode "eager".`)}catch(e){throw this.lifecycle.setStatus("error"),e}}}preload(){return this.preloadPromise?this.preloadPromise:(this.syncMode==="on-demand"&&console.warn(`${this.id?`[${this.id}] `:""}Calling .preload() on a collection with syncMode "on-demand" is a no-op. In on-demand mode, data is only loaded when queries request it. Instead, create a live query and call .preload() on that to load the specific data you need. See https://tanstack.com/blog/tanstack-db-0.5-query-driven-sync for more details.`),this.preloadPromise=new Promise((e,s)=>{if(this.lifecycle.status==="ready"){e();return}if(this.lifecycle.status==="error"){s(new GS);return}if(this.lifecycle.onFirstReady(()=>{e()}),this.lifecycle.status==="idle"||this.lifecycle.status==="cleaned-up")try{this.startSync()}catch(r){s(r);return}}),this.preloadPromise)}get isLoadingSubset(){return this.pendingLoadSubsetPromises.size>0}trackLoadPromise(e){const s=!this.isLoadingSubset;this.pendingLoadSubsetPromises.add(e),s&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!0,previousIsLoadingSubset:!1,loadingSubsetTransition:"start"}),e.finally(()=>{const r=this.pendingLoadSubsetPromises.size===1&&this.pendingLoadSubsetPromises.has(e);this.pendingLoadSubsetPromises.delete(e),r&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!1,previousIsLoadingSubset:!0,loadingSubsetTransition:"end"})})}loadSubset(e){if(this.syncMode==="eager")return!0;if(this.syncLoadSubsetFn){const s=this.syncLoadSubsetFn(e);if(s instanceof Promise)return this.trackLoadPromise(s),s}return!0}unloadSubset(e){this.syncUnloadSubsetFn&&this.syncUnloadSubsetFn(e)}cleanup(){try{this.syncCleanupFn&&(this.syncCleanupFn(),this.syncCleanupFn=null)}catch(e){queueMicrotask(()=>{if(e instanceof Error){const s=new dy(this.id,e);throw s.cause=e,s.stack=e.stack,s}else throw new dy(this.id,e)})}this.preloadPromise=null}}function qE(n){if(typeof n=="function")return{cleanup:n};if(typeof n=="object")return n}function L0(n){return typeof n=="function"&&n.prototype!==void 0&&n.prototype.constructor===n}async function GE(n){return L0(n)?n:await n()}class KE{constructor(e,s,r,l,u,c){this.id=e,this.expression=s,this.name=r,this.resolver=l,this.options=u,this.collectionEntries=c,this.indexPromise=null,this.resolvedIndex=null,L0(this.resolver)&&(this.resolvedIndex=new this.resolver(this.id,this.expression,this.name,this.options),this.collectionEntries&&this.resolvedIndex.build(this.collectionEntries))}async resolve(){return this.resolvedIndex?this.resolvedIndex:(this.indexPromise||(this.indexPromise=this.createIndex()),this.resolvedIndex=await this.indexPromise,this.resolvedIndex)}isResolved(){return this.resolvedIndex!==null}getResolved(){if(!this.resolvedIndex)throw new Error(`Index ${this.id} has not been resolved yet. Ensure collection is synced.`);return this.resolvedIndex}getId(){return this.id}getName(){return this.name}getExpression(){return this.expression}async createIndex(){const e=await GE(this.resolver);return new e(this.id,this.expression,this.name,this.options)}}class QE{constructor(e,s){this.indexId=e,this.lazyIndex=s}get index(){return this.lazyIndex.getResolved()}get isReady(){return this.lazyIndex.isResolved()}async whenReady(){return await this.lazyIndex.resolve()}get id(){return this.indexId}get name(){return this.isReady?this.index.name:this.lazyIndex.getName()}get expression(){return this.lazyIndex.getExpression()}supports(e){return this.index.supports(e)}getStats(){return this.index.getStats()}matchesField(e){const s=this.expression;return s.type==="ref"&&s.path.length===e.length&&s.path.every((r,l)=>r===e[l])}get keyCount(){return this.index.keyCount}get indexedKeysSet(){return this.index.indexedKeysSet}get orderedEntriesArray(){return this.index.orderedEntriesArray}get valueMapData(){return this.index.valueMapData}equalityLookup(e){return this.index.equalityLookup?.(e)??new Set}rangeQuery(e){return this.index.rangeQuery?.(e)??new Set}inArrayLookup(e){return this.index.inArrayLookup?.(e)??new Set}_getLazyWrapper(){return this.lazyIndex}}class FE{constructor(){this.lazyIndexes=new Map,this.resolvedIndexes=new Map,this.isIndexesResolved=!1,this.indexCounter=0}setDeps(e){this.state=e.state,this.lifecycle=e.lifecycle}createIndex(e,s={}){this.lifecycle.validateCollectionUsable("createIndex");const r=++this.indexCounter,l=mE(),u=e(l),c=mt(u),d=s.indexType??jf,p=new KE(r,c,s.name,d,s.options,this.state.entries());if(this.lazyIndexes.set(r,p),d===jf)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch(m){console.warn("Failed to resolve BTreeIndex:",m)}else if(typeof d=="function"&&d.prototype)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch{this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)})}else this.isIndexesResolved&&this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)});return new QE(r,p)}async resolveAllIndexes(){if(this.isIndexesResolved)return;const e=Array.from(this.lazyIndexes.entries()).map(async([s,r])=>{const l=await r.resolve();return l.build(this.state.entries()),this.resolvedIndexes.set(s,l),{indexId:s,resolvedIndex:l}});await Promise.all(e),this.isIndexesResolved=!0}async resolveSingleIndex(e,s){const r=await s.resolve();return r.build(this.state.entries()),this.resolvedIndexes.set(e,r),r}get indexes(){return this.resolvedIndexes}updateIndexes(e){for(const s of this.resolvedIndexes.values())for(const r of e)switch(r.type){case"insert":s.add(r.key,r.value);break;case"update":r.previousValue?s.update(r.key,r.previousValue,r.value):s.add(r.key,r.value);break;case"delete":s.remove(r.key,r.value);break}}cleanup(){this.lazyIndexes.clear(),this.resolvedIndexes.clear()}}var YE={};const $E=new Set(["find","findLast","findIndex","findLastIndex","filter","map","flatMap","forEach","some","every","reduce","reduceRight"]),XE=new Set(["pop","push","shift","unshift","splice","sort","reverse","fill","copyWithin"]),JE=new Set(["set","delete","clear","add"]),ZE=new Set(["entries","keys","values","forEach"]);function Ed(n){return n!==null&&typeof n=="object"&&!(n instanceof Date)&&!(n instanceof RegExp)&&!ho(n)}function WE(n,e,s,r){if($E.has(n))return function(...l){const u=l[0];if(typeof u!="function")return e.apply(s.copy_,l);const c=(m,g)=>{if(Ed(m)){const y={tracker:s,prop:String(g)},{proxy:_}=r(m,y);return _}return m},d=function(m,g,y){const _=c(m,g);return u.call(this,_,g,y)};if(n==="reduce"||n==="reduceRight"){const m=function(g,y,_,b){const S=c(y,_);return u.call(this,g,S,_,b)};return e.apply(s.copy_,[m,...l.slice(1)])}const p=e.apply(s.copy_,[d,...l.slice(1)]);if((n==="find"||n==="findLast")&&p&&typeof p=="object"){const m=s.copy_.indexOf(p);if(m!==-1)return c(p,m)}return n==="filter"&&Array.isArray(p)?p.map(m=>{const g=s.copy_.indexOf(m);return g!==-1?c(m,g):m}):p}}function ew(n,e){return function(){const s=n.copy_;let r=0;return{next(){if(r>=s.length)return{done:!0,value:void 0};const l=s[r];let u=l;if(Ed(l)){const c={tracker:n,prop:String(r)},{proxy:d}=e(l,c);u=d}return r++,{done:!1,value:u}},[Symbol.iterator](){return this}}}}function Dy(n,e,s){return function(...r){const l=n.apply(e.copy_,r);return s(e),l}}function tw(n,e,s,r,l,u,c){if(ZE.has(n)||e===Symbol.iterator)return function(...p){const m=s.apply(l.copy_,p);if(n==="forEach"){const y=p[0];if(typeof y=="function"){const _=function(b,S,w){const A=y.call(this,b,S,w);return c(l),A};return s.apply(r,[_,...p.slice(1)])}}if(n==="entries"||n==="values"||n===Symbol.iterator.toString()||e===Symbol.iterator){const y=m,_=new Map;if(n==="values"&&r instanceof Map)for(const[S,w]of l.copy_.entries())_.set(w,S);const b=new Map;if(r instanceof Set)for(const S of l.copy_.values())b.set(S,S);return{next(){const S=y.next();if(!S.done&&S.value&&typeof S.value=="object"){if(n==="entries"&&Array.isArray(S.value)&&S.value.length===2){if(S.value[1]&&typeof S.value[1]=="object"){const w=S.value[0],A={tracker:l,prop:w,updateMap:V=>{l.copy_ instanceof Map&&l.copy_.set(w,V)}},{proxy:D}=u(S.value[1],A);S.value[1]=D}}else if(n==="values"||n===Symbol.iterator.toString()||e===Symbol.iterator)if(n==="values"&&r instanceof Map){const w=_.get(S.value);if(w!==void 0){const A={tracker:l,prop:w,updateMap:V=>{l.copy_ instanceof Map&&l.copy_.set(w,V)}},{proxy:D}=u(S.value,A);S.value=D}}else if(r instanceof Set){const w=S.value,A={tracker:l,prop:w,updateSet:V=>{l.copy_ instanceof Set&&(l.copy_.delete(w),l.copy_.add(V),b.set(w,V))}},{proxy:D}=u(S.value,A);S.value=D}else{const w=Symbol("iterator-value"),{proxy:A}=u(S.value,{tracker:l,prop:w});S.value=A}}return S},[Symbol.iterator](){return this}}}return m}}function Te(...n){const e=typeof window<"u"&&typeof localStorage<"u";e&&localStorage.getItem("DEBUG")==="true"?console.log("[proxy]",...n):!e&&typeof process<"u"&&YE.DEBUG==="true"&&console.log("[proxy]",...n)}function ii(n,e=new WeakMap){if(n==null||typeof n!="object")return n;if(e.has(n))return e.get(n);if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return new RegExp(n.source,n.flags);if(Array.isArray(n)){const l=[];return e.set(n,l),n.forEach((u,c)=>{l[c]=ii(u,e)}),l}if(ArrayBuffer.isView(n)&&!(n instanceof DataView)){const l=Object.getPrototypeOf(n).constructor,u=new l(n.length);e.set(n,u);for(let c=0;c<n.length;c++)u[c]=n[c];return u}if(n instanceof Map){const l=new Map;return e.set(n,l),n.forEach((u,c)=>{l.set(c,ii(u,e))}),l}if(n instanceof Set){const l=new Set;return e.set(n,l),n.forEach(u=>{l.add(ii(u,e))}),l}if(ho(n))return n;const s={};e.set(n,s);for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=ii(n[l],e));const r=Object.getOwnPropertySymbols(n);for(const l of r)s[l]=ii(n[l],e);return s}let Ny=0;function nw(){return Ny+=1,Ny}function wd(n,e){const s=new Map;function r(y,_){if(Te("Object ID:",y.constructor.name),s.has(y))return s.get(y);{const b=wd(y,_);return s.set(y,b),b}}const l=new Map,u={copy_:ii(n),originalObject:ii(n),proxyCount:nw(),modified:!1,assigned_:{},parent:e,target:n};Te("createChangeProxy called for target",n,u.proxyCount);function c(y){y.modified||(y.modified=!0),y.parent&&(Te("propagating change to parent"),"updateMap"in y.parent?y.parent.updateMap(y.copy_):"updateSet"in y.parent?y.parent.updateSet(y.copy_):(y.parent.tracker.copy_[y.parent.prop]=y.copy_,y.parent.tracker.assigned_[y.parent.prop]=!0),c(y.parent.tracker))}function d(y){if(Te("checkIfReverted called with assigned keys:",Object.keys(y.assigned_)),Object.keys(y.assigned_).length===0&&Object.getOwnPropertySymbols(y.assigned_).length===0)return Te("No assigned properties, returning true"),!0;for(const b in y.assigned_)if(y.assigned_[b]===!0){const S=y.copy_[b],w=y.originalObject[b];if(Te(`Checking property ${String(b)}, current:`,S,"original:",w),!wn(S,w))return Te(`Property ${String(b)} is different, returning false`),!1}else if(y.assigned_[b]===!1)return Te(`Property ${String(b)} was deleted, returning false`),!1;const _=Object.getOwnPropertySymbols(y.assigned_);for(const b of _)if(y.assigned_[b]===!0){const S=y.copy_[b],w=y.originalObject[b];if(!wn(S,w))return Te("Symbol property is different, returning false"),!1}else if(y.assigned_[b]===!1)return Te("Symbol property was deleted, returning false"),!1;return Te("All properties match original values, returning true"),!0}function p(y,_){Te("checkParentStatus called for child prop:",_);const b=d(y);Te("Parent checkIfReverted returned:",b),b&&(Te("Parent is fully reverted, clearing tracking"),y.modified=!1,y.assigned_={},y.parent&&(Te("Continuing up the parent chain"),p(y.parent.tracker,y.parent.prop)))}function m(y){if(Te("createObjectProxy",y),l.has(y))return Te("proxyCache found match"),l.get(y);const _=new Proxy(y,{get(b,S){Te("get",b,S);const w=u.copy_[S]??u.originalObject[S],A=u.originalObject[S];if(Te("value (at top of proxy get)",w),Object.getOwnPropertyDescriptor(b,S)?.get)return w;if(typeof w=="function"){if(Array.isArray(b)){const V=S.toString();if(XE.has(V))return Dy(w,u,c);const L=WE(V,w,u,r);if(L)return L;if(S===Symbol.iterator)return ew(u,r)}if(b instanceof Map||b instanceof Set){const V=S.toString();if(JE.has(V))return Dy(w,u,c);const L=tw(V,S,w,b,u,r,c);if(L)return L}return w.bind(b)}if(Ed(w)){const V={tracker:u,prop:String(S)},{proxy:L}=r(A,V);return l.set(w,L),L}return w},set(b,S,w){const A=u.copy_[S];if(Te(`set called for property ${String(S)}, current:`,A,"new:",w),wn(A,w))Te("Value unchanged, not tracking");else{const D=u.originalObject[S],V=wn(w,D);if(Te("value:",w,"original:",D,"isRevertToOriginal:",V),V){Te(`Reverting property ${String(S)} to original value`),delete u.assigned_[S.toString()],Te(`Updating copy with original value for ${String(S)}`),u.copy_[S]=ii(D),Te("Checking if all properties reverted");const L=d(u);Te("All reverted:",L),L?(Te("All properties reverted, clearing tracking"),u.modified=!1,u.assigned_={},e&&(Te("Updating parent for property:",e.prop),p(e.tracker,e.prop))):(Te("Some properties still changed, keeping modified flag"),u.modified=!0)}else Te(`Setting new value for property ${String(S)}`),u.copy_[S]=w,u.assigned_[S.toString()]=!0,Te("Marking object and ancestors as modified",u),c(u)}return!0},defineProperty(b,S,w){const A=Reflect.defineProperty(b,S,w);return A&&"value"in w&&(u.copy_[S]=ii(w.value),u.assigned_[S.toString()]=!0,c(u)),A},getOwnPropertyDescriptor(b,S){return Reflect.getOwnPropertyDescriptor(b,S)},preventExtensions(b){return Reflect.preventExtensions(b)},isExtensible(b){return Reflect.isExtensible(b)},deleteProperty(b,S){Te("deleteProperty",b,S);const w=typeof S=="symbol"?S.toString():S;if(w in b){const A=w in u.originalObject,D=Reflect.deleteProperty(b,S);return D&&(A?(u.assigned_[w]=!1,c(u)):(delete u.assigned_[w],Object.keys(u.assigned_).length===0&&Object.getOwnPropertySymbols(u.assigned_).length===0?u.modified=!1:u.modified=!0)),D}return!0}});return l.set(y,_),_}return{proxy:m(u.copy_),getChanges:()=>{if(Te("getChanges called, modified:",u.modified),Te(u),!u.modified)return Te("Object not modified, returning empty object"),{};if(typeof u.copy_!="object"||Array.isArray(u.copy_)||Object.keys(u.assigned_).length===0)return u.copy_;const y={};for(const _ in u.copy_)u.assigned_[_]===!0&&_ in u.copy_&&(y[_]=u.copy_[_]);return Te("Returning copy:",y),y}}}function iw(n){const e=n.map(s=>wd(s));return{proxies:e.map(s=>s.proxy),getChanges:()=>e.map(s=>s.getChanges())}}function sw(n,e){const{proxy:s,getChanges:r}=wd(n);return e(s),r()}function rw(n,e){const{proxies:s,getChanges:r}=iw(n);return e(s),r()}function aw(){let n,e,s=!0;return{promise:new Promise((l,u)=>{n=c=>{s=!1,l(c)},e=c=>{s=!1,u(c)}}),resolve:n,reject:e,isPending:()=>s}}function lw(n){return typeof n=="object"&&n!==null&&typeof n.hasPendingGraphRun=="function"}class ow{constructor(){this.contexts=new Map,this.clearListeners=new Set}getOrCreateContext(e){let s=this.contexts.get(e);return s||(s={queue:[],jobs:new Map,dependencies:new Map,completed:new Set},this.contexts.set(e,s)),s}schedule({contextId:e,jobId:s,dependencies:r,run:l}){if(typeof e>"u"){l();return}const u=this.getOrCreateContext(e);if(u.jobs.has(s)||u.queue.push(s),u.jobs.set(s,l),r){const c=new Set(r);c.delete(s),u.dependencies.set(s,c)}else u.dependencies.has(s)||u.dependencies.set(s,new Set);u.completed.delete(s)}flush(e){const s=this.contexts.get(e);if(!s)return;const{queue:r,jobs:l,dependencies:u,completed:c}=s;for(;r.length>0;){let d=!1;const p=r.length;for(let m=0;m<p;m++){const g=r.shift(),y=l.get(g);if(!y){u.delete(g),c.delete(g);continue}const _=u.get(g);let b=!_;if(_){b=!0;for(const S of _){if(S===g)continue;const w=lw(S)&&S.hasPendingGraphRun(e);if(l.has(S)&&!c.has(S)||!l.has(S)&&w){b=!1;break}}}b?(l.delete(g),u.delete(g),y(),c.add(g),d=!0):r.push(g)}if(!d)throw new Error(`Scheduler detected unresolved dependencies for context ${String(e)}.`)}this.contexts.delete(e)}flushAll(){for(const e of Array.from(this.contexts.keys()))this.flush(e)}clear(e){this.contexts.delete(e),this.clearListeners.forEach(s=>s(e))}onClear(e){return this.clearListeners.add(e),()=>this.clearListeners.delete(e)}hasPendingJobs(e){const s=this.contexts.get(e);return!!s&&s.jobs.size>0}clearJob(e,s){const r=this.contexts.get(e);r&&(r.jobs.delete(s),r.dependencies.delete(s),r.completed.delete(s),r.queue=r.queue.filter(l=>l!==s),r.jobs.size===0&&this.contexts.delete(e))}}const yo=new ow,vo=[];let xa=[],uw=0;function cw(n,e){switch(`${n.type}-${e.type}`){case"insert-update":return{...n,type:"insert",original:{},modified:e.modified,changes:{...n.changes,...e.changes},key:n.key,globalKey:n.globalKey,metadata:e.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...e.syncMetadata},mutationId:e.mutationId,updatedAt:e.updatedAt};case"insert-delete":return null;case"update-delete":return e;case"update-update":return{...e,original:n.original,changes:{...n.changes,...e.changes},metadata:e.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...e.syncMetadata}};case"delete-delete":case"insert-insert":return e;default:{const s=`${n.type}-${e.type}`;throw new Error(`Unhandled mutation combination: ${s}`)}}}function Zl(n){const e=new pw(n);return vo.push(e),e}function lo(){if(xa.length>0)return xa.slice(-1)[0]}function fw(n){yo.clear(n.id),xa.push(n)}function dw(n){try{yo.flush(n.id)}finally{xa=xa.filter(e=>e.id!==n.id)}}function hw(n){const e=vo.findIndex(s=>s.id===n.id);e!==-1&&vo.splice(e,1)}class pw{constructor(e){if(typeof e.mutationFn>"u")throw new rx;this.id=e.id??crypto.randomUUID(),this.mutationFn=e.mutationFn,this.state="pending",this.mutations=[],this.isPersisted=aw(),this.autoCommit=e.autoCommit??!0,this.createdAt=new Date,this.sequenceNumber=uw++,this.metadata=e.metadata??{}}setState(e){this.state=e,(e==="completed"||e==="failed")&&hw(this)}mutate(e){if(this.state!=="pending")throw new ax;fw(this);try{e()}finally{dw(this)}return this.autoCommit&&this.commit().catch(()=>{}),this}applyMutations(e){for(const s of e){const r=this.mutations.findIndex(l=>l.globalKey===s.globalKey);if(r>=0){const l=this.mutations[r],u=cw(l,s);u===null?this.mutations.splice(r,1):this.mutations[r]=u}else this.mutations.push(s)}}rollback(e){const s=e?.isSecondaryRollback??!1;if(this.state==="completed")throw new lx;if(this.setState("failed"),!s){const r=new Set;this.mutations.forEach(l=>r.add(l.globalKey));for(const l of vo)l.state==="pending"&&l.mutations.some(u=>r.has(u.globalKey))&&l.rollback({isSecondaryRollback:!0})}return this.isPersisted.reject(this.error?.error),this.touchCollection(),this}touchCollection(){const e=new Set;for(const s of this.mutations)e.has(s.collection.id)||(s.collection._state.onTransactionStateChange(),s.collection._state.pendingSyncedTransactions.length>0&&s.collection._state.commitPendingTransactions(),e.add(s.collection.id))}async commit(){if(this.state!=="pending")throw new ox;if(this.setState("persisting"),this.mutations.length===0)return this.setState("completed"),this.isPersisted.resolve(this),this;try{await this.mutationFn({transaction:this}),this.setState("completed"),this.touchCollection(),this.isPersisted.resolve(this)}catch(e){const s=e instanceof Error?e:new Error(String(e));throw this.error={message:s.message,error:s},this.rollback(),s}return this}compareCreatedAt(e){const s=this.createdAt.getTime()-e.createdAt.getTime();return s!==0?s:this.sequenceNumber-e.sequenceNumber}}class mw{constructor(e,s){this.insert=(r,l)=>{this.lifecycle.validateCollectionUsable("insert");const u=this.state,c=lo();if(!c&&!this.config.onInsert)throw new nx;const d=Array.isArray(r)?r:[r],p=[],m=new Set;if(d.forEach(g=>{const y=this.validateData(g,"insert"),_=this.config.getKey(y);if(this.state.has(_)||m.has(_))throw new YS(_);m.add(_);const b=this.generateGlobalKey(_,g),S={mutationId:crypto.randomUUID(),original:{},modified:y,changes:Object.fromEntries(Object.keys(g).map(w=>[w,y[w]])),globalKey:b,key:_,metadata:l?.metadata,syncMetadata:this.config.sync.getSyncMetadata?.()||{},optimistic:l?.optimistic??!0,type:"insert",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(S)}),c)return c.applyMutations(p),u.transactions.set(c.id,c),u.scheduleTransactionCleanup(c),u.recomputeOptimisticState(!0),c;{const g=Zl({mutationFn:async y=>await this.config.onInsert({transaction:y.transaction,collection:this.collection})});return g.applyMutations(p),g.commit().catch(()=>{}),u.transactions.set(g.id,g),u.scheduleTransactionCleanup(g),u.recomputeOptimisticState(!0),g}},this.delete=(r,l)=>{const u=this.state;this.lifecycle.validateCollectionUsable("delete");const c=lo();if(!c&&!this.config.onDelete)throw new sx;if(Array.isArray(r)&&r.length===0)throw new ex;const d=Array.isArray(r)?r:[r],p=[];for(const g of d){if(!this.state.has(g))throw new tx(g);const y=this.generateGlobalKey(g,this.state.get(g)),_={mutationId:crypto.randomUUID(),original:this.state.get(g),modified:this.state.get(g),changes:this.state.get(g),globalKey:y,key:g,metadata:l?.metadata,syncMetadata:u.syncedMetadata.get(g)||{},optimistic:l?.optimistic??!0,type:"delete",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(_)}if(c)return c.applyMutations(p),u.transactions.set(c.id,c),u.scheduleTransactionCleanup(c),u.recomputeOptimisticState(!0),c;const m=Zl({autoCommit:!0,mutationFn:async g=>this.config.onDelete({transaction:g.transaction,collection:this.collection})});return m.applyMutations(p),m.commit().catch(()=>{}),u.transactions.set(m.id,m),u.scheduleTransactionCleanup(m),u.recomputeOptimisticState(!0),m},this.id=s,this.config=e}setDeps(e){this.lifecycle=e.lifecycle,this.state=e.state,this.collection=e.collection}ensureStandardSchema(e){if(e&&"~standard"in e)return e;throw new PS}validateData(e,s,r){if(!this.config.schema)return e;const l=this.ensureStandardSchema(this.config.schema);if(s==="update"&&r){const c=this.state.get(r);if(c&&e&&typeof e=="object"&&typeof c=="object"){const d=Object.assign({},c,e),p=l["~standard"].validate(d);if(p instanceof Promise)throw new oy;if("issues"in p&&p.issues){const _=p.issues.map(b=>({message:b.message,path:b.path?.map(S=>String(S))}));throw new ly(s,_)}const m=p.value,g=Object.keys(e);return Object.fromEntries(g.map(_=>[_,m[_]]))}}const u=l["~standard"].validate(e);if(u instanceof Promise)throw new oy;if("issues"in u&&u.issues){const c=u.issues.map(d=>({message:d.message,path:d.path?.map(p=>String(p))}));throw new ly(s,c)}return u.value}generateGlobalKey(e,s){if(typeof e!="string"&&typeof e!="number")throw typeof e>"u"?new QS(s):new FS(e,s);return`KEY::${this.id}/${e}`}update(e,s,r){if(typeof e>"u")throw new XS;const l=this.state;this.lifecycle.validateCollectionUsable("update");const u=lo();if(!u&&!this.config.onUpdate)throw new ix;const c=Array.isArray(e),d=c?e:[e];if(c&&d.length===0)throw new JS;const p=typeof s=="function"?s:r,m=typeof s=="function"?{}:s,g=d.map(S=>{const w=this.state.get(S);if(!w)throw new ZS(S);return w});let y;c?y=rw(g,p):y=[sw(g[0],p)];const _=d.map((S,w)=>{const A=y[w];if(!A||Object.keys(A).length===0)return null;const D=g[w],V=this.validateData(A,"update",S),L=Object.assign({},D,V),K=this.config.getKey(D),k=this.config.getKey(L);if(K!==k)throw new WS(K,k);const B=this.generateGlobalKey(k,L);return{mutationId:crypto.randomUUID(),original:D,modified:L,changes:Object.fromEntries(Object.keys(A).map(J=>[J,L[J]])),globalKey:B,key:S,metadata:m.metadata,syncMetadata:l.syncedMetadata.get(S)||{},optimistic:m.optimistic??!0,type:"update",createdAt:new Date,updatedAt:new Date,collection:this.collection}}).filter(Boolean);if(_.length===0){const S=Zl({mutationFn:async()=>{}});return S.commit().catch(()=>{}),l.scheduleTransactionCleanup(S),S}if(u)return u.applyMutations(_),l.transactions.set(u.id,u),l.scheduleTransactionCleanup(u),l.recomputeOptimisticState(!0),u;const b=Zl({mutationFn:async S=>this.config.onUpdate({transaction:S.transaction,collection:this.collection})});return b.applyMutations(_),b.commit().catch(()=>{}),l.transactions.set(b.id,b),l.scheduleTransactionCleanup(b),l.recomputeOptimisticState(!0),b}}class gw extends M0{constructor(){super()}setDeps(e){this.collection=e.collection}emit(e,s){this.emitInner(e,s)}emitStatusChange(e,s){this.emit("status:change",{type:"status:change",collection:this.collection,previousStatus:s,status:e});const r=`status:${e}`;this.emit(r,{type:r,collection:this.collection,previousStatus:s,status:e})}emitSubscribersChange(e,s){this.emit("subscribers:change",{type:"subscribers:change",collection:this.collection,previousSubscriberCount:s,subscriberCount:e})}cleanup(){this.clearListeners()}}function j0(n){const e=new Td(n);return n.utils?e.utils=n.utils:e.utils={},e}class Td{constructor(e){if(this.utils={},this.insert=(s,r)=>this._mutations.insert(s,r),this.delete=(s,r)=>this._mutations.delete(s,r),!e)throw new US;if(!e.sync)throw new VS;e.id?this.id=e.id:this.id=crypto.randomUUID(),this.config={...e,autoIndex:e.autoIndex??"eager"},this._changes=new zE,this._events=new gw,this._indexes=new FE,this._lifecycle=new PE(e,this.id),this._mutations=new mw(e,this.id),this._state=new LE(e),this._sync=new HE(e,this.id),this.comparisonOpts=yw(e),this._changes.setDeps({collection:this,lifecycle:this._lifecycle,sync:this._sync,events:this._events}),this._events.setDeps({collection:this}),this._indexes.setDeps({state:this._state,lifecycle:this._lifecycle}),this._lifecycle.setDeps({changes:this._changes,events:this._events,indexes:this._indexes,state:this._state,sync:this._sync}),this._mutations.setDeps({collection:this,lifecycle:this._lifecycle,state:this._state}),this._state.setDeps({collection:this,lifecycle:this._lifecycle,changes:this._changes,indexes:this._indexes,events:this._events}),this._sync.setDeps({collection:this,state:this._state,lifecycle:this._lifecycle,events:this._events}),e.startSync===!0&&this._sync.startSync()}get status(){return this._lifecycle.status}get subscriberCount(){return this._changes.activeSubscribersCount}onFirstReady(e){return this._lifecycle.onFirstReady(e)}isReady(){return this._lifecycle.status==="ready"}get isLoadingSubset(){return this._sync.isLoadingSubset}startSyncImmediate(){this._sync.startSync()}preload(){return this._sync.preload()}get(e){return this._state.get(e)}has(e){return this._state.has(e)}get size(){return this._state.size}*keys(){yield*this._state.keys()}*values(){yield*this._state.values()}*entries(){yield*this._state.entries()}*[Symbol.iterator](){yield*this._state[Symbol.iterator]()}forEach(e){return this._state.forEach(e)}map(e){return this._state.map(e)}getKeyFromItem(e){return this.config.getKey(e)}createIndex(e,s={}){return this._indexes.createIndex(e,s)}get indexes(){return this._indexes.indexes}validateData(e,s,r){return this._mutations.validateData(e,s,r)}get compareOptions(){return{...this.comparisonOpts}}update(e,s,r){return this._mutations.update(e,s,r)}get state(){const e=new Map;for(const[s,r]of this.entries())e.set(s,r);return e}stateWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.state):this.preload().then(()=>this.state)}get toArray(){return Array.from(this.values())}toArrayWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.toArray):this.preload().then(()=>this.toArray)}currentStateAsChanges(e={}){return DE(this,e)}subscribeChanges(e,s={}){return this._changes.subscribeChanges(e,s)}on(e,s){return this._events.on(e,s)}once(e,s){return this._events.once(e,s)}off(e,s){this._events.off(e,s)}waitFor(e,s){return this._events.waitFor(e,s)}async cleanup(){return this._lifecycle.cleanup(),Promise.resolve()}}function yw(n){if(n.defaultStringCollation){const e=n.defaultStringCollation;return{stringSort:e.stringSort??"locale",locale:e.stringSort==="locale"?e.locale:void 0,localeOptions:e.stringSort==="locale"?e.localeOptions:void 0}}else return{stringSort:"locale"}}class at{constructor(e={}){this.query={},this.query={...e}}_createRefForSource(e,s){let r;try{r=Object.keys(e)}catch{const d=e===null?"null":"undefined";throw new Xl(s,d)}if(Array.isArray(e))throw new Xl(s,"array");if(r.length!==1)throw r.length===0?new Xl(s,"empty object"):r.every(d=>!isNaN(Number(d)))?new Xl(s,"string"):new fx(s);const l=r[0],u=e[l];let c;if(u instanceof Td)c=new ar(u,l);else if(u instanceof at){const d=u._getQuery();if(!d.from)throw new dx(s);c=new vn(d,l)}else throw new hx(l);return[l,c]}from(e){const[,s]=this._createRefForSource(e,"from clause");return new at({...this.query,from:s})}join(e,s,r="left"){const[l,u]=this._createRefForSource(e,"join clause"),d=[...this._getCurrentAliases(),l],p=Zs(d),m=s(p);let g,y;if(m.type==="func"&&m.name==="eq"&&m.args.length===2)g=m.args[0],y=m.args[1];else throw new px;const _={from:u,type:r,left:g,right:y},b=this.query.join||[];return new at({...this.query,join:[...b,_]})}leftJoin(e,s){return this.join(e,s,"left")}rightJoin(e,s){return this.join(e,s,"right")}innerJoin(e,s){return this.join(e,s,"inner")}fullJoin(e,s){return this.join(e,s,"full")}where(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),u=this.query.where||[];return new at({...this.query,where:[...u,l]})}having(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),u=this.query.having||[];return new at({...this.query,having:[...u,l]})}select(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),u=I0(l);return new at({...this.query,select:u,fnSelect:void 0})}orderBy(e,s="asc"){const r=this._getCurrentAliases(),l=Zs(r),u=e(l),c=typeof s=="string"?{direction:s,nulls:"first"}:{direction:s.direction??"asc",nulls:s.nulls??"first",stringSort:s.stringSort,locale:s.stringSort==="locale"?s.locale:void 0,localeOptions:s.stringSort==="locale"?s.localeOptions:void 0},d=g=>({expression:mt(g),compareOptions:c}),p=Array.isArray(u)?u.map(g=>d(g)):[d(u)],m=this.query.orderBy||[];return new at({...this.query,orderBy:[...m,...p]})}groupBy(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),u=Array.isArray(l)?l.map(d=>mt(d)):[mt(l)],c=this.query.groupBy||[];return new at({...this.query,groupBy:[...c,...u]})}limit(e){return new at({...this.query,limit:e})}offset(e){return new at({...this.query,offset:e})}distinct(){return new at({...this.query,distinct:!0})}findOne(){return new at({...this.query,singleResult:!0})}_getCurrentAliases(){const e=[];if(this.query.from&&e.push(this.query.from.alias),this.query.join)for(const s of this.query.join)e.push(s.from.alias);return e}get fn(){const e=this;return{select(s){return new at({...e.query,select:void 0,fnSelect:s})},where(s){return new at({...e.query,fnWhere:[...e.query.fnWhere||[],s]})},having(s){return new at({...e.query,fnHaving:[...e.query.fnHaving||[],s]})}}}_getQuery(){if(!this.query.from)throw new mx;return this.query}}function vw(n){return n===void 0?mt(null):n instanceof T0||n instanceof _n||n instanceof Lt||n instanceof qt?n:mt(n)}function _w(n){return n!==null&&typeof n=="object"&&!dd(n)&&!n.__refProxy}function I0(n){if(!_w(n))return vw(n);const e={};for(const[s,r]of Object.entries(n)){if(typeof s=="string"&&s.startsWith("__SPREAD_SENTINEL__")){e[s]=r;continue}e[s]=I0(r)}return e}function bw(n){const e=n(new at);return z0(e)}function z0(n){return n._getQuery()}function Sw(n){const e=xw(n);let s=n,r,l=0;const u=10;for(;l<u&&!wn(s,r);)r=s,s=zf(s),l++;return{optimizedQuery:B0(s),sourceWhereClauses:e}}function xw(n){const e=new Map;if(!n.where||n.where.length===0)return e;const r=Uf(n.where).map(u=>U0(u)),l=V0(r);for(const[u,c]of l.singleSource)Ew(n,u)&&e.set(u,c);return e}function Ew(n,e){if(n.from.alias===e)return n.from.type==="collectionRef";if(n.join){for(const s of n.join)if(s.from.alias===e)return s.from.type==="collectionRef"}return!1}function zf(n){const e={...n,from:n.from.type==="queryRef"?new vn(zf(n.from.query),n.from.alias):n.from,join:n.join?.map(s=>({...s,from:s.from.type==="queryRef"?new vn(zf(s.from.query),s.from.alias):s.from}))};return ww(e)}function ww(n){if(!n.where||n.where.length===0)return n;if(!n.join||n.join.length===0){if(n.where.length>1){const d=Uf(n.where),p=_o(d);return{...n,where:[p]}}return n}const e=n.where.filter(d=>!ay(d)),r=Uf(e).map(d=>U0(d)),l=V0(r),u=Rw(n,l),c=n.where.filter(d=>ay(d));return c.length>0&&(u.where=[...u.where||[],...c]),u}function B0(n){return{...n,from:Bf(n.from),join:n.join?.map(e=>({...e,from:Bf(e.from)}))}}function Bf(n){if(n.type==="collectionRef")return n;const e=B0(n.query);if(Tw(e)){const s=Bf(e.from);return s.type==="collectionRef"?new ar(s.collection,n.alias):new vn(s.query,n.alias)}return new vn(e,n.alias)}function Tw(n){return(!n.where||n.where.length===0)&&!n.select&&(!n.groupBy||n.groupBy.length===0)&&(!n.having||n.having.length===0)&&(!n.orderBy||n.orderBy.length===0)&&(!n.join||n.join.length===0)&&n.limit===void 0&&n.offset===void 0&&!n.fnSelect&&(!n.fnWhere||n.fnWhere.length===0)&&(!n.fnHaving||n.fnHaving.length===0)}function Uf(n){const e=[];for(const s of n){const r=hd(s);e.push(...Rd(r))}return e}function Rd(n){if(n.type==="func"&&n.name==="and"){const e=[];for(const s of n.args)e.push(...Rd(s));return e}else return[n]}function U0(n){const e=new Set;let s=!1;function r(l){switch(l.type){case"ref":if(l.path&&l.path.length>0){const u=l.path[0];u&&(e.add(u),l.path.length===1&&(s=!0))}break;case"func":l.args&&l.args.forEach(r);break;case"val":break;case"agg":l.args&&l.args.forEach(r);break}}return r(n),{expression:n,touchedSources:e,hasNamespaceOnlyRef:s}}function V0(n){const e=new Map,s=[];for(const u of n)if(u.touchedSources.size===1&&!u.hasNamespaceOnlyRef){const c=Array.from(u.touchedSources)[0];e.has(c)||e.set(c,[]),e.get(c).push(u.expression)}else(u.touchedSources.size>1||u.hasNamespaceOnlyRef)&&s.push(u.expression);const r=new Map;for(const[u,c]of e)r.set(u,_o(c));const l=s.length>0?_o(s):void 0;return{singleSource:r,multiSource:l}}function Rw(n,e){const s=new Set,r=My(n.from,e.singleSource,s),l=n.join?n.join.map(m=>({...m,from:My(m.from,e.singleSource,s)})):void 0,u=[];e.multiSource&&u.push(e.multiSource);const c=n.join&&n.join.some(m=>m.type==="left"||m.type==="right"||m.type==="full");for(const[m,g]of e.singleSource)s.has(m)?c&&u.push(zS(g)):u.push(g);const d=u.length>1?[_o(u.flatMap(m=>Rd(hd(m))))]:u;return{select:n.select,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,distinct:n.distinct,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0,from:r,join:l,where:d.length>0?d:[]}}function er(n){return{from:n.from.type==="collectionRef"?new ar(n.from.collection,n.from.alias):new vn(er(n.from.query),n.from.alias),select:n.select,join:n.join?n.join.map(e=>({type:e.type,left:e.left,right:e.right,from:e.from.type==="collectionRef"?new ar(e.from.collection,e.from.alias):new vn(er(e.from.query),e.from.alias)})):void 0,where:n.where?[...n.where]:void 0,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0}}function My(n,e,s){const r=e.get(n.alias);if(!r)return n.type==="collectionRef"?new ar(n.collection,n.alias):new vn(er(n.query),n.alias);if(n.type==="collectionRef"){const c={from:new ar(n.collection,n.alias),where:[r]};return s.add(n.alias),new vn(c,n.alias)}if(!Nw(n.query,r,n.alias))return new vn(er(n.query),n.alias);if(Lw(n.query,r,n.alias))return new vn(er(n.query),n.alias);const l=n.query.where||[],u={...er(n.query),where:[...l,r]};return s.add(n.alias),new vn(u,n.alias)}function Cw(n,e,s){return n.select?P0(n.select)||Mw(n.select,e,s):!1}function Aw(n){return n.groupBy&&n.groupBy.length>0}function Ow(n){return n.having&&n.having.length>0}function kw(n){return n.orderBy&&n.orderBy.length>0&&(n.limit!==void 0||n.offset!==void 0)}function Dw(n){return n.fnSelect||n.fnWhere&&n.fnWhere.length>0||n.fnHaving&&n.fnHaving.length>0}function Nw(n,e,s){return!(Cw(n,e,s)||Aw(n)||Ow(n)||kw(n)||Dw(n))}function P0(n){for(const e of Object.values(n))if(typeof e=="object"){const s=e;if(s.type==="agg"||!("type"in s)&&P0(s))return!0}return!1}function Cd(n){const e=[];if(n==null||typeof n!="object")return e;switch(n.type){case"ref":e.push(n);break;case"func":case"agg":for(const s of n.args??[])e.push(...Cd(s));break}return e}function Mw(n,e,s){const r=new Set;for(const[u,c]of Object.entries(n))u.startsWith("__SPREAD_SENTINEL__")||c instanceof Lt||r.add(u);const l=Cd(e);for(const u of l){const c=u.path;if(!Array.isArray(c)||c.length<2)continue;const d=c[0],p=c[1];if(d===s&&r.has(p))return!0}return!1}function Lw(n,e,s){const r=Cd(e);if(r.every(u=>u.path[0]!==s))return!1;if(n.fnSelect)return!0;const l=n.select;if(!l)return!1;for(const u of r){const c=u.path;if(c.length<2||c[0]!==s)continue;const d=l[c[1]];if(!d)continue;if(!(d instanceof Lt)||d.path.length<2)return!0;const[p,m]=d.path;if(p!==s&&p!==n.from.alias||m!==c[1])return!0}return!1}function _o(n){if(n.length===0)throw new Ix;return n.length===1?n[0]:new _n("and",n)}function jw(n,e,s,r,l,u,c,d,p,m,g,y,_,b,S,w,A,D){let V=n;for(const L of e)V=Iw(V,L,s,r,l,u,c,d,p,m,g,y,_,b,S,w,A,D);return V}function Iw(n,e,s,r,l,u,c,d,p,m,g,y,_,b,S,w,A,D){const V=e.from.type==="collectionRef",{alias:L,input:K,collectionId:k}=Bw(e.from,u,p,m,g,y,_,b,c,d,w,A,D);s[L]=K,V&&(A[L]=k);const B=p[r],J=p[k];if(!B)throw new fy(r);if(!J)throw new fy(k);const{activeSource:ee,lazySource:ie}=Vw(e.type,B,J),ae=Object.keys(s),{mainExpr:pe,joinedExpr:me}=zw(e.left,e.right,ae,L),Ge=Gt(pe),Ne=Gt(me);let Ce=n.pipe(Mt(([te,re])=>[Ge(re),[te,re]])),q=K.pipe(Mt(([te,re])=>{const se={[L]:re};return[Ne(se),[te,se]]}));if(!["inner","left","right","full"].includes(e.type))throw new wx(e.type);if(ee){const te=ee==="main"?e.from:S.from,re=te.type==="queryRef"&&(te.query.limit||te.query.offset),se=pe.type==="func"||me.type==="func";if(!re&&!se){const U=ee==="main"?L:l;y.add(U);const T=ee==="main"?Ce:q,P=_a(S,ee==="main"?me:pe,ie),Y=P.collection,Z=P.path[0];Z&&Mo(Z,P.path,Y);const X=T.pipe(F1(ne=>{const ue=D[U]||U,ge=m[ue];if(!ge)throw new zx(ue,U,ie.id,Object.keys(m));if(ge.hasLoadedInitialState())return;const $e=ne.getInner().map(([[kt]])=>kt),Xe=new Lt(P.path);ge.requestSnapshot({where:_E(Xe,$e),optimizedOnly:!0})||ge.requestSnapshot()}));ee==="main"?Ce=X:q=X}}return Ce.pipe(eE(q,e.type),Uw(e.type))}function zw(n,e,s,r){const l=s.filter(d=>d!==r),u=Vf(n),c=Vf(e);if(u&&l.includes(u)&&c===r)return{mainExpr:n,joinedExpr:e};if(u===r&&c&&l.includes(c))return{mainExpr:e,joinedExpr:n};throw!u||!c?new Rx:u===c?new Tx(u):l.includes(u)?c!==r?new Ax(r):new Ox:new Cx(u)}function Vf(n){switch(n.type){case"ref":return n.path[0]||null;case"func":{const e=new Set;for(const s of n.args){const r=Vf(s);r&&e.add(r)}return e.size===1?Array.from(e)[0]:null}default:return null}}function Bw(n,e,s,r,l,u,c,d,p,m,g,y,_){switch(n.type){case"collectionRef":{const b=e[n.alias];if(!b)throw new R0(n.alias,n.collection.id,Object.keys(e));return y[n.alias]=n.collection.id,{alias:n.alias,input:b,collectionId:n.collection.id}}case"queryRef":{const b=m.get(n.query)||n.query,S=g(b,e,s,r,l,u,c,d,p,m);Object.assign(y,S.aliasToCollectionId),Object.assign(_,S.aliasRemapping);const w=Object.keys(S.aliasToCollectionId).find(V=>S.aliasToCollectionId[V]===S.collectionId);w&&w!==n.alias&&(_[n.alias]=w);const D=S.pipeline.pipe(Mt(V=>{const[L,[K,k]]=V;return[L,K]}));return{alias:n.alias,input:D,collectionId:S.collectionId}}default:throw new kx(n.type)}}function Uw(n){return function(e){return e.pipe(ji(s=>{const[r,[l,u]]=s,c=l?.[1],d=u?.[1];return n==="inner"?!!(c&&d):n==="left"?!!c:n==="right"?!!d:!0}),Mt(s=>{const[r,[l,u]]=s,c=l?.[0],d=l?.[1],p=u?.[0],m=u?.[1],g={};return d&&Object.assign(g,d),m&&Object.assign(g,m),[`[${c},${p}]`,g]}))}}function Vw(n,e,s){switch(n){case"left":return{activeSource:"main",lazySource:s};case"right":return{activeSource:"joined",lazySource:e};case"inner":return e.size<s.size?{activeSource:"main",lazySource:s}:{activeSource:"joined",lazySource:e};default:return{activeSource:void 0,lazySource:void 0}}}function Pf(n){return n instanceof qt?n.value:n}function Pw(n,e,s){const r=n.source(e);if(r&&typeof r=="object"){let l=s;const u=n.targetPath;if(u.length===0)for(const[c,d]of Object.entries(r))s[c]=Pf(d);else for(let c=0;c<u.length;c++){const d=u[c];if(c===u.length-1){const p=l[d]??={};if(typeof p=="object")for(const[m,g]of Object.entries(r))p[m]=Pf(g)}else{const p=l[d];(p==null||typeof p!="object")&&(l[d]={}),l=l[d]}}}}function Hw(n,e,s){const r=n.alias.split(".");if(r.length===1)s[n.alias]=n.compiled(e);else{let l=s;for(let u=0;u<r.length-1;u++){const c=r[u],d=l[c];(d==null||typeof d!="object")&&(l[c]={}),l=l[c]}l[r[r.length-1]]=Pf(n.compiled(e))}}function qw([n,e],s){const r={};for(const l of s)l.kind==="merge"?Pw(l,e,r):Hw(l,e,r);return[n,{...e,__select_results:r}]}function Gw(n,e,s){const r=[];return H0([],e,r),n.pipe(Mt(l=>qw(l,r)))}function Kw(n){return n.type==="agg"}function Qw(n){return n&&typeof n=="object"&&!dd(n)}function H0(n,e,s){for(const[r,l]of Object.entries(e)){if(r.startsWith("__SPREAD_SENTINEL__")){const c=r.slice(19),d=c.lastIndexOf("__"),p=d>=0?c.slice(0,d):c,m=l&&typeof l=="object"&&"type"in l&&l.type==="ref";if(p.includes(".")||m){const g=[...n],y=m?l:new Lt(p.split(".")),_=Gt(y);s.push({kind:"merge",targetPath:g,source:_})}else{const g=p,y=[...n];s.push({kind:"merge",targetPath:y,source:_=>_[g]})}continue}const u=l;if(Qw(u)){H0([...n,r],u,s);continue}if(Kw(u))s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>null});else{if(u===void 0||!dd(u)){s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>u});continue}if(u instanceof qt){const c=u.value;s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>c})}else s.push({kind:"field",alias:[...n,r].join("."),compiled:Gt(u)})}}}function Ad(n,e,s,r,l,u,c,d,p=new WeakMap,m=new WeakMap){const g=p.get(n);if(g)return g;Hf(n);const{optimizedQuery:y,sourceWhereClauses:_}=Sw(n);m.set(y,n),Gf(y,n,m);const b={...e},S={},w={},A={},{alias:D,input:V,collectionId:L}=Yw(y.from,b,s,r,l,u,c,d,p,m,S,w);A[D]=V;let K=V.pipe(Mt(([ee,ie])=>[ee,{[D]:ie}]));if(y.join&&y.join.length>0&&(K=jw(K,y.join,A,L,D,b,p,m,s,r,l,u,c,d,n,Ad,S,w)),y.where&&y.where.length>0)for(const ee of y.where){const ie=hd(ee),ae=Gt(ie);K=K.pipe(ji(([pe,me])=>nr(ae(me))))}if(y.fnWhere&&y.fnWhere.length>0)for(const ee of y.fnWhere)K=K.pipe(ji(([ie,ae])=>nr(ee(ae))));if(y.distinct&&!y.fnSelect&&!y.select)throw new gx;if(y.fnSelect?K=K.pipe(Mt(([ee,ie])=>{const ae=y.fnSelect(ie);return[ee,{...ie,__select_results:ae}]})):y.select?K=Gw(K,y.select):K=K.pipe(Mt(([ee,ie])=>{const ae=!y.join&&!y.groupBy?ie[D]:ie;return[ee,{...ie,__select_results:ae}]})),y.groupBy&&y.groupBy.length>0?K=Cy(K,y.groupBy,y.having,y.select,y.fnHaving):y.select&&Object.values(y.select).some(ie=>ie.type==="agg")&&(K=Cy(K,[],y.having,y.select,y.fnHaving)),y.having&&(!y.groupBy||y.groupBy.length===0)&&!(y.select?Object.values(y.select).some(ie=>ie.type==="agg"):!1))throw new yx;if(y.fnHaving&&y.fnHaving.length>0&&(!y.groupBy||y.groupBy.length===0))for(const ee of y.fnHaving)K=K.pipe(ji(([ie,ae])=>ee(ae)));if(y.distinct&&(K=K.pipe(nE(([ee,ie])=>ie.__select_results))),y.orderBy&&y.orderBy.length>0){const ae=kE(n,K,y.orderBy,y.select||{},s[L],c,d,y.limit,y.offset).pipe(Mt(([me,[Ge,Ne]])=>{const Ce=Ge.__select_results,q=qf(Ce);return[me,[q,Ne]]})),pe={collectionId:L,pipeline:ae,sourceWhereClauses:_,aliasToCollectionId:S,aliasRemapping:w};return p.set(n,pe),pe}else if(y.limit!==void 0||y.offset!==void 0)throw new vx;const B=K.pipe(Mt(([ee,ie])=>{const ae=ie.__select_results,pe=qf(ae);return[ee,[pe,void 0]]})),J={collectionId:L,pipeline:B,sourceWhereClauses:_,aliasToCollectionId:S,aliasRemapping:w};return p.set(n,J),J}function Fw(n){const e=new Set;if(n.from.type==="collectionRef"&&e.add(n.from.alias),n.join)for(const s of n.join)s.from.type==="collectionRef"&&e.add(s.from.alias);return e}function Hf(n,e=new Set){const s=Fw(n);for(const l of s)if(e.has(l))throw new _x(l,Array.from(e));const r=new Set([...e,...s]);if(n.from.type==="queryRef"&&Hf(n.from.query,r),n.join)for(const l of n.join)l.from.type==="queryRef"&&Hf(l.from.query,r)}function Yw(n,e,s,r,l,u,c,d,p,m,g,y){switch(n.type){case"collectionRef":{const _=e[n.alias];if(!_)throw new R0(n.alias,n.collection.id,Object.keys(e));return g[n.alias]=n.collection.id,{alias:n.alias,input:_,collectionId:n.collection.id}}case"queryRef":{const _=m.get(n.query)||n.query,b=Ad(_,e,s,r,l,u,c,d,p,m);Object.assign(g,b.aliasToCollectionId),Object.assign(y,b.aliasRemapping);const S=Object.keys(b.aliasToCollectionId).find(D=>b.aliasToCollectionId[D]===b.collectionId);S&&S!==n.alias&&(y[n.alias]=S);const A=b.pipeline.pipe(Mt(D=>{const[V,[L,K]]=D,k=qf(L);return[V,k]}));return{alias:n.alias,input:A,collectionId:b.collectionId}}default:throw new bx(n.type)}}function $w(n){return n instanceof qt||n&&typeof n=="object"&&"type"in n&&n.type==="val"}function qf(n){return $w(n)?n.value:n}function Gf(n,e,s){if(n.from.type==="queryRef"&&e.from.type==="queryRef"&&(s.set(n.from.query,e.from.query),Gf(n.from.query,e.from.query,s)),n.join&&e.join)for(let r=0;r<n.join.length&&r<e.join.length;r++){const l=n.join[r],u=e.join[r];l.from.type==="queryRef"&&u.from.type==="queryRef"&&(s.set(l.from.query,u.from.query),Gf(l.from.query,u.from.query,s))}}function Od(n,e){const s=n.type;if(s==="val")return new qt(n.value);if(s==="ref"){const r=n.path;if(Array.isArray(r)){if(r[0]===e&&r.length>1)return new Lt(r.slice(1));if(r.length===1&&r[0]!==void 0)return new Lt([r[0]])}return new Lt(Array.isArray(r)?r:[String(r)])}else{const r=[];for(const l of n.args){const u=Od(l,e);r.push(u)}return new _n(n.name,r)}}function Ly(n,e){return n.map(r=>{const l=Od(r.expression,e);return{...r,expression:l}})}const jy=Symbol.for("@tanstack/db.collection-config-builder");class Xw{constructor(e,s,r,l){this.alias=e,this.collectionId=s,this.collection=r,this.collectionConfigBuilder=l,this.biggest=void 0,this.subscriptionLoadingPromises=new Map,this.sentToD2Keys=new Set}subscribe(){const e=this.getWhereClauseForAlias();if(e){const s=Od(e,this.alias);return this.subscribeToChanges(s)}return this.subscribeToChanges()}subscribeToChanges(e){let s;const r=this.getOrderByInfo();if(r)s=this.subscribeToOrderedChanges(e,r);else{const d=!this.collectionConfigBuilder.isLazyAlias(this.alias);s=this.subscribeToMatchingChanges(e,d)}const l=()=>{if(!this.subscriptionLoadingPromises.has(s)){let d;const p=new Promise(m=>{d=m});this.subscriptionLoadingPromises.set(s,{resolve:d}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(p)}};s.status==="loadingSubset"&&l();const u=s.on("status:change",d=>{if(d.status==="loadingSubset")l();else{const p=this.subscriptionLoadingPromises.get(s);p&&(this.subscriptionLoadingPromises.delete(s),p.resolve())}}),c=()=>{const d=this.subscriptionLoadingPromises.get(s);d&&(this.subscriptionLoadingPromises.delete(s),d.resolve()),u(),s.unsubscribe()};return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(c),s}sendChangesToPipeline(e,s){const r=Array.isArray(e)?e:[...e],l=[];for(const p of r){if(p.type==="insert"){if(this.sentToD2Keys.has(p.key))continue;this.sentToD2Keys.add(p.key)}else p.type==="delete"&&this.sentToD2Keys.delete(p.key);l.push(p)}const u=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],d=Jw(u,l,this.collection.config.getKey)>0?s:void 0;this.collectionConfigBuilder.scheduleGraphRun(d,{alias:this.alias})}subscribeToMatchingChanges(e,s=!1){const r=u=>{this.sendChangesToPipeline(u)};return this.collection.subscribeChanges(r,{...s&&{includeInitialState:s},whereExpression:e})}subscribeToOrderedChanges(e,s){const{orderBy:r,offset:l,limit:u,index:c}=s,d=y=>{const _=Zw(y);this.sendChangesToPipelineWithTracking(_,p)},p=this.collection.subscribeChanges(d,{whereExpression:e}),m=this.collection.on("truncate",()=>{this.biggest=void 0,this.sentToD2Keys.clear()});p.on("unsubscribed",()=>{m()});const g=Ly(r,this.alias);return c?(p.setOrderByIndex(c),p.requestLimitedSnapshot({limit:l+u,orderBy:g})):p.requestSnapshot({orderBy:g,limit:l+u}),p}loadMoreIfNeeded(e){const s=this.getOrderByInfo();if(!s)return!0;const{dataNeeded:r}=s;if(!r)return!0;const l=r();return l>0&&this.loadNextItems(l,e),!0}sendChangesToPipelineWithTracking(e,s){const r=this.getOrderByInfo();if(!r){this.sendChangesToPipeline(e);return}const l=this.trackSentValues(e,r.comparator),u=s;u[jy]??=this.loadMoreIfNeeded.bind(this,s),this.sendChangesToPipeline(l,u[jy])}loadNextItems(e,s){const r=this.getOrderByInfo();if(!r)return;const{orderBy:l,valueExtractorForRawRow:u,offset:c}=r,d=this.biggest,p=d?u(d):void 0,m=p!==void 0?Array.isArray(p)?p:[p]:void 0,g=Ly(l,this.alias);s.requestLimitedSnapshot({orderBy:g,limit:e,minValues:m,offset:c})}getWhereClauseForAlias(){const e=this.collectionConfigBuilder.sourceWhereClausesCache;if(e)return e.get(this.alias)}getOrderByInfo(){const e=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(e&&e.alias===this.alias)return e}*trackSentValues(e,s){for(const r of e)r.type!=="delete"&&(this.biggest?s(this.biggest,r.value)<0&&(this.biggest=r.value):this.biggest=r.value),yield r}}function Jw(n,e,s){const r=[];for(const l of e){const u=s(l.value);l.type==="insert"?r.push([[u,l.value],1]):l.type==="update"?(r.push([[u,l.previousValue],-1]),r.push([[u,l.value],1])):r.push([[u,l.value],-1])}return r.length!==0&&n.sendData(new lt(r)),r.length}function*Zw(n){for(const e of n)e.type==="update"?(yield{type:"delete",key:e.key,value:e.previousValue},yield{type:"insert",key:e.key,value:e.value}):yield e}const q0=new WeakMap;function Ww(n){return n.utils?.[xd]?.getBuilder?.()}function eT(n,e){q0.set(n,e)}function tT(n){return q0.get(n)}let nT=0;class iT{constructor(e){this.config=e,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=e.id||`live-query-${++nT}`,this.query=sT(e),this.collections=aT(this.query);const s=lT(this.query);this.collectionByAlias={};for(const[r,l]of s.entries()){const u=this.collections[r];if(u)for(const c of l)this.collectionByAlias[c]=u}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=rT(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??G0(this.query).compareOptions,this.compileBasePipeline()}hasJoins(e){return!!(e.join&&e.join.length>0||e.from.type==="queryRef"&&this.hasJoins(e.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(e=>this.resultKeys.get(e)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[xd]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(e){if(!this.windowFn)throw new Ux;return this.currentWindow=e,this.windowFn(e),this.maybeRunGraphFn?.(),this.liveQueryCollection?.isLoadingSubset?new Promise(s=>{const r=this.liveQueryCollection.on("loadingSubset:change",l=>{l.isLoadingSubset||(r(),s())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(e){const s=this.compiledAliasToCollectionId[e];if(s)return s;const r=this.collectionByAlias[e];if(r)return r.id;throw new Error(`Unknown source alias "${e}"`)}isLazyAlias(e){return this.lazySources.has(e)}maybeRunGraph(e){if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("maybeRunGraph called without active sync session. This should not happen.");this.isGraphRunning=!0;try{const{begin:s,commit:r}=this.currentSyncConfig,l=this.currentSyncState;if(this.isInErrorState)return;if(l.subscribedToAllCollections){for(;l.graph.pendingWork();)l.graph.run(),e?.();l.messagesCount===0&&(s(),r(),this.updateLiveQueryStatus(this.currentSyncConfig))}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(e,s){const r=s?.contextId??lo()?.id,l=s?.jobId??this,u=(()=>{if(s?.dependencies)return s.dependencies;const p=new Set(this.builderDependencies);if(s?.alias){const m=this.aliasDependencies[s.alias];if(m)for(const g of m)p.add(g)}return p.delete(this),Array.from(p)})();if(r)for(const p of u)typeof p.scheduleGraphRun=="function"&&p.scheduleGraphRun(void 0,{contextId:r});if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("scheduleGraphRun called without active sync session. This should not happen.");let c=r?this.pendingGraphRuns.get(r):void 0;c||(c={loadCallbacks:new Set},r&&this.pendingGraphRuns.set(r,c)),e&&c.loadCallbacks.add(e);const d=r?void 0:c;yo.schedule({contextId:r,jobId:l,dependencies:u,run:()=>this.executeGraphRun(r,d)})}clearPendingGraphRun(e){this.pendingGraphRuns.delete(e)}hasPendingGraphRun(e){return this.pendingGraphRuns.has(e)}executeGraphRun(e,s){const r=s??(e?this.pendingGraphRuns.get(e):void 0);if(e&&this.pendingGraphRuns.delete(e),!r||!this.currentSyncConfig||!this.currentSyncState)return;this.incrementRunCount();const l=()=>{let u=!0,c;if(r.loadCallbacks.forEach(d=>{try{u=d()&&u}catch(p){u=!1,c??=p}}),c)throw c;return u};this.maybeRunGraph(l)}getSyncConfig(){return{rowUpdateMode:"full",sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(e){this.liveQueryCollection=e.collection,this.currentSyncConfig=e;const s={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},r=this.extendPipelineWithChangeProcessing(e,s);this.currentSyncState=r,this.unsubscribeFromSchedulerClears=yo.onClear(u=>{this.clearPendingGraphRun(u)});const l=this.subscribeToAllCollections(e,r);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(l),this.scheduleGraphRun(l),()=>{s.unsubscribeCallbacks.forEach(u=>u()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(u=>delete this.subscriptions[u]),this.compiledAliasToCollectionId={},this.unsubscribeFromSchedulerClears?.(),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new j1,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(r=>[r,this.graphCache.newInput()]));const e=Ad(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,r=>{this.windowFn=r});this.pipelineCache=e.pipeline,this.sourceWhereClausesCache=e.sourceWhereClauses,this.compiledAliasToCollectionId=e.aliasToCollectionId;const s=Object.keys(this.compiledAliasToCollectionId).filter(r=>!Object.hasOwn(this.inputsCache,r));if(s.length>0)throw new Bx(s)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(e,s){const{begin:r,commit:l}=e,{graph:u,inputs:c,pipeline:d}=this.maybeCompileBasePipeline();return d.pipe(X1(p=>{const m=p.getInner();s.messagesCount+=m.length,r(),m.reduce(oT,new Map).forEach(this.applyChanges.bind(this,e)),l()})),u.finalize(),s.graph=u,s.inputs=c,s.pipeline=d,s}applyChanges(e,s,r){const{write:l,collection:u}=e,{deletes:c,inserts:d,value:p,orderByIndex:m}=s;if(this.resultKeys.set(p,r),m!==void 0&&this.orderByIndices.set(p,m),d&&c===0)l({value:p,type:"insert"});else if(d>c||d===c&&u.has(u.getKeyFromItem(p)))l({value:p,type:"update"});else if(c>0)l({value:p,type:"delete"});else throw new Error(`Could not apply changes: ${JSON.stringify(s)}. This should never happen.`)}handleSourceStatusChange(e,s,r){const{status:l}=r;if(l==="error"){this.transitionToError(`Source collection '${s}' entered error state`);return}if(l==="cleaned-up"){this.transitionToError(`Source collection '${s}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(e)}updateLiveQueryStatus(e){const{markReady:s}=e;this.isInErrorState||this.allCollectionsReady()&&s()}transitionToError(e){this.isInErrorState=!0,console.error(`[Live Query Error] ${e}`),this.liveQueryCollection?._lifecycle.setStatus("error")}allCollectionsReady(){return Object.values(this.collections).every(e=>e.isReady())}subscribeToAllCollections(e,s){const r=Object.entries(this.compiledAliasToCollectionId);if(r.length===0)throw new Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);const l=r.map(([c,d])=>{const p=this.collectionByAlias[c]??this.collections[d],m=tT(p);m&&m!==this?(this.aliasDependencies[c]=[m],this.builderDependencies.add(m)):this.aliasDependencies[c]=[];const g=new Xw(c,d,p,this),y=p.on("status:change",S=>{this.handleSourceStatusChange(e,d,S)});s.unsubscribeCallbacks.add(y);const _=g.subscribe();return this.subscriptions[c]=_,g.loadMoreIfNeeded.bind(g,_)}),u=()=>(l.map(c=>c()),!0);return s.subscribedToAllCollections=!0,this.updateLiveQueryStatus(e),u}}function sT(n){return typeof n.query=="function"?bw(n.query):z0(n.query)}function rT(n){return(e,s)=>{const r=n.get(e),l=n.get(s);return r&&l?r<l?-1:r>l?1:0:0}}function aT(n){const e={};function s(l){l.type==="collectionRef"?e[l.collection.id]=l.collection:l.type==="queryRef"&&r(l.query)}function r(l){if(l.from&&s(l.from),l.join&&Array.isArray(l.join))for(const u of l.join)u.from&&s(u.from)}return r(n),e}function G0(n){const e=n.from;if(e.type==="collectionRef")return e.collection;if(e.type==="queryRef")return G0(e.query);throw new Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(n)}`)}function lT(n){const e=new Map;function s(l){if(l)if(l.type==="collectionRef"){const{id:u}=l.collection,c=e.get(u);c?c.add(l.alias):e.set(u,new Set([l.alias]))}else l.type==="queryRef"&&r(l.query)}function r(l){if(l&&(s(l.from),l.join))for(const u of l.join)s(u.from)}return r(n),e}function oT(n,[[e,s],r]){const[l,u]=s,c=n.get(e)||{deletes:0,inserts:0,value:l,orderByIndex:u};return r<0?c.deletes+=Math.abs(r):r>0&&(c.inserts+=r,c.value=l,c.orderByIndex=u),n.set(e,c),n}function Iy(n){return new iT(n).getConfig()}function cf(n){if(typeof n=="function"){const s=Iy({query:n});return zy(s)}else{const e=n,s=Iy(e);return e.utils&&(s.utils={...s.utils,...e.utils}),zy(s)}}function zy(n){const e=j0(n),s=Ww(n);return s&&eT(e,s),e}const ff=1;function uT(n,e=[]){const s=n&&typeof n=="object"&&typeof n.subscribeChanges=="function"&&typeof n.startSyncImmediate=="function"&&typeof n.id=="string",r=F.useRef(null),l=F.useRef(null),u=F.useRef(null),c=F.useRef(0),d=F.useRef(null),p=!r.current||s&&u.current!==n||!s&&(l.current===null||l.current.length!==e.length||l.current.some((S,w)=>S!==e[w]));if(p)if(s)n.startSyncImmediate(),r.current=n,u.current=n;else if(typeof n=="function"){const S=new at,w=n(S);if(w==null)r.current=null;else if(w instanceof Td)w.startSyncImmediate(),r.current=w;else if(w instanceof at)r.current=cf({query:n,startSync:!0,gcTime:ff});else if(w&&typeof w=="object")r.current=cf({startSync:!0,gcTime:ff,...w});else throw new Error(`useLiveQuery callback must return a QueryBuilder, LiveQueryCollectionConfig, Collection, undefined, or null. Got: ${typeof w}`);l.current=[...e]}else r.current=cf({startSync:!0,gcTime:ff,...n}),l.current=[...e];p&&(c.current=0,d.current=null);const m=F.useRef(null);(!m.current||p)&&(m.current=S=>{if(!r.current)return()=>{};const w=r.current.subscribeChanges(()=>{c.current+=1,S()});return r.current.status==="ready"&&(c.current+=1,S()),()=>{w.unsubscribe()}});const g=F.useRef(null);(!g.current||p)&&(g.current=()=>{const S=c.current,w=r.current;return(!d.current||d.current.version!==S||d.current.collection!==w)&&(d.current={collection:w,version:S}),d.current});const y=F.useSyncExternalStore(m.current,g.current),_=F.useRef(null),b=F.useRef(null);if(!_.current||_.current.version!==y.version||_.current.collection!==y.collection){if(!y.collection)b.current={state:void 0,data:void 0,collection:void 0,status:"disabled",isLoading:!1,isReady:!0,isIdle:!1,isError:!1,isCleanedUp:!1,isEnabled:!1};else{const S=Array.from(y.collection.entries()),A=y.collection.config.singleResult;let D=null,V=null;b.current={get state(){return D||(D=new Map(S)),D},get data(){return V||(V=S.map(([,L])=>L)),A?V[0]:V},collection:y.collection,status:y.collection.status,isLoading:y.collection.status==="loading",isReady:y.collection.status==="ready",isIdle:y.collection.status==="idle",isError:y.collection.status==="error",isCleanedUp:y.collection.status==="cleaned-up",isEnabled:!0}}_.current=y}return b.current}class Ui extends tn{constructor(e){super(e),this.name="QueryCollectionError"}}class cT extends Ui{constructor(){super("[QueryCollection] queryKey must be provided."),this.name="QueryKeyRequiredError"}}class fT extends Ui{constructor(){super("[QueryCollection] queryFn must be provided."),this.name="QueryFnRequiredError"}}class dT extends Ui{constructor(){super("[QueryCollection] queryClient must be provided."),this.name="QueryClientRequiredError"}}class hT extends Ui{constructor(){super("[QueryCollection] getKey must be provided."),this.name="GetKeyRequiredError"}}class pT extends Ui{constructor(){super("Collection must be in 'ready' state for manual sync operations. Sync not initialized yet."),this.name="SyncNotInitializedError"}}class mT extends Ui{constructor(e){super(`Duplicate key '${e}' found within batch operations`),this.name="DuplicateKeyInBatchError"}}class gT extends Ui{constructor(e){super(`Update operation: Item with key '${e}' does not exist`),this.name="UpdateOperationItemNotFoundError"}}class yT extends Ui{constructor(e){super(`Delete operation: Item with key '${e}' does not exist`),this.name="DeleteOperationItemNotFoundError"}}const rs=new WeakMap;function vT(n,e){const s=Array.isArray(n)?n:[n],r=[];for(const l of s)if(l.type==="delete"){const u=Array.isArray(l.key)?l.key:[l.key];for(const c of u)r.push({type:"delete",key:c})}else{const u=Array.isArray(l.data)?l.data:[l.data];for(const c of u){let d;if(l.type==="update")d=e.getKey(c);else{const p=e.collection.validateData(c,l.type==="upsert"?"insert":l.type);d=e.getKey(p)}r.push({type:l.type,key:d,data:c})}}return r}function _T(n,e){const s=new Set;for(const r of n){if(s.has(r.key))throw new mT(r.key);if(s.add(r.key),r.type==="update"){if(!e.collection._state.syncedData.has(r.key))throw new gT(r.key)}else if(r.type==="delete"&&!e.collection._state.syncedData.has(r.key))throw new yT(r.key)}}function oa(n,e){const s=vT(n,e);_T(s,e),e.begin();for(const l of s)switch(l.type){case"insert":{const u=e.collection.validateData(l.data,"insert");e.write({type:"insert",value:u});break}case"update":{const c={...e.collection._state.syncedData.get(l.key),...l.data},d=e.collection.validateData(c,"update",l.key);e.write({type:"update",value:d});break}case"delete":{const u=e.collection._state.syncedData.get(l.key);e.write({type:"delete",value:u});break}case"upsert":{const u=e.collection._state.syncedData.has(l.key),c=e.collection.validateData(l.data,u?"update":"insert",l.key);u?e.write({type:"update",value:c}):e.write({type:"insert",value:c});break}}e.commit();const r=Array.from(e.collection._state.syncedData.values());e.updateCacheData?e.updateCacheData(r):e.queryClient.setQueryData(e.queryKey,r)}function bT(n){function e(){const s=n();if(!s)throw new pT;return s}return{writeInsert(s){const r={type:"insert",data:s},l=e(),u=rs.get(l);if(u?.isActive){u.operations.push(r);return}oa(r,l)},writeUpdate(s){const r={type:"update",data:s},l=e(),u=rs.get(l);if(u?.isActive){u.operations.push(r);return}oa(r,l)},writeDelete(s){const r={type:"delete",key:s},l=e(),u=rs.get(l);if(u?.isActive){u.operations.push(r);return}oa(r,l)},writeUpsert(s){const r={type:"upsert",data:s},l=e(),u=rs.get(l);if(u?.isActive){u.operations.push(r);return}oa(r,l)},writeBatch(s){const r=e();if(rs.get(r)?.isActive)throw new Error("Cannot nest writeBatch calls. Complete the current batch before starting a new one.");const u={operations:[],isActive:!0};rs.set(r,u);try{const c=s();if(c&&typeof c=="object"&&"then"in c&&typeof c.then=="function")throw new Error("writeBatch does not support async callbacks. The callback must be synchronous.");u.operations.length>0&&oa(u.operations,r)}finally{u.isActive=!1,rs.delete(r)}}}}function ST(n){if(!n)return;const e={};return n.where&&(e.where=Kf(n.where)),n.orderBy?.length&&(e.orderBy=n.orderBy.map(s=>{const r={expression:Kf(s.expression),direction:s.compareOptions.direction,nulls:s.compareOptions.nulls,stringSort:s.compareOptions.stringSort};return s.compareOptions.stringSort==="locale"?{...r,locale:s.compareOptions.locale,localeOptions:s.compareOptions.localeOptions}:r})),n.limit!==void 0&&(e.limit=n.limit),n.offset!==void 0&&(e.offset=n.offset),Object.keys(e).length===0?void 0:JSON.stringify(e)}function Kf(n){if(!n)return null;switch(n.type){case"val":return{type:"val",value:Qf(n.value)};case"ref":return{type:"ref",path:[...n.path]};case"func":return{type:"func",name:n.name,args:n.args.map(e=>Kf(e))};default:return null}}function Qf(n){if(n===void 0)return{__type:"undefined"};if(typeof n=="number"){if(Number.isNaN(n))return{__type:"nan"};if(n===Number.POSITIVE_INFINITY)return{__type:"infinity",sign:1};if(n===Number.NEGATIVE_INFINITY)return{__type:"infinity",sign:-1}}return n===null||typeof n=="string"||typeof n=="number"||typeof n=="boolean"?n:n instanceof Date?{__type:"date",value:n.toJSON()}:Array.isArray(n)?n.map(e=>Qf(e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([e,s])=>[e,Qf(s)])):n}class xT{constructor(e,s,r){this.state=e,this.refetchFn=s,this.refetch=s,this.writeInsert=r.writeInsert,this.writeUpdate=r.writeUpdate,this.writeDelete=r.writeDelete,this.writeUpsert=r.writeUpsert,this.writeBatch=r.writeBatch}async clearError(){this.state.lastError=void 0,this.state.errorCount=0,this.state.lastErrorUpdatedAt=0,await this.refetchFn({throwOnError:!0})}get lastError(){return this.state.lastError}get isError(){return!!this.state.lastError}get errorCount(){return this.state.errorCount}get isFetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isFetching)}get isRefetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isRefetching)}get isLoading(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isLoading)}get dataUpdatedAt(){return Math.max(0,...Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().dataUpdatedAt))}get fetchStatus(){return Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().fetchStatus)}}function ET(n){const{queryKey:e,queryFn:s,select:r,queryClient:l,enabled:u,refetchInterval:c,retry:d,retryDelay:p,staleTime:m,getKey:g,onInsert:y,onUpdate:_,onDelete:b,meta:S,...w}=n,A=w.syncMode??"eager";if(!e)throw new cT;if(!s)throw new fT;if(!l)throw new dT;if(!g)throw new hT;const D={lastError:void 0,errorCount:0,lastErrorUpdatedAt:0,observers:new Map},V=new Map,L=new Map,K=new Map,k=new Map,B=new Map,J=(se,U)=>{const T=K.get(se)||new Set;T.add(U),K.set(se,T);const N=L.get(U)||new Set;N.add(se),L.set(U,N)},ee=(se,U)=>{const T=K.get(se)||new Set;T.delete(U),K.set(se,T);const N=L.get(U)||new Set;return N.delete(se),L.set(U,N),T.size===0},ie=se=>{const{begin:U,write:T,commit:N,markReady:P,collection:Y}=se;let Z=!1;const X=ce=>{if(typeof e=="function")return e(ce);if(A==="on-demand"){const Ae=ST(ce);return Ae!==void 0?[...e,Ae]:e}else return e},ne=(ce={},Ae=s)=>{const Be=X(ce),de=si(Be),gt={...S,loadSubsetOptions:ce};if(D.observers.has(de)){B.set(de,(B.get(de)||0)+1);const ct=D.observers.get(de),wt=ct.getCurrentResult();return wt.isSuccess?!0:wt.isError?Promise.reject(wt.error):new Promise((Rn,ai)=>{const li=ct.subscribe(yt=>{yt.isSuccess?(li(),Rn()):yt.isError&&(li(),ai(yt.error))})})}const jt={queryKey:Be,queryFn:Ae,meta:gt,structuralSharing:!0,notifyOnChangeProps:"all",...u!==void 0&&{enabled:u},...c!==void 0&&{refetchInterval:c},...d!==void 0&&{retry:d},...p!==void 0&&{retryDelay:p},...m!==void 0&&{staleTime:m}},zn=new RS(l,jt);V.set(de,Be),D.observers.set(de,zn),B.set(de,(B.get(de)||0)+1);const Tn=new Promise((ct,wt)=>{const Rn=zn.subscribe(ai=>{ai.isSuccess?(Rn(),ct()):ai.isError&&(Rn(),wt(ai.error))})});return(Z||Y.subscriberCount>0)&&$e(zn,de),Tn},ue=ce=>{const Ae=si(ce);return de=>{if(de.isSuccess){D.lastError=void 0,D.errorCount=0;const gt=de.data,jt=r?r(gt):gt;if(!Array.isArray(jt)||jt.some(ct=>typeof ct!="object")){const ct=r?`@tanstack/query-db-collection: select() must return an array of objects. Got: ${typeof jt} for queryKey ${JSON.stringify(ce)}`:`@tanstack/query-db-collection: queryFn must return an array of objects. Got: ${typeof jt} for queryKey ${JSON.stringify(ce)}`;console.error(ct);return}const zn=new Map(Y._state.syncedData.entries()),Tn=new Map;jt.forEach(ct=>{const wt=g(ct);Tn.set(wt,ct)}),U(),zn.forEach((ct,wt)=>{const Rn=Tn.get(wt);Rn?wn(ct,Rn)||T({type:"update",value:Rn}):ee(wt,Ae)&&T({type:"delete",value:ct})}),Tn.forEach((ct,wt)=>{J(wt,Ae),zn.has(wt)||T({type:"insert",value:ct})}),N(),P()}else de.isError&&(de.errorUpdatedAt!==D.lastErrorUpdatedAt&&(D.lastError=de.error,D.errorCount++,D.lastErrorUpdatedAt=de.errorUpdatedAt),console.error(`[QueryCollection] Error observing query ${String(ce)}:`,de.error),P())}},ge=ce=>k.has(ce),$e=(ce,Ae)=>{if(!ge(Ae)){const Be=V.get(Ae),de=ue(Be),gt=ce.subscribe(de);k.set(Ae,gt);const jt=ce.getCurrentResult();(jt.isSuccess||jt.isError)&&de(jt)}},Xe=()=>{D.observers.forEach($e)},Qe=()=>{k.forEach(ce=>{ce()}),k.clear()};Z=!0;const kt=Y.on("subscribers:change",({subscriberCount:ce})=>{ce>0?Xe():ce===0&&Qe()});if(A==="eager"){const ce=ne({});ce instanceof Promise&&ce.catch(()=>{})}else P();Xe(),D.observers.forEach((ce,Ae)=>{const Be=V.get(Ae);ue(Be)(ce.getCurrentResult())});const sn=ce=>{k.get(ce)?.(),k.delete(ce);const Ae=L.get(ce)??new Set,Be=[];Ae.forEach(de=>{const gt=K.get(de);gt&&(gt.delete(ce),gt.size===0&&(K.delete(de),Y.has(de)&&Be.push(Y.get(de))))}),Be.length>0&&(U(),Be.forEach(de=>{T({type:"delete",value:de})}),N()),D.observers.delete(ce),L.delete(ce),V.delete(ce),B.delete(ce)},ri=ce=>{const Ae=B.get(ce)||0,Be=D.observers.get(ce);if(Ae<=0&&(k.get(ce)?.(),k.delete(ce)),Be?.hasListeners()??!1){B.set(ce,0);return}Ae>0&&console.warn(`[cleanupQueryIfIdle] Invariant violation: refcount=${Ae} but no listeners. Cleaning up to prevent leak.`,{hashedQueryKey:ce}),sn(ce)},bn=ce=>{sn(ce)},hr=l.getQueryCache().subscribe(ce=>{const Ae=ce.query.queryHash;ce.type==="removed"&&V.has(Ae)&&ri(Ae)});return{loadSubset:A==="eager"?void 0:ne,unloadSubset:A==="eager"?void 0:ce=>{const Ae=X(ce),Be=si(Ae),gt=(B.get(Be)||0)-1;gt<=0?(B.set(Be,0),ri(Be)):B.set(Be,gt)},cleanup:async()=>{kt(),Qe();const ce=[...V.values()],Ae=[...D.observers.keys()];for(const Be of Ae)bn(Be);hr(),await Promise.all(ce.map(async Be=>{await l.cancelQueries({queryKey:Be,exact:!0}),l.removeQueries({queryKey:Be,exact:!0})}))}}},ae=async se=>{const T=[...V.values()].map(N=>D.observers.get(si(N)).refetch({throwOnError:se?.throwOnError}));await Promise.all(T)},pe=se=>{const U=typeof e=="function"?e({}):e;r?l.setQueryData(U,T=>{if(!T||typeof T!="object")return T;if(Array.isArray(T))return se;const N=r(T);if(Array.isArray(N)){for(const P of Object.keys(T))if(T[P]===N)return{...T,[P]:se}}if(Array.isArray(T.data))return{...T,data:se};if(Array.isArray(T.items))return{...T,items:se};if(Array.isArray(T.results))return{...T,results:se};for(const P of Object.keys(T))if(Array.isArray(T[P]))return{...T,[P]:se};return T}):l.setQueryData(U,se)};let me=null;const Ge=se=>{const{begin:U,write:T,commit:N,collection:P}=se,Y=typeof e=="function"?e({}):e;return me={collection:P,queryClient:l,queryKey:Y,getKey:g,begin:U,write:T,commit:N,updateCacheData:pe},ie(se)},Ne=bT(()=>me),Ce=y?async se=>{const U=await y(se)??{};return U.refetch!==!1&&await ae(),U}:void 0,q=_?async se=>{const U=await _(se)??{};return U.refetch!==!1&&await ae(),U}:void 0,te=b?async se=>{const U=await b(se)??{};return U.refetch!==!1&&await ae(),U}:void 0,re=new xT(D,ae,Ne);return{...w,getKey:g,syncMode:A,sync:{sync:Ge},onInsert:Ce,onUpdate:q,onDelete:te,utils:re}}async function wT(n){return new Promise((e,s)=>{const r=new FileReader;r.onloadend=()=>{const u=r.result.split(",")[1]||"";e(u)},r.onerror=s,r.readAsDataURL(n)})}function TT(n,e){const s=atob(n),r=new Uint8Array(s.length);for(let l=0;l<s.length;l++)r[l]=s.charCodeAt(l);return new Blob([r],{type:e})}async function By(n){let e=n.body;n.body.type==="form-data"?e={...n.body,data:n.body.data.map(r=>({...r,file:null}))}:n.body.type==="binary"&&(e={...n.body,file:null});let s=null;if(n.httpResponse){const r=n.httpResponse.body instanceof Blob?await wT(n.httpResponse.body):"",l=n.httpResponse.body instanceof Blob?n.httpResponse.body.type:"application/octet-stream";s={status:n.httpResponse.status,statusCode:n.httpResponse.statusCode,headers:n.httpResponse.headers,content:r,contentType:l,duration:n.httpResponse.duration,error:n.httpResponse.error}}return{id:n.id,name:n.name,protocol:n.protocol,method:n.method,url:n.url,query:n.query,headers:n.headers,body:e,variables:n.variables,creationTime:n.creationTime,executionTime:n.executionTime,httpRequest:n.httpRequest,httpResponse:s,executing:!1}}function RT(n){let e=null;if(n.httpResponse){const s=n.httpResponse.content?TT(n.httpResponse.content,n.httpResponse.contentType):new Blob([]);e={status:n.httpResponse.status,statusCode:n.httpResponse.statusCode,headers:n.httpResponse.headers,body:s,duration:n.httpResponse.duration,error:n.httpResponse.error}}return{id:n.id,name:n.name,protocol:n.protocol??"rest",method:n.method,url:n.url,query:n.query,headers:n.headers,body:n.body,variables:n.variables??[],creationTime:n.creationTime,executionTime:n.executionTime,httpRequest:n.httpRequest,httpResponse:e,executing:!1}}const bo="requests";async function CT(){const n=await fetch(`/data/${bo}`);if(!n.ok)throw new Error(`Failed to list entries: ${n.statusText}`);const e=await n.json();return(await Promise.all(e.map(async r=>{const l=await fetch(`/data/${bo}/${encodeURIComponent(r.id)}`);return l.ok?await l.json():null}))).filter(r=>r!==null)}async function Uy(n){const e=await fetch(`/data/${bo}/${encodeURIComponent(n.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error(`Failed to save request: ${e.statusText}`)}async function AT(n){const e=await fetch(`/data/${bo}/${encodeURIComponent(n)}`,{method:"DELETE"});if(!e.ok&&e.status!==404)throw new Error(`Failed to delete request: ${e.statusText}`)}const K0=new LS({defaultOptions:{queries:{staleTime:1/0,refetchOnWindowFocus:!1}}}),Mn=j0(ET({queryKey:["requests"],queryFn:async()=>(await CT()).map(RT),getKey:n=>n.id,queryClient:K0,onInsert:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.modified,r=await By(s);await Uy(r)}))},onUpdate:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.modified,r=await By(s);await Uy(r)}))},onDelete:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.original;await AT(s.id)}))}}));async function OT(){Array.from(Mn.state.keys()).forEach(e=>Mn.delete(e))}function Ff(n,e,s={}){const{missingDataPlaceholder:r=""}=s;let l=n;const u=/\{\{(\w+):([^}]+)\}\}/g;let c;for(;(c=u.exec(n))!==null;){const[d,p,m]=c,g=e.find(_=>_.type===p&&_.id===m);let y="";switch(p){case"file_base64":case"base64":y=g?.data||r;break;case"file_dataurl":g?.data&&g?.mimeType?y=`data:${g.mimeType};base64,${g.data}`:g?.data?y=`data:application/octet-stream;base64,${g.data}`:y=r;break;case"timestamp":y=String(Date.now());break;case"uuid":typeof crypto<"u"&&crypto.randomUUID?y=crypto.randomUUID():y="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{const b=Math.random()*16|0;return(_==="x"?b:b&3|8).toString(16)});break;case"random_string":y=Math.random().toString(36).substring(2,18);break;default:y=d}l=l.replace(d,y)}return l}function ls(){return Math.random().toString(36).substring(2,9)}function Vy(){return{id:ls(),enabled:!0,key:"",value:""}}function Yf(n){return{id:ls(),name:"New Request",protocol:"rest",method:"GET",url:"",headers:[Vy()],query:[Vy()],body:{type:"none"},variables:[],creationTime:Date.now(),executionTime:null,httpRequest:null,httpResponse:null,executing:!1}}const Q0=F.createContext(null),kT={request:Yf(),sidebarCollapsed:!1};function DT({children:n}){const[e,s]=F.useState(kT),{data:r=[]}=uT(k=>k.from({req:Mn}).orderBy(({req:B})=>B.executionTime??B.creationTime,"desc")),l=F.useCallback(k=>{s(B=>({...B,request:{...B.request,...k}}))},[]),u=F.useCallback(k=>{l({protocol:k})},[l]),c=F.useCallback(k=>{l({method:k})},[l]),d=F.useCallback(k=>{l({url:k})},[l]),p=F.useCallback(k=>{l({headers:k})},[l]),m=F.useCallback(k=>{l({query:k})},[l]),g=F.useCallback(k=>{l({body:k})},[l]),y=F.useCallback(k=>{l({variables:k})},[l]),_=F.useCallback(k=>{s(B=>{const ee={...B.request.httpRequest?.options??{insecure:!1,redirect:!0},...k};return{...B,request:{...B.request,httpRequest:B.request.httpRequest?{...B.request.httpRequest,options:ee}:null}}})},[]),b=F.useCallback(()=>{l({httpResponse:null})},[l]),S=F.useCallback(async()=>{const k=e.request;l({executing:!0});try{const B={};if(k.headers.filter(X=>X.enabled&&X.key).forEach(X=>{B[X.key]=X.value}),k.protocol==="grpc"){const X=k.url,ne=X.match(/^grpc:\/\/([^/]+)\/(.+)\/([^/]+)$/);if(!ne)throw new Error("Invalid gRPC URL format. Expected: grpc://host:port/service/method");const[,ue,ge,$e]=ne;let Xe="",Qe="";k.body.type==="json"?(Xe=Ff(k.body.content,k.variables),Qe=k.body.content):(Xe="{}",Qe="{}"),B["Content-Type"]||(B["Content-Type"]="application/json");const kt=`/proxy/grpc/${ue}/${ge}/${$e}`,sn={method:"POST",url:X,headers:B,query:{},body:Qe,options:{insecure:!1,redirect:!1}},ri=performance.now(),bn=await fetch(kt,{method:"POST",headers:B,body:Xe}),hr=Math.round(performance.now()-ri),pr=await bn.blob(),Vi={};bn.headers.forEach((de,gt)=>{Vi[gt]=de});const hs={status:bn.statusText||String(bn.status),statusCode:bn.status,headers:Vi,body:pr,duration:hr},ce=Date.now(),Ae={...k,executionTime:ce,httpRequest:sn,httpResponse:hs,executing:!1};r.find(de=>de.id===k.id)?Mn.update(k.id,de=>{Object.assign(de,Ae)}):Mn.insert(Ae),s(de=>({...de,request:Ae}));return}const J=new URLSearchParams;k.query.filter(X=>X.enabled&&X.key).forEach(X=>{J.append(X.key,X.value)});let ee,ie="",ae=!1;switch(k.body.type){case"json":{ee=Ff(k.body.content,k.variables),ie=k.body.content,B["Content-Type"]||(B["Content-Type"]="application/json");break}case"form-urlencoded":{const X=new URLSearchParams;k.body.data.filter(ne=>ne.enabled&&ne.key).forEach(ne=>{X.append(ne.key,ne.value)}),ee=X.toString(),ie=X.toString(),B["Content-Type"]||(B["Content-Type"]="application/x-www-form-urlencoded");break}case"form-data":{const X=new FormData,ne=[];k.body.data.filter(ue=>ue.enabled&&ue.key).forEach(ue=>{ue.type==="file"&&ue.file?(X.append(ue.key,ue.file,ue.fileName),ne.push(`${ue.key}: [File: ${ue.fileName}]`)):ue.type==="text"&&(X.append(ue.key,ue.value),ne.push(`${ue.key}: ${ue.value}`))}),ee=X,ie=ne.join(`
`),ae=!0;break}case"binary":{k.body.file&&(ee=k.body.file,ie=`[Binary file: ${k.body.fileName}]`,B["Content-Type"]||(B["Content-Type"]=k.body.file.type||"application/octet-stream"));break}case"raw":ee=k.body.content,ie=k.body.content,B["Content-Type"]||(B["Content-Type"]="text/plain");break}const pe=k.httpRequest?.options??{insecure:!1,redirect:!0};pe.insecure&&(B["X-Prism-Insecure"]="true"),pe.redirect&&(B["X-Prism-Redirect"]="true");const me=new URL(k.url);let Ge="/proxy/"+me.protocol.slice(0,-1)+"/"+me.host+me.pathname;const Ne=J.toString();Ne&&(Ge+="?"+Ne);const Ce={method:k.method,url:k.url,headers:B,query:Object.fromEntries(J),body:ie,options:pe},q={...B};ae&&delete q["Content-Type"];const te=performance.now(),re=await fetch(Ge,{method:k.method,headers:q,body:ee&&k.method!=="GET"&&k.method!=="HEAD"?ee:void 0}),se=Math.round(performance.now()-te),U=await re.blob(),T={};re.headers.forEach((X,ne)=>{T[ne]=X});const N={status:re.statusText||String(re.status),statusCode:re.status,headers:T,body:U,duration:se},P=Date.now(),Y={...k,executionTime:P,httpRequest:Ce,httpResponse:N,executing:!1};r.find(X=>X.id===k.id)?Mn.update(k.id,X=>{Object.assign(X,Y)}):Mn.insert(Y),s(X=>({...X,request:Y}))}catch(B){const J=Date.now(),ee=B instanceof Error?B.message:"Unknown error",ie={status:"",statusCode:0,headers:{},body:new Blob,duration:0,error:ee},ae={...k,executionTime:J,httpResponse:ie,executing:!1};r.find(me=>me.id===k.id)?Mn.update(k.id,me=>{Object.assign(me,ae)}):Mn.insert(ae),s(me=>({...me,request:ae}))}},[e.request,l,r]),w=F.useCallback(k=>{const B=Yf();B.id=k.id,B.name=k.name,B.protocol=k.protocol??"rest",B.method=k.method,B.url=k.url,B.headers=k.headers.map(J=>({...J,id:ls()})),B.query=k.query.map(J=>({...J,id:ls()})),B.variables=(k.variables??[]).map(J=>({...J,id:ls()})),k.body.type==="form-urlencoded"?B.body={type:"form-urlencoded",data:k.body.data.map(J=>({...J,id:ls()}))}:k.body.type==="form-data"?B.body={type:"form-data",data:k.body.data.map(J=>({...J,id:ls(),file:null}))}:k.body.type==="binary"?B.body={type:"binary",file:null,fileName:k.body.fileName}:B.body=k.body,k.httpRequest&&(B.httpRequest={...k.httpRequest}),k.httpResponse&&(B.httpResponse=k.httpResponse),s(J=>({...J,request:B}))},[]),A=F.useCallback(async()=>{await OT()},[]),D=F.useCallback(async k=>{Mn.delete(k)},[]),V=F.useCallback(()=>{s(k=>({...k,sidebarCollapsed:!k.sidebarCollapsed}))},[]),L=F.useCallback(()=>{s(k=>({...k,request:Yf()}))},[]),K={request:e.request,history:r,sidebarCollapsed:e.sidebarCollapsed,setProtocol:u,setMethod:c,setUrl:d,setHeaders:p,setQuery:m,setBody:g,setVariables:y,setOptions:_,executeRequest:S,clearResponse:b,newRequest:L,loadFromHistory:w,clearHistory:A,deleteHistoryEntry:D,toggleSidebar:V};return R.jsx(Q0.Provider,{value:K,children:n})}function fs(){const n=F.useContext(Q0);if(!n)throw new Error("useClient must be used within a ClientProvider");return n}const NT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Py=n=>{const e=MT(n);return e.charAt(0).toUpperCase()+e.slice(1)},F0=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),LT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IT=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:c,...d},p)=>F.createElement("svg",{ref:p,...jT,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:F0("lucide",l),...!u&&!LT(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>F.createElement(m,g)),...Array.isArray(u)?u:[u]]));const Ke=(n,e)=>{const s=F.forwardRef(({className:r,...l},u)=>F.createElement(IT,{ref:u,iconNode:e,className:F0(`lucide-${NT(Py(n))}`,`lucide-${n}`,r),...l}));return s.displayName=Py(n),s};const zT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BT=Ke("check",zT);const UT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kd=Ke("chevron-down",UT);const VT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PT=Ke("chevron-right",VT);const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qT=Ke("circle-alert",HT);const GT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Y0=Ke("circle-check",GT);const KT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$0=Ke("circle",KT);const QT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FT=Ke("clock",QT);const YT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$T=Ke("eye",YT);const XT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JT=Ke("file-text",XT);const ZT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Hy=Ke("file",ZT);const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eR=Ke("globe",WT);const tR=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],nR=Ke("hash",tR);const iR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X0=Ke("loader-circle",iR);const sR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],rR=Ke("panel-right-close",sR);const aR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],lR=Ke("panel-right-open",aR);const oR=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qy=Ke("paperclip",oR);const uR=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],cR=Ke("send-horizontal",uR);const fR=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],dR=Ke("server",fR);const hR=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],pR=Ke("shuffle",hR);const mR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gR=Ke("sparkles",mR);const yR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dd=Ke("trash-2",yR);const vR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_R=Ke("upload",vR);const bR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J0=Ke("x",bR),SR={GET:"text-green-600 dark:text-green-400",POST:"text-yellow-600 dark:text-yellow-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-red-600 dark:text-red-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"};function xR(n){const e=new Date(n),s=new Date;return e.toDateString()===s.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function ER(n){return n?n>=200&&n<300?"bg-green-500":n>=300&&n<400?"bg-yellow-500":n>=400&&n<500?"bg-orange-500":"bg-red-500":"bg-neutral-500"}function wR(n){try{return new URL(n.url).hostname}catch{return"Other"}}function TR(n){try{const e=new URL(n.url);return e.pathname+e.search}catch{return n.url}}function RR(n){return n.protocol==="grpc"?"gRPC":n.method}function CR(n){return n.protocol==="grpc"?"text-cyan-600 dark:text-cyan-400":SR[n.method]}function AR(n){const e=new Map;for(const s of n){const r=wR(s),l=e.get(r)||[];l.push(s),e.set(r,l)}return Array.from(e.entries()).map(([s,r])=>({hostname:s,entries:r,latestTimestamp:Math.max(...r.map(l=>l.executionTime??0))})).sort((s,r)=>r.latestTimestamp-s.latestTimestamp)}function OR(){const{history:n,sidebarCollapsed:e,loadFromHistory:s,deleteHistoryEntry:r,clearHistory:l,toggleSidebar:u}=fs(),c=F.useMemo(()=>AR(n),[n]);return n.length===0||e?null:R.jsxs("aside",{className:"w-64 bg-white dark:bg-[#1a1a1a]/60 dark:backdrop-blur-xl border border-neutral-200 dark:border-white/8 rounded-xl flex flex-col overflow-hidden dark:shadow-2xl",children:[R.jsxs("div",{className:"px-3 py-2.5 flex items-center justify-between gap-2",children:[R.jsx("h1",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200 pl-0.5",children:"Prism"}),R.jsxs("div",{className:"flex items-center gap-1",children:[n.length>0&&R.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Clear history",children:R.jsx(Dd,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"})}),R.jsx("button",{onClick:u,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Hide sidebar",children:R.jsx(lR,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"})})]})]}),R.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:n.length===0?R.jsx("div",{className:"px-2 py-8 text-center text-neutral-400 dark:text-neutral-600 text-xs",children:"No history yet"}):R.jsx("div",{className:"space-y-3 pb-2",children:c.map(d=>R.jsxs("div",{children:[R.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider truncate",title:d.hostname,children:d.hostname}),R.jsx("div",{className:"space-y-0.5",children:d.entries.map(p=>R.jsxs("div",{className:"group flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>s(p),children:[R.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${ER(p.httpResponse?.statusCode??null)}`}),R.jsx("span",{className:`text-[10px] font-semibold shrink-0 ${CR(p)}`,children:RR(p)}),R.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate flex-1",title:p.url,children:TR(p)}),R.jsxs("div",{className:"flex items-center justify-end text-[10px] text-neutral-400 dark:text-neutral-600 shrink-0 w-12 h-5",children:[R.jsx("span",{className:"group-hover:hidden",children:xR(p.executionTime??p.creationTime)}),R.jsx("button",{onClick:m=>{m.stopPropagation(),r(p.id)},className:"hidden group-hover:inline-flex items-center justify-center w-5 h-5 hover:bg-neutral-200 dark:hover:bg-white/8 rounded transition-colors",title:"Delete",children:R.jsx("svg",{className:"w-3 h-3 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},p.id))})]},d.hostname))})})]})}const kR=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],DR={GET:"text-emerald-600 dark:text-emerald-400",POST:"text-amber-600 dark:text-amber-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-rose-600 dark:text-rose-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"},df=[{value:"rest",label:"REST",icon:eR},{value:"grpc",label:"gRPC",icon:dR}];function NR(){const{request:n,setMethod:e,setProtocol:s}=fs(),r=n?.method??"GET",l=n?.protocol??"rest",[u,c]=F.useState(!1),d=F.useRef(null),p=df.find(g=>g.value===l)??df[0],m=p.icon;return F.useEffect(()=>{const g=y=>{d.current&&!d.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsxs("div",{ref:d,className:"relative",children:[R.jsxs("button",{type:"button",onClick:()=>c(!u),className:"flex items-center gap-0.5 p-1.5 rounded-md hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors text-neutral-600 dark:text-neutral-400",title:p.label,children:[R.jsx(m,{className:"w-4 h-4"}),R.jsx(kd,{className:"w-3 h-3"})]}),u&&R.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 min-w-25",children:df.map(g=>{const y=g.icon;return R.jsxs("button",{type:"button",onClick:()=>{s(g.value),c(!1)},className:`w-full flex items-center gap-2 px-3 py-1.5 text-sm transition-colors ${l===g.value?"bg-neutral-100 dark:bg-white/10 text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-white/5"}`,children:[R.jsx(y,{className:"w-4 h-4"}),g.label]},g.value)})})]}),l==="rest"&&R.jsx("select",{value:r,onChange:g=>e(g.target.value),className:`px-2 py-1 bg-transparent font-semibold text-xs focus:outline-none cursor-pointer ${DR[r]}`,children:kR.map(g=>R.jsx("option",{value:g,className:"bg-white dark:bg-[#1a1a1a]",children:g},g))})]})}function MR({value:n,onChange:e,placeholder:s,minWidth:r=60}){const l=F.useRef(null),[u,c]=F.useState(r);F.useEffect(()=>{if(l.current){const p=l.current.offsetWidth;c(Math.max(r,p+24))}},[n,s,r]);const d=n||s;return R.jsxs("div",{className:"relative",children:[R.jsx("span",{ref:l,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:d}),R.jsx("input",{type:"text",value:n,onChange:p=>e(p.target.value),placeholder:s,style:{width:`${u}px`},className:"px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"})]})}function Gy({value:n,onChange:e,placeholder:s,fetchOptions:r,disabled:l,minWidth:u=60}){const[c,d]=F.useState(!1),[p,m]=F.useState([]),[g,y]=F.useState(!1),[_,b]=F.useState(null),S=F.useRef(null),w=F.useRef(null),A=F.useRef(null),[D,V]=F.useState(u);F.useEffect(()=>{if(A.current){const B=A.current.offsetWidth;V(Math.max(u,B+40))}},[n,s,u]);const L=n||s;F.useEffect(()=>{const B=J=>{S.current&&!S.current.contains(J.target)&&d(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const K=async()=>{if(!l){d(!0),y(!0),b(null);try{const B=await r();m(B)}catch(B){b(B instanceof Error?B.message:"Failed to fetch"),m([])}finally{y(!1)}}},k=p.filter(B=>B.toLowerCase().includes(n.toLowerCase()));return R.jsxs("div",{ref:S,className:"relative",style:{width:`${D}px`},children:[R.jsx("span",{ref:A,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:L}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("input",{ref:w,type:"text",value:n,onChange:B=>e(B.target.value),onFocus:K,placeholder:s,disabled:l,className:"flex-1 min-w-0 px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none disabled:opacity-50"}),R.jsx("button",{type:"button",onClick:K,disabled:l,className:"p-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 disabled:opacity-50",children:g?R.jsx(X0,{className:"w-3 h-3 animate-spin"}):R.jsx(kd,{className:"w-3 h-3"})})]}),c&&R.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto min-w-full",children:[g&&R.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:"Loading..."}),_&&R.jsx("div",{className:"px-3 py-2 text-xs text-red-500",children:_}),!g&&!_&&k.length===0&&R.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:p.length===0?"No options available":"No matches"}),!g&&!_&&k.map(B=>R.jsx("button",{type:"button",onClick:()=>{e(B),d(!1)},className:"w-full px-3 py-1.5 text-left text-sm text-neutral-800 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors whitespace-nowrap",children:B},B))]})]})}function LR(){const{request:n,setUrl:e,executeRequest:s,sidebarCollapsed:r,toggleSidebar:l,history:u}=fs(),c=k=>{k.preventDefault(),s()},d=n?.protocol??"rest",p=n?.url??"",m=n?.executing??!1,g=k=>{const B=k.match(/^grpc:\/\/([^/]*)(?:\/([^/]*)(?:\/([^/]*))?)?$/);return B?{host:B[1]||"",service:B[2]||"",method:B[3]||""}:{host:"",service:"",method:""}},y=(k,B,J)=>k?B?J?`grpc://${k}/${B}/${J}`:`grpc://${k}/${B}`:`grpc://${k}`:"grpc://",{host:_,service:b,method:S}=g(p),w=k=>e(y(k,b,S)),A=k=>e(y(_,k,S)),D=k=>e(y(_,b,k)),V=d==="rest"?p.length>0:_.length>0&&b.length>0&&S.length>0,L=async()=>{if(!_)return[];const k=await fetch(`/proxy/grpc/${_}`);if(!k.ok)throw new Error("Failed to fetch services");return(await k.json()).services.map(J=>J.name)},K=async()=>{if(!_||!b)return[];const k=await fetch(`/proxy/grpc/${_}`);if(!k.ok)throw new Error("Failed to fetch methods");return(await k.json()).services.find(ee=>ee.name===b)?.methods.map(ee=>ee.name)??[]};return R.jsxs("form",{onSubmit:c,className:"flex items-center gap-2",children:[r&&u.length>0&&R.jsx("button",{type:"button",onClick:l,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Show sidebar",children:R.jsx(rR,{className:"w-4 h-4"})}),R.jsx(NR,{}),d==="rest"?R.jsx("input",{type:"text",value:p,onChange:k=>e(k.target.value),placeholder:"Enter request URL",className:"flex-1 px-3 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"}):R.jsxs("div",{className:"flex-1 flex items-center gap-0 min-w-0",children:[R.jsx(MR,{value:_,onChange:w,placeholder:"host:port",minWidth:160}),R.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),R.jsx(Gy,{value:b,onChange:A,placeholder:"service",fetchOptions:L,disabled:!_,minWidth:60}),R.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),R.jsx(Gy,{value:S,onChange:D,placeholder:"method",fetchOptions:K,disabled:!_||!b,minWidth:60})]}),R.jsx("button",{type:"submit",disabled:m||!V,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Send request",children:m?R.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[R.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),R.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})}function Ky(){return Math.random().toString(36).substring(2,9)}function hf({items:n,onChange:e,keyPlaceholder:s="Key",valuePlaceholder:r="Value",keySuggestions:l=[]}){const[u,c]=F.useState(null),[d,p]=F.useState(""),m=(_,b,S)=>{const w=n.map(D=>D.id===_?{...D,[b]:S}:D),A=w[w.length-1];A&&(A.key||A.value)&&w.push({id:Ky(),enabled:!0,key:"",value:""}),e(w)},g=_=>{if(n.length===1){e([{id:Ky(),enabled:!0,key:"",value:""}]);return}e(n.filter(b=>b.id!==_))},y=_=>{const b=n.map(S=>S.key.toLowerCase());return l.filter(S=>S.toLowerCase().includes(_.toLowerCase())&&!b.includes(S.toLowerCase()))};return R.jsx("div",{children:R.jsx("table",{className:"w-full",children:R.jsx("tbody",{children:n.map(_=>R.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${_.enabled?"":"opacity-40"}`,children:[R.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:R.jsx("button",{type:"button",onClick:()=>m(_.id,"enabled",!_.enabled),className:"p-0.5 rounded transition-colors",children:_.enabled?R.jsx(Y0,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):R.jsx($0,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),R.jsx("td",{className:"px-1.5 py-1.5",children:R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"text",value:_.key,onChange:b=>{m(_.id,"key",b.target.value),p(b.target.value)},onFocus:()=>{c(_.id),p(_.key)},onBlur:()=>{setTimeout(()=>c(null),150)},placeholder:s,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"}),l.length>0&&u===_.id&&(()=>{const b=y(d);return b.length===0?null:R.jsx("div",{className:"absolute z-50 left-0 right-0 top-full mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg max-h-48 overflow-y-auto",children:b.map(S=>R.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),m(_.id,"key",S),c(null)},className:"w-full px-2 py-1.5 text-left text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:S},S))})})()]})}),R.jsx("td",{className:"px-1.5 py-1.5",children:R.jsx("input",{type:"text",value:_.value,onChange:b=>m(_.id,"value",b.target.value),placeholder:r,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),R.jsx("td",{className:"w-8 pr-1.5 py-1.5",children:R.jsx("button",{type:"button",onClick:()=>g(_.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:R.jsx(Dd,{className:"w-3.5 h-3.5"})})})]},_.id))})})})}function jR(){return Math.random().toString(36).substring(2,9)}function Qy(){return{id:jR(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}function IR({items:n,onChange:e,keyPlaceholder:s="Field",valuePlaceholder:r="Value"}){const l=F.useRef({}),u=(g,y)=>{const _=n.map(S=>S.id===g?{...S,...y}:S),b=_[_.length-1];b&&(b.key||b.value||b.file)&&_.push(Qy()),e(_)},c=g=>{if(n.length===1){e([Qy()]);return}e(n.filter(y=>y.id!==g))},d=(g,y)=>{const _=y.target.files?.[0]??null;y.target.value="",_&&u(g,{type:"file",file:_,fileName:_.name,value:""})},p=g=>{u(g,{type:"text",file:null,fileName:""})},m=g=>g<1024?`${g} B`:g<1024*1024?`${(g/1024).toFixed(1)} KB`:`${(g/(1024*1024)).toFixed(1)} MB`;return R.jsx("div",{children:R.jsx("table",{className:"w-full",children:R.jsx("tbody",{children:n.map(g=>R.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${g.enabled?"":"opacity-40"}`,children:[R.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:R.jsx("button",{type:"button",onClick:()=>u(g.id,{enabled:!g.enabled}),className:"p-0.5 rounded transition-colors",children:g.enabled?R.jsx(Y0,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):R.jsx($0,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),R.jsx("td",{className:"px-1.5 py-1.5 w-36",children:R.jsx("input",{type:"text",value:g.key,onChange:y=>u(g.id,{key:y.target.value}),placeholder:s,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),R.jsxs("td",{className:"px-1.5 py-1.5",children:[R.jsx("input",{type:"file",ref:y=>{l.current[g.id]=y},onChange:y=>d(g.id,y),className:"hidden"}),g.type==="file"&&g.file?R.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-neutral-100 dark:bg-white/10 rounded text-xs text-neutral-600 dark:text-neutral-300",children:[R.jsx(qy,{className:"w-3 h-3 shrink-0"}),R.jsx("span",{className:"truncate max-w-xs",children:g.fileName}),R.jsxs("span",{className:"text-neutral-400 shrink-0",children:["(",m(g.file.size),")"]}),R.jsx("button",{type:"button",onClick:()=>p(g.id),className:"p-0.5 ml-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors shrink-0",children:R.jsx(J0,{className:"w-3 h-3"})})]}):R.jsx("input",{type:"text",value:g.value,onChange:y=>u(g.id,{value:y.target.value}),placeholder:r,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})]}),R.jsx("td",{className:"w-16 pr-1.5 py-1.5",children:R.jsxs("div",{className:"flex items-center gap-0.5",children:[R.jsx("button",{type:"button",onClick:()=>l.current[g.id]?.click(),className:`p-1 rounded transition-colors ${g.type==="file"?"text-blue-500 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/5"}`,title:"Attach file",children:R.jsx(qy,{className:"w-3.5 h-3.5"})}),R.jsx("button",{type:"button",onClick:()=>c(g.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:R.jsx(Dd,{className:"w-3.5 h-3.5"})})]})})]},g.id))})})})}function zR({file:n,fileName:e,onFileChange:s}){const r=F.useRef(null),l=d=>{s(d,d?.name??"")},u=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KB`:d<1024*1024*1024?`${(d/(1024*1024)).toFixed(1)} MB`:`${(d/(1024*1024*1024)).toFixed(2)} GB`,c=d=>d.startsWith("image/")?"":d.startsWith("video/")?"":d.startsWith("audio/")?"":d.includes("pdf")?"":d.includes("zip")||d.includes("tar")||d.includes("gzip")?"":d.includes("json")||d.includes("xml")||d.includes("text")?"":"";return R.jsxs("div",{className:"space-y-3",children:[R.jsx("input",{type:"file",ref:r,onChange:d=>l(d.target.files?.[0]??null),className:"hidden"}),n?R.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:[R.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-white/10 rounded-lg text-xl",children:c(n.type)}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(JT,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400 shrink-0"}),R.jsx("p",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-100 truncate",children:e})]}),R.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[R.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:u(n.size)}),R.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:""}),R.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:n.type||"application/octet-stream"})]})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("button",{type:"button",onClick:()=>r.current?.click(),className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:"Change"}),R.jsx("button",{type:"button",onClick:()=>s(null,""),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:R.jsx(J0,{className:"w-4 h-4"})})]})]}):R.jsxs("div",{onClick:()=>r.current?.click(),className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-neutral-300 dark:border-white/20 rounded-lg cursor-pointer hover:border-neutral-400 dark:hover:border-white/30 hover:bg-neutral-50 dark:hover:bg-white/5 transition-colors",children:[R.jsx(_R,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500 mb-2"}),R.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-1",children:"Click to select a file"}),R.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"or drag and drop"})]}),R.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"The file will be sent as the raw request body. Content-Type will be set automatically based on the file type."})]})}function BR({value:n,onChange:e,placeholder:s}){const r=F.useRef(null);return F.useEffect(()=>{const l=r.current;if(!l)return;l.style.height="auto";const c=Math.min(l.scrollHeight,160);l.style.height=`${c}px`},[n]),R.jsx("textarea",{ref:r,value:n,onChange:l=>e(l.target.value),placeholder:s,spellCheck:!1,rows:3,className:"w-full font-mono text-xs text-neutral-800 dark:text-neutral-100 bg-transparent focus:outline-none placeholder-neutral-400 dark:placeholder-neutral-600 resize-none overflow-auto"})}const UR=[{type:"file_base64",label:"File (Base64)",description:"Select a file to encode",icon:R.jsx(Hy,{className:"w-3.5 h-3.5"})},{type:"file_dataurl",label:"File (Data URL)",description:"File as data:... URL",icon:R.jsx(Hy,{className:"w-3.5 h-3.5"})},{type:"base64",label:"Text (Base64)",description:"Text to encode",icon:R.jsx(nR,{className:"w-3.5 h-3.5"})},{type:"timestamp",label:"Timestamp",description:"Unix timestamp",icon:R.jsx(FT,{className:"w-3.5 h-3.5"})},{type:"uuid",label:"UUID",description:"Random UUID",icon:R.jsx(gR,{className:"w-3.5 h-3.5"})},{type:"random_string",label:"Random String",description:"16-char random",icon:R.jsx(pR,{className:"w-3.5 h-3.5"})}];function VR(){return Math.random().toString(36).substring(2,9)}function Wl(n){const e=[],s=/\{\{(\w+):([^{}]+)\}\}/g;let r;for(;(r=s.exec(n))!==null;)e.push({start:r.index,end:r.index+r[0].length,type:r[1],id:r[2],full:r[0]});return e}function ha(n){if(n.nodeType===Node.TEXT_NODE)return(n.textContent||"").replace(/\u200B/g,"");if(n.classList?.contains("variable-chip"))return n.dataset.marker||"";if(n.tagName==="BR")return`
`;let e="";const s=n.tagName==="DIV"||n.tagName==="P";for(const r of n.childNodes)e+=ha(r);return s&&e&&!e.endsWith(`
`)&&(e+=`
`),e}function PR(n,e){const s=e.getRangeAt(0),r=s.startContainer,l=s.startOffset;let u="",c=!1;function d(p){if(!c){if(p===r){p.nodeType===Node.TEXT_NODE&&(u+=(p.textContent||"").slice(0,l).replace(/\u200B/g,"")),c=!0;return}if(p.nodeType===Node.TEXT_NODE)u+=(p.textContent||"").replace(/\u200B/g,"");else if(p.nodeType===Node.ELEMENT_NODE){const m=p;if(m.classList.contains("variable-chip")){if(m.contains(r)){c=!0;return}u+=m.dataset.marker||""}else if(m.tagName==="BR")u+=`
`;else if(m.tagName==="DIV"||m.tagName==="P"){u&&!u.endsWith(`
`)&&(u+=`
`);for(const g of m.childNodes)if(d(g),c)return}else for(const g of m.childNodes)if(d(g),c)return}}}return d(n),u}function HR({value:n,onChange:e,variables:s,onVariablesChange:r,placeholder:l}){const u=F.useRef(null),c=F.useRef(null),d=F.useRef(""),p=F.useRef(!1),m=F.useRef(!1),g=F.useRef(!1),[y,_]=F.useState(!1),[b,S]=F.useState({top:0,left:0}),[w,A]=F.useState(null),[D,V]=F.useState(""),L=F.useRef(!1),K=F.useRef(null),k=F.useMemo(()=>{if(!n.trim())return{valid:!0,empty:!0};try{let U=n;return U=U.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),U=U.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(U),{valid:!0,empty:!1}}catch(U){return{valid:!1,empty:!1,error:U instanceof Error?U.message:"Invalid JSON"}}},[n]),[B,J]=F.useState(!1),ee=F.useMemo(()=>Ff(n,s,{missingDataPlaceholder:"[no data]"}),[n,s]);F.useEffect(()=>(K.current&&(clearTimeout(K.current),K.current=null),k.valid&&!k.empty&&L.current&&(K.current=setTimeout(()=>{try{let U=n;U=U.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),U=U.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(U);const T=new Map;let N=n,P=0;N=N.replace(/"\{\{[^{}]+\}\}"/g,X=>{const ne=`"__VAR_${P++}__"`;return T.set(ne,X),ne}),N=N.replace(/\{\{[^{}]+\}\}/g,X=>{const ne=`"__VAR_${P++}__"`;return T.set(ne,X),ne});const Y=JSON.parse(N);let Z=JSON.stringify(Y,null,2);Z=Z.replace(/\{\}/g,`{
}`),Z=Z.replace(/\[\]/g,`[
]`),T.forEach((X,ne)=>{Z=Z.replace(ne,X)}),Z!==n&&(m.current=!0,e(Z))}catch{}},500)),L.current=!k.valid,()=>{K.current&&clearTimeout(K.current)}),[k.valid,k.empty,n,e]);const ie=F.useCallback(()=>{const U=u.current;if(!U)return;const T=Wl(n);U.innerHTML="";let N=0;for(const Y of T){const Z=n.slice(N,Y.start);Z&&ae(U,Z);const X=pe(Y.type,Y.id,Y.full);U.appendChild(X),U.appendChild(document.createTextNode("")),N=Y.end}const P=n.slice(N);P&&ae(U,P),U.childNodes.length===0&&U.appendChild(document.createElement("br")),d.current=n},[n,s]);function ae(U,T){T.split(`
`).forEach((P,Y)=>{Y>0&&U.appendChild(document.createElement("br")),P&&U.appendChild(document.createTextNode(P))})}function pe(U,T,N){const P=s.find(ge=>ge.type===U&&ge.id===T),Y=U==="file_base64"||U==="file_dataurl"||U==="base64",Z=P&&P.data,X=document.createElement("span");X.contentEditable="false",X.className=`variable-chip inline-flex items-center gap-1 px-1.5 py-0.5 mx-0.5 rounded text-xs font-medium align-baseline select-none ${Y&&!Z?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-blue-500/20 text-blue-300 border border-blue-500/30"} ${Y?"cursor-pointer hover:bg-blue-500/30":""}`,X.dataset.marker=N,X.dataset.variableType=U,X.dataset.variableId=T;const ne=document.createElement("span");ne.className="chip-icon",ne.innerHTML=GR(U),X.appendChild(ne);const ue=document.createElement("span");return ue.className="chip-label",ue.textContent=qR(U,T,P),X.appendChild(ue),X}F.useEffect(()=>{B||ie()},[B]),F.useEffect(()=>{if(!p.current&&n!==d.current&&(ie(),m.current&&u.current)){m.current=!1;const U=u.current,T=document.createRange(),N=window.getSelection();T.selectNodeContents(U),T.collapse(!1),N?.removeAllRanges(),N?.addRange(T)}p.current=!1},[n,ie]),F.useEffect(()=>{g.current?g.current=!1:ie()},[s]);const me=F.useCallback(()=>{const U=u.current;if(!U)return;const T=ha(U),N=window.getSelection();if(N&&N.rangeCount>0){const P=N.getRangeAt(0);if(P.startContainer.nodeType===Node.TEXT_NODE){const Y=P.startContainer.textContent||"",Z=P.startOffset;if(Z>=2&&Y.slice(Z-2,Z)==="{{"){const X=P.getBoundingClientRect();S({top:X.bottom+4,left:X.left}),_(!0)}else _(!1)}}if(T!==d.current){d.current=T,p.current=!0,e(T);const P=new Set(Wl(T).map(Z=>Z.id)),Y=s.filter(Z=>P.has(Z.id));Y.length!==s.length&&(g.current=!0,r(Y))}},[e,s,r]),Ge=F.useCallback(U=>{U.preventDefault();const T=U.clipboardData.getData("text/plain");document.execCommand("insertText",!1,T)},[]),Ne=F.useCallback(U=>{if(y){U.key==="Escape"&&(_(!1),U.preventDefault());return}if(U.key==="Backspace"){const T=window.getSelection();if(T&&T.rangeCount>0&&T.isCollapsed){const N=T.getRangeAt(0),P=N.startContainer,Y=N.startOffset;if(P.nodeType===Node.TEXT_NODE&&Y===1&&P.textContent?.charAt(0)===""){const Z=P.previousSibling;if(Z&&Z.classList?.contains("variable-chip")){U.preventDefault();const X=Z,ne=X.parentNode;ne?.removeChild(X),ne?.removeChild(P);const ue=u.current;if(ue){const ge=ha(ue);d.current=ge,p.current=!0,e(ge);const $e=new Set(Wl(ge).map(Qe=>Qe.id)),Xe=s.filter(Qe=>$e.has(Qe.id));Xe.length!==s.length&&(g.current=!0,r(Xe))}return}}if(Y===0){let Z=P.previousSibling;if(Z?.nodeType===Node.TEXT_NODE&&Z.textContent===""&&(Z=Z.previousSibling),Z&&Z.classList?.contains("variable-chip")){U.preventDefault();const X=Z,ne=X.nextSibling,ue=X.parentNode;ue?.removeChild(X),ne?.nodeType===Node.TEXT_NODE&&ne.textContent===""&&ue?.removeChild(ne);const ge=u.current;if(ge){const $e=ha(ge);d.current=$e,p.current=!0,e($e);const Xe=new Set(Wl($e).map(kt=>kt.id)),Qe=s.filter(kt=>Xe.has(kt.id));Qe.length!==s.length&&(g.current=!0,r(Qe))}return}}}}if(U.key==="Tab"&&(U.preventDefault(),document.execCommand("insertText",!1,"  ")),U.key==="Enter"){U.preventDefault();const T=window.getSelection();if(!T||T.rangeCount===0){document.execCommand("insertText",!1,`
`);return}const N=u.current;if(!N)return;const P=PR(N,T),Y=P.lastIndexOf(`
`),Z=P.slice(Y+1),X=Z.match(/^(\s*)/);let ne=X?X[1]:"";const ge=Z.trimEnd().slice(-1);(ge==="{"||ge==="[")&&(ne+="  "),document.execCommand("insertText",!1,`
`+ne)}},[y,s,e,r]),Ce=F.useCallback((U,T)=>{const N=document.createElement("input");N.type="file",N.onchange=P=>{const Y=P.target.files?.[0];if(!Y)return;const Z=new FileReader;Z.onload=()=>{const X=Z.result.split(",")[1],ne=s.find(ue=>ue.id===T);r(ne?s.map(ue=>ue.id===ne.id?{...ue,data:X,mimeType:Y.type,name:Y.name}:ue):[...s,{id:T,type:U,name:Y.name,data:X,mimeType:Y.type}])},Z.readAsDataURL(Y)},N.click()},[s,r]),q=F.useCallback(U=>{const N=U.target.closest(".variable-chip");if(N){const P=N.dataset.variableType,Y=N.dataset.variableId;if(P==="file_base64"||P==="file_dataurl")Ce(P,Y),U.preventDefault(),U.stopPropagation();else if(P==="base64"){const Z=N.getBoundingClientRect(),X=s.find(ne=>ne.id===Y);V(X?.data||""),A({variableKey:`${P}:${Y}`,rect:Z}),U.preventDefault(),U.stopPropagation()}}else A(null)},[s,Ce]),te=F.useCallback(U=>{_(!1);const T=u.current;if(!T)return;const N=window.getSelection();if(!N||N.rangeCount===0)return;const P=N.getRangeAt(0);if(P.startContainer.nodeType!==Node.TEXT_NODE)return;const Y=P.startContainer,Z=P.startOffset,X=Y.textContent||"";Y.textContent=X.slice(0,Z-2)+X.slice(Z);const ne=VR(),ue=U==="file_base64"||U==="file_dataurl"?"file":U,ge=`{{${U}:${ne}}}`,$e=pe(U,ne,ge),Xe=Z-2;P.setStart(Y,Xe),P.setEnd(Y,Xe),P.insertNode($e);const Qe=document.createTextNode("");$e.after(Qe),P.setStart(Qe,1),P.setEnd(Qe,1),N.removeAllRanges(),N.addRange(P),g.current=!0,r([...s,{id:ne,type:U,name:ue}]);const kt=ha(T);d.current=kt,p.current=!0,e(kt),(U==="file_base64"||U==="file_dataurl")&&setTimeout(()=>Ce(U,ne),0)},[s,r,e]),re=F.useCallback(()=>{if(!w)return;const[U,T]=w.variableKey.split(":"),N=s.find(P=>P.id===T);r(N?s.map(P=>P.id===N.id?{...P,data:D}:P):[...s,{id:T,type:U,name:U,data:D}]),A(null),u.current?.focus()},[w,D,s,r]);F.useEffect(()=>{const U=N=>{N.key==="Escape"&&(_(!1),A(null))},T=N=>{c.current&&!c.current.contains(N.target)&&(_(!1),A(null))};return document.addEventListener("keydown",U),document.addEventListener("mousedown",T),()=>{document.removeEventListener("keydown",U),document.removeEventListener("mousedown",T)}},[]);const se=F.useMemo(()=>{if(!w||!c.current)return{top:0,left:0};const U=c.current.getBoundingClientRect();return{top:w.rect.bottom-U.top+4,left:Math.max(0,w.rect.left-U.left)}},[w]);return R.jsxs("div",{ref:c,className:"flex flex-col h-full min-h-50 max-h-[60vh] relative overflow-hidden",children:[B?R.jsx("pre",{className:"flex-1 min-h-0 p-3 font-mono text-sm text-zinc-100 overflow-y-auto whitespace-pre-wrap wrap-break-word",children:ee}):R.jsxs("div",{className:"flex-1 min-h-0 relative",children:[R.jsx("div",{ref:u,contentEditable:!0,suppressContentEditableWarning:!0,onInput:me,onPaste:Ge,onKeyDown:Ne,onClick:q,className:"h-full p-3 font-mono text-sm text-zinc-100 outline-none overflow-y-auto whitespace-pre-wrap wrap-break-word"}),!n&&l&&R.jsx("div",{className:"absolute top-3 left-3 font-mono text-sm text-zinc-500 pointer-events-none whitespace-pre-wrap",children:l})]}),R.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 py-1.5 text-xs shrink-0",children:[R.jsx("button",{onClick:()=>J(!B),className:`transition-colors flex items-center gap-1 ${B?"text-blue-400 hover:text-blue-300":"text-zinc-500 hover:text-zinc-300"}`,title:B?"Show editor":"Show resolved JSON",children:R.jsx($T,{className:"w-3.5 h-3.5"})}),k.valid?R.jsx("span",{className:"text-emerald-500",children:"Valid JSON"}):R.jsx("span",{className:"text-red-400",title:k.error,children:"Invalid JSON"})]}),y&&R.jsx("div",{className:"fixed z-50 w-56 bg-zinc-800 border border-zinc-600 rounded-lg shadow-xl py-1",style:{top:b.top,left:b.left},children:UR.map(U=>R.jsxs("button",{onClick:()=>te(U.type),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors",children:[R.jsx("span",{className:"text-zinc-400",children:U.icon}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("div",{className:"text-sm text-zinc-200",children:U.label}),R.jsx("div",{className:"text-xs text-zinc-500",children:U.description})]})]},U.type))}),w&&(()=>{const[U]=w.variableKey.split(":");return R.jsx("div",{className:"absolute z-50 bg-zinc-800/95 border border-zinc-700/50 rounded shadow-lg p-1.5 w-44",style:se,children:U==="base64"?R.jsxs("div",{className:"flex gap-1",children:[R.jsx("input",{type:"text",value:D,onChange:T=>V(T.target.value),onKeyDown:T=>T.key==="Enter"&&re(),placeholder:"Text to encode...",className:"flex-1 min-w-0 px-1.5 py-0.5 text-xs bg-transparent text-zinc-200 rounded border-none focus:outline-none placeholder:text-zinc-500",autoFocus:!0}),R.jsx("button",{onClick:re,className:"p-1 text-zinc-400 hover:text-zinc-200 transition-colors",children:R.jsx(BT,{className:"w-3 h-3"})})]}):null})})()]})}function qR(n,e,s){switch(n){case"file_base64":case"file_dataurl":return s?.data?s.name||"file":"Select file...";default:return s?.name||n}}function GR(n){const e="w-3 h-3";switch(n){case"file_base64":case"file_dataurl":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>`;case"base64":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg>`;case"timestamp":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`;case"uuid":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H1"/></svg>`;case"random_string":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6c.8-1.1 2-1.7 3.3-1.7H22"/><path d="M2 6h1.4c1.3 0 2.5.6 3.3 1.7l14.2 12.6c.8 1.1 2 1.7 3.3 1.7H22"/></svg>`;default:return""}}const Fy=[{value:"none",label:"None"},{value:"json",label:"JSON"},{value:"form-urlencoded",label:"Form"},{value:"form-data",label:"Form Data"},{value:"binary",label:"Binary"},{value:"raw",label:"Raw"}];function Z0(){return Math.random().toString(36).substring(2,9)}function KR(){return{id:Z0(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}const QR=["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Authorization","Cache-Control","Connection","Content-Disposition","Content-Encoding","Content-Length","Content-Type","Cookie","Date","ETag","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","Trailer","Transfer-Encoding","Upgrade","User-Agent","Via","Warning","X-Api-Key","X-Correlation-ID","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","X-Request-ID","X-Requested-With"];function FR(){const[n,e]=F.useState("body"),{request:s,setHeaders:r,setQuery:l,setBody:u,setVariables:c}=fs(),d=s?.protocol??"rest",p=s?.headers??[],m=s?.query??[],g=s?.body??{type:"none"},y=s?.variables??[];F.useEffect(()=>{d==="grpc"&&g.type!=="json"&&u({type:"json",content:""})},[d,g.type,u]);const _=A=>{switch(A){case"none":u({type:"none"});break;case"json":u({type:"json",content:g.type==="json"?g.content:""});break;case"raw":u({type:"raw",content:g.type==="raw"?g.content:""});break;case"form-urlencoded":u({type:"form-urlencoded",data:g.type==="form-urlencoded"?g.data:[{id:Z0(),enabled:!0,key:"",value:""}]});break;case"form-data":u({type:"form-data",data:g.type==="form-data"?g.data:[KR()]});break;case"binary":u({type:"binary",file:g.type==="binary"?g.file:null,fileName:g.type==="binary"?g.fileName:""});break}},b=d==="grpc"?[{id:"headers",label:"Headers",count:p.filter(A=>A.key).length},{id:"body",label:"Body"}]:[{id:"params",label:"Params",count:m.filter(A=>A.key).length},{id:"headers",label:"Headers",count:p.filter(A=>A.key).length},{id:"body",label:"Body"}],S=d==="grpc"?Fy.filter(A=>A.value==="json"):Fy,w=F.useMemo(()=>d==="grpc"&&n==="params"?"body":n,[d,n]);return R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{role:"tablist",className:"inline-flex gap-1",children:b.map(A=>R.jsxs("button",{role:"tab",onClick:()=>e(A.id),className:`px-2 py-1 text-[11px] font-medium rounded-md transition-all ${w===A.id?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/5"}`,children:[A.label,A.count!==void 0&&A.count>0&&R.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-[9px] bg-neutral-200 dark:bg-white/10 text-neutral-600 dark:text-neutral-300 rounded-full",children:A.count})]},A.id))}),w==="body"&&S.length>1&&R.jsx("select",{value:g.type,onChange:A=>_(A.target.value),className:"h-6 px-2 text-[11px] font-medium bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 rounded-md shadow-sm border-0 focus:outline-none focus:ring-2 focus:ring-neutral-300 dark:focus:ring-white/20 cursor-pointer transition-all min-w-30",children:S.map(A=>R.jsx("option",{value:A.value,className:"bg-white dark:bg-[#1a1a1a]",children:A.label},A.value))})]}),R.jsxs("div",{children:[w==="params"&&R.jsx(hf,{items:m,onChange:l,keyPlaceholder:"Parameter",valuePlaceholder:"Value"}),w==="headers"&&R.jsx(hf,{items:p,onChange:r,keyPlaceholder:"Header",valuePlaceholder:"Value",keySuggestions:QR}),w==="body"&&g.type!=="none"&&R.jsxs(R.Fragment,{children:[g.type==="json"&&R.jsx(HR,{value:g.content,onChange:A=>u({...g,content:A}),variables:y,onVariablesChange:c,placeholder:`{
  "key": "value"
}`}),g.type==="raw"&&R.jsx(BR,{value:g.content,onChange:A=>u({...g,content:A}),language:"text",placeholder:"Enter raw body content"}),g.type==="form-urlencoded"&&R.jsx(hf,{items:g.data,onChange:A=>u({...g,data:A}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),g.type==="form-data"&&R.jsx(IR,{items:g.data,onChange:A=>u({...g,data:A}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),g.type==="binary"&&R.jsx(zR,{file:g.file,fileName:g.fileName,onFileChange:(A,D)=>u({...g,file:A,fileName:D})})]})]})]})}const YR="modulepreload",$R=function(n){return"/"+n},Yy={},E=function(e,s,r){let l=Promise.resolve();if(s&&s.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=m(s.map(g=>{if(g=$R(g),g in Yy)return;Yy[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":YR,y||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((S,w)=>{b.addEventListener("load",S),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};let st=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function XR(n){return Nd(n)}function Nd(n){return Array.isArray(n)?JR(n):n instanceof RegExp?n:typeof n=="object"?ZR(n):n}function JR(n){let e=[];for(let s=0,r=n.length;s<r;s++)e[s]=Nd(n[s]);return e}function ZR(n){let e={};for(let s in n)e[s]=Nd(n[s]);return e}function W0(n,...e){return e.forEach(s=>{for(let r in s)n[r]=s[r]}),n}function ev(n){const e=~n.lastIndexOf("/")||~n.lastIndexOf("\\");return e===0?n:~e===n.length-1?ev(n.substring(0,n.length-1)):n.substr(~e+1)}var pf=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,eo=class{static hasCaptures(n){return n===null?!1:(pf.lastIndex=0,pf.test(n))}static replaceCaptures(n,e,s){return n.replace(pf,(r,l,u,c)=>{let d=s[parseInt(l||u,10)];if(d){let p=e.substring(d.start,d.end);for(;p[0]===".";)p=p.substring(1);switch(c){case"downcase":return p.toLowerCase();case"upcase":return p.toUpperCase();default:return p}}else return r})}};function tv(n,e){return n<e?-1:n>e?1:0}function nv(n,e){if(n===null&&e===null)return 0;if(!n)return-1;if(!e)return 1;let s=n.length,r=e.length;if(s===r){for(let l=0;l<s;l++){let u=tv(n[l],e[l]);if(u!==0)return u}return 0}return s-r}function $y(n){return!!(/^#[0-9a-f]{6}$/i.test(n)||/^#[0-9a-f]{8}$/i.test(n)||/^#[0-9a-f]{3}$/i.test(n)||/^#[0-9a-f]{4}$/i.test(n))}function iv(n){return n.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var sv=class{constructor(n){this.fn=n}cache=new Map;get(n){if(this.cache.has(n))return this.cache.get(n);const e=this.fn(n);return this.cache.set(n,e),e}},So=class{constructor(n,e,s){this._colorMap=n,this._defaults=e,this._root=s}static createFromRawTheme(n,e){return this.createFromParsedTheme(tC(n),e)}static createFromParsedTheme(n,e){return iC(n,e)}_cachedMatchRoot=new sv(n=>this._root.match(n));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(n){if(n===null)return this._defaults;const e=n.scopeName,r=this._cachedMatchRoot.get(e).find(l=>WR(n.parent,l.parentScopes));return r?new rv(r.fontStyle,r.foreground,r.background):null}},mf=class oo{constructor(e,s){this.parent=e,this.scopeName=s}static push(e,s){for(const r of s)e=new oo(e,r);return e}static from(...e){let s=null;for(let r=0;r<e.length;r++)s=new oo(s,e[r]);return s}push(e){return new oo(this,e)}getSegments(){let e=this;const s=[];for(;e;)s.push(e.scopeName),e=e.parent;return s.reverse(),s}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const s=[];let r=this;for(;r&&r!==e;)s.push(r.scopeName),r=r.parent;return r===e?s.reverse():void 0}};function WR(n,e){if(e.length===0)return!0;for(let s=0;s<e.length;s++){let r=e[s],l=!1;if(r===">"){if(s===e.length-1)return!1;r=e[++s],l=!0}for(;n&&!eC(n.scopeName,r);){if(l)return!1;n=n.parent}if(!n)return!1;n=n.parent}return!0}function eC(n,e){return e===n||n.startsWith(e)&&n[e.length]==="."}var rv=class{constructor(n,e,s){this.fontStyle=n,this.foregroundId=e,this.backgroundId=s}};function tC(n){if(!n)return[];if(!n.settings||!Array.isArray(n.settings))return[];let e=n.settings,s=[],r=0;for(let l=0,u=e.length;l<u;l++){let c=e[l];if(!c.settings)continue;let d;if(typeof c.scope=="string"){let y=c.scope;y=y.replace(/^[,]+/,""),y=y.replace(/[,]+$/,""),d=y.split(",")}else Array.isArray(c.scope)?d=c.scope:d=[""];let p=-1;if(typeof c.settings.fontStyle=="string"){p=0;let y=c.settings.fontStyle.split(" ");for(let _=0,b=y.length;_<b;_++)switch(y[_]){case"italic":p=p|1;break;case"bold":p=p|2;break;case"underline":p=p|4;break;case"strikethrough":p=p|8;break}}let m=null;typeof c.settings.foreground=="string"&&$y(c.settings.foreground)&&(m=c.settings.foreground);let g=null;typeof c.settings.background=="string"&&$y(c.settings.background)&&(g=c.settings.background);for(let y=0,_=d.length;y<_;y++){let S=d[y].trim().split(" "),w=S[S.length-1],A=null;S.length>1&&(A=S.slice(0,S.length-1),A.reverse()),s[r++]=new nC(w,A,l,p,m,g)}}return s}var nC=class{constructor(n,e,s,r,l,u){this.scope=n,this.parentScopes=e,this.index=s,this.fontStyle=r,this.foreground=l,this.background=u}},Ot=(n=>(n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline",n[n.Strikethrough=8]="Strikethrough",n))(Ot||{});function iC(n,e){n.sort((p,m)=>{let g=tv(p.scope,m.scope);return g!==0||(g=nv(p.parentScopes,m.parentScopes),g!==0)?g:p.index-m.index});let s=0,r="#000000",l="#ffffff";for(;n.length>=1&&n[0].scope==="";){let p=n.shift();p.fontStyle!==-1&&(s=p.fontStyle),p.foreground!==null&&(r=p.foreground),p.background!==null&&(l=p.background)}let u=new sC(e),c=new rv(s,u.getId(r),u.getId(l)),d=new aC(new $f(0,null,-1,0,0),[]);for(let p=0,m=n.length;p<m;p++){let g=n[p];d.insert(0,g.scope,g.parentScopes,g.fontStyle,u.getId(g.foreground),u.getId(g.background))}return new So(u,c,d)}var sC=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(n){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(n)){this._isFrozen=!0;for(let e=0,s=n.length;e<s;e++)this._color2id[n[e]]=e,this._id2color[e]=n[e]}else this._isFrozen=!1}getId(n){if(n===null)return 0;n=n.toUpperCase();let e=this._color2id[n];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${n}`);return e=++this._lastColorId,this._color2id[n]=e,this._id2color[e]=n,e}getColorMap(){return this._id2color.slice(0)}},rC=Object.freeze([]),$f=class av{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,s,r,l,u){this.scopeDepth=e,this.parentScopes=s||rC,this.fontStyle=r,this.foreground=l,this.background=u}clone(){return new av(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let s=[];for(let r=0,l=e.length;r<l;r++)s[r]=e[r].clone();return s}acceptOverwrite(e,s,r,l){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,s!==-1&&(this.fontStyle=s),r!==0&&(this.foreground=r),l!==0&&(this.background=l)}},aC=class Xf{constructor(e,s=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=s}_rulesWithParentScopes;static _cmpBySpecificity(e,s){if(e.scopeDepth!==s.scopeDepth)return s.scopeDepth-e.scopeDepth;let r=0,l=0;for(;e.parentScopes[r]===">"&&r++,s.parentScopes[l]===">"&&l++,!(r>=e.parentScopes.length||l>=s.parentScopes.length);){const u=s.parentScopes[l].length-e.parentScopes[r].length;if(u!==0)return u;r++,l++}return s.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),l,u;if(r===-1?(l=e,u=""):(l=e.substring(0,r),u=e.substring(r+1)),this._children.hasOwnProperty(l))return this._children[l].match(u)}const s=this._rulesWithParentScopes.concat(this._mainRule);return s.sort(Xf._cmpBySpecificity),s}insert(e,s,r,l,u,c){if(s===""){this._doInsertHere(e,r,l,u,c);return}let d=s.indexOf("."),p,m;d===-1?(p=s,m=""):(p=s.substring(0,d),m=s.substring(d+1));let g;this._children.hasOwnProperty(p)?g=this._children[p]:(g=new Xf(this._mainRule.clone(),$f.cloneArr(this._rulesWithParentScopes)),this._children[p]=g),g.insert(e+1,m,r,l,u,c)}_doInsertHere(e,s,r,l,u){if(s===null){this._mainRule.acceptOverwrite(e,r,l,u);return}for(let c=0,d=this._rulesWithParentScopes.length;c<d;c++){let p=this._rulesWithParentScopes[c];if(nv(p.parentScopes,s)===0){p.acceptOverwrite(e,r,l,u);return}}r===-1&&(r=this._mainRule.fontStyle),l===0&&(l=this._mainRule.foreground),u===0&&(u=this._mainRule.background),this._rulesWithParentScopes.push(new $f(e,s,r,l,u))}},lr=class mn{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const s=mn.getLanguageId(e),r=mn.getTokenType(e),l=mn.getFontStyle(e),u=mn.getForeground(e),c=mn.getBackground(e);console.log({languageId:s,tokenType:r,fontStyle:l,foreground:u,background:c})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,s,r,l,u,c,d){let p=mn.getLanguageId(e),m=mn.getTokenType(e),g=mn.containsBalancedBrackets(e)?1:0,y=mn.getFontStyle(e),_=mn.getForeground(e),b=mn.getBackground(e);return s!==0&&(p=s),r!==8&&(m=r),l!==null&&(g=l?1:0),u!==-1&&(y=u),c!==0&&(_=c),d!==0&&(b=d),(p<<0|m<<8|g<<10|y<<11|_<<15|b<<24)>>>0}};function xo(n,e){const s=[],r=lC(n);let l=r.next();for(;l!==null;){let p=0;if(l.length===2&&l.charAt(1)===":"){switch(l.charAt(0)){case"R":p=1;break;case"L":p=-1;break;default:console.log(`Unknown priority ${l} in scope selector`)}l=r.next()}let m=c();if(s.push({matcher:m,priority:p}),l!==",")break;l=r.next()}return s;function u(){if(l==="-"){l=r.next();const p=u();return m=>!!p&&!p(m)}if(l==="("){l=r.next();const p=d();return l===")"&&(l=r.next()),p}if(Xy(l)){const p=[];do p.push(l),l=r.next();while(Xy(l));return m=>e(p,m)}return null}function c(){const p=[];let m=u();for(;m;)p.push(m),m=u();return g=>p.every(y=>y(g))}function d(){const p=[];let m=c();for(;m&&(p.push(m),l==="|"||l===",");){do l=r.next();while(l==="|"||l===",");m=c()}return g=>p.some(y=>y(g))}}function Xy(n){return!!n&&!!n.match(/[\w\.:]+/)}function lC(n){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,s=e.exec(n);return{next:()=>{if(!s)return null;const r=s[0];return s=e.exec(n),r}}}function lv(n){typeof n.dispose=="function"&&n.dispose()}var Ea=class{constructor(n){this.scopeName=n}toKey(){return this.scopeName}},oC=class{constructor(n,e){this.scopeName=n,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},uC=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(n){const e=n.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(n))}},cC=class{constructor(n,e){this.repo=n,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Ea(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const n=this.Q;this.Q=[];const e=new uC;for(const s of n)fC(s,this.initialScopeName,this.repo,e);for(const s of e.references)if(s instanceof Ea){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};function fC(n,e,s,r){const l=s.lookup(n.scopeName);if(!l){if(n.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const u=s.lookup(e);n instanceof Ea?uo({baseGrammar:u,selfGrammar:l},r):Jf(n.ruleName,{baseGrammar:u,selfGrammar:l,repository:l.repository},r);const c=s.injections(n.scopeName);if(c)for(const d of c)r.add(new Ea(d))}function Jf(n,e,s){if(e.repository&&e.repository[n]){const r=e.repository[n];Eo([r],e,s)}}function uo(n,e){n.selfGrammar.patterns&&Array.isArray(n.selfGrammar.patterns)&&Eo(n.selfGrammar.patterns,{...n,repository:n.selfGrammar.repository},e),n.selfGrammar.injections&&Eo(Object.values(n.selfGrammar.injections),{...n,repository:n.selfGrammar.repository},e)}function Eo(n,e,s){for(const r of n){if(s.visitedRule.has(r))continue;s.visitedRule.add(r);const l=r.repository?W0({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&Eo(r.patterns,{...e,repository:l},s);const u=r.include;if(!u)continue;const c=ov(u);switch(c.kind){case 0:uo({...e,selfGrammar:e.baseGrammar},s);break;case 1:uo(e,s);break;case 2:Jf(c.ruleName,{...e,repository:l},s);break;case 3:case 4:const d=c.scopeName===e.selfGrammar.scopeName?e.selfGrammar:c.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(d){const p={baseGrammar:e.baseGrammar,selfGrammar:d,repository:l};c.kind===4?Jf(c.ruleName,p,s):uo(p,s)}else c.kind===4?s.add(new oC(c.scopeName,c.ruleName)):s.add(new Ea(c.scopeName));break}}}var dC=class{kind=0},hC=class{kind=1},pC=class{constructor(n){this.ruleName=n}kind=2},mC=class{constructor(n){this.scopeName=n}kind=3},gC=class{constructor(n,e){this.scopeName=n,this.ruleName=e}kind=4};function ov(n){if(n==="$base")return new dC;if(n==="$self")return new hC;const e=n.indexOf("#");if(e===-1)return new mC(n);if(e===0)return new pC(n.substring(1));{const s=n.substring(0,e),r=n.substring(e+1);return new gC(s,r)}}var yC=/\\(\d+)/,Jy=/\\(\d+)/g,vC=-1,uv=-2;var Da=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(n,e,s,r){this.$location=n,this.id=e,this._name=s||null,this._nameIsCapturing=eo.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=eo.hasCaptures(this._contentName)}get debugName(){const n=this.$location?`${ev(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${n}`}getName(n,e){return!this._nameIsCapturing||this._name===null||n===null||e===null?this._name:eo.replaceCaptures(this._name,n,e)}getContentName(n,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:eo.replaceCaptures(this._contentName,n,e)}},_C=class extends Da{retokenizeCapturedWithRuleId;constructor(n,e,s,r,l){super(n,e,s,r),this.retokenizeCapturedWithRuleId=l}dispose(){}collectPatterns(n,e){throw new Error("Not supported!")}compile(n,e){throw new Error("Not supported!")}compileAG(n,e,s,r){throw new Error("Not supported!")}},bC=class extends Da{_match;captures;_cachedCompiledPatterns;constructor(n,e,s,r,l){super(n,e,s,null),this._match=new wa(r,this.id),this.captures=l,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(n,e){e.push(this._match)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ta,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Zy=class extends Da{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(n,e,s,r,l){super(n,e,s,r),this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(n,e){for(const s of this.patterns)n.getRule(s).collectPatterns(n,e)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ta,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Zf=class extends Da{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(n,e,s,r,l,u,c,d,p,m){super(n,e,s,r),this._begin=new wa(l,this.id),this.beginCaptures=u,this._end=new wa(c||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=d,this.applyEndPatternLast=p||!1,this.patterns=m.patterns,this.hasMissingPatterns=m.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(n,e){return this._end.resolveBackReferences(n,e)}collectPatterns(n,e){e.push(this._begin)}compile(n,e){return this._getCachedCompiledPatterns(n,e).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n,e).compileAG(n,s,r)}_getCachedCompiledPatterns(n,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Ta;for(const s of this.patterns)n.getRule(s).collectPatterns(n,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},wo=class extends Da{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(n,e,s,r,l,u,c,d,p){super(n,e,s,r),this._begin=new wa(l,this.id),this.beginCaptures=u,this.whileCaptures=d,this._while=new wa(c,uv),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=p.patterns,this.hasMissingPatterns=p.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(n,e){return this._while.resolveBackReferences(n,e)}collectPatterns(n,e){e.push(this._begin)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Ta;for(const e of this.patterns)n.getRule(e).collectPatterns(n,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(n,e){return this._getCachedCompiledWhilePatterns(n,e).compile(n)}compileWhileAG(n,e,s,r){return this._getCachedCompiledWhilePatterns(n,e).compileAG(n,s,r)}_getCachedCompiledWhilePatterns(n,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Ta,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},cv=class Ct{static createCaptureRule(e,s,r,l,u){return e.registerRule(c=>new _C(s,c,r,l,u))}static getCompiledRuleId(e,s,r){return e.id||s.registerRule(l=>{if(e.id=l,e.match)return new bC(e.$vscodeTextmateLocation,e.id,e.name,e.match,Ct._compileCaptures(e.captures,s,r));if(typeof e.begin>"u"){e.repository&&(r=W0({},r,e.repository));let u=e.patterns;return typeof u>"u"&&e.include&&(u=[{include:e.include}]),new Zy(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Ct._compilePatterns(u,s,r))}return e.while?new wo(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ct._compileCaptures(e.beginCaptures||e.captures,s,r),e.while,Ct._compileCaptures(e.whileCaptures||e.captures,s,r),Ct._compilePatterns(e.patterns,s,r)):new Zf(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ct._compileCaptures(e.beginCaptures||e.captures,s,r),e.end,Ct._compileCaptures(e.endCaptures||e.captures,s,r),e.applyEndPatternLast,Ct._compilePatterns(e.patterns,s,r))}),e.id}static _compileCaptures(e,s,r){let l=[];if(e){let u=0;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const d=parseInt(c,10);d>u&&(u=d)}for(let c=0;c<=u;c++)l[c]=null;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const d=parseInt(c,10);let p=0;e[c].patterns&&(p=Ct.getCompiledRuleId(e[c],s,r)),l[d]=Ct.createCaptureRule(s,e[c].$vscodeTextmateLocation,e[c].name,e[c].contentName,p)}}return l}static _compilePatterns(e,s,r){let l=[];if(e)for(let u=0,c=e.length;u<c;u++){const d=e[u];let p=-1;if(d.include){const m=ov(d.include);switch(m.kind){case 0:case 1:p=Ct.getCompiledRuleId(r[d.include],s,r);break;case 2:let g=r[m.ruleName];g&&(p=Ct.getCompiledRuleId(g,s,r));break;case 3:case 4:const y=m.scopeName,_=m.kind===4?m.ruleName:null,b=s.getExternalGrammar(y,r);if(b)if(_){let S=b.repository[_];S&&(p=Ct.getCompiledRuleId(S,s,b.repository))}else p=Ct.getCompiledRuleId(b.repository.$self,s,b.repository);break}}else p=Ct.getCompiledRuleId(d,s,r);if(p!==-1){const m=s.getRule(p);let g=!1;if((m instanceof Zy||m instanceof Zf||m instanceof wo)&&m.hasMissingPatterns&&m.patterns.length===0&&(g=!0),g)continue;l.push(p)}}return{patterns:l,hasMissingPatterns:(e?e.length:0)!==l.length}}},wa=class fv{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,s){if(e&&typeof e=="string"){const r=e.length;let l=0,u=[],c=!1;for(let d=0;d<r;d++)if(e.charAt(d)==="\\"&&d+1<r){const m=e.charAt(d+1);m==="z"?(u.push(e.substring(l,d)),u.push("$(?!\\n)(?<!\\n)"),l=d+2):(m==="A"||m==="G")&&(c=!0),d++}this.hasAnchor=c,l===0?this.source=e:(u.push(e.substring(l,r)),this.source=u.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,typeof this.source=="string"?this.hasBackReferences=yC.test(this.source):this.hasBackReferences=!1}clone(){return new fv(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,s){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=s.map(l=>e.substring(l.start,l.end));return Jy.lastIndex=0,this.source.replace(Jy,(l,u)=>iv(r[parseInt(u,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],s=[],r=[],l=[],u,c,d,p;for(u=0,c=this.source.length;u<c;u++)d=this.source.charAt(u),e[u]=d,s[u]=d,r[u]=d,l[u]=d,d==="\\"&&u+1<c&&(p=this.source.charAt(u+1),p==="A"?(e[u+1]="",s[u+1]="",r[u+1]="A",l[u+1]="A"):p==="G"?(e[u+1]="",s[u+1]="G",r[u+1]="",l[u+1]="G"):(e[u+1]=p,s[u+1]=p,r[u+1]=p,l[u+1]=p),u++);return{A0_G0:e.join(""),A0_G1:s.join(""),A1_G0:r.join(""),A1_G1:l.join("")}}resolveAnchors(e,s){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Ta=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(n){this._items.push(n),this._hasAnchors=this._hasAnchors||n.hasAnchor}unshift(n){this._items.unshift(n),this._hasAnchors=this._hasAnchors||n.hasAnchor}length(){return this._items.length}setSource(n,e){this._items[n].source!==e&&(this._disposeCaches(),this._items[n].setSource(e))}compile(n){if(!this._cached){let e=this._items.map(s=>s.source);this._cached=new Wy(n,e,this._items.map(s=>s.ruleId))}return this._cached}compileAG(n,e,s){return this._hasAnchors?e?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(n,e,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(n,e,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(n,e,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(n,e,s)),this._anchorCache.A0_G0):this.compile(n)}_resolveAnchors(n,e,s){let r=this._items.map(l=>l.resolveAnchors(e,s));return new Wy(n,r,this._items.map(l=>l.ruleId))}},Wy=class{constructor(n,e,s){this.regExps=e,this.rules=s,this.scanner=n.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const n=[];for(let e=0,s=this.rules.length;e<s;e++)n.push("   - "+this.rules[e]+": "+this.regExps[e]);return n.join(`
`)}findNextMatchSync(n,e,s){const r=this.scanner.findNextMatchSync(n,e,s);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},gf=class{constructor(n,e){this.languageId=n,this.tokenType=e}},SC=class Wf{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,s){this._defaultAttributes=new gf(e,8),this._embeddedLanguagesMatcher=new xC(Object.entries(s||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Wf._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new gf(0,0);_getBasicScopeAttributes=new sv(e=>{const s=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new gf(s,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const s=e.match(Wf.STANDARD_TOKEN_TYPE_REGEXP);if(!s)return 8;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},xC=class{values;scopesRegExp;constructor(n){if(n.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(n);const e=n.map(([s,r])=>iv(s));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(n){if(!this.scopesRegExp)return;const e=n.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},e0=class{constructor(n,e){this.stack=n,this.stoppedEarly=e}};function dv(n,e,s,r,l,u,c,d){const p=e.content.length;let m=!1,g=-1;if(c){const b=EC(n,e,s,r,l,u);l=b.stack,r=b.linePos,s=b.isFirstLine,g=b.anchorPosition}const y=Date.now();for(;!m;){if(d!==0&&Date.now()-y>d)return new e0(l,!0);_()}return new e0(l,!1);function _(){const b=wC(n,e,s,r,l,g);if(!b){u.produce(l,p),m=!0;return}const S=b.captureIndices,w=b.matchedRuleId,A=S&&S.length>0?S[0].end>r:!1;if(w===vC){const D=l.getRule(n);u.produce(l,S[0].start),l=l.withContentNameScopesList(l.nameScopesList),pa(n,e,s,l,u,D.endCaptures,S),u.produce(l,S[0].end);const V=l;if(l=l.parent,g=V.getAnchorPos(),!A&&V.getEnterPos()===r){l=V,u.produce(l,p),m=!0;return}}else{const D=n.getRule(w);u.produce(l,S[0].start);const V=l,L=D.getName(e.content,S),K=l.contentNameScopesList.pushAttributed(L,n);if(l=l.push(w,r,g,S[0].end===p,null,K,K),D instanceof Zf){const k=D;pa(n,e,s,l,u,k.beginCaptures,S),u.produce(l,S[0].end),g=S[0].end;const B=k.getContentName(e.content,S),J=K.pushAttributed(B,n);if(l=l.withContentNameScopesList(J),k.endHasBackReferences&&(l=l.withEndRule(k.getEndWithResolvedBackReferences(e.content,S))),!A&&V.hasSameRuleAs(l)){l=l.pop(),u.produce(l,p),m=!0;return}}else if(D instanceof wo){const k=D;pa(n,e,s,l,u,k.beginCaptures,S),u.produce(l,S[0].end),g=S[0].end;const B=k.getContentName(e.content,S),J=K.pushAttributed(B,n);if(l=l.withContentNameScopesList(J),k.whileHasBackReferences&&(l=l.withEndRule(k.getWhileWithResolvedBackReferences(e.content,S))),!A&&V.hasSameRuleAs(l)){l=l.pop(),u.produce(l,p),m=!0;return}}else if(pa(n,e,s,l,u,D.captures,S),u.produce(l,S[0].end),l=l.pop(),!A){l=l.safePop(),u.produce(l,p),m=!0;return}}S[0].end>r&&(r=S[0].end,s=!1)}}function EC(n,e,s,r,l,u){let c=l.beginRuleCapturedEOL?0:-1;const d=[];for(let p=l;p;p=p.pop()){const m=p.getRule(n);m instanceof wo&&d.push({rule:m,stack:p})}for(let p=d.pop();p;p=d.pop()){const{ruleScanner:m,findOptions:g}=CC(p.rule,n,p.stack.endRule,s,r===c),y=m.findNextMatchSync(e,r,g);if(y){if(y.ruleId!==uv){l=p.stack.pop();break}y.captureIndices&&y.captureIndices.length&&(u.produce(p.stack,y.captureIndices[0].start),pa(n,e,s,p.stack,u,p.rule.whileCaptures,y.captureIndices),u.produce(p.stack,y.captureIndices[0].end),c=y.captureIndices[0].end,y.captureIndices[0].end>r&&(r=y.captureIndices[0].end,s=!1))}else{l=p.stack.pop();break}}return{stack:l,linePos:r,anchorPosition:c,isFirstLine:s}}function wC(n,e,s,r,l,u){const c=TC(n,e,s,r,l,u),d=n.getInjections();if(d.length===0)return c;const p=RC(d,n,e,s,r,l,u);if(!p)return c;if(!c)return p;const m=c.captureIndices[0].start,g=p.captureIndices[0].start;return g<m||p.priorityMatch&&g===m?p:c}function TC(n,e,s,r,l,u){const c=l.getRule(n),{ruleScanner:d,findOptions:p}=hv(c,n,l.endRule,s,r===u),m=d.findNextMatchSync(e,r,p);return m?{captureIndices:m.captureIndices,matchedRuleId:m.ruleId}:null}function RC(n,e,s,r,l,u,c){let d=Number.MAX_VALUE,p=null,m,g=0;const y=u.contentNameScopesList.getScopeNames();for(let _=0,b=n.length;_<b;_++){const S=n[_];if(!S.matcher(y))continue;const w=e.getRule(S.ruleId),{ruleScanner:A,findOptions:D}=hv(w,e,null,r,l===c),V=A.findNextMatchSync(s,l,D);if(!V)continue;const L=V.captureIndices[0].start;if(!(L>=d)&&(d=L,p=V.captureIndices,m=V.ruleId,g=S.priority,d===l))break}return p?{priorityMatch:g===-1,captureIndices:p,matchedRuleId:m}:null}function hv(n,e,s,r,l){return{ruleScanner:n.compileAG(e,s,r,l),findOptions:0}}function CC(n,e,s,r,l){return{ruleScanner:n.compileWhileAG(e,s,r,l),findOptions:0}}function pa(n,e,s,r,l,u,c){if(u.length===0)return;const d=e.content,p=Math.min(u.length,c.length),m=[],g=c[0].end;for(let y=0;y<p;y++){const _=u[y];if(_===null)continue;const b=c[y];if(b.length===0)continue;if(b.start>g)break;for(;m.length>0&&m[m.length-1].endPos<=b.start;)l.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop();if(m.length>0?l.produceFromScopes(m[m.length-1].scopes,b.start):l.produce(r,b.start),_.retokenizeCapturedWithRuleId){const w=_.getName(d,c),A=r.contentNameScopesList.pushAttributed(w,n),D=_.getContentName(d,c),V=A.pushAttributed(D,n),L=r.push(_.retokenizeCapturedWithRuleId,b.start,-1,!1,null,A,V),K=n.createOnigString(d.substring(0,b.end));dv(n,K,s&&b.start===0,b.start,L,l,!1,0),lv(K);continue}const S=_.getName(d,c);if(S!==null){const A=(m.length>0?m[m.length-1].scopes:r.contentNameScopesList).pushAttributed(S,n);m.push(new AC(A,b.end))}}for(;m.length>0;)l.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop()}var AC=class{scopes;endPos;constructor(n,e){this.scopes=n,this.endPos=e}};function OC(n,e,s,r,l,u,c,d){return new DC(n,e,s,r,l,u,c,d)}function t0(n,e,s,r,l){const u=xo(e,To),c=cv.getCompiledRuleId(s,r,l.repository);for(const d of u)n.push({debugSelector:e,matcher:d.matcher,ruleId:c,grammar:l,priority:d.priority})}function To(n,e){if(e.length<n.length)return!1;let s=0;return n.every(r=>{for(let l=s;l<e.length;l++)if(kC(e[l],r))return s=l+1,!0;return!1})}function kC(n,e){if(!n)return!1;if(n===e)return!0;const s=e.length;return n.length>s&&n.substr(0,s)===e&&n[s]==="."}var DC=class{constructor(n,e,s,r,l,u,c,d){if(this._rootScopeName=n,this.balancedBracketSelectors=u,this._onigLib=d,this._basicScopeAttributesProvider=new SC(s,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=c,this._grammar=n0(e,null),this._injections=null,this._tokenTypeMatchers=[],l)for(const p of Object.keys(l)){const m=xo(p,To);for(const g of m)this._tokenTypeMatchers.push({matcher:g.matcher,type:l[p]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const n of this._ruleId2desc)n&&n.dispose()}createOnigScanner(n){return this._onigLib.createOnigScanner(n)}createOnigString(n){return this._onigLib.createOnigString(n)}getMetadataForScope(n){return this._basicScopeAttributesProvider.getBasicScopeAttributes(n)}_collectInjections(){const n={lookup:l=>l===this._rootScopeName?this._grammar:this.getExternalGrammar(l),injections:l=>this._grammarRepository.injections(l)},e=[],s=this._rootScopeName,r=n.lookup(s);if(r){const l=r.injections;if(l)for(let c in l)t0(e,c,l[c],this,r);const u=this._grammarRepository.injections(s);u&&u.forEach(c=>{const d=this.getExternalGrammar(c);if(d){const p=d.injectionSelector;p&&t0(e,p,d,this,d)}})}return e.sort((l,u)=>l.priority-u.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(n){const e=++this._lastRuleId,s=n(e);return this._ruleId2desc[e]=s,s}getRule(n){return this._ruleId2desc[n]}getExternalGrammar(n,e){if(this._includedGrammars[n])return this._includedGrammars[n];if(this._grammarRepository){const s=this._grammarRepository.lookup(n);if(s)return this._includedGrammars[n]=n0(s,e&&e.$base),this._includedGrammars[n]}}tokenizeLine(n,e,s=0){const r=this._tokenize(n,e,!1,s);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(n,e,s=0){const r=this._tokenize(n,e,!0,s);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(n,e,s,r){this._rootId===-1&&(this._rootId=cv.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let l;if(!e||e===ed.NULL){l=!0;const m=this._basicScopeAttributesProvider.getDefaultAttributes(),g=this.themeProvider.getDefaults(),y=lr.set(0,m.languageId,m.tokenType,null,g.fontStyle,g.foregroundId,g.backgroundId),_=this.getRule(this._rootId).getName(null,null);let b;_?b=ya.createRootAndLookUpScopeName(_,y,this):b=ya.createRoot("unknown",y),e=new ed(null,this._rootId,-1,-1,!1,null,b,b)}else l=!1,e.reset();n=n+`
`;const u=this.createOnigString(n),c=u.content.length,d=new MC(s,n,this._tokenTypeMatchers,this.balancedBracketSelectors),p=dv(this,u,l,0,e,d,!0,r);return lv(u),{lineLength:c,lineTokens:d,ruleStack:p.stack,stoppedEarly:p.stoppedEarly}}};function n0(n,e){return n=XR(n),n.repository=n.repository||{},n.repository.$self={$vscodeTextmateLocation:n.$vscodeTextmateLocation,patterns:n.patterns,name:n.scopeName},n.repository.$base=e||n.repository.$self,n}var ya=class Dn{constructor(e,s,r){this.parent=e,this.scopePath=s,this.tokenAttributes=r}static fromExtension(e,s){let r=e,l=e?.scopePath??null;for(const u of s)l=mf.push(l,u.scopeNames),r=new Dn(r,l,u.encodedTokenAttributes);return r}static createRoot(e,s){return new Dn(null,new mf(null,e),s)}static createRootAndLookUpScopeName(e,s,r){const l=r.getMetadataForScope(e),u=new mf(null,e),c=r.themeProvider.themeMatch(u),d=Dn.mergeAttributes(s,l,c);return new Dn(null,u,d)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Dn.equals(this,e)}static equals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.scopeName!==s.scopeName||e.tokenAttributes!==s.tokenAttributes)return!1;e=e.parent,s=s.parent}while(!0)}static mergeAttributes(e,s,r){let l=-1,u=0,c=0;return r!==null&&(l=r.fontStyle,u=r.foregroundId,c=r.backgroundId),lr.set(e,s.languageId,s.tokenType,null,l,u,c)}pushAttributed(e,s){if(e===null)return this;if(e.indexOf(" ")===-1)return Dn._pushAttributed(this,e,s);const r=e.split(/ /g);let l=this;for(const u of r)l=Dn._pushAttributed(l,u,s);return l}static _pushAttributed(e,s,r){const l=r.getMetadataForScope(s),u=e.scopePath.push(s),c=r.themeProvider.themeMatch(u),d=Dn.mergeAttributes(e.tokenAttributes,l,c);return new Dn(e,u,d)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const s=[];let r=this;for(;r&&r!==e;)s.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?s.reverse():void 0}},ed=class as{constructor(e,s,r,l,u,c,d,p){this.parent=e,this.ruleId=s,this.beginRuleCapturedEOL=u,this.endRule=c,this.nameScopesList=d,this.contentNameScopesList=p,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=l}_stackElementBrand=void 0;static NULL=new as(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:as._equals(this,e)}static _equals(e,s){return e===s?!0:this._structuralEquals(e,s)?ya.equals(e.contentNameScopesList,s.contentNameScopesList):!1}static _structuralEquals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.depth!==s.depth||e.ruleId!==s.ruleId||e.endRule!==s.endRule)return!1;e=e.parent,s=s.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){as._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,s,r,l,u,c,d){return new as(this,e,s,r,l,u,c,d)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,s){return this.parent&&(s=this.parent._writeString(e,s)),e[s++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,s}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new as(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let s=this;for(;s&&s._enterPos===e._enterPos;){if(s.ruleId===e.ruleId)return!0;s=s.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,s){const r=ya.fromExtension(e?.nameScopesList??null,s.nameScopesList);return new as(e,s.ruleId,s.enterPos??-1,s.anchorPos??-1,s.beginRuleCapturedEOL,s.endRule,r,ya.fromExtension(r,s.contentNameScopesList))}},NC=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(n,e){this.balancedBracketScopes=n.flatMap(s=>s==="*"?(this.allowAny=!0,[]):xo(s,To).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(s=>xo(s,To).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(n){for(const e of this.unbalancedBracketScopes)if(e(n))return!1;for(const e of this.balancedBracketScopes)if(e(n))return!0;return this.allowAny}},MC=class{constructor(n,e,s,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=n,this._tokenTypeOverrides=s,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(n,e){this.produceFromScopes(n.contentNameScopesList,e)}produceFromScopes(n,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=n?.tokenAttributes??0,l=!1;if(this.balancedBracketSelectors?.matchesAlways&&(l=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const u=n?.getScopeNames()??[];for(const c of this._tokenTypeOverrides)c.matcher(u)&&(r=lr.set(r,0,c.type,null,-1,0,0));this.balancedBracketSelectors&&(l=this.balancedBracketSelectors.match(u))}if(l&&(r=lr.set(r,0,8,l,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const s=n?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:s}),this._lastTokenEndIndex=e}getResult(n,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(n,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,e),this._binaryTokens[this._binaryTokens.length-2]=0);const s=new Uint32Array(this._binaryTokens.length);for(let r=0,l=this._binaryTokens.length;r<l;r++)s[r]=this._binaryTokens[r];return s}},LC=class{constructor(n,e){this._onigLib=e,this._theme=n}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const n of this._grammars.values())n.dispose()}setTheme(n){this._theme=n}getColorMap(){return this._theme.getColorMap()}addGrammar(n,e){this._rawGrammars.set(n.scopeName,n),e&&this._injectionGrammars.set(n.scopeName,e)}lookup(n){return this._rawGrammars.get(n)}injections(n){return this._injectionGrammars.get(n)}getDefaults(){return this._theme.getDefaults()}themeMatch(n){return this._theme.match(n)}grammarForScopeName(n,e,s,r,l){if(!this._grammars.has(n)){let u=this._rawGrammars.get(n);if(!u)return null;this._grammars.set(n,OC(n,u,e,s,r,l,this,this._onigLib))}return this._grammars.get(n)}},jC=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new LC(So.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,s){this._syncRegistry.setTheme(So.createFromRawTheme(e,s))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,s,r){return this.loadGrammarWithConfiguration(e,s,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,s,r){return this._loadGrammar(e,s,r.embeddedLanguages,r.tokenTypes,new NC(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,s,r,l,u){const c=new cC(this._syncRegistry,e);for(;c.Q.length>0;)c.Q.map(d=>this._loadSingleGrammar(d.scopeName)),c.processQueue();return this._grammarForScopeName(e,s,r,l,u)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const s=this._options.loadGrammar(e);if(s){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(s,r)}}addGrammar(e,s=[],r=0,l=null){return this._syncRegistry.addGrammar(e,s),this._grammarForScopeName(e.scopeName,r,l)}_grammarForScopeName(e,s=0,r=null,l=null,u=null){return this._syncRegistry.grammarForScopeName(e,s,r,l,u)}},td=ed.NULL;const IC=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Na{constructor(e,s,r){this.normal=s,this.property=e,r&&(this.space=r)}}Na.prototype.normal={};Na.prototype.property={};Na.prototype.space=void 0;function pv(n,e){const s={},r={};for(const l of n)Object.assign(s,l.property),Object.assign(r,l.normal);return new Na(s,r,e)}function nd(n){return n.toLowerCase()}class Kt{constructor(e,s){this.attribute=s,this.property=e}}Kt.prototype.attribute="";Kt.prototype.booleanish=!1;Kt.prototype.boolean=!1;Kt.prototype.commaOrSpaceSeparated=!1;Kt.prototype.commaSeparated=!1;Kt.prototype.defined=!1;Kt.prototype.mustUseProperty=!1;Kt.prototype.number=!1;Kt.prototype.overloadedBoolean=!1;Kt.prototype.property="";Kt.prototype.spaceSeparated=!1;Kt.prototype.space=void 0;let zC=0;const be=ds(),it=ds(),id=ds(),W=ds(),Ve=ds(),ir=ds(),en=ds();function ds(){return 2**++zC}const sd=Object.freeze(Object.defineProperty({__proto__:null,boolean:be,booleanish:it,commaOrSpaceSeparated:en,commaSeparated:ir,number:W,overloadedBoolean:id,spaceSeparated:Ve},Symbol.toStringTag,{value:"Module"})),yf=Object.keys(sd);class Md extends Kt{constructor(e,s,r,l){let u=-1;if(super(e,s),i0(this,"space",l),typeof r=="number")for(;++u<yf.length;){const c=yf[u];i0(this,yf[u],(r&sd[c])===sd[c])}}}Md.prototype.defined=!0;function i0(n,e,s){s&&(n[e]=s)}function fr(n){const e={},s={};for(const[r,l]of Object.entries(n.properties)){const u=new Md(r,n.transform(n.attributes||{},r),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),e[r]=u,s[nd(r)]=r,s[nd(u.attribute)]=r}return new Na(e,s,n.space)}const mv=fr({properties:{ariaActiveDescendant:null,ariaAtomic:it,ariaAutoComplete:null,ariaBusy:it,ariaChecked:it,ariaColCount:W,ariaColIndex:W,ariaColSpan:W,ariaControls:Ve,ariaCurrent:null,ariaDescribedBy:Ve,ariaDetails:null,ariaDisabled:it,ariaDropEffect:Ve,ariaErrorMessage:null,ariaExpanded:it,ariaFlowTo:Ve,ariaGrabbed:it,ariaHasPopup:null,ariaHidden:it,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ve,ariaLevel:W,ariaLive:null,ariaModal:it,ariaMultiLine:it,ariaMultiSelectable:it,ariaOrientation:null,ariaOwns:Ve,ariaPlaceholder:null,ariaPosInSet:W,ariaPressed:it,ariaReadOnly:it,ariaRelevant:null,ariaRequired:it,ariaRoleDescription:Ve,ariaRowCount:W,ariaRowIndex:W,ariaRowSpan:W,ariaSelected:it,ariaSetSize:W,ariaSort:null,ariaValueMax:W,ariaValueMin:W,ariaValueNow:W,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function gv(n,e){return e in n?n[e]:e}function yv(n,e){return gv(n,e.toLowerCase())}const BC=fr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ir,acceptCharset:Ve,accessKey:Ve,action:null,allow:null,allowFullScreen:be,allowPaymentRequest:be,allowUserMedia:be,alt:null,as:null,async:be,autoCapitalize:null,autoComplete:Ve,autoFocus:be,autoPlay:be,blocking:Ve,capture:null,charSet:null,checked:be,cite:null,className:Ve,cols:W,colSpan:null,content:null,contentEditable:it,controls:be,controlsList:Ve,coords:W|ir,crossOrigin:null,data:null,dateTime:null,decoding:null,default:be,defer:be,dir:null,dirName:null,disabled:be,download:id,draggable:it,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:be,formTarget:null,headers:Ve,height:W,hidden:id,high:W,href:null,hrefLang:null,htmlFor:Ve,httpEquiv:Ve,id:null,imageSizes:null,imageSrcSet:null,inert:be,inputMode:null,integrity:null,is:null,isMap:be,itemId:null,itemProp:Ve,itemRef:Ve,itemScope:be,itemType:Ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:be,low:W,manifest:null,max:null,maxLength:W,media:null,method:null,min:null,minLength:W,multiple:be,muted:be,name:null,nonce:null,noModule:be,noValidate:be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:be,optimum:W,pattern:null,ping:Ve,placeholder:null,playsInline:be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:be,referrerPolicy:null,rel:Ve,required:be,reversed:be,rows:W,rowSpan:W,sandbox:Ve,scope:null,scoped:be,seamless:be,selected:be,shadowRootClonable:be,shadowRootDelegatesFocus:be,shadowRootMode:null,shape:null,size:W,sizes:null,slot:null,span:W,spellCheck:it,src:null,srcDoc:null,srcLang:null,srcSet:null,start:W,step:null,style:null,tabIndex:W,target:null,title:null,translate:null,type:null,typeMustMatch:be,useMap:null,value:it,width:W,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ve,axis:null,background:null,bgColor:null,border:W,borderColor:null,bottomMargin:W,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:be,declare:be,event:null,face:null,frame:null,frameBorder:null,hSpace:W,leftMargin:W,link:null,longDesc:null,lowSrc:null,marginHeight:W,marginWidth:W,noResize:be,noHref:be,noShade:be,noWrap:be,object:null,profile:null,prompt:null,rev:null,rightMargin:W,rules:null,scheme:null,scrolling:it,standby:null,summary:null,text:null,topMargin:W,valueType:null,version:null,vAlign:null,vLink:null,vSpace:W,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:be,disableRemotePlayback:be,prefix:null,property:null,results:W,security:null,unselectable:null},space:"html",transform:yv}),UC=fr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:en,accentHeight:W,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:W,amplitude:W,arabicForm:null,ascent:W,attributeName:null,attributeType:null,azimuth:W,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:W,by:null,calcMode:null,capHeight:W,className:Ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:W,diffuseConstant:W,direction:null,display:null,dur:null,divisor:W,dominantBaseline:null,download:be,dx:null,dy:null,edgeMode:null,editable:null,elevation:W,enableBackground:null,end:null,event:null,exponent:W,externalResourcesRequired:null,fill:null,fillOpacity:W,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ir,g2:ir,glyphName:ir,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:W,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:W,horizOriginX:W,horizOriginY:W,id:null,ideographic:W,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:W,k:W,k1:W,k2:W,k3:W,k4:W,kernelMatrix:en,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:W,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:W,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:W,overlineThickness:W,paintOrder:null,panose1:null,path:null,pathLength:W,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:W,pointsAtY:W,pointsAtZ:W,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:en,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:en,rev:en,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:en,requiredFeatures:en,requiredFonts:en,requiredFormats:en,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:W,specularExponent:W,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:W,strikethroughThickness:W,string:null,stroke:null,strokeDashArray:en,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:W,strokeOpacity:W,strokeWidth:null,style:null,surfaceScale:W,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:en,tabIndex:W,tableValues:null,target:null,targetX:W,targetY:W,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:en,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:W,underlineThickness:W,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:W,values:null,vAlphabetic:W,vMathematical:W,vectorEffect:null,vHanging:W,vIdeographic:W,version:null,vertAdvY:W,vertOriginX:W,vertOriginY:W,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:W,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gv}),vv=fr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),_v=fr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yv}),bv=fr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),VC=/[A-Z]/g,s0=/-[a-z]/g,PC=/^data[-\w.:]+$/i;function HC(n,e){const s=nd(e);let r=e,l=Kt;if(s in n.normal)return n.property[n.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&PC.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(s0,GC);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!s0.test(u)){let c=u.replace(VC,qC);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=Md}return new l(r,e)}function qC(n){return"-"+n.toLowerCase()}function GC(n){return n.charAt(1).toUpperCase()}const KC=pv([mv,BC,vv,_v,bv],"html"),Sv=pv([mv,UC,vv,_v,bv],"svg"),r0={}.hasOwnProperty;function QC(n,e){const s=e||{};function r(l,...u){let c=r.invalid;const d=r.handlers;if(l&&r0.call(l,n)){const p=String(l[n]);c=r0.call(d,p)?d[p]:r.unknown}if(c)return c.call(this,l,...u)}return r.handlers=s.handlers||{},r.invalid=s.invalid,r.unknown=s.unknown,r}const FC=/["&'<>`]/g,YC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$C=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,XC=/[|\\{}()[\]^$+*?.]/g,a0=new WeakMap;function JC(n,e){if(n=n.replace(e.subset?ZC(e.subset):FC,r),e.subset||e.escapeOnly)return n;return n.replace(YC,s).replace($C,r);function s(l,u,c){return e.format((l.charCodeAt(0)-55296)*1024+l.charCodeAt(1)-56320+65536,c.charCodeAt(u+2),e)}function r(l,u,c){return e.format(l.charCodeAt(0),c.charCodeAt(u+1),e)}}function ZC(n){let e=a0.get(n);return e||(e=WC(n),a0.set(n,e)),e}function WC(n){const e=[];let s=-1;for(;++s<n.length;)e.push(n[s].replace(XC,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const eA=/[\dA-Fa-f]/;function tA(n,e,s){const r="&#x"+n.toString(16).toUpperCase();return s&&e&&!eA.test(String.fromCharCode(e))?r:r+";"}const nA=/\d/;function iA(n,e,s){const r="&#"+String(n);return s&&e&&!nA.test(String.fromCharCode(e))?r:r+";"}const sA=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],vf={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},rA=["cent","copy","divide","gt","lt","not","para","times"],xv={}.hasOwnProperty,rd={};let to;for(to in vf)xv.call(vf,to)&&(rd[vf[to]]=to);const aA=/[^\dA-Za-z]/;function lA(n,e,s,r){const l=String.fromCharCode(n);if(xv.call(rd,l)){const u=rd[l],c="&"+u;return s&&sA.includes(u)&&!rA.includes(u)&&(!r||e&&e!==61&&aA.test(String.fromCharCode(e)))?c:c+";"}return""}function oA(n,e,s){let r=tA(n,e,s.omitOptionalSemicolons),l;if((s.useNamedReferences||s.useShortestReferences)&&(l=lA(n,e,s.omitOptionalSemicolons,s.attribute)),(s.useShortestReferences||!l)&&s.useShortestReferences){const u=iA(n,e,s.omitOptionalSemicolons);u.length<r.length&&(r=u)}return l&&(!s.useShortestReferences||l.length<r.length)?l:r}function sr(n,e){return JC(n,Object.assign({format:oA},e))}const uA=/^>|^->|<!--|-->|--!>|<!-$/g,cA=[">"],fA=["<",">"];function dA(n,e,s,r){return r.settings.bogusComments?"<?"+sr(n.value,Object.assign({},r.settings.characterReferences,{subset:cA}))+">":"<!--"+n.value.replace(uA,l)+"-->";function l(u){return sr(u,Object.assign({},r.settings.characterReferences,{subset:fA}))}}function hA(n,e,s,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function l0(n,e){const s=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,l=s.indexOf(e);for(;l!==-1;)r++,l=s.indexOf(e,l+e.length);return r}function pA(n,e){const s=e||{};return(n[n.length-1]===""?[...n,""]:n).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}function mA(n){return n.join(" ").trim()}const gA=/[ \t\n\f\r]/g;function Ld(n){return typeof n=="object"?n.type==="text"?o0(n.value):!1:o0(n)}function o0(n){return n.replace(gA,"")===""}const ut=wv(1),Ev=wv(-1),yA=[];function wv(n){return e;function e(s,r,l){const u=s?s.children:yA;let c=(r||0)+n,d=u[c];if(!l)for(;d&&Ld(d);)c+=n,d=u[c];return d}}const vA={}.hasOwnProperty;function Tv(n){return e;function e(s,r,l){return vA.call(n,s.tagName)&&n[s.tagName](s,r,l)}}const jd=Tv({body:bA,caption:_f,colgroup:_f,dd:wA,dt:EA,head:_f,html:_A,li:xA,optgroup:TA,option:RA,p:SA,rp:u0,rt:u0,tbody:AA,td:c0,tfoot:OA,th:c0,thead:CA,tr:kA});function _f(n,e,s){const r=ut(s,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Ld(r.value.charAt(0)))}function _A(n,e,s){const r=ut(s,e);return!r||r.type!=="comment"}function bA(n,e,s){const r=ut(s,e);return!r||r.type!=="comment"}function SA(n,e,s){const r=ut(s,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function xA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&r.tagName==="li"}function EA(n,e,s){const r=ut(s,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function wA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function u0(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function TA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function RA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function CA(n,e,s){const r=ut(s,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function AA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function OA(n,e,s){return!ut(s,e)}function kA(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&r.tagName==="tr"}function c0(n,e,s){const r=ut(s,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const DA=Tv({body:LA,colgroup:jA,head:MA,html:NA,tbody:IA});function NA(n){const e=ut(n,-1);return!e||e.type!=="comment"}function MA(n){const e=new Set;for(const r of n.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const s=n.children[0];return!s||s.type==="element"}function LA(n){const e=ut(n,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Ld(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function jA(n,e,s){const r=Ev(s,e),l=ut(n,-1,!0);return s&&r&&r.type==="element"&&r.tagName==="colgroup"&&jd(r,s.children.indexOf(r),s)?!1:!!(l&&l.type==="element"&&l.tagName==="col")}function IA(n,e,s){const r=Ev(s,e),l=ut(n,-1);return s&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&jd(r,s.children.indexOf(r),s)?!1:!!(l&&l.type==="element"&&l.tagName==="tr")}const no={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function zA(n,e,s,r){const l=r.schema,u=l.space==="svg"?!1:r.settings.omitOptionalTags;let c=l.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(n.tagName.toLowerCase());const d=[];let p;l.space==="html"&&n.tagName==="svg"&&(r.schema=Sv);const m=BA(r,n.properties),g=r.all(l.space==="html"&&n.tagName==="template"?n.content:n);return r.schema=l,g&&(c=!1),(m||!u||!DA(n,e,s))&&(d.push("<",n.tagName,m?" "+m:""),c&&(l.space==="svg"||r.settings.closeSelfClosing)&&(p=m.charAt(m.length-1),(!r.settings.tightSelfClosing||p==="/"||p&&p!=='"'&&p!=="'")&&d.push(" "),d.push("/")),d.push(">")),d.push(g),!c&&(!u||!jd(n,e,s))&&d.push("</"+n.tagName+">"),d.join("")}function BA(n,e){const s=[];let r=-1,l;if(e){for(l in e)if(e[l]!==null&&e[l]!==void 0){const u=UA(n,l,e[l]);u&&s.push(u)}}for(;++r<s.length;){const u=n.settings.tightAttributes?s[r].charAt(s[r].length-1):void 0;r!==s.length-1&&u!=='"'&&u!=="'"&&(s[r]+=" ")}return s.join("")}function UA(n,e,s){const r=HC(n.schema,e),l=n.settings.allowParseErrors&&n.schema.space==="html"?0:1,u=n.settings.allowDangerousCharacters?0:1;let c=n.quote,d;if(r.overloadedBoolean&&(s===r.attribute||s==="")?s=!0:(r.boolean||r.overloadedBoolean)&&(typeof s!="string"||s===r.attribute||s==="")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const p=sr(r.attribute,Object.assign({},n.settings.characterReferences,{subset:no.name[l][u]}));return s===!0||(s=Array.isArray(s)?(r.commaSeparated?pA:mA)(s,{padLeft:!n.settings.tightCommaSeparatedLists}):String(s),n.settings.collapseEmptyAttributes&&!s)?p:(n.settings.preferUnquoted&&(d=sr(s,Object.assign({},n.settings.characterReferences,{attribute:!0,subset:no.unquoted[l][u]}))),d!==s&&(n.settings.quoteSmart&&l0(s,c)>l0(s,n.alternative)&&(c=n.alternative),d=c+sr(s,Object.assign({},n.settings.characterReferences,{subset:(c==="'"?no.single:no.double)[l][u],attribute:!0}))+c),p+(d&&"="+d))}const VA=["<","&"];function Rv(n,e,s,r){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?n.value:sr(n.value,Object.assign({},r.settings.characterReferences,{subset:VA}))}function PA(n,e,s,r){return r.settings.allowDangerousHtml?n.value:Rv(n,e,s,r)}function HA(n,e,s,r){return r.all(n)}const qA=QC("type",{invalid:GA,unknown:KA,handlers:{comment:dA,doctype:hA,element:zA,raw:PA,root:HA,text:Rv}});function GA(n){throw new Error("Expected node, not `"+n+"`")}function KA(n){const e=n;throw new Error("Cannot compile unknown node `"+e.type+"`")}const QA={},FA={},YA=[];function $A(n,e){const s=e||QA,r=s.quote||'"',l=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:XA,all:JA,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||IC,characterReferences:s.characterReferences||FA,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?Sv:KC,quote:r,alternative:l}.one(Array.isArray(n)?{type:"root",children:n}:n,void 0,void 0)}function XA(n,e,s){return qA(n,e,s,this)}function JA(n){const e=[],s=n&&n.children||YA;let r=-1;for(;++r<s.length;)e[r]=this.one(s[r],r,n);return e.join("")}function Ro(n,e){const s=typeof n=="string"?{}:{...n.colorReplacements},r=typeof n=="string"?n:n.name;for(const[l,u]of Object.entries(e?.colorReplacements||{}))typeof u=="string"?s[l]=u:l===r&&Object.assign(s,u);return s}function zi(n,e){return n&&(e?.[n?.toLowerCase()]||n)}function ZA(n){return Array.isArray(n)?n:[n]}async function Cv(n){return Promise.resolve(typeof n=="function"?n():n).then(e=>e.default||e)}function Id(n){return!n||["plaintext","txt","text","plain"].includes(n)}function Av(n){return n==="ansi"||Id(n)}function zd(n){return n==="none"}function Ov(n){return zd(n)}function kv(n,e){if(!e)return n;n.properties||={},n.properties.class||=[],typeof n.properties.class=="string"&&(n.properties.class=n.properties.class.split(/\s+/g)),Array.isArray(n.properties.class)||(n.properties.class=[]);const s=Array.isArray(e)?e:e.split(/\s+/g);for(const r of s)r&&!n.properties.class.includes(r)&&n.properties.class.push(r);return n}function Lo(n,e=!1){if(n.length===0)return[["",0]];const s=n.split(/(\r?\n)/g);let r=0;const l=[];for(let u=0;u<s.length;u+=2){const c=e?s[u]+(s[u+1]||""):s[u];l.push([c,r]),r+=s[u].length,r+=s[u+1]?.length||0}return l}function WA(n){const e=Lo(n,!0).map(([l])=>l);function s(l){if(l===n.length)return{line:e.length-1,character:e[e.length-1].length};let u=l,c=0;for(const d of e){if(u<d.length)break;u-=d.length,c++}return{line:c,character:u}}function r(l,u){let c=0;for(let d=0;d<l;d++)c+=e[d].length;return c+=u,c}return{lines:e,indexToPos:s,posToIndex:r}}function eO(n,e,s){const r=new Set;for(const u of n.matchAll(/:?lang=["']([^"']+)["']/g)){const c=u[1].toLowerCase().trim();c&&r.add(c)}for(const u of n.matchAll(/(?:```|~~~)([\w-]+)/g)){const c=u[1].toLowerCase().trim();c&&r.add(c)}for(const u of n.matchAll(/\\begin\{([\w-]+)\}/g)){const c=u[1].toLowerCase().trim();c&&r.add(c)}for(const u of n.matchAll(/<script\s+(?:type|lang)=["']([^"']+)["']/gi)){const c=u[1].toLowerCase().trim(),d=c.includes("/")?c.split("/").pop():c;d&&r.add(d)}if(!s)return Array.from(r);const l=s.getBundledLanguages();return Array.from(r).filter(u=>u&&l[u])}const Bd="light-dark()",tO=["color","background-color"];function nO(n,e){let s=0;const r=[];for(const l of e)l>s&&r.push({...n,content:n.content.slice(s,l),offset:n.offset+s}),s=l;return s<n.content.length&&r.push({...n,content:n.content.slice(s),offset:n.offset+s}),r}function iO(n,e){const s=Array.from(e instanceof Set?e:new Set(e)).sort((r,l)=>r-l);return s.length?n.map(r=>r.flatMap(l=>{const u=s.filter(c=>l.offset<c&&c<l.offset+l.content.length).map(c=>c-l.offset).sort((c,d)=>c-d);return u.length?nO(l,u):l})):n}function sO(n,e,s,r,l="css-vars"){const u={content:n.content,explanation:n.explanation,offset:n.offset},c=e.map(g=>Co(n.variants[g])),d=new Set(c.flatMap(g=>Object.keys(g))),p={},m=(g,y)=>{const _=y==="color"?"":y==="background-color"?"-bg":`-${y}`;return s+e[g]+(y==="color"?"":_)};return c.forEach((g,y)=>{for(const _ of d){const b=g[_]||"inherit";if(y===0&&r&&tO.includes(_))if(r===Bd&&c.length>1){const S=e.findIndex(V=>V==="light"),w=e.findIndex(V=>V==="dark");if(S===-1||w===-1)throw new st('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const A=c[S][_]||"inherit",D=c[w][_]||"inherit";p[_]=`light-dark(${A}, ${D})`,l==="css-vars"&&(p[m(y,_)]=b)}else p[_]=b;else l==="css-vars"&&(p[m(y,_)]=b)}}),u.htmlStyle=p,u}function Co(n){const e={};if(n.color&&(e.color=n.color),n.bgColor&&(e["background-color"]=n.bgColor),n.fontStyle){n.fontStyle&Ot.Italic&&(e["font-style"]="italic"),n.fontStyle&Ot.Bold&&(e["font-weight"]="bold");const s=[];n.fontStyle&Ot.Underline&&s.push("underline"),n.fontStyle&Ot.Strikethrough&&s.push("line-through"),s.length&&(e["text-decoration"]=s.join(" "))}return e}function ad(n){return typeof n=="string"?n:Object.entries(n).map(([e,s])=>`${e}:${s}`).join(";")}const Dv=new WeakMap;function jo(n,e){Dv.set(n,e)}function Ra(n){return Dv.get(n)}class dr{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,s){return new dr(Object.fromEntries(ZA(s).map(r=>[r,td])),e)}constructor(...e){if(e.length===2){const[s,r]=e;this.lang=r,this._stacks=s}else{const[s,r,l]=e;this.lang=r,this._stacks={[l]:s}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return rO(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function rO(n){const e=[],s=new Set;function r(l){if(s.has(l))return;s.add(l);const u=l?.nameScopesList?.scopeName;u&&e.push(u),l.parent&&r(l.parent)}return r(n),e}function aO(n,e){if(!(n instanceof dr))throw new st("Invalid grammar state");return n.getInternalStack(e)}function lO(){const n=new WeakMap;function e(s){if(!n.has(s.meta)){let r=function(c){if(typeof c=="number"){if(c<0||c>s.source.length)throw new st(`Invalid decoration offset: ${c}. Code length: ${s.source.length}`);return{...l.indexToPos(c),offset:c}}else{const d=l.lines[c.line];if(d===void 0)throw new st(`Invalid decoration position ${JSON.stringify(c)}. Lines length: ${l.lines.length}`);let p=c.character;if(p<0&&(p=d.length+p),p<0||p>d.length)throw new st(`Invalid decoration position ${JSON.stringify(c)}. Line ${c.line} length: ${d.length}`);return{...c,character:p,offset:l.posToIndex(c.line,p)}}};const l=WA(s.source),u=(s.options.decorations||[]).map(c=>({...c,start:r(c.start),end:r(c.end)}));oO(u),n.set(s.meta,{decorations:u,converter:l,source:s.source})}return n.get(s.meta)}return{name:"shiki:decorations",tokens(s){if(!this.options.decorations?.length)return;const l=e(this).decorations.flatMap(c=>[c.start.offset,c.end.offset]);return iO(s,l)},code(s){if(!this.options.decorations?.length)return;const r=e(this),l=Array.from(s.children).filter(g=>g.type==="element"&&g.tagName==="span");if(l.length!==r.converter.lines.length)throw new st(`Number of lines in code element (${l.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function u(g,y,_,b){const S=l[g];let w="",A=-1,D=-1;if(y===0&&(A=0),_===0&&(D=0),_===Number.POSITIVE_INFINITY&&(D=S.children.length),A===-1||D===-1)for(let L=0;L<S.children.length;L++)w+=Nv(S.children[L]),A===-1&&w.length===y&&(A=L+1),D===-1&&w.length===_&&(D=L+1);if(A===-1)throw new st(`Failed to find start index for decoration ${JSON.stringify(b.start)}`);if(D===-1)throw new st(`Failed to find end index for decoration ${JSON.stringify(b.end)}`);const V=S.children.slice(A,D);if(!b.alwaysWrap&&V.length===S.children.length)d(S,b,"line");else if(!b.alwaysWrap&&V.length===1&&V[0].type==="element")d(V[0],b,"token");else{const L={type:"element",tagName:"span",properties:{},children:V};d(L,b,"wrapper"),S.children.splice(A,V.length,L)}}function c(g,y){l[g]=d(l[g],y,"line")}function d(g,y,_){const b=y.properties||{},S=y.transform||(w=>w);return g.tagName=y.tagName||"span",g.properties={...g.properties,...b,class:g.properties.class},y.properties?.class&&kv(g,y.properties.class),g=S(g,_)||g,g}const p=[],m=r.decorations.sort((g,y)=>y.start.offset-g.start.offset||g.end.offset-y.end.offset);for(const g of m){const{start:y,end:_}=g;if(y.line===_.line)u(y.line,y.character,_.character,g);else if(y.line<_.line){u(y.line,y.character,Number.POSITIVE_INFINITY,g);for(let b=y.line+1;b<_.line;b++)p.unshift(()=>c(b,g));u(_.line,0,_.character,g)}}p.forEach(g=>g())}}}function oO(n){for(let e=0;e<n.length;e++){const s=n[e];if(s.start.offset>s.end.offset)throw new st(`Invalid decoration range: ${JSON.stringify(s.start)} - ${JSON.stringify(s.end)}`);for(let r=e+1;r<n.length;r++){const l=n[r],u=s.start.offset<=l.start.offset&&l.start.offset<s.end.offset,c=s.start.offset<l.end.offset&&l.end.offset<=s.end.offset,d=l.start.offset<=s.start.offset&&s.start.offset<l.end.offset,p=l.start.offset<s.end.offset&&s.end.offset<=l.end.offset;if(u||c||d||p){if(u&&c||d&&p||d&&s.start.offset===s.end.offset||c&&l.start.offset===l.end.offset)continue;throw new st(`Decorations ${JSON.stringify(s.start)} and ${JSON.stringify(l.start)} intersect.`)}}}}function Nv(n){return n.type==="text"?n.value:n.type==="element"?n.children.map(Nv).join(""):""}const uO=[lO()];function Ao(n){const e=cO(n.transformers||[]);return[...e.pre,...e.normal,...e.post,...uO]}function cO(n){const e=[],s=[],r=[];for(const l of n)switch(l.enforce){case"pre":e.push(l);break;case"post":s.push(l);break;default:r.push(l)}return{pre:e,post:s,normal:r}}var us=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],bf={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function fO(n,e){const s=n.indexOf("\x1B",e);if(s!==-1&&n[s+1]==="["){const r=n.indexOf("m",s);if(r!==-1)return{sequence:n.substring(s+2,r).split(";"),startPosition:s,position:r+1}}return{position:n.length}}function f0(n){const e=n.shift();if(e==="2"){const s=n.splice(0,3).map(r=>Number.parseInt(r));return s.length!==3||s.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:s}}else if(e==="5"){const s=n.shift();if(s)return{type:"table",index:Number(s)}}}function dO(n){const e=[];for(;n.length>0;){const s=n.shift();if(!s)continue;const r=Number.parseInt(s);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)bf[r]&&e.push({type:"setDecoration",value:bf[r]});else if(r<=29){const l=bf[r-20];l&&(e.push({type:"resetDecoration",value:l}),l==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:us[r-30]}});else if(r===38){const l=f0(n);l&&e.push({type:"setForegroundColor",value:l})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:us[r-40]}});else if(r===48){const l=f0(n);l&&e.push({type:"setBackgroundColor",value:l})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:us[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:us[r-100+8]}})}return e}function hO(){let n=null,e=null,s=new Set;return{parse(r){const l=[];let u=0;do{const c=fO(r,u),d=c.sequence?r.substring(u,c.startPosition):r.substring(u);if(d.length>0&&l.push({value:d,foreground:n,background:e,decorations:new Set(s)}),c.sequence){const p=dO(c.sequence);for(const m of p)m.type==="resetAll"?(n=null,e=null,s.clear()):m.type==="resetForegroundColor"?n=null:m.type==="resetBackgroundColor"?e=null:m.type==="resetDecoration"&&s.delete(m.value);for(const m of p)m.type==="setForegroundColor"?n=m.value:m.type==="setBackgroundColor"?e=m.value:m.type==="setDecoration"&&s.add(m.value)}u=c.position}while(u<r.length);return l}}}var pO={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function mO(n=pO){function e(d){return n[d]}function s(d){return`#${d.map(p=>Math.max(0,Math.min(p,255)).toString(16).padStart(2,"0")).join("")}`}let r;function l(){if(r)return r;r=[];for(let m=0;m<us.length;m++)r.push(e(us[m]));let d=[0,95,135,175,215,255];for(let m=0;m<6;m++)for(let g=0;g<6;g++)for(let y=0;y<6;y++)r.push(s([d[m],d[g],d[y]]));let p=8;for(let m=0;m<24;m++,p+=10)r.push(s([p,p,p]));return r}function u(d){return l()[d]}function c(d){switch(d.type){case"named":return e(d.name);case"rgb":return s(d.rgb);case"table":return u(d.index)}}return{value:c}}const gO={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function yO(n,e,s){const r=Ro(n,s),l=Lo(e),u=Object.fromEntries(us.map(p=>{const m=`terminal.ansi${p[0].toUpperCase()}${p.substring(1)}`,g=n.colors?.[m];return[p,g||gO[p]]})),c=mO(u),d=hO();return l.map(p=>d.parse(p[0]).map(m=>{let g,y;m.decorations.has("reverse")?(g=m.background?c.value(m.background):n.bg,y=m.foreground?c.value(m.foreground):n.fg):(g=m.foreground?c.value(m.foreground):n.fg,y=m.background?c.value(m.background):void 0),g=zi(g,r),y=zi(y,r),m.decorations.has("dim")&&(g=vO(g));let _=Ot.None;return m.decorations.has("bold")&&(_|=Ot.Bold),m.decorations.has("italic")&&(_|=Ot.Italic),m.decorations.has("underline")&&(_|=Ot.Underline),m.decorations.has("strikethrough")&&(_|=Ot.Strikethrough),{content:m.value,offset:p[1],color:g,bgColor:y,fontStyle:_}}))}function vO(n){const e=n.match(/#([0-9a-f]{3,8})/i);if(e){const r=e[1];if(r.length===8){const l=Math.round(Number.parseInt(r.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${r.slice(0,6)}${l}`}else{if(r.length===6)return`#${r}80`;if(r.length===4){const l=r[0],u=r[1],c=r[2],d=r[3],p=Math.round(Number.parseInt(`${d}${d}`,16)/2).toString(16).padStart(2,"0");return`#${l}${l}${u}${u}${c}${c}${p}`}else if(r.length===3){const l=r[0],u=r[1],c=r[2];return`#${l}${l}${u}${u}${c}${c}80`}}}const s=n.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return s?`var(${s[1]}-dim)`:n}function Ud(n,e,s={}){const{theme:r=n.getLoadedThemes()[0]}=s,l=n.resolveLangAlias(s.lang||"text");if(Id(l)||zd(r))return Lo(e).map(p=>[{content:p[0],offset:p[1]}]);const{theme:u,colorMap:c}=n.setTheme(r);if(l==="ansi")return yO(u,e,s);const d=n.getLanguage(s.lang||"text");if(s.grammarState){if(s.grammarState.lang!==d.name)throw new st(`Grammar state language "${s.grammarState.lang}" does not match highlight language "${d.name}"`);if(!s.grammarState.themes.includes(u.name))throw new st(`Grammar state themes "${s.grammarState.themes}" do not contain highlight theme "${u.name}"`)}return bO(e,d,u,c,s)}function _O(...n){if(n.length===2)return Ra(n[1]);const[e,s,r={}]=n,{lang:l="text",theme:u=e.getLoadedThemes()[0]}=r;if(Id(l)||zd(u))throw new st("Plain language does not have grammar state");if(l==="ansi")throw new st("ANSI language does not have grammar state");const{theme:c,colorMap:d}=e.setTheme(u),p=e.getLanguage(l);return new dr(Vd(s,p,c,d,r).stateStack,p.name,c.name)}function bO(n,e,s,r,l){const u=Vd(n,e,s,r,l),c=new dr(u.stateStack,e.name,s.name);return jo(u.tokens,c),u.tokens}function Vd(n,e,s,r,l){const u=Ro(s,l),{tokenizeMaxLineLength:c=0,tokenizeTimeLimit:d=500}=l,p=Lo(n);let m=l.grammarState?aO(l.grammarState,s.name)??td:l.grammarContextCode!=null?Vd(l.grammarContextCode,e,s,r,{...l,grammarState:void 0,grammarContextCode:void 0}).stateStack:td,g=[];const y=[];for(let _=0,b=p.length;_<b;_++){const[S,w]=p[_];if(S===""){g=[],y.push([]);continue}if(c>0&&S.length>=c){g=[],y.push([{content:S,offset:w,color:"",fontStyle:0}]);continue}let A,D,V;l.includeExplanation&&(A=e.tokenizeLine(S,m,d),D=A.tokens,V=0);const L=e.tokenizeLine2(S,m,d),K=L.tokens.length/2;for(let k=0;k<K;k++){const B=L.tokens[2*k],J=k+1<K?L.tokens[2*k+2]:S.length;if(B===J)continue;const ee=L.tokens[2*k+1],ie=zi(r[lr.getForeground(ee)],u),ae=lr.getFontStyle(ee),pe={content:S.substring(B,J),offset:w+B,color:ie,fontStyle:ae};if(l.includeExplanation){const me=[];if(l.includeExplanation!=="scopeName")for(const Ne of s.settings){let Ce;switch(typeof Ne.scope){case"string":Ce=Ne.scope.split(/,/).map(q=>q.trim());break;case"object":Ce=Ne.scope;break;default:continue}me.push({settings:Ne,selectors:Ce.map(q=>q.split(/ /))})}pe.explanation=[];let Ge=0;for(;B+Ge<J;){const Ne=D[V],Ce=S.substring(Ne.startIndex,Ne.endIndex);Ge+=Ce.length,pe.explanation.push({content:Ce,scopes:l.includeExplanation==="scopeName"?SO(Ne.scopes):xO(me,Ne.scopes)}),V+=1}}g.push(pe)}y.push(g),g=[],m=L.ruleStack}return{tokens:y,stateStack:m}}function SO(n){return n.map(e=>({scopeName:e}))}function xO(n,e){const s=[];for(let r=0,l=e.length;r<l;r++){const u=e[r];s[r]={scopeName:u,themeMatches:wO(n,u,e.slice(0,r))}}return s}function d0(n,e){return n===e||e.substring(0,n.length)===n&&e[n.length]==="."}function EO(n,e,s){if(!d0(n[n.length-1],e))return!1;let r=n.length-2,l=s.length-1;for(;r>=0&&l>=0;)d0(n[r],s[l])&&(r-=1),l-=1;return r===-1}function wO(n,e,s){const r=[];for(const{selectors:l,settings:u}of n)for(const c of l)if(EO(c,e,s)){r.push(u);break}return r}function Mv(n,e,s){const r=Object.entries(s.themes).filter(p=>p[1]).map(p=>({color:p[0],theme:p[1]})),l=r.map(p=>{const m=Ud(n,e,{...s,theme:p.theme}),g=Ra(m),y=typeof p.theme=="string"?p.theme:p.theme.name;return{tokens:m,state:g,theme:y}}),u=TO(...l.map(p=>p.tokens)),c=u[0].map((p,m)=>p.map((g,y)=>{const _={content:g.content,variants:{},offset:g.offset};return"includeExplanation"in s&&s.includeExplanation&&(_.explanation=g.explanation),u.forEach((b,S)=>{const{content:w,explanation:A,offset:D,...V}=b[m][y];_.variants[r[S].color]=V}),_})),d=l[0].state?new dr(Object.fromEntries(l.map(p=>[p.theme,p.state?.getInternalStack(p.theme)])),l[0].state.lang):void 0;return d&&jo(c,d),c}function TO(...n){const e=n.map(()=>[]),s=n.length;for(let r=0;r<n[0].length;r++){const l=n.map(p=>p[r]),u=e.map(()=>[]);e.forEach((p,m)=>p.push(u[m]));const c=l.map(()=>0),d=l.map(p=>p[0]);for(;d.every(p=>p);){const p=Math.min(...d.map(m=>m.content.length));for(let m=0;m<s;m++){const g=d[m];g.content.length===p?(u[m].push(g),c[m]+=1,d[m]=l[m][c[m]]):(u[m].push({...g,content:g.content.slice(0,p)}),d[m]={...g,content:g.content.slice(p),offset:g.offset+p})}}}return e}function Oo(n,e,s){let r,l,u,c,d,p;if("themes"in s){const{defaultColor:m="light",cssVariablePrefix:g="--shiki-",colorsRendering:y="css-vars"}=s,_=Object.entries(s.themes).filter(D=>D[1]).map(D=>({color:D[0],theme:D[1]})).sort((D,V)=>D.color===m?-1:V.color===m?1:0);if(_.length===0)throw new st("`themes` option must not be empty");const b=Mv(n,e,s);if(p=Ra(b),m&&Bd!==m&&!_.find(D=>D.color===m))throw new st(`\`themes\` option must contain the defaultColor key \`${m}\``);const S=_.map(D=>n.getTheme(D.theme)),w=_.map(D=>D.color);u=b.map(D=>D.map(V=>sO(V,w,g,m,y))),p&&jo(u,p);const A=_.map(D=>Ro(D.theme,s));l=h0(_,S,A,g,m,"fg",y),r=h0(_,S,A,g,m,"bg",y),c=`shiki-themes ${S.map(D=>D.name).join(" ")}`,d=m?void 0:[l,r].join(";")}else if("theme"in s){const m=Ro(s.theme,s);u=Ud(n,e,s);const g=n.getTheme(s.theme);r=zi(g.bg,m),l=zi(g.fg,m),c=g.name,p=Ra(u)}else throw new st("Invalid options, either `theme` or `themes` must be provided");return{tokens:u,fg:l,bg:r,themeName:c,rootStyle:d,grammarState:p}}function h0(n,e,s,r,l,u,c){return n.map((d,p)=>{const m=zi(e[p][u],s[p])||"inherit",g=`${r+d.color}${u==="bg"?"-bg":""}:${m}`;if(p===0&&l){if(l===Bd&&n.length>1){const y=n.findIndex(w=>w.color==="light"),_=n.findIndex(w=>w.color==="dark");if(y===-1||_===-1)throw new st('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const b=zi(e[y][u],s[y])||"inherit",S=zi(e[_][u],s[_])||"inherit";return`light-dark(${b}, ${S});${g}`}return m}return c==="css-vars"?g:null}).filter(d=>!!d).join(";")}function ko(n,e,s,r={meta:{},options:s,codeToHast:(l,u)=>ko(n,l,u),codeToTokens:(l,u)=>Oo(n,l,u)}){let l=e;for(const S of Ao(s))l=S.preprocess?.call(r,l,s)||l;let{tokens:u,fg:c,bg:d,themeName:p,rootStyle:m,grammarState:g}=Oo(n,l,s);const{mergeWhitespaces:y=!0,mergeSameStyleTokens:_=!1}=s;y===!0?u=CO(u):y==="never"&&(u=AO(u)),_&&(u=OO(u));const b={...r,get source(){return l}};for(const S of Ao(s))u=S.tokens?.call(b,u)||u;return RO(u,{...s,fg:c,bg:d,themeName:p,rootStyle:s.rootStyle===!1?!1:s.rootStyle??m},b,g)}function RO(n,e,s,r=Ra(n)){const l=Ao(e),u=[],c={type:"root",children:[]},{structure:d="classic",tabindex:p="0"}=e,m={class:`shiki ${e.themeName||""}`};e.rootStyle!==!1&&(e.rootStyle!=null?m.style=e.rootStyle:m.style=`background-color:${e.bg};color:${e.fg}`),p!==!1&&p!=null&&(m.tabindex=p.toString());for(const[w,A]of Object.entries(e.meta||{}))w.startsWith("_")||(m[w]=A);let g={type:"element",tagName:"pre",properties:m,children:[]},y={type:"element",tagName:"code",properties:{},children:u};const _=[],b={...s,structure:d,addClassToHast:kv,get source(){return s.source},get tokens(){return n},get options(){return e},get root(){return c},get pre(){return g},get code(){return y},get lines(){return _}};if(n.forEach((w,A)=>{A&&(d==="inline"?c.children.push({type:"element",tagName:"br",properties:{},children:[]}):d==="classic"&&u.push({type:"text",value:`
`}));let D={type:"element",tagName:"span",properties:{class:"line"},children:[]},V=0;for(const L of w){let K={type:"element",tagName:"span",properties:{...L.htmlAttrs},children:[{type:"text",value:L.content}]};const k=ad(L.htmlStyle||Co(L));k&&(K.properties.style=k);for(const B of l)K=B?.span?.call(b,K,A+1,V,D,L)||K;d==="inline"?c.children.push(K):d==="classic"&&D.children.push(K),V+=L.content.length}if(d==="classic"){for(const L of l)D=L?.line?.call(b,D,A+1)||D;_.push(D),u.push(D)}else d==="inline"&&_.push(D)}),d==="classic"){for(const w of l)y=w?.code?.call(b,y)||y;g.children.push(y);for(const w of l)g=w?.pre?.call(b,g)||g;c.children.push(g)}else if(d==="inline"){const w=[];let A={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const L of c.children)L.type==="element"&&L.tagName==="br"?(w.push(A),A={type:"element",tagName:"span",properties:{class:"line"},children:[]}):(L.type==="element"||L.type==="text")&&A.children.push(L);w.push(A);let V={type:"element",tagName:"code",properties:{},children:w};for(const L of l)V=L?.code?.call(b,V)||V;c.children=[];for(let L=0;L<V.children.length;L++){L>0&&c.children.push({type:"element",tagName:"br",properties:{},children:[]});const K=V.children[L];K.type==="element"&&c.children.push(...K.children)}}let S=c;for(const w of l)S=w?.root?.call(b,S)||S;return r&&jo(S,r),S}function CO(n){return n.map(e=>{const s=[];let r="",l;return e.forEach((u,c)=>{const p=!(u.fontStyle&&(u.fontStyle&Ot.Underline||u.fontStyle&Ot.Strikethrough));p&&u.content.match(/^\s+$/)&&e[c+1]?(l===void 0&&(l=u.offset),r+=u.content):r?(p?s.push({...u,offset:l,content:r+u.content}):s.push({content:r,offset:l},u),l=void 0,r=""):s.push(u)}),s})}function AO(n){return n.map(e=>e.flatMap(s=>{if(s.content.match(/^\s+$/))return s;const r=s.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return s;const[,l,u,c]=r;if(!l&&!c)return s;const d=[{...s,offset:s.offset+l.length,content:u}];return l&&d.unshift({content:l,offset:s.offset}),c&&d.push({content:c,offset:s.offset+l.length+u.length}),d}))}function OO(n){return n.map(e=>{const s=[];for(const r of e){if(s.length===0){s.push({...r});continue}const l=s[s.length-1],u=ad(l.htmlStyle||Co(l)),c=ad(r.htmlStyle||Co(r)),d=l.fontStyle&&(l.fontStyle&Ot.Underline||l.fontStyle&Ot.Strikethrough),p=r.fontStyle&&(r.fontStyle&Ot.Underline||r.fontStyle&Ot.Strikethrough);!d&&!p&&u===c?l.content+=r.content:s.push({...r})}return s})}const kO=$A;function DO(n,e,s){const r={meta:{},options:s,codeToHast:(u,c)=>ko(n,u,c),codeToTokens:(u,c)=>Oo(n,u,c)};let l=kO(ko(n,e,s,r));for(const u of Ao(s))l=u.postprocess?.call(r,l,s)||l;return l}const p0={light:"#333333",dark:"#bbbbbb"},m0={light:"#fffffe",dark:"#1e1e1e"},g0="__shiki_resolved";function Pd(n){if(n?.[g0])return n;const e={...n};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:s,fg:r}=e;if(!s||!r){const d=e.settings?e.settings.find(p=>!p.name&&!p.scope):void 0;d?.settings?.foreground&&(r=d.settings.foreground),d?.settings?.background&&(s=d.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!s&&e?.colors?.["editor.background"]&&(s=e.colors["editor.background"]),r||(r=e.type==="light"?p0.light:p0.dark),s||(s=e.type==="light"?m0.light:m0.dark),e.fg=r,e.bg=s}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let l=0;const u=new Map;function c(d){if(u.has(d))return u.get(d);l+=1;const p=`#${l.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${p}`]?c(d):(u.set(d,p),p)}e.settings=e.settings.map(d=>{const p=d.settings?.foreground&&!d.settings.foreground.startsWith("#"),m=d.settings?.background&&!d.settings.background.startsWith("#");if(!p&&!m)return d;const g={...d,settings:{...d.settings}};if(p){const y=c(d.settings.foreground);e.colorReplacements[y]=d.settings.foreground,g.settings.foreground=y}if(m){const y=c(d.settings.background);e.colorReplacements[y]=d.settings.background,g.settings.background=y}return g});for(const d of Object.keys(e.colors||{}))if((d==="editor.foreground"||d==="editor.background"||d.startsWith("terminal.ansi"))&&!e.colors[d]?.startsWith("#")){const p=c(e.colors[d]);e.colorReplacements[p]=e.colors[d],e.colors[d]=p}return Object.defineProperty(e,g0,{enumerable:!1,writable:!1,value:!0}),e}async function Lv(n){return Array.from(new Set((await Promise.all(n.filter(e=>!Av(e)).map(async e=>await Cv(e).then(s=>Array.isArray(s)?s:[s])))).flat()))}async function jv(n){return(await Promise.all(n.map(async s=>Ov(s)?null:Pd(await Cv(s))))).filter(s=>!!s)}let NO=3;function MO(n,e=3){e>NO||console.trace(`[SHIKI DEPRECATE]: ${n}`)}let tr=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function Iv(n,e){if(!e)return n;if(e[n]){const s=new Set([n]);for(;e[n];){if(n=e[n],s.has(n))throw new tr(`Circular alias \`${Array.from(s).join(" -> ")} -> ${n}\``);s.add(n)}}return n}class LO extends jC{constructor(e,s,r,l={}){super(e),this._resolver=e,this._themes=s,this._langs=r,this._alias=l,this._themes.map(u=>this.loadTheme(u)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const s=Pd(e);return s.name&&(this._resolvedThemes.set(s.name,s),this._loadedThemesCache=null),s}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let s=this._textmateThemeCache.get(e);s||(s=So.createFromRawTheme(e),this._textmateThemeCache.set(e,s)),this._syncRegistry.setTheme(s)}getGrammar(e){return e=Iv(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const s=new Set([...this._langMap.values()].filter(u=>u.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const l=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(l.name=e.name,this._resolvedGrammars.set(e.name,l),e.aliases&&e.aliases.forEach(u=>{this._alias[u]=e.name}),this._loadedLanguagesCache=null,s.size)for(const u of s)this._resolvedGrammars.delete(u.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(u.scopeName),this._syncRegistry?._grammars?.delete(u.scopeName),this.loadLanguage(this._langMap.get(u.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const l of e)this.resolveEmbeddedLanguages(l);const s=Array.from(this._langGraph.entries()),r=s.filter(([l,u])=>!u);if(r.length){const l=s.filter(([u,c])=>c?(c.embeddedLanguages||c.embeddedLangs)?.some(p=>r.map(([m])=>m).includes(p)):!1).filter(u=>!r.includes(u));throw new tr(`Missing languages ${r.map(([u])=>`\`${u}\``).join(", ")}, required by ${l.map(([u])=>`\`${u}\``).join(", ")}`)}for(const[l,u]of s)this._resolver.addLanguage(u);for(const[l,u]of s)this.loadLanguage(u)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);const s=e.embeddedLanguages??e.embeddedLangs;if(s)for(const r of s)this._langGraph.set(r,this._langMap.get(r))}}class jO{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,s){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},s.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(s=>{this._langs.set(s,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(s=>{this._injections.get(s)||this._injections.set(s,[]),this._injections.get(s).push(e.scopeName)})}getInjections(e){const s=e.split(".");let r=[];for(let l=1;l<=s.length;l++){const u=s.slice(0,l).join(".");r=[...r,...this._injections.get(u)||[]]}return r}}let ua=0;function IO(n){ua+=1,n.warnings!==!1&&ua>=10&&ua%10===0&&console.warn(`[Shiki] ${ua} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!n.engine)throw new tr("`engine` option is required for synchronous mode");const s=(n.langs||[]).flat(1),r=(n.themes||[]).flat(1).map(Pd),l=new jO(n.engine,s),u=new LO(l,r,s,n.langAlias);let c;function d(L){return Iv(L,n.langAlias)}function p(L){D();const K=u.getGrammar(typeof L=="string"?L:L.name);if(!K)throw new tr(`Language \`${L}\` not found, you may need to load it first`);return K}function m(L){if(L==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};D();const K=u.getTheme(L);if(!K)throw new tr(`Theme \`${L}\` not found, you may need to load it first`);return K}function g(L){D();const K=m(L);c!==L&&(u.setTheme(K),c=L);const k=u.getColorMap();return{theme:K,colorMap:k}}function y(){return D(),u.getLoadedThemes()}function _(){return D(),u.getLoadedLanguages()}function b(...L){D(),u.loadLanguages(L.flat(1))}async function S(...L){return b(await Lv(L))}function w(...L){D();for(const K of L.flat(1))u.loadTheme(K)}async function A(...L){return D(),w(await jv(L))}function D(){if(e)throw new tr("Shiki instance has been disposed")}function V(){e||(e=!0,u.dispose(),ua-=1)}return{setTheme:g,getTheme:m,getLanguage:p,getLoadedThemes:y,getLoadedLanguages:_,resolveLangAlias:d,loadLanguage:S,loadLanguageSync:b,loadTheme:A,loadThemeSync:w,dispose:V,[Symbol.dispose]:V}}async function zO(n){n.engine||MO("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,s,r]=await Promise.all([jv(n.themes||[]),Lv(n.langs||[]),n.engine]);return IO({...n,themes:e,langs:s,engine:r})}async function BO(n){const e=await zO(n);return{getLastGrammarState:(...s)=>_O(e,...s),codeToTokensBase:(s,r)=>Ud(e,s,r),codeToTokensWithThemes:(s,r)=>Mv(e,s,r),codeToTokens:(s,r)=>Oo(e,s,r),codeToHast:(s,r)=>ko(e,s,r),codeToHtml:(s,r)=>DO(e,s,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function UO(n){const e=n.langs,s=n.themes,r=n.engine;async function l(u){function c(y){if(typeof y=="string"){if(y=u.langAlias?.[y]||y,Av(y))return[];const _=e[y];if(!_)throw new st(`Language \`${y}\` is not included in this bundle. You may want to load it from external source.`);return _}return y}function d(y){if(Ov(y))return"none";if(typeof y=="string"){const _=s[y];if(!_)throw new st(`Theme \`${y}\` is not included in this bundle. You may want to load it from external source.`);return _}return y}const p=(u.themes??[]).map(y=>d(y)),m=(u.langs??[]).map(y=>c(y)),g=await BO({engine:u.engine??r(),...u,themes:p,langs:m});return{...g,loadLanguage(...y){return g.loadLanguage(...y.map(c))},loadTheme(...y){return g.loadTheme(...y.map(d))},getBundledLanguages(){return e},getBundledThemes(){return s}}}return l}function VO(n){let e;async function s(r={}){if(e){const l=await e;return await Promise.all([l.loadTheme(...r.themes||[]),l.loadLanguage(...r.langs||[])]),l}else{e=n({...r,themes:[],langs:[]});const l=await e;return await Promise.all([l.loadTheme(...r.themes||[]),l.loadLanguage(...r.langs||[])]),l}}return s}function PO(n,e){const s=VO(n);async function r(l,u){const c=await s({langs:[u.lang],themes:"theme"in u?[u.theme]:Object.values(u.themes)}),d=await e?.guessEmbeddedLanguages?.(l,u.lang,c);return d&&await c.loadLanguage(...d),c}return{getSingletonHighlighter(l){return s(l)},async codeToHtml(l,u){return(await r(l,u)).codeToHtml(l,u)},async codeToHast(l,u){return(await r(l,u)).codeToHast(l,u)},async codeToTokens(l,u){return(await r(l,u)).codeToTokens(l,u)},async codeToTokensBase(l,u){return(await r(l,u)).codeToTokensBase(l,u)},async codeToTokensWithThemes(l,u){return(await r(l,u)).codeToTokensWithThemes(l,u)},async getLastGrammarState(l,u){return(await s({langs:[u.lang],themes:[u.theme]})).getLastGrammarState(l,u)}}}const zv=[{id:"abap",name:"ABAP",import:(()=>E(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>E(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>E(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>E(()=>import("./angular-html-CU67Zn6k.js").then(n=>n.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>E(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>E(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>E(()=>import("./apex-DDbsPZ6N.js"),[]))},{id:"apl",name:"APL",import:(()=>E(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>E(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>E(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>E(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>E(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>E(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>E(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>E(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>E(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>E(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>E(()=>import("./berry-uYugtg8r.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>E(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>E(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>E(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>E(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>E(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>E(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>E(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>E(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>E(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>E(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>E(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>E(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>E(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>E(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>E(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>E(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>E(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>E(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>E(()=>import("./csharp-K5feNrxe.js"),[]))},{id:"css",name:"CSS",import:(()=>E(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>E(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>E(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>E(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>E(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>E(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>E(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>E(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>E(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>E(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>E(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>E(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>E(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>E(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>E(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>E(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>E(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>E(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>E(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>E(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>E(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>E(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>E(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>E(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>E(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>E(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>E(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>E(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>E(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>E(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>E(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>E(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>E(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>E(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>E(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>E(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>E(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>E(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>E(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>E(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>E(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>E(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>E(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>E(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>E(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>E(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>E(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>E(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>E(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>E(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>E(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>E(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>E(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>E(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>E(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>E(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>E(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>E(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>E(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>E(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>E(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>E(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>E(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>E(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>E(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>E(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>E(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>E(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>E(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>E(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>E(()=>import("./latex-BdAV_C_H.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>E(()=>import("./lean-Bc6EcWN3.js"),[]))},{id:"less",name:"Less",import:(()=>E(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>E(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>E(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>E(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>E(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>E(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>E(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>E(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>E(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>E(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>E(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>E(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>E(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>E(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>E(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>E(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>E(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>E(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>E(()=>import("./nextflow-BrzmwbiE.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>E(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>E(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>E(()=>import("./nix-c8nO5XWb.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>E(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>E(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>E(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>E(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:(()=>E(()=>import("./openscad-C4EeE6gA.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>E(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>E(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>E(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>E(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>E(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>E(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>E(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>E(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>E(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>E(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>E(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>E(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>E(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>E(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>E(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>E(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>E(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>E(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>E(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>E(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>E(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>E(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>E(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>E(()=>import("./razor-CE9lU5zL.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>E(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>E(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>E(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>E(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>E(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>E(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>E(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>E(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>E(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>E(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>E(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>E(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>E(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>E(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>E(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>E(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>E(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>E(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>E(()=>import("./solidity-rGO070M0.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>E(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>E(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>E(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>E(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>E(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>E(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>E(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>E(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>E(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>E(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>E(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>E(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>E(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>E(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>E(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>E(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>E(()=>import("./tex-CxkMU7Pf.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>E(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>E(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>E(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>E(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>E(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>E(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>E(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>E(()=>import("./typespec-BGHnOYBU.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>E(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>E(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>E(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>E(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>E(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>E(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>E(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>E(()=>import("./vue-DnHKYNfI.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>E(()=>import("./vue-html-CChd_i61.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>E(()=>import("./vue-vine-8moa0y9V.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>E(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>E(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>E(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>E(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>E(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>E(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>E(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>E(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>E(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>E(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>E(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>E(()=>import("./zig-VOosw3JB.js"),[]))}],HO=Object.fromEntries(zv.map(n=>[n.id,n.import])),qO=Object.fromEntries(zv.flatMap(n=>n.aliases?.map(e=>[e,n.import])||[])),GO={...HO,...qO},KO=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>E(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>E(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>E(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>E(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>E(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>E(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>E(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>E(()=>import("./dark-plus-C3mMm8J8.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>E(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>E(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>E(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>E(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>E(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>E(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>E(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>E(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>E(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>E(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>E(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>E(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>E(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>E(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>E(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>E(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>E(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>E(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>E(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>E(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>E(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>E(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>E(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>E(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>E(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>E(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>E(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>E(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>E(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>E(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>E(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>E(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>E(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>E(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>E(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>E(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>E(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>E(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>E(()=>import("./rose-pine-qdsjHGoJ.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>E(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>E(()=>import("./rose-pine-moon-D4_iv3hh.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>E(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>E(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>E(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>E(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>E(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>E(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>E(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>E(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>E(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>E(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>E(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],QO=Object.fromEntries(KO.map(n=>[n.id,n.import]));class Hd extends Error{constructor(e){super(e),this.name="ShikiError"}}function FO(){return 2147483648}function YO(){return typeof performance<"u"?performance.now():Date.now()}const $O=(n,e)=>n+(e-n%e)%e;async function XO(n){let e,s;const r={};function l(b){s=b,r.HEAPU8=new Uint8Array(b),r.HEAPU32=new Uint32Array(b)}function u(b,S,w){r.HEAPU8.copyWithin(b,S,S+w)}function c(b){try{return e.grow(b-s.byteLength+65535>>>16),l(e.buffer),1}catch{}}function d(b){const S=r.HEAPU8.length;b=b>>>0;const w=FO();if(b>w)return!1;for(let A=1;A<=4;A*=2){let D=S*(1+.2/A);D=Math.min(D,b+100663296);const V=Math.min(w,$O(Math.max(b,D),65536));if(c(V))return!0}return!1}const p=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function m(b,S,w=1024){const A=S+w;let D=S;for(;b[D]&&!(D>=A);)++D;if(D-S>16&&b.buffer&&p)return p.decode(b.subarray(S,D));let V="";for(;S<D;){let L=b[S++];if(!(L&128)){V+=String.fromCharCode(L);continue}const K=b[S++]&63;if((L&224)===192){V+=String.fromCharCode((L&31)<<6|K);continue}const k=b[S++]&63;if((L&240)===224?L=(L&15)<<12|K<<6|k:L=(L&7)<<18|K<<12|k<<6|b[S++]&63,L<65536)V+=String.fromCharCode(L);else{const B=L-65536;V+=String.fromCharCode(55296|B>>10,56320|B&1023)}}return V}function g(b,S){return b?m(r.HEAPU8,b,S):""}const y={emscripten_get_now:YO,emscripten_memcpy_big:u,emscripten_resize_heap:d,fd_write:()=>0};async function _(){const S=await n({env:y,wasi_snapshot_preview1:y});e=S.memory,l(e.buffer),Object.assign(r,S),r.UTF8ToString=g}return await _(),r}var JO=Object.defineProperty,ZO=(n,e,s)=>e in n?JO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,ot=(n,e,s)=>ZO(n,typeof e!="symbol"?e+"":e,s);let pt=null;function WO(n){throw new Hd(n.UTF8ToString(n.getLastOnigError()))}class Io{constructor(e){ot(this,"utf16Length"),ot(this,"utf8Length"),ot(this,"utf16Value"),ot(this,"utf8Value"),ot(this,"utf16OffsetToUtf8"),ot(this,"utf8OffsetToUtf16");const s=e.length,r=Io._utf8ByteLength(e),l=r!==s,u=l?new Uint32Array(s+1):null;l&&(u[s]=r);const c=l?new Uint32Array(r+1):null;l&&(c[r]=s);const d=new Uint8Array(r);let p=0;for(let m=0;m<s;m++){const g=e.charCodeAt(m);let y=g,_=!1;if(g>=55296&&g<=56319&&m+1<s){const b=e.charCodeAt(m+1);b>=56320&&b<=57343&&(y=(g-55296<<10)+65536|b-56320,_=!0)}l&&(u[m]=p,_&&(u[m+1]=p),y<=127?c[p+0]=m:y<=2047?(c[p+0]=m,c[p+1]=m):y<=65535?(c[p+0]=m,c[p+1]=m,c[p+2]=m):(c[p+0]=m,c[p+1]=m,c[p+2]=m,c[p+3]=m)),y<=127?d[p++]=y:y<=2047?(d[p++]=192|(y&1984)>>>6,d[p++]=128|(y&63)>>>0):y<=65535?(d[p++]=224|(y&61440)>>>12,d[p++]=128|(y&4032)>>>6,d[p++]=128|(y&63)>>>0):(d[p++]=240|(y&1835008)>>>18,d[p++]=128|(y&258048)>>>12,d[p++]=128|(y&4032)>>>6,d[p++]=128|(y&63)>>>0),_&&m++}this.utf16Length=s,this.utf8Length=r,this.utf16Value=e,this.utf8Value=d,this.utf16OffsetToUtf8=u,this.utf8OffsetToUtf16=c}static _utf8ByteLength(e){let s=0;for(let r=0,l=e.length;r<l;r++){const u=e.charCodeAt(r);let c=u,d=!1;if(u>=55296&&u<=56319&&r+1<l){const p=e.charCodeAt(r+1);p>=56320&&p<=57343&&(c=(u-55296<<10)+65536|p-56320,d=!0)}c<=127?s+=1:c<=2047?s+=2:c<=65535?s+=3:s+=4,d&&r++}return s}createString(e){const s=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,s),s}}const zo=class Nn{constructor(e){if(ot(this,"id",++Nn.LAST_ID),ot(this,"_onigBinding"),ot(this,"content"),ot(this,"utf16Length"),ot(this,"utf8Length"),ot(this,"utf16OffsetToUtf8"),ot(this,"utf8OffsetToUtf16"),ot(this,"ptr"),!pt)throw new Hd("Must invoke loadWasm first.");this._onigBinding=pt,this.content=e;const s=new Io(e);this.utf16Length=s.utf16Length,this.utf8Length=s.utf8Length,this.utf16OffsetToUtf8=s.utf16OffsetToUtf8,this.utf8OffsetToUtf16=s.utf8OffsetToUtf16,this.utf8Length<1e4&&!Nn._sharedPtrInUse?(Nn._sharedPtr||(Nn._sharedPtr=pt.omalloc(1e4)),Nn._sharedPtrInUse=!0,pt.HEAPU8.set(s.utf8Value,Nn._sharedPtr),this.ptr=Nn._sharedPtr):this.ptr=s.createString(pt)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Nn._sharedPtr?Nn._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};ot(zo,"LAST_ID",0);ot(zo,"_sharedPtr",0);ot(zo,"_sharedPtrInUse",!1);let Bv=zo;class e2{constructor(e){if(ot(this,"_onigBinding"),ot(this,"_ptr"),!pt)throw new Hd("Must invoke loadWasm first.");const s=[],r=[];for(let d=0,p=e.length;d<p;d++){const m=new Io(e[d]);s[d]=m.createString(pt),r[d]=m.utf8Length}const l=pt.omalloc(4*e.length);pt.HEAPU32.set(s,l/4);const u=pt.omalloc(4*e.length);pt.HEAPU32.set(r,u/4);const c=pt.createOnigScanner(l,u,e.length);for(let d=0,p=e.length;d<p;d++)pt.ofree(s[d]);pt.ofree(u),pt.ofree(l),c===0&&WO(pt),this._onigBinding=pt,this._ptr=c}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,s,r){let l=0;if(typeof r=="number"&&(l=r),typeof e=="string"){e=new Bv(e);const u=this._findNextMatchSync(e,s,!1,l);return e.dispose(),u}return this._findNextMatchSync(e,s,!1,l)}_findNextMatchSync(e,s,r,l){const u=this._onigBinding,c=u.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(s),l);if(c===0)return null;const d=u.HEAPU32;let p=c/4;const m=d[p++],g=d[p++],y=[];for(let _=0;_<g;_++){const b=e.convertUtf8OffsetToUtf16(d[p++]),S=e.convertUtf8OffsetToUtf16(d[p++]);y[_]={start:b,end:S,length:S-b}}return{index:m,captureIndices:y}}}function t2(n){return typeof n.instantiator=="function"}function n2(n){return typeof n.default=="function"}function i2(n){return typeof n.data<"u"}function s2(n){return typeof Response<"u"&&n instanceof Response}function r2(n){return typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||ArrayBuffer.isView(n))||typeof Buffer<"u"&&Buffer.isBuffer?.(n)||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&n instanceof Uint32Array}let io;function a2(n){if(io)return io;async function e(){pt=await XO(async s=>{let r=n;return r=await r,typeof r=="function"&&(r=await r(s)),typeof r=="function"&&(r=await r(s)),t2(r)?r=await r.instantiator(s):n2(r)?r=await r.default(s):(i2(r)&&(r=r.data),s2(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await l2(r)(s):r=await o2(r)(s):r2(r)?r=await Sf(r)(s):r instanceof WebAssembly.Module?r=await Sf(r)(s):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await Sf(r.default)(s))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return io=e(),io}function Sf(n){return e=>WebAssembly.instantiate(n,e)}function l2(n){return e=>WebAssembly.instantiateStreaming(n,e)}function o2(n){return async e=>{const s=await n.arrayBuffer();return WebAssembly.instantiate(s,e)}}async function u2(n){return n&&await a2(n),{createScanner(e){return new e2(e.map(s=>typeof s=="string"?s:s.source))},createString(e){return new Bv(e)}}}const c2=UO({langs:GO,themes:QO,engine:()=>u2(E(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{codeToHtml:Bo}=PO(c2,{guessEmbeddedLanguages:eO});function f2(){const[n,e]=F.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return F.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function d2({content:n}){const[e,s]=F.useState(""),r=f2(),l=u=>{try{const c=JSON.parse(u);return JSON.stringify(c,null,2)}catch{return u}};return F.useEffect(()=>{(async()=>{try{const c=await n.text(),d=l(c),p=await Bo(d,{lang:"json",theme:r?"github-dark":"github-light"});s(p)}catch{const c=await n.text();s(`<pre>${l(c)}</pre>`)}})()},[n,r]),R.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function h2(){const[n,e]=F.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return F.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function p2({content:n}){const[e,s]=F.useState(""),r=h2(),l=u=>{try{const d=/(>)(<)(\/*)/g,p=u.replace(d,`$1
$2$3`);let m=0;return p.split(`
`).map(g=>{let y=0;g.match(/.+<\/\w[^>]*>$/)?y=0:g.match(/^<\/\w/)&&m>0?m-=1:g.match(/^<\w[^>]*[^/]>.*$/)?y=1:y=0;const _="  ".repeat(m);return m+=y,_+g}).join(`
`)}catch{return u}};return F.useEffect(()=>{(async()=>{try{const c=await n.text(),d=l(c),p=await Bo(d,{lang:"xml",theme:r?"github-dark":"github-light"});s(p)}catch{const c=await n.text();s(`<pre>${l(c)}</pre>`)}})()},[n,r]),R.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function m2(){const[n,e]=F.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return F.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function g2({content:n}){const[e,s]=F.useState(""),r=m2();return F.useEffect(()=>{(async()=>{try{const u=await n.text(),c=await Bo(u,{lang:"yaml",theme:r?"github-dark":"github-light"});s(c)}catch{const u=await n.text();s(`<pre>${u}</pre>`)}})()},[n,r]),R.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function y0({content:n}){const[e,s]=F.useState("");return F.useEffect(()=>{n.text().then(s)},[n]),R.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:e})}function y2({content:n}){const e=s=>s<1024?`${s} B`:s<1048576?`${(s/1024).toFixed(2)} KB`:`${(s/1048576).toFixed(2)} MB`;return R.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:R.jsxs("div",{className:"text-center space-y-2",children:[R.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Binary content"}),R.jsx("div",{className:"text-2xl font-semibold text-neutral-700 dark:text-neutral-200",children:e(n.size)}),R.jsx("div",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Cannot preview binary data"})]})})}function v2({content:n}){const e=F.useMemo(()=>URL.createObjectURL(n),[n]);return R.jsx("div",{className:"h-full",children:R.jsx("img",{src:e,alt:"Response",className:"max-w-full max-h-full object-contain"})})}function _2(){const[n,e]=F.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return F.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function b2(n){const e=[],s=n.split(/\n\n+/);for(const r of s){if(!r.trim())continue;const l={data:"",raw:r},u=r.split(`
`);for(const c of u)c.startsWith("id:")?l.id=c.slice(3).trim():c.startsWith("event:")?l.event=c.slice(6).trim():c.startsWith("data:")?l.data+=(l.data?`
`:"")+c.slice(5).trim():c.startsWith("retry:")&&(l.retry=parseInt(c.slice(6).trim(),10));(l.data||l.event||l.id)&&e.push(l)}return e}function S2(n){try{return JSON.parse(n)}catch{return null}}function x2({event:n,index:e,prefersDark:s}){const[r,l]=F.useState(!0),[u,c]=F.useState(""),d=F.useMemo(()=>S2(n.data),[n.data]);return F.useEffect(()=>{(async()=>{if(d)try{const m=JSON.stringify(d,null,2),g=await Bo(m,{lang:"json",theme:s?"github-dark":"github-light"});c(g)}catch{c(`<pre>${JSON.stringify(d,null,2)}</pre>`)}})()},[d,s]),R.jsxs("div",{className:"border border-neutral-200 dark:border-white/10 rounded-lg overflow-hidden",children:[R.jsxs("button",{onClick:()=>l(!r),className:"w-full flex items-center gap-2 px-3 py-2 bg-neutral-50 dark:bg-white/5 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:[r?R.jsx(kd,{className:"w-4 h-4 text-neutral-400"}):R.jsx(PT,{className:"w-4 h-4 text-neutral-400"}),R.jsxs("span",{className:"text-xs font-mono text-neutral-500 dark:text-neutral-400",children:["#",e+1]}),n.event&&R.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 rounded",children:n.event}),n.id&&R.jsxs("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:["id: ",n.id]}),d&&R.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 rounded",children:"JSON"})]}),r&&R.jsx("div",{className:"p-3 bg-white dark:bg-transparent",children:d&&u?R.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:u}}):R.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:n.data})})]})}function E2({content:n}){const[e,s]=F.useState([]),[r,l]=F.useState(""),u=_2();return F.useEffect(()=>{n.text().then(c=>{l(c),s(b2(c))})},[n]),e.length===0?R.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:r}):R.jsxs("div",{className:"space-y-2",children:[R.jsx("div",{className:"flex items-center gap-2 mb-3",children:R.jsxs("span",{className:"text-xs font-medium text-neutral-500 dark:text-neutral-400",children:[e.length," event",e.length!==1?"s":""]})}),e.map((c,d)=>R.jsx(x2,{event:c,index:d,prefersDark:u},d))]})}const w2=["video/","audio/","application/pdf","application/octet-stream","application/zip","application/gzip","application/x-tar","application/x-rar","application/x-7z","application/vnd.ms-","application/vnd.openxmlformats","application/x-executable","application/x-sharedlib","application/x-mach-binary","application/wasm","font/"],T2=["image/png","image/jpeg","image/gif","image/webp","image/svg+xml","image/bmp","image/x-icon","image/ico","image/avif","image/apng"],R2=["text/","application/json","application/xml","application/javascript","application/ecmascript","application/x-javascript","application/ld+json","application/manifest+json","application/schema+json","application/x-www-form-urlencoded","application/xhtml+xml","application/rss+xml","application/atom+xml","application/soap+xml","application/x-yaml","application/yaml","+json","+xml"];function C2(n){const e=n["content-type"]?.toLowerCase()||"";return e.includes("text/event-stream")?"sse":T2.some(s=>e.includes(s))?"image":w2.some(s=>e.includes(s))?"binary":e.includes("json")||e.endsWith("+json")?"json":e.includes("xml")||e.endsWith("+xml")?"xml":e.includes("yaml")||e.includes("yml")?"yaml":(R2.some(s=>e.includes(s)),"text")}function A2(){const{request:n}=fs(),[e,s]=F.useState("pretty"),[r,l]=F.useState(!1),u=n?.httpResponse,c=n?.executing??!1,d=u?.error;if(c)return R.jsx("div",{className:"flex items-center justify-center p-12",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(X0,{className:"w-5 h-5 animate-spin text-blue-500 dark:text-blue-400"}),R.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Sending request..."})]})});if(d)return R.jsx("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-4",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(qT,{className:"w-5 h-5 text-rose-500 dark:text-rose-400"}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-rose-500 dark:text-rose-400",children:"Error"}),R.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:d})]})]})});if(!u)return R.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[R.jsx(cR,{className:"w-12 h-12 text-neutral-300 dark:text-neutral-600 mb-4"}),R.jsx("p",{className:"text-sm text-neutral-400 dark:text-neutral-500",children:"Hit Send to see what happens"})]});const p=C2(u.headers),m=()=>{if(e==="raw"&&p!=="image"&&p!=="binary")return R.jsx(y0,{content:u.body});switch(p){case"json":return R.jsx(d2,{content:u.body});case"xml":return R.jsx(p2,{content:u.body});case"yaml":return R.jsx(g2,{content:u.body});case"sse":return R.jsx(E2,{content:u.body});case"image":return R.jsx(v2,{content:u.body});case"binary":return R.jsx(y2,{content:u.body});default:return R.jsx(y0,{content:u.body})}};return R.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[R.jsxs("div",{className:"flex gap-2 shrink-0 mb-4",children:[p!=="binary"&&p!=="image"&&R.jsxs("div",{className:"flex gap-1 p-1 bg-neutral-100 dark:bg-white/5 rounded-lg",children:[R.jsx("button",{onClick:()=>s("pretty"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e==="pretty"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Pretty"}),R.jsx("button",{onClick:()=>s("raw"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e==="raw"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Raw"})]}),R.jsxs("button",{onClick:()=>l(!r),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${r?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"bg-neutral-100 dark:bg-white/5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:["Headers (",Object.keys(u.headers).length,")"]})]}),r&&R.jsx("div",{className:"bg-neutral-100 dark:bg-white/5 rounded-xl border border-neutral-200 dark:border-white/10 overflow-hidden shrink-0 mb-4",children:R.jsxs("table",{className:"w-full",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"border-b border-neutral-200 dark:border-white/10",children:[R.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Header"}),R.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Value"})]})}),R.jsx("tbody",{children:Object.entries(u.headers).map(([g,y])=>R.jsxs("tr",{className:"border-b border-neutral-100 dark:border-white/5 last:border-0",children:[R.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-600 dark:text-neutral-300",children:g}),R.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-500 dark:text-neutral-400",children:y})]},g))})]})}),R.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:m()})]})}function O2(){const{request:n,newRequest:e}=fs();return n?R.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[R.jsxs("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 flex items-center gap-2 shrink-0",children:[R.jsx("div",{className:"flex-1",children:R.jsx(LR,{})}),R.jsx("button",{onClick:e,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"New request",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),R.jsx("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 overflow-visible shrink-0",children:R.jsx(FR,{})}),R.jsxs("div",{className:"flex-1 pl-2 pr-3 py-2 flex flex-col min-h-0 overflow-hidden",children:[n.httpResponse&&R.jsx("h2",{className:"text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider mb-2 shrink-0",children:"Response"}),R.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:R.jsx(A2,{})})]})]}):R.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 dark:text-neutral-500",children:"No active request"})}function k2(n){return n>=200&&n<300?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":n>=300&&n<400?"bg-amber-500/20 text-amber-400 border-amber-500/30":n>=400&&n<500?"bg-orange-500/20 text-orange-400 border-orange-500/30":n>=500?"bg-rose-500/20 text-rose-400 border-rose-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}function D2(n){return n<1024?`${n} B`:n<1024*1024?`${(n/1024).toFixed(2)} KB`:`${(n/(1024*1024)).toFixed(2)} MB`}function N2(){const{request:n}=fs();if(!n?.httpResponse)return null;const e=n.httpResponse;return R.jsxs("div",{className:"px-3 py-2 flex items-center gap-4 text-xs shrink-0",children:[R.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-semibold border ${k2(e.statusCode)}`,children:e.statusCode>0?e.status:"Error"}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Time:"}),R.jsxs("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:[e.duration,"ms"]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Size:"}),R.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:D2(e.body.size)})]})]})}function M2(){return R.jsxs("div",{className:"h-screen flex bg-neutral-50 dark:bg-[#0d0d0d] py-2 pr-2 pl-1 gap-2",children:[R.jsx(OR,{}),R.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden gap-2",children:[R.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:R.jsx(O2,{})}),R.jsx(N2,{})]})]})}function L2(){return R.jsx(DT,{children:R.jsx(M2,{})})}let so={};async function j2(){try{const n=await fetch("/config.json");if(n.ok){const e=await n.json();so={...so,...e}}else console.warn("Failed to load config.json, using defaults");return so}catch(n){return console.warn("Error loading config:",n),so}}j2().then(()=>{cS.createRoot(document.getElementById("root")).render(R.jsx(F.StrictMode,{children:R.jsx(IS,{client:K0,children:R.jsx(L2,{})})}))});
