const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BdAV_C_H.js","assets/tex-CxkMU7Pf.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-CE9lU5zL.js","assets/csharp-K5feNrxe.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-DnHKYNfI.js","assets/vue-html-CChd_i61.js","assets/vue-vine-8moa0y9V.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var Zu={exports:{}},aa={};var Ug;function uS(){if(Ug)return aa;Ug=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var d in l)d!=="key"&&(c[d]=l[d])}else c=l;return l=c.ref,{$$typeof:n,type:r,key:u,ref:l!==void 0?l:null,props:c}}return aa.Fragment=e,aa.jsx=s,aa.jsxs=s,aa}var Pg;function fS(){return Pg||(Pg=1,Zu.exports=uS()),Zu.exports}var w=fS(),Wu={exports:{}},ye={};var Vg;function dS(){if(Vg)return ye;Vg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function D(R,H,Z){this.props=R,this.context=H,this.refs=O,this.updater=Z||S}D.prototype.isReactComponent={},D.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function U(){}U.prototype=D.prototype;function L(R,H,Z){this.props=R,this.context=H,this.refs=O,this.updater=Z||S}var z=L.prototype=new U;z.constructor=L,E(z,D.prototype),z.isPureReactComponent=!0;var C=Array.isArray;function N(){}var V={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Y(R,H,Z){var re=Z.ref;return{$$typeof:n,type:R,key:H,ref:re!==void 0?re:null,props:Z}}function ne(R,H){return Y(R.type,H,R.props)}function oe(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ce(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return H[Z]})}var Ae=/\/+/g;function J(R,H){return typeof R=="object"&&R!==null&&R.key!=null?ce(""+R.key):H.toString(36)}function se(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(N,N):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function M(R,H,Z,re,ge){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(ae){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case n:case e:me=!0;break;case g:return me=R._init,M(me(R._payload),H,Z,re,ge)}}if(me)return ge=ge(R),me=re===""?"."+J(R,0):re,C(ge)?(Z="",me!=null&&(Z=me.replace(Ae,"$&/")+"/"),M(ge,H,Z,"",function(en){return en})):ge!=null&&(oe(ge)&&(ge=ne(ge,Z+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(Ae,"$&/")+"/")+me)),H.push(ge)),1;me=0;var Se=re===""?".":re+":";if(C(R))for(var Me=0;Me<R.length;Me++)re=R[Me],ae=Se+J(re,Me),me+=M(re,H,Z,ae,ge);else if(Me=b(R),typeof Me=="function")for(R=Me.call(R),Me=0;!(re=R.next()).done;)re=re.value,ae=Se+J(re,Me++),me+=M(re,H,Z,ae,ge);else if(ae==="object"){if(typeof R.then=="function")return M(se(R),H,Z,re,ge);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function Q(R,H,Z){if(R==null)return R;var re=[],ge=0;return M(R,re,"","",function(ae){return H.call(Z,ae,ge++)}),re}function W(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ee=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ie={map:Q,forEach:function(R,H,Z){Q(R,function(){H.apply(this,arguments)},Z)},count:function(R){var H=0;return Q(R,function(){H++}),H},toArray:function(R){return Q(R,function(H){return H})||[]},only:function(R){if(!oe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=y,ye.Children=ie,ye.Component=D,ye.Fragment=s,ye.Profiler=l,ye.PureComponent=L,ye.StrictMode=r,ye.Suspense=p,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return V.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,H,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var re=E({},R.props),ge=R.key;if(H!=null)for(ae in H.key!==void 0&&(ge=""+H.key),H)!$.call(H,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&H.ref===void 0||(re[ae]=H[ae]);var ae=arguments.length-2;if(ae===1)re.children=Z;else if(1<ae){for(var me=Array(ae),Se=0;Se<ae;Se++)me[Se]=arguments[Se+2];re.children=me}return Y(R.type,ge,re)},ye.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},ye.createElement=function(R,H,Z){var re,ge={},ae=null;if(H!=null)for(re in H.key!==void 0&&(ae=""+H.key),H)$.call(H,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=H[re]);var me=arguments.length-2;if(me===1)ge.children=Z;else if(1<me){for(var Se=Array(me),Me=0;Me<me;Me++)Se[Me]=arguments[Me+2];ge.children=Se}if(R&&R.defaultProps)for(re in me=R.defaultProps,me)ge[re]===void 0&&(ge[re]=me[re]);return Y(R,ae,ge)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:d,render:R}},ye.isValidElement=oe,ye.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:W}},ye.memo=function(R,H){return{$$typeof:m,type:R,compare:H===void 0?null:H}},ye.startTransition=function(R){var H=V.T,Z={};V.T=Z;try{var re=R(),ge=V.S;ge!==null&&ge(Z,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(N,ee)}catch(ae){ee(ae)}finally{H!==null&&Z.types!==null&&(H.types=Z.types),V.T=H}},ye.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ye.use=function(R){return V.H.use(R)},ye.useActionState=function(R,H,Z){return V.H.useActionState(R,H,Z)},ye.useCallback=function(R,H){return V.H.useCallback(R,H)},ye.useContext=function(R){return V.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,H){return V.H.useDeferredValue(R,H)},ye.useEffect=function(R,H){return V.H.useEffect(R,H)},ye.useEffectEvent=function(R){return V.H.useEffectEvent(R)},ye.useId=function(){return V.H.useId()},ye.useImperativeHandle=function(R,H,Z){return V.H.useImperativeHandle(R,H,Z)},ye.useInsertionEffect=function(R,H){return V.H.useInsertionEffect(R,H)},ye.useLayoutEffect=function(R,H){return V.H.useLayoutEffect(R,H)},ye.useMemo=function(R,H){return V.H.useMemo(R,H)},ye.useOptimistic=function(R,H){return V.H.useOptimistic(R,H)},ye.useReducer=function(R,H,Z){return V.H.useReducer(R,H,Z)},ye.useRef=function(R){return V.H.useRef(R)},ye.useState=function(R){return V.H.useState(R)},ye.useSyncExternalStore=function(R,H,Z){return V.H.useSyncExternalStore(R,H,Z)},ye.useTransition=function(){return V.H.useTransition()},ye.version="19.2.3",ye}var Hg;function ld(){return Hg||(Hg=1,Wu.exports=dS()),Wu.exports}var G=ld(),ef={exports:{}},la={},tf={exports:{}},nf={};var qg;function hS(){return qg||(qg=1,(function(n){function e(M,Q){var W=M.length;M.push(Q);e:for(;0<W;){var ee=W-1>>>1,ie=M[ee];if(0<l(ie,Q))M[ee]=Q,M[W]=ie,W=ee;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Q=M[0],W=M.pop();if(W!==Q){M[0]=W;e:for(var ee=0,ie=M.length,R=ie>>>1;ee<R;){var H=2*(ee+1)-1,Z=M[H],re=H+1,ge=M[re];if(0>l(Z,W))re<ie&&0>l(ge,Z)?(M[ee]=ge,M[re]=W,ee=re):(M[ee]=Z,M[H]=W,ee=H);else if(re<ie&&0>l(ge,W))M[ee]=ge,M[re]=W,ee=re;else break e}}return Q}function l(M,Q){var W=M.sortIndex-Q.sortIndex;return W!==0?W:M.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],m=[],g=1,y=null,_=3,b=!1,S=!1,E=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(M){for(var Q=s(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=M)r(m),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=s(m)}}function C(M){if(E=!1,z(M),!S)if(s(p)!==null)S=!0,N||(N=!0,ce());else{var Q=s(m);Q!==null&&se(C,Q.startTime-M)}}var N=!1,V=-1,$=5,Y=-1;function ne(){return O?!0:!(n.unstable_now()-Y<$)}function oe(){if(O=!1,N){var M=n.unstable_now();Y=M;var Q=!0;try{e:{S=!1,E&&(E=!1,U(V),V=-1),b=!0;var W=_;try{t:{for(z(M),y=s(p);y!==null&&!(y.expirationTime>M&&ne());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,_=y.priorityLevel;var ie=ee(y.expirationTime<=M);if(M=n.unstable_now(),typeof ie=="function"){y.callback=ie,z(M),Q=!0;break t}y===s(p)&&r(p),z(M)}else r(p);y=s(p)}if(y!==null)Q=!0;else{var R=s(m);R!==null&&se(C,R.startTime-M),Q=!1}}break e}finally{y=null,_=W,b=!1}Q=void 0}}finally{Q?ce():N=!1}}}var ce;if(typeof L=="function")ce=function(){L(oe)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,J=Ae.port2;Ae.port1.onmessage=oe,ce=function(){J.postMessage(null)}}else ce=function(){D(oe,0)};function se(M,Q){V=D(function(){M(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(M){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var W=_;_=Q;try{return M()}finally{_=W}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=_;_=M;try{return Q()}finally{_=W}},n.unstable_scheduleCallback=function(M,Q,W){var ee=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,M={id:g++,callback:Q,priorityLevel:M,startTime:W,expirationTime:ie,sortIndex:-1},W>ee?(M.sortIndex=W,e(m,M),s(p)===null&&M===s(m)&&(E?(U(V),V=-1):E=!0,se(C,W-ee))):(M.sortIndex=ie,e(p,M),S||b||(S=!0,N||(N=!0,ce()))),M},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(M){var Q=_;return function(){var W=_;_=Q;try{return M.apply(this,arguments)}finally{_=W}}}})(nf)),nf}var Gg;function pS(){return Gg||(Gg=1,tf.exports=hS()),tf.exports}var sf={exports:{}},xt={};var Kg;function mS(){if(Kg)return xt;Kg=1;var n=ld();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,g)},xt.flushSync=function(p){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=m,r.p=g,r.d.f()}},xt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},xt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},xt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},xt.requestFormReset=function(p){r.d.r(p)},xt.unstable_batchedUpdates=function(p,m){return p(m)},xt.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var Qg;function gS(){if(Qg)return sf.exports;Qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sf.exports=mS(),sf.exports}var Fg;function yS(){if(Fg)return la;Fg=1;var n=pS(),e=ld(),s=gS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function m(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return p(f),t;if(h===o)return p(f),i;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=h;else{for(var v=!1,x=f.child;x;){if(x===a){v=!0,a=f,o=h;break}if(x===o){v=!0,o=f,a=h;break}x=x.sibling}if(!v){for(x=h.child;x;){if(x===a){v=!0,a=h,o=f;break}if(x===o){v=!0,o=h,a=f;break}x=x.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case L:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:J(t.type)||"Memo";case $:i=t._payload,t=t._init;try{return J(t(i))}catch{}}return null}var se=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ee=[],ie=-1;function R(t){return{current:t}}function H(t){0>ie||(t.current=ee[ie],ee[ie]=null,ie--)}function Z(t,i){ie++,ee[ie]=t.current,t.current=i}var re=R(null),ge=R(null),ae=R(null),me=R(null);function Se(t,i){switch(Z(ae,i),Z(ge,t),Z(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?og(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=og(i),t=cg(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(re),Z(re,t)}function Me(){H(re),H(ge),H(ae)}function en(t){t.memoizedState!==null&&Z(me,t);var i=re.current,a=cg(i,t.type);i!==a&&(Z(ge,t),Z(re,a))}function Ht(t){ge.current===t&&(H(re),H(ge)),me.current===t&&(H(me),na._currentValue=W)}var vn,si;function tn(t){if(vn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vn=i&&i[1]||"",si=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vn+t+si}var ri=!1;function _n(t,i){if(!t||ri)return"";ri=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var P=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){P=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){P=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],x=h[1];if(v&&x){var A=v.split(`
`),B=x.split(`
`);for(f=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===A.length||f===B.length)for(o=A.length-1,f=B.length-1;1<=o&&0<=f&&A[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(A[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||A[o]!==B[f]){var K=`
`+A[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=f);break}}}finally{ri=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?tn(a):""}function hr(t,i){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==i&&i!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return _n(t.type,!1);case 11:return _n(t.type.render,!1);case 1:return _n(t.type,!0);case 31:return tn("Activity");default:return""}}function pr(t){try{var i="",a=null;do i+=hr(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pi=Object.prototype.hasOwnProperty,hs=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,Oe=n.unstable_shouldYield,Ue=n.unstable_requestPaint,he=n.unstable_now,ht=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,zn=n.unstable_UserBlockingPriority,wn=n.unstable_NormalPriority,lt=n.unstable_LowPriority,St=n.unstable_IdlePriority,Tn=n.log,ai=n.unstable_setDisableYieldValue,li=null,pt=null;function oi(t){if(typeof Tn=="function"&&ai(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(li,t)}catch{}}var qt=Math.clz32?Math.clz32:$v,Yv=Math.log,Xv=Math.LN2;function $v(t){return t>>>=0,t===0?32:31-(Yv(t)/Xv|0)|0}var Na=256,Ma=262144,La=4194304;function Vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ja(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~h,o!==0?f=Vi(o):(v&=x,v!==0?f=Vi(v):a||(a=x&~t,a!==0&&(f=Vi(a))))):(x=o&~h,x!==0?f=Vi(x):v!==0?f=Vi(v):a||(a=o&~t,a!==0&&(f=Vi(a)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:f}function mr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Jv(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(){var t=La;return La<<=1,(La&62914560)===0&&(La=4194304),t}function Po(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zv(t,i,a,o,f,h){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,A=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-qt(a),X=1<<K;x[K]=0,A[K]=-1;var P=B[K];if(P!==null)for(B[K]=null,K=0;K<P.length;K++){var q=P[K];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&Gd(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~i))}function Gd(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-qt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Kd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-qt(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Qd(t,i){var a=i&-i;return a=(a&42)!==0?1:Vo(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ho(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fd(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Ng(t.type))}function Yd(t,i){var a=Q.p;try{return Q.p=t,i()}finally{Q.p=a}}var ci=Math.random().toString(36).slice(2),mt="__reactFiber$"+ci,Nt="__reactProps$"+ci,ps="__reactContainer$"+ci,qo="__reactEvents$"+ci,Wv="__reactListeners$"+ci,e_="__reactHandles$"+ci,Xd="__reactResources$"+ci,yr="__reactMarker$"+ci;function Go(t){delete t[mt],delete t[Nt],delete t[qo],delete t[Wv],delete t[e_]}function ms(t){var i=t[mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ps]||a[mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=gg(t);t!==null;){if(a=t[mt])return a;t=gg(t)}return i}t=a,a=t.parentNode}return null}function gs(t){if(t=t[mt]||t[ps]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ys(t){var i=t[Xd];return i||(i=t[Xd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ot(t){t[yr]=!0}var $d=new Set,Jd={};function Hi(t,i){vs(t,i),vs(t+"Capture",i)}function vs(t,i){for(Jd[t]=i,t=0;t<i.length;t++)$d.add(i[t])}var t_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zd={},Wd={};function n_(t){return Pi.call(Wd,t)?!0:Pi.call(Zd,t)?!1:t_.test(t)?Wd[t]=!0:(Zd[t]=!0,!1)}function za(t,i,a){if(n_(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ia(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function In(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eh(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function i_(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ko(t){if(!t._valueTracker){var i=eh(t)?"checked":"value";t._valueTracker=i_(t,i,""+t[i])}}function th(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=eh(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var s_=/[\n"\\]/g;function sn(t){return t.replace(s_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qo(t,i,a,o,f,h,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,v,nn(i)):a!=null?Fo(t,v,nn(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+nn(x):t.removeAttribute("name")}function nh(t,i,a,o,f,h,v,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){Ko(t);return}a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ko(t)}function Fo(t,i,a){i==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _s(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ih(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function sh(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(se(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ko(t)}function bs(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var r_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||r_.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ah(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&rh(t,f,o)}else for(var h in i)i.hasOwnProperty(h)&&rh(t,h,i[h])}function Yo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(t){return l_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Xo=null;function $o(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,xs=null;function lh(t){var i=gs(t);if(i&&(t=i.stateNode)){var a=t[Nt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Qo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Nt]||null;if(!f)throw Error(r(90));Qo(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&th(o)}break e;case"textarea":ih(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_s(t,!!a.multiple,i,!1)}}}var Jo=!1;function oh(t,i,a){if(Jo)return t(i,a);Jo=!0;try{var o=t(i);return o}finally{if(Jo=!1,(Ss!==null||xs!==null)&&(Rl(),Ss&&(i=Ss,t=xs,xs=Ss=null,lh(i),t)))for(i=0;i<t.length;i++)lh(t[i])}}function _r(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Nt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=!1;if(Un)try{var br={};Object.defineProperty(br,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Zo=!1}var ui=null,Wo=null,Pa=null;function ch(){if(Pa)return Pa;var t,i=Wo,a=i.length,o,f="value"in ui?ui.value:ui.textContent,h=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===f[h-o];o++);return Pa=f.slice(t,1<o?1-o:void 0)}function Va(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ha(){return!0}function uh(){return!1}function Mt(t){function i(a,o,f,h,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ha:uh,this.isPropagationStopped=uh,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Mt(qi),Sr=y({},qi,{view:0,detail:0}),o_=Mt(Sr),ec,tc,xr,Ga=y({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(ec=t.screenX-xr.screenX,tc=t.screenY-xr.screenY):tc=ec=0,xr=t),ec)},movementY:function(t){return"movementY"in t?t.movementY:tc}}),fh=Mt(Ga),c_=y({},Ga,{dataTransfer:0}),u_=Mt(c_),f_=y({},Sr,{relatedTarget:0}),nc=Mt(f_),d_=y({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),h_=Mt(d_),p_=y({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m_=Mt(p_),g_=y({},qi,{data:0}),dh=Mt(g_),y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},__={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=__[t])?!!i[t]:!1}function ic(){return b_}var S_=y({},Sr,{key:function(t){if(t.key){var i=y_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x_=Mt(S_),E_=y({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=Mt(E_),w_=y({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),T_=Mt(w_),R_=y({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C_=Mt(R_),A_=y({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O_=Mt(A_),k_=y({},qi,{newState:0,oldState:0}),D_=Mt(k_),N_=[9,13,27,32],sc=Un&&"CompositionEvent"in window,Er=null;Un&&"documentMode"in document&&(Er=document.documentMode);var M_=Un&&"TextEvent"in window&&!Er,ph=Un&&(!sc||Er&&8<Er&&11>=Er),mh=" ",gh=!1;function yh(t,i){switch(t){case"keyup":return N_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function L_(t,i){switch(t){case"compositionend":return vh(i);case"keypress":return i.which!==32?null:(gh=!0,mh);case"textInput":return t=i.data,t===mh&&gh?null:t;default:return null}}function j_(t,i){if(Es)return t==="compositionend"||!sc&&yh(t,i)?(t=ch(),Pa=Wo=ui=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ph&&i.locale!=="ko"?null:i.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!z_[t.type]:i==="textarea"}function bh(t,i,a,o){Ss?xs?xs.push(o):xs=[o]:Ss=o,i=Ml(i,"onChange"),0<i.length&&(a=new qa("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var wr=null,Tr=null;function I_(t){ng(t,0)}function Ka(t){var i=vr(t);if(th(i))return t}function Sh(t,i){if(t==="change")return i}var xh=!1;if(Un){var rc;if(Un){var ac="oninput"in document;if(!ac){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),ac=typeof Eh.oninput=="function"}rc=ac}else rc=!1;xh=rc&&(!document.documentMode||9<document.documentMode)}function wh(){wr&&(wr.detachEvent("onpropertychange",Th),Tr=wr=null)}function Th(t){if(t.propertyName==="value"&&Ka(Tr)){var i=[];bh(i,Tr,t,$o(t)),oh(I_,i)}}function B_(t,i,a){t==="focusin"?(wh(),wr=i,Tr=a,wr.attachEvent("onpropertychange",Th)):t==="focusout"&&wh()}function U_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(Tr)}function P_(t,i){if(t==="click")return Ka(i)}function V_(t,i){if(t==="input"||t==="change")return Ka(i)}function H_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gt=typeof Object.is=="function"?Object.is:H_;function Rr(t,i){if(Gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Pi.call(i,f)||!Gt(t[f],i[f]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,i){var a=Rh(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rh(a)}}function Ah(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ah(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Oh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ba(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ba(t.document)}return i}function lc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var q_=Un&&"documentMode"in document&&11>=document.documentMode,ws=null,oc=null,Cr=null,cc=!1;function kh(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||ws==null||ws!==Ba(o)||(o=ws,"selectionStart"in o&&lc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cr&&Rr(Cr,o)||(Cr=o,o=Ml(oc,"onSelect"),0<o.length&&(i=new qa("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ws)))}function Gi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ts={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},uc={},Dh={};Un&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ki(t){if(uc[t])return uc[t];if(!Ts[t])return t;var i=Ts[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Dh)return uc[t]=i[a];return t}var Nh=Ki("animationend"),Mh=Ki("animationiteration"),Lh=Ki("animationstart"),G_=Ki("transitionrun"),K_=Ki("transitionstart"),Q_=Ki("transitioncancel"),jh=Ki("transitionend"),zh=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function bn(t,i){zh.set(t,i),Hi(i,[t])}var Qa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rn=[],Rs=0,dc=0;function Fa(){for(var t=Rs,i=dc=Rs=0;i<t;){var a=rn[i];rn[i++]=null;var o=rn[i];rn[i++]=null;var f=rn[i];rn[i++]=null;var h=rn[i];if(rn[i++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&Ih(a,f,h)}}function Ya(t,i,a,o){rn[Rs++]=t,rn[Rs++]=i,rn[Rs++]=a,rn[Rs++]=o,dc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function hc(t,i,a,o){return Ya(t,i,a,o),Xa(t)}function Qi(t,i){return Ya(t,null,null,i),Xa(t)}function Ih(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&i!==null&&(f=31-qt(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),h):null}function Xa(t){if(50<Xr)throw Xr=0,xu=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Cs={};function F_(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,i,a,o){return new F_(t,i,a,o)}function pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,i){var a=t.alternate;return a===null?(a=Kt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $a(t,i,a,o,f,h){var v=0;if(o=t,typeof t=="function")pc(t)&&(v=1);else if(typeof t=="string")v=Zb(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Y:return t=Kt(31,a,i,f),t.elementType=Y,t.lanes=h,t;case E:return Fi(a.children,f,h,i);case O:v=8,f|=24;break;case D:return t=Kt(12,a,i,f|2),t.elementType=D,t.lanes=h,t;case C:return t=Kt(13,a,i,f),t.elementType=C,t.lanes=h,t;case N:return t=Kt(19,a,i,f),t.elementType=N,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:v=10;break e;case U:v=9;break e;case z:v=11;break e;case V:v=14;break e;case $:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Kt(v,a,i,f),i.elementType=t,i.type=o,i.lanes=h,i}function Fi(t,i,a,o){return t=Kt(7,t,o,i),t.lanes=a,t}function mc(t,i,a){return t=Kt(6,t,null,i),t.lanes=a,t}function Uh(t){var i=Kt(18,null,null,0);return i.stateNode=t,i}function gc(t,i,a){return i=Kt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ph=new WeakMap;function an(t,i){if(typeof t=="object"&&t!==null){var a=Ph.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pr(i)},Ph.set(t,i),i)}return{value:t,source:i,stack:pr(i)}}var As=[],Os=0,Ja=null,Ar=0,ln=[],on=0,fi=null,Rn=1,Cn="";function Vn(t,i){As[Os++]=Ar,As[Os++]=Ja,Ja=t,Ar=i}function Vh(t,i,a){ln[on++]=Rn,ln[on++]=Cn,ln[on++]=fi,fi=t;var o=Rn;t=Cn;var f=32-qt(o)-1;o&=~(1<<f),a+=1;var h=32-qt(i)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Rn=1<<32-qt(i)+f|a<<f|o,Cn=h+t}else Rn=1<<h|a<<f|o,Cn=t}function yc(t){t.return!==null&&(Vn(t,1),Vh(t,1,0))}function vc(t){for(;t===Ja;)Ja=As[--Os],As[Os]=null,Ar=As[--Os],As[Os]=null;for(;t===fi;)fi=ln[--on],ln[on]=null,Cn=ln[--on],ln[on]=null,Rn=ln[--on],ln[on]=null}function Hh(t,i){ln[on++]=Rn,ln[on++]=Cn,ln[on++]=fi,Rn=i.id,Cn=i.overflow,fi=t}var gt=null,He=null,Ce=!1,di=null,cn=!1,_c=Error(r(519));function hi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(an(i,t)),_c}function qh(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[mt]=t,i[Nt]=o,a){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(a=0;a<Jr.length;a++)Ee(Jr[a],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Ee("invalid",i),nh(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ee("invalid",i);break;case"textarea":Ee("invalid",i),sh(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ag(i.textContent,a)?(o.popover!=null&&(Ee("beforetoggle",i),Ee("toggle",i)),o.onScroll!=null&&Ee("scroll",i),o.onScrollEnd!=null&&Ee("scrollend",i),o.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||hi(t,!0)}function Gh(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:gt=gt.return}}function ks(t){if(t!==gt)return!1;if(!Ce)return Gh(t),Ce=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Iu(t.type,t.memoizedProps)),a=!a),a&&He&&hi(t),Gh(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));He=mg(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));He=mg(t)}else i===27?(i=He,Ci(t.type)?(t=Hu,Hu=null,He=t):He=i):He=gt?fn(t.stateNode.nextSibling):null;return!0}function Yi(){He=gt=null,Ce=!1}function bc(){var t=di;return t!==null&&(It===null?It=t:It.push.apply(It,t),di=null),t}function Or(t){di===null?di=[t]:di.push(t)}var Sc=R(null),Xi=null,Hn=null;function pi(t,i,a){Z(Sc,i._currentValue),i._currentValue=a}function qn(t){t._currentValue=Sc.current,H(Sc)}function xc(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Ec(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=f;for(var A=0;A<i.length;A++)if(x.context===i[A]){h.lanes|=a,x=h.alternate,x!==null&&(x.lanes|=a),xc(h.return,a,t),o||(v=null);break e}h=x.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),xc(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ds(t,i,a,o){t=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var x=f.type;Gt(f.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(f===me.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(na):t=[na])}f=f.return}t!==null&&Ec(i,t,a,o),i.flags|=262144}function Za(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $i(t){Xi=t,Hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Kh(Xi,t)}function Wa(t,i){return Xi===null&&$i(t),Kh(t,i)}function Kh(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hn===null){if(t===null)throw Error(r(308));Hn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hn=Hn.next=i;return a}var Y_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},X_=n.unstable_scheduleCallback,$_=n.unstable_NormalPriority,$e={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new Y_,data:new Map,refCount:0}}function kr(t){t.refCount--,t.refCount===0&&X_($_,function(){t.controller.abort()})}var Dr=null,Tc=0,Ns=0,Ms=null;function J_(t,i){if(Dr===null){var a=Dr=[];Tc=0,Ns=Au(),Ms={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tc++,i.then(Qh,Qh),i}function Qh(){if(--Tc===0&&Dr!==null){Ms!==null&&(Ms.status="fulfilled");var t=Dr;Dr=null,Ns=0,Ms=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Z_(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Fh=M.S;M.S=function(t,i){km=he(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&J_(t,i),Fh!==null&&Fh(t,i)};var Ji=R(null);function Rc(){var t=Ji.current;return t!==null?t:Pe.pooledCache}function el(t,i){i===null?Z(Ji,Ji.current):Z(Ji,i.pool)}function Yh(){var t=Rc();return t===null?null:{parent:$e._currentValue,pool:t}}var Ls=Error(r(460)),Cc=Error(r(474)),tl=Error(r(542)),nl={then:function(){}};function Xh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $h(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Bn,Bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zh(t),t;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(t=Pe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zh(t),t}throw Wi=i,Ls}}function Zi(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wi=a,Ls):a}}var Wi=null;function Jh(){if(Wi===null)throw Error(r(459));var t=Wi;return Wi=null,t}function Zh(t){if(t===Ls||t===tl)throw Error(r(483))}var js=null,Nr=0;function il(t){var i=Nr;return Nr+=1,js===null&&(js=[]),$h(js,t,i)}function Mr(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sl(t,i){throw i.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wh(t){function i(j,k){if(t){var I=j.deletions;I===null?(j.deletions=[k],j.flags|=16):I.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function o(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Pn(j,k),j.index=0,j.sibling=null,j}function h(j,k,I){return j.index=I,t?(I=j.alternate,I!==null?(I=I.index,I<k?(j.flags|=67108866,k):I):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function x(j,k,I,F){return k===null||k.tag!==6?(k=mc(I,j.mode,F),k.return=j,k):(k=f(k,I),k.return=j,k)}function A(j,k,I,F){var de=I.type;return de===E?K(j,k,I.props.children,F,I.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===$&&Zi(de)===k.type)?(k=f(k,I.props),Mr(k,I),k.return=j,k):(k=$a(I.type,I.key,I.props,null,j.mode,F),Mr(k,I),k.return=j,k)}function B(j,k,I,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=gc(I,j.mode,F),k.return=j,k):(k=f(k,I.children||[]),k.return=j,k)}function K(j,k,I,F,de){return k===null||k.tag!==7?(k=Fi(I,j.mode,F,de),k.return=j,k):(k=f(k,I),k.return=j,k)}function X(j,k,I){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=mc(""+k,j.mode,I),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return I=$a(k.type,k.key,k.props,null,j.mode,I),Mr(I,k),I.return=j,I;case S:return k=gc(k,j.mode,I),k.return=j,k;case $:return k=Zi(k),X(j,k,I)}if(se(k)||ce(k))return k=Fi(k,j.mode,I,null),k.return=j,k;if(typeof k.then=="function")return X(j,il(k),I);if(k.$$typeof===L)return X(j,Wa(j,k),I);sl(j,k)}return null}function P(j,k,I,F){var de=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return de!==null?null:x(j,k,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return I.key===de?A(j,k,I,F):null;case S:return I.key===de?B(j,k,I,F):null;case $:return I=Zi(I),P(j,k,I,F)}if(se(I)||ce(I))return de!==null?null:K(j,k,I,F,null);if(typeof I.then=="function")return P(j,k,il(I),F);if(I.$$typeof===L)return P(j,k,Wa(j,I),F);sl(j,I)}return null}function q(j,k,I,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(I)||null,x(k,j,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return j=j.get(F.key===null?I:F.key)||null,A(k,j,F,de);case S:return j=j.get(F.key===null?I:F.key)||null,B(k,j,F,de);case $:return F=Zi(F),q(j,k,I,F,de)}if(se(F)||ce(F))return j=j.get(I)||null,K(k,j,F,de,null);if(typeof F.then=="function")return q(j,k,I,il(F),de);if(F.$$typeof===L)return q(j,k,I,Wa(k,F),de);sl(k,F)}return null}function le(j,k,I,F){for(var de=null,ke=null,ue=k,_e=k=0,Te=null;ue!==null&&_e<I.length;_e++){ue.index>_e?(Te=ue,ue=null):Te=ue.sibling;var De=P(j,ue,I[_e],F);if(De===null){ue===null&&(ue=Te);break}t&&ue&&De.alternate===null&&i(j,ue),k=h(De,k,_e),ke===null?de=De:ke.sibling=De,ke=De,ue=Te}if(_e===I.length)return a(j,ue),Ce&&Vn(j,_e),de;if(ue===null){for(;_e<I.length;_e++)ue=X(j,I[_e],F),ue!==null&&(k=h(ue,k,_e),ke===null?de=ue:ke.sibling=ue,ke=ue);return Ce&&Vn(j,_e),de}for(ue=o(ue);_e<I.length;_e++)Te=q(ue,j,_e,I[_e],F),Te!==null&&(t&&Te.alternate!==null&&ue.delete(Te.key===null?_e:Te.key),k=h(Te,k,_e),ke===null?de=Te:ke.sibling=Te,ke=Te);return t&&ue.forEach(function(Ni){return i(j,Ni)}),Ce&&Vn(j,_e),de}function pe(j,k,I,F){if(I==null)throw Error(r(151));for(var de=null,ke=null,ue=k,_e=k=0,Te=null,De=I.next();ue!==null&&!De.done;_e++,De=I.next()){ue.index>_e?(Te=ue,ue=null):Te=ue.sibling;var Ni=P(j,ue,De.value,F);if(Ni===null){ue===null&&(ue=Te);break}t&&ue&&Ni.alternate===null&&i(j,ue),k=h(Ni,k,_e),ke===null?de=Ni:ke.sibling=Ni,ke=Ni,ue=Te}if(De.done)return a(j,ue),Ce&&Vn(j,_e),de;if(ue===null){for(;!De.done;_e++,De=I.next())De=X(j,De.value,F),De!==null&&(k=h(De,k,_e),ke===null?de=De:ke.sibling=De,ke=De);return Ce&&Vn(j,_e),de}for(ue=o(ue);!De.done;_e++,De=I.next())De=q(ue,j,_e,De.value,F),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?_e:De.key),k=h(De,k,_e),ke===null?de=De:ke.sibling=De,ke=De);return t&&ue.forEach(function(cS){return i(j,cS)}),Ce&&Vn(j,_e),de}function Be(j,k,I,F){if(typeof I=="object"&&I!==null&&I.type===E&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case b:e:{for(var de=I.key;k!==null;){if(k.key===de){if(de=I.type,de===E){if(k.tag===7){a(j,k.sibling),F=f(k,I.props.children),F.return=j,j=F;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===$&&Zi(de)===k.type){a(j,k.sibling),F=f(k,I.props),Mr(F,I),F.return=j,j=F;break e}a(j,k);break}else i(j,k);k=k.sibling}I.type===E?(F=Fi(I.props.children,j.mode,F,I.key),F.return=j,j=F):(F=$a(I.type,I.key,I.props,null,j.mode,F),Mr(F,I),F.return=j,j=F)}return v(j);case S:e:{for(de=I.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){a(j,k.sibling),F=f(k,I.children||[]),F.return=j,j=F;break e}else{a(j,k);break}else i(j,k);k=k.sibling}F=gc(I,j.mode,F),F.return=j,j=F}return v(j);case $:return I=Zi(I),Be(j,k,I,F)}if(se(I))return le(j,k,I,F);if(ce(I)){if(de=ce(I),typeof de!="function")throw Error(r(150));return I=de.call(I),pe(j,k,I,F)}if(typeof I.then=="function")return Be(j,k,il(I),F);if(I.$$typeof===L)return Be(j,k,Wa(j,I),F);sl(j,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,k!==null&&k.tag===6?(a(j,k.sibling),F=f(k,I),F.return=j,j=F):(a(j,k),F=mc(I,j.mode,F),F.return=j,j=F),v(j)):a(j,k)}return function(j,k,I,F){try{Nr=0;var de=Be(j,k,I,F);return js=null,de}catch(ue){if(ue===Ls||ue===tl)throw ue;var ke=Kt(29,ue,null,j.mode);return ke.lanes=F,ke.return=j,ke}}}var es=Wh(!0),ep=Wh(!1),mi=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ne&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Xa(t),Ih(t,null,a),i}return Ya(t,o,i,a),Xa(t)}function Lr(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Kd(t,a)}}function kc(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?f=h=i:h=h.next=i}else f=h=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Dc=!1;function jr(){if(Dc){var t=Ms;if(t!==null)throw t}}function zr(t,i,a,o){Dc=!1;var f=t.updateQueue;mi=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var A=x,B=A.next;A.next=null,v===null?h=B:v.next=B,v=A;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==v&&(x===null?K.firstBaseUpdate=B:x.next=B,K.lastBaseUpdate=A))}if(h!==null){var X=f.baseState;v=0,K=B=A=null,x=h;do{var P=x.lane&-536870913,q=P!==x.lane;if(q?(we&P)===P:(o&P)===P){P!==0&&P===Ns&&(Dc=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var le=t,pe=x;P=i;var Be=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){X=le.call(Be,X,P);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,P=typeof le=="function"?le.call(Be,X,P):le,P==null)break e;X=y({},X,P);break e;case 2:mi=!0}}P=x.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=f.callbacks,q===null?f.callbacks=[P]:q.push(P))}else q={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(B=K=q,A=X):K=K.next=q,v|=P;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;q=x,x=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(A=X),f.baseState=A,f.firstBaseUpdate=B,f.lastBaseUpdate=K,h===null&&(f.shared.lanes=0),xi|=v,t.lanes=v,t.memoizedState=X}}function tp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function np(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tp(a[t],i)}var zs=R(null),rl=R(0);function ip(t,i){t=Zn,Z(rl,t),Z(zs,i),Zn=t|i.baseLanes}function Nc(){Z(rl,Zn),Z(zs,zs.current)}function Mc(){Zn=rl.current,H(zs),H(rl)}var Qt=R(null),un=null;function vi(t){var i=t.alternate;Z(Ye,Ye.current&1),Z(Qt,t),un===null&&(i===null||zs.current!==null||i.memoizedState!==null)&&(un=t)}function Lc(t){Z(Ye,Ye.current),Z(Qt,t),un===null&&(un=t)}function sp(t){t.tag===22?(Z(Ye,Ye.current),Z(Qt,t),un===null&&(un=t)):_i()}function _i(){Z(Ye,Ye.current),Z(Qt,Qt.current)}function Ft(t){H(Qt),un===t&&(un=null),H(Ye)}var Ye=R(0);function al(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pu(a)||Vu(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gn=0,ve=null,ze=null,Je=null,ll=!1,Is=!1,ts=!1,ol=0,Ir=0,Bs=null,W_=0;function Qe(){throw Error(r(321))}function jc(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Gt(t[a],i[a]))return!1;return!0}function zc(t,i,a,o,f,h){return Gn=h,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=t===null||t.memoizedState===null?Vp:Jc,ts=!1,h=a(o,f),ts=!1,Is&&(h=ap(i,a,o,f)),rp(t),h}function rp(t){M.H=Pr;var i=ze!==null&&ze.next!==null;if(Gn=0,Je=ze=ve=null,ll=!1,Ir=0,Bs=null,i)throw Error(r(300));t===null||Ze||(t=t.dependencies,t!==null&&Za(t)&&(Ze=!0))}function ap(t,i,a,o){ve=t;var f=0;do{if(Is&&(Bs=null),Ir=0,Is=!1,25<=f)throw Error(r(301));if(f+=1,Je=ze=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Hp,h=i(a,o)}while(Is);return h}function eb(){var t=M.H,i=t.useState()[0];return i=typeof i.then=="function"?Br(i):i,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(ve.flags|=1024),i}function Ic(){var t=ol!==0;return ol=0,t}function Bc(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Uc(t){if(ll){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ll=!1}Gn=0,Je=ze=ve=null,Is=!1,Ir=ol=0,Bs=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ve.memoizedState=Je=t:Je=Je.next=t,Je}function Xe(){if(ze===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var i=Je===null?ve.memoizedState:Je.next;if(i!==null)Je=i,ze=t;else{if(t===null)throw ve.alternate===null?Error(r(467)):Error(r(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Je===null?ve.memoizedState=Je=t:Je=Je.next=t}return Je}function cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(t){var i=Ir;return Ir+=1,Bs===null&&(Bs=[]),t=$h(Bs,t,i),i=ve,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?Vp:Jc),t}function ul(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Br(t);if(t.$$typeof===L)return yt(t)}throw Error(r(438,String(t)))}function Pc(t){var i=null,a=ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cl(),ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=ne;return i.index++,a}function Kn(t,i){return typeof i=="function"?i(t):i}function fl(t){var i=Xe();return Vc(i,ze,t)}function Vc(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}i.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{i=f.next;var x=v=null,A=null,B=i,K=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(we&X)===X:(Gn&X)===X){var P=B.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Ns&&(K=!0);else if((Gn&P)===P){B=B.next,P===Ns&&(K=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(x=A=X,v=h):A=A.next=X,ve.lanes|=P,xi|=P;X=B.action,ts&&a(h,X),h=B.hasEagerState?B.eagerState:a(h,X)}else P={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(x=A=P,v=h):A=A.next=P,ve.lanes|=X,xi|=X;B=B.next}while(B!==null&&B!==i);if(A===null?v=h:A.next=x,!Gt(h,t.memoizedState)&&(Ze=!0,K&&(a=Ms,a!==null)))throw a;t.memoizedState=h,t.baseState=v,t.baseQueue=A,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Hc(t){var i=Xe(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do h=t(h,v.action),v=v.next;while(v!==f);Gt(h,i.memoizedState)||(Ze=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,o]}function lp(t,i,a){var o=ve,f=Xe(),h=Ce;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Gt((ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Ze=!0),f=f.queue,Kc(up.bind(null,o,f,t),[t]),f.getSnapshot!==i||v||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,Us(9,{destroy:void 0},cp.bind(null,o,f,a,i),null),Pe===null)throw Error(r(349));h||(Gn&127)!==0||op(o,i,a)}return a}function op(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ve.updateQueue,i===null?(i=cl(),ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function cp(t,i,a,o){i.value=a,i.getSnapshot=o,fp(i)&&dp(t)}function up(t,i,a){return a(function(){fp(i)&&dp(t)})}function fp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Gt(t,a)}catch{return!0}}function dp(t){var i=Qi(t,2);i!==null&&Bt(i,t,2)}function qc(t){var i=Ct();if(typeof t=="function"){var a=t;if(t=a(),ts){oi(!0);try{a()}finally{oi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},i}function hp(t,i,a,o){return t.baseState=a,Vc(t,ze,typeof o=="function"?o:Kn)}function tb(t,i,a,o,f){if(pl(t))throw Error(r(485));if(t=i.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};M.T!==null?a(!0):h.isTransition=!1,o(h),a=i.pending,a===null?(h.next=i.pending=h,pp(i,h)):(h.next=a.next,i.pending=a.next=h)}}function pp(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var h=M.T,v={};M.T=v;try{var x=a(f,o),A=M.S;A!==null&&A(v,x),mp(t,i,x)}catch(B){Gc(t,i,B)}finally{h!==null&&v.types!==null&&(h.types=v.types),M.T=h}}else try{h=a(f,o),mp(t,i,h)}catch(B){Gc(t,i,B)}}function mp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gp(t,i,o)},function(o){return Gc(t,i,o)}):gp(t,i,a)}function gp(t,i,a){i.status="fulfilled",i.value=a,yp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,pp(t,a)))}function Gc(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,yp(i),i=i.next;while(i!==o)}t.action=null}function yp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vp(t,i){return i}function _p(t,i){if(Ce){var a=Pe.formState;if(a!==null){e:{var o=ve;if(Ce){if(He){t:{for(var f=He,h=cn;f.nodeType!==8;){if(!h){f=null;break t}if(f=fn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){He=fn(f.nextSibling),o=f.data==="F!";break e}}hi(o)}o=!1}o&&(i=a[0])}}return a=Ct(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:i},a.queue=o,a=Bp.bind(null,ve,o),o.dispatch=a,o=qc(!1),h=$c.bind(null,ve,!1,o.queue),o=Ct(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=tb.bind(null,ve,f,h,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function bp(t){var i=Xe();return Sp(i,ze,t)}function Sp(t,i,a){if(i=Vc(t,i,vp)[0],t=fl(Kn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Br(i)}catch(v){throw v===Ls?tl:v}else o=i;i=Xe();var f=i.queue,h=f.dispatch;return a!==i.memoizedState&&(ve.flags|=2048,Us(9,{destroy:void 0},nb.bind(null,f,a),null)),[o,h,t]}function nb(t,i){t.action=i}function xp(t){var i=Xe(),a=ze;if(a!==null)return Sp(i,a,t);Xe(),i=i.memoizedState,a=Xe();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Us(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=ve.updateQueue,i===null&&(i=cl(),ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ep(){return Xe().memoizedState}function dl(t,i,a,o){var f=Ct();ve.flags|=t,f.memoizedState=Us(1|i,{destroy:void 0},a,o===void 0?null:o)}function hl(t,i,a,o){var f=Xe();o=o===void 0?null:o;var h=f.memoizedState.inst;ze!==null&&o!==null&&jc(o,ze.memoizedState.deps)?f.memoizedState=Us(i,h,a,o):(ve.flags|=t,f.memoizedState=Us(1|i,h,a,o))}function wp(t,i){dl(8390656,8,t,i)}function Kc(t,i){hl(2048,8,t,i)}function ib(t){ve.flags|=4;var i=ve.updateQueue;if(i===null)i=cl(),ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Tp(t){var i=Xe().memoizedState;return ib({ref:i,nextImpl:t}),function(){if((Ne&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Rp(t,i){return hl(4,2,t,i)}function Cp(t,i){return hl(4,4,t,i)}function Ap(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Op(t,i,a){a=a!=null?a.concat([t]):null,hl(4,4,Ap.bind(null,i,t),a)}function Qc(){}function kp(t,i){var a=Xe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&jc(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Dp(t,i){var a=Xe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&jc(i,o[1]))return o[0];if(o=t(),ts){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,i],o}function Fc(t,i,a){return a===void 0||(Gn&1073741824)!==0&&(we&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nm(),ve.lanes|=t,xi|=t,a)}function Np(t,i,a,o){return Gt(a,i)?a:zs.current!==null?(t=Fc(t,a,o),Gt(t,i)||(Ze=!0),t):(Gn&42)===0||(Gn&1073741824)!==0&&(we&261930)===0?(Ze=!0,t.memoizedState=a):(t=Nm(),ve.lanes|=t,xi|=t,i)}function Mp(t,i,a,o,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var v=M.T,x={};M.T=x,$c(t,!1,i,a);try{var A=f(),B=M.S;if(B!==null&&B(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var K=Z_(A,o);Ur(t,i,K,$t(t))}else Ur(t,i,o,$t(t))}catch(X){Ur(t,i,{then:function(){},status:"rejected",reason:X},$t())}finally{Q.p=h,v!==null&&x.types!==null&&(v.types=x.types),M.T=v}}function sb(){}function Yc(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Lp(t).queue;Mp(t,f,i,W,a===null?sb:function(){return jp(t),a(o)})}function Lp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:W},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jp(t){var i=Lp(t);i.next===null&&(i=t.alternate.memoizedState),Ur(t,i.next.queue,{},$t())}function Xc(){return yt(na)}function zp(){return Xe().memoizedState}function Ip(){return Xe().memoizedState}function rb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=$t();t=gi(a);var o=yi(i,t,a);o!==null&&(Bt(o,i,a),Lr(o,i,a)),i={cache:wc()},t.payload=i;return}i=i.return}}function ab(t,i,a){var o=$t();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pl(t)?Up(i,a):(a=hc(t,i,a,o),a!==null&&(Bt(a,t,o),Pp(a,i,o)))}function Bp(t,i,a){var o=$t();Ur(t,i,a,o)}function Ur(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pl(t))Up(i,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,x=h(v,a);if(f.hasEagerState=!0,f.eagerState=x,Gt(x,v))return Ya(t,i,f,0),Pe===null&&Fa(),!1}catch{}if(a=hc(t,i,f,o),a!==null)return Bt(a,t,o),Pp(a,i,o),!0}return!1}function $c(t,i,a,o){if(o={lane:2,revertLane:Au(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pl(t)){if(i)throw Error(r(479))}else i=hc(t,a,o,2),i!==null&&Bt(i,t,2)}function pl(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function Up(t,i){Is=ll=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Pp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Kd(t,a)}}var Pr={readContext:yt,use:ul,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Pr.useEffectEvent=Qe;var Vp={readContext:yt,use:ul,useCallback:function(t,i){return Ct().memoizedState=[t,i===void 0?null:i],t},useContext:yt,useEffect:wp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dl(4194308,4,Ap.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dl(4194308,4,t,i)},useInsertionEffect:function(t,i){dl(4,2,t,i)},useMemo:function(t,i){var a=Ct();i=i===void 0?null:i;var o=t();if(ts){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=Ct();if(a!==void 0){var f=a(i);if(ts){oi(!0);try{a(i)}finally{oi(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=ab.bind(null,ve,t),[o.memoizedState,t]},useRef:function(t){var i=Ct();return t={current:t},i.memoizedState=t},useState:function(t){t=qc(t);var i=t.queue,a=Bp.bind(null,ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Qc,useDeferredValue:function(t,i){var a=Ct();return Fc(a,t,i)},useTransition:function(){var t=qc(!1);return t=Mp.bind(null,ve,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=ve,f=Ct();if(Ce){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Pe===null)throw Error(r(349));(we&127)!==0||op(o,i,a)}f.memoizedState=a;var h={value:a,getSnapshot:i};return f.queue=h,wp(up.bind(null,o,h,t),[t]),o.flags|=2048,Us(9,{destroy:void 0},cp.bind(null,o,h,a,i),null),a},useId:function(){var t=Ct(),i=Pe.identifierPrefix;if(Ce){var a=Cn,o=Rn;a=(o&~(1<<32-qt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ol++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=W_++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Xc,useFormState:_p,useActionState:_p,useOptimistic:function(t){var i=Ct();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$c.bind(null,ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Pc,useCacheRefresh:function(){return Ct().memoizedState=rb.bind(null,ve)},useEffectEvent:function(t){var i=Ct(),a={impl:t};return i.memoizedState=a,function(){if((Ne&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Jc={readContext:yt,use:ul,useCallback:kp,useContext:yt,useEffect:Kc,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:fl,useRef:Ep,useState:function(){return fl(Kn)},useDebugValue:Qc,useDeferredValue:function(t,i){var a=Xe();return Np(a,ze.memoizedState,t,i)},useTransition:function(){var t=fl(Kn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Br(t),i]},useSyncExternalStore:lp,useId:zp,useHostTransitionStatus:Xc,useFormState:bp,useActionState:bp,useOptimistic:function(t,i){var a=Xe();return hp(a,ze,t,i)},useMemoCache:Pc,useCacheRefresh:Ip};Jc.useEffectEvent=Tp;var Hp={readContext:yt,use:ul,useCallback:kp,useContext:yt,useEffect:Kc,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Hc,useRef:Ep,useState:function(){return Hc(Kn)},useDebugValue:Qc,useDeferredValue:function(t,i){var a=Xe();return ze===null?Fc(a,t,i):Np(a,ze.memoizedState,t,i)},useTransition:function(){var t=Hc(Kn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Br(t),i]},useSyncExternalStore:lp,useId:zp,useHostTransitionStatus:Xc,useFormState:xp,useActionState:xp,useOptimistic:function(t,i){var a=Xe();return ze!==null?hp(a,ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Ip};Hp.useEffectEvent=Tp;function Zc(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:y({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wc={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=$t(),f=gi(o);f.payload=i,a!=null&&(f.callback=a),i=yi(t,f,o),i!==null&&(Bt(i,t,o),Lr(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=$t(),f=gi(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=yi(t,f,o),i!==null&&(Bt(i,t,o),Lr(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=$t(),o=gi(a);o.tag=2,i!=null&&(o.callback=i),i=yi(t,o,a),i!==null&&(Bt(i,t,a),Lr(i,t,a))}};function qp(t,i,a,o,f,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,v):i.prototype&&i.prototype.isPureReactComponent?!Rr(a,o)||!Rr(f,h):!0}function Gp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Wc.enqueueReplaceState(i,i.state,null)}function ns(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=y({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Kp(t){Qa(t)}function Qp(t){console.error(t)}function Fp(t){Qa(t)}function ml(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function eu(t,i,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){ml(t,i)},a}function Xp(t){return t=gi(t),t.tag=3,t}function $p(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Yp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yp(i,a,o),typeof f!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function lb(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ds(i,a,f,!0),a=Qt.current,a!==null){switch(a.tag){case 31:case 13:return un===null?Cl():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===nl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Tu(t,o,f)),!1;case 22:return a.flags|=65536,o===nl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Tu(t,o,f)),!1}throw Error(r(435,a.tag))}return Tu(t,o,f),Cl(),!1}if(Ce)return i=Qt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==_c&&(t=Error(r(422),{cause:o}),Or(an(t,a)))):(o!==_c&&(i=Error(r(423),{cause:o}),Or(an(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=an(o,a),f=eu(t.stateNode,o,f),kc(t,f),Fe!==4&&(Fe=2)),!1;var h=Error(r(520),{cause:o});if(h=an(h,a),Yr===null?Yr=[h]:Yr.push(h),Fe!==4&&(Fe=2),i===null)return!0;o=an(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=eu(a.stateNode,o,t),kc(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Xp(f),$p(f,t,a,o),kc(a,f),!1}a=a.return}while(a!==null);return!1}var tu=Error(r(461)),Ze=!1;function vt(t,i,a,o){i.child=t===null?ep(i,null,a,o):es(i,t.child,a,o)}function Jp(t,i,a,o,f){a=a.render;var h=i.ref;if("ref"in o){var v={};for(var x in o)x!=="ref"&&(v[x]=o[x])}else v=o;return $i(i),o=zc(t,i,a,v,h,f),x=Ic(),t!==null&&!Ze?(Bc(t,i,f),Qn(t,i,f)):(Ce&&x&&yc(i),i.flags|=1,vt(t,i,o,f),i.child)}function Zp(t,i,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!pc(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Wp(t,i,h,o,f)):(t=$a(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!cu(t,f)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(v,o)&&t.ref===i.ref)return Qn(t,i,f)}return i.flags|=1,t=Pn(h,o),t.ref=i.ref,t.return=i,i.child=t}function Wp(t,i,a,o,f){if(t!==null){var h=t.memoizedProps;if(Rr(h,o)&&t.ref===i.ref)if(Ze=!1,i.pendingProps=o=h,cu(t,f))(t.flags&131072)!==0&&(Ze=!0);else return i.lanes=t.lanes,Qn(t,i,f)}return nu(t,i,a,o,f)}function em(t,i,a,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,i.child=null;return tm(t,i,h,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&el(i,h!==null?h.cachePool:null),h!==null?ip(i,h):Nc(),sp(i);else return o=i.lanes=536870912,tm(t,i,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(el(i,h.cachePool),ip(i,h),_i(),i.memoizedState=null):(t!==null&&el(i,null),Nc(),_i());return vt(t,i,f,a),i.child}function Vr(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tm(t,i,a,o,f){var h=Rc();return h=h===null?null:{parent:$e._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&el(i,null),Nc(),sp(i),t!==null&&Ds(t,i,o,!0),i.childLanes=f,null}function gl(t,i){return i=vl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function nm(t,i,a){return es(i,t.child,null,a),t=gl(i,i.pendingProps),t.flags|=2,Ft(i),i.memoizedState=null,t}function ob(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ce){if(o.mode==="hidden")return t=gl(i,o),i.lanes=536870912,Vr(null,t);if(Lc(i),(t=He)?(t=pg(t,cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Rn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(t),a.return=i,i.child=a,gt=i,He=null)):t=null,t===null)throw hi(i);return i.lanes=536870912,null}return gl(i,o)}var h=t.memoizedState;if(h!==null){var v=h.dehydrated;if(Lc(i),f)if(i.flags&256)i.flags&=-257,i=nm(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ze||Ds(t,i,a,!1),f=(a&t.childLanes)!==0,Ze||f){if(o=Pe,o!==null&&(v=Qd(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,Qi(t,v),Bt(o,t,v),tu;Cl(),i=nm(t,i,a)}else t=h.treeContext,He=fn(v.nextSibling),gt=i,Ce=!0,di=null,cn=!1,t!==null&&Hh(i,t),i=gl(i,o),i.flags|=4096;return i}return t=Pn(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function nu(t,i,a,o,f){return $i(i),a=zc(t,i,a,o,void 0,f),o=Ic(),t!==null&&!Ze?(Bc(t,i,f),Qn(t,i,f)):(Ce&&o&&yc(i),i.flags|=1,vt(t,i,a,f),i.child)}function im(t,i,a,o,f,h){return $i(i),i.updateQueue=null,a=ap(i,o,a,f),rp(t),o=Ic(),t!==null&&!Ze?(Bc(t,i,h),Qn(t,i,h)):(Ce&&o&&yc(i),i.flags|=1,vt(t,i,a,h),i.child)}function sm(t,i,a,o,f){if($i(i),i.stateNode===null){var h=Cs,v=a.contextType;typeof v=="object"&&v!==null&&(h=yt(v)),h=new a(o,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wc,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=o,h.state=i.memoizedState,h.refs={},Ac(i),v=a.contextType,h.context=typeof v=="object"&&v!==null?yt(v):Cs,h.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zc(i,a,v,o),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Wc.enqueueReplaceState(h,h.state,null),zr(i,o,h,f),jr(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){h=i.stateNode;var x=i.memoizedProps,A=ns(a,x);h.props=A;var B=h.context,K=a.contextType;v=Cs,typeof K=="object"&&K!==null&&(v=yt(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||B!==v)&&Gp(i,h,o,v),mi=!1;var P=i.memoizedState;h.state=P,zr(i,o,h,f),jr(),B=i.memoizedState,x||P!==B||mi?(typeof X=="function"&&(Zc(i,a,X,o),B=i.memoizedState),(A=mi||qp(i,a,A,o,P,B,v))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),h.props=o,h.state=B,h.context=v,o=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{h=i.stateNode,Oc(t,i),v=i.memoizedProps,K=ns(a,v),h.props=K,X=i.pendingProps,P=h.context,B=a.contextType,A=Cs,typeof B=="object"&&B!==null&&(A=yt(B)),x=a.getDerivedStateFromProps,(B=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==X||P!==A)&&Gp(i,h,o,A),mi=!1,P=i.memoizedState,h.state=P,zr(i,o,h,f),jr();var q=i.memoizedState;v!==X||P!==q||mi||t!==null&&t.dependencies!==null&&Za(t.dependencies)?(typeof x=="function"&&(Zc(i,a,x,o),q=i.memoizedState),(K=mi||qp(i,a,K,o,P,q,A)||t!==null&&t.dependencies!==null&&Za(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,q,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,q,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),h.props=o,h.state=q,h.context=A,o=K):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),o=!1)}return h=o,yl(t,i),o=(i.flags&128)!==0,h||o?(h=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&o?(i.child=es(i,t.child,null,f),i.child=es(i,null,a,f)):vt(t,i,a,f),i.memoizedState=h.state,t=i.child):t=Qn(t,i,f),t}function rm(t,i,a,o){return Yi(),i.flags|=256,vt(t,i,a,o),i.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(t){return{baseLanes:t,cachePool:Yh()}}function ru(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xt),t}function am(t,i,a){var o=i.pendingProps,f=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(Ye.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ce){if(f?vi(i):_i(),(t=He)?(t=pg(t,cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Rn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(t),a.return=i,i.child=a,gt=i,He=null)):t=null,t===null)throw hi(i);return Vu(t)?i.lanes=32:i.lanes=536870912,null}var x=o.children;return o=o.fallback,f?(_i(),f=i.mode,x=vl({mode:"hidden",children:x},f),o=Fi(o,f,a,null),x.return=i,o.return=i,x.sibling=o,i.child=x,o=i.child,o.memoizedState=su(a),o.childLanes=ru(t,v,a),i.memoizedState=iu,Vr(null,o)):(vi(i),au(i,x))}var A=t.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(h)i.flags&256?(vi(i),i.flags&=-257,i=lu(t,i,a)):i.memoizedState!==null?(_i(),i.child=t.child,i.flags|=128,i=null):(_i(),x=o.fallback,f=i.mode,o=vl({mode:"visible",children:o.children},f),x=Fi(x,f,a,null),x.flags|=2,o.return=i,x.return=i,o.sibling=x,i.child=o,es(i,t.child,null,a),o=i.child,o.memoizedState=su(a),o.childLanes=ru(t,v,a),i.memoizedState=iu,i=Vr(null,o));else if(vi(i),Vu(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(r(419)),o.stack="",o.digest=v,Or({value:o,source:null,stack:null}),i=lu(t,i,a)}else if(Ze||Ds(t,i,a,!1),v=(a&t.childLanes)!==0,Ze||v){if(v=Pe,v!==null&&(o=Qd(v,a),o!==0&&o!==A.retryLane))throw A.retryLane=o,Qi(t,o),Bt(v,t,o),tu;Pu(x)||Cl(),i=lu(t,i,a)}else Pu(x)?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,He=fn(x.nextSibling),gt=i,Ce=!0,di=null,cn=!1,t!==null&&Hh(i,t),i=au(i,o.children),i.flags|=4096);return i}return f?(_i(),x=o.fallback,f=i.mode,A=t.child,B=A.sibling,o=Pn(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,B!==null?x=Pn(B,x):(x=Fi(x,f,a,null),x.flags|=2),x.return=i,o.return=i,o.sibling=x,i.child=o,Vr(null,o),o=i.child,x=t.child.memoizedState,x===null?x=su(a):(f=x.cachePool,f!==null?(A=$e._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Yh(),x={baseLanes:x.baseLanes|a,cachePool:f}),o.memoizedState=x,o.childLanes=ru(t,v,a),i.memoizedState=iu,Vr(t.child,o)):(vi(i),a=t.child,t=a.sibling,a=Pn(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function au(t,i){return i=vl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vl(t,i){return t=Kt(22,t,null,i),t.lanes=0,t}function lu(t,i,a){return es(i,t.child,null,a),t=au(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function lm(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),xc(t.return,i,a)}function ou(t,i,a,o,f,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=h)}function om(t,i,a){var o=i.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Ye.current,x=(v&2)!==0;if(x?(v=v&1|2,i.flags|=128):v&=1,Z(Ye,v),vt(t,i,o,a),o=Ce?Ar:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lm(t,a,i);else if(t.tag===19)lm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&al(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ou(i,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&al(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}ou(i,!0,a,null,h,o);break;case"together":ou(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ds(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Pn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Za(t)))}function cb(t,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),pi(i,$e,t.memoizedState.cache),Yi();break;case 27:case 5:en(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:pi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Lc(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(vi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?am(t,i,a):(vi(i),t=Qn(t,i,a),t!==null?t.sibling:null);vi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ds(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return om(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Ye,Ye.current),o)break;return null;case 22:return i.lanes=0,em(t,i,a,i.pendingProps);case 24:pi(i,$e,t.memoizedState.cache)}return Qn(t,i,a)}function cm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ze=!0;else{if(!cu(t,a)&&(i.flags&128)===0)return Ze=!1,cb(t,i,a);Ze=(t.flags&131072)!==0}else Ze=!1,Ce&&(i.flags&1048576)!==0&&Vh(i,Ar,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Zi(i.elementType),i.type=t,typeof t=="function")pc(t)?(o=ns(t,o),i.tag=1,i=sm(null,i,t,o,a)):(i.tag=0,i=nu(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===z){i.tag=11,i=Jp(null,i,t,o,a);break e}else if(f===V){i.tag=14,i=Zp(null,i,t,o,a);break e}}throw i=J(t)||t,Error(r(306,i,""))}}return i;case 0:return nu(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=ns(o,i.pendingProps),sm(t,i,o,f,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var h=i.memoizedState;f=h.element,Oc(t,i),zr(i,o,null,a);var v=i.memoizedState;if(o=v.cache,pi(i,$e,o),o!==h.cache&&Ec(i,[$e],a,!0),jr(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=rm(t,i,o,a);break e}else if(o!==f){f=an(Error(r(424)),i),Or(f),i=rm(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,He=fn(t.firstChild),gt=i,Ce=!0,di=null,cn=!0,a=ep(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yi(),o===f){i=Qn(t,i,a);break e}vt(t,i,o,a)}i=i.child}return i;case 26:return yl(t,i),t===null?(a=bg(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ce||(a=i.type,t=i.pendingProps,o=Ll(ae.current).createElement(a),o[mt]=i,o[Nt]=t,_t(o,a,t),ot(o),i.stateNode=o):i.memoizedState=bg(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return en(i),t===null&&Ce&&(o=i.stateNode=yg(i.type,i.pendingProps,ae.current),gt=i,cn=!0,f=He,Ci(i.type)?(Hu=f,He=fn(o.firstChild)):He=f),vt(t,i,i.pendingProps.children,a),yl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ce&&((f=o=He)&&(o=Ub(o,i.type,i.pendingProps,cn),o!==null?(i.stateNode=o,gt=i,He=fn(o.firstChild),cn=!1,f=!0):f=!1),f||hi(i)),en(i),f=i.type,h=i.pendingProps,v=t!==null?t.memoizedProps:null,o=h.children,Iu(f,h)?o=null:v!==null&&Iu(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=zc(t,i,eb,null,null,a),na._currentValue=f),yl(t,i),vt(t,i,o,a),i.child;case 6:return t===null&&Ce&&((t=a=He)&&(a=Pb(a,i.pendingProps,cn),a!==null?(i.stateNode=a,gt=i,He=null,t=!0):t=!1),t||hi(i)),null;case 13:return am(t,i,a);case 4:return Se(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=es(i,null,o,a):vt(t,i,o,a),i.child;case 11:return Jp(t,i,i.type,i.pendingProps,a);case 7:return vt(t,i,i.pendingProps,a),i.child;case 8:return vt(t,i,i.pendingProps.children,a),i.child;case 12:return vt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,pi(i,i.type,o.value),vt(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,$i(i),f=yt(f),o=o(f),i.flags|=1,vt(t,i,o,a),i.child;case 14:return Zp(t,i,i.type,i.pendingProps,a);case 15:return Wp(t,i,i.type,i.pendingProps,a);case 19:return om(t,i,a);case 31:return ob(t,i,a);case 22:return em(t,i,a,i.pendingProps);case 24:return $i(i),o=yt($e),t===null?(f=Rc(),f===null&&(f=Pe,h=wc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),i.memoizedState={parent:o,cache:f},Ac(i),pi(i,$e,f)):((t.lanes&a)!==0&&(Oc(t,i),zr(i,null,null,a),jr()),f=t.memoizedState,h=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),pi(i,$e,o)):(o=h.cache,pi(i,$e,o),o!==f.cache&&Ec(i,[$e],a,!0))),vt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Fn(t){t.flags|=4}function uu(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(zm())t.flags|=8192;else throw Wi=nl,Cc}else t.flags&=-16777217}function um(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tg(i))if(zm())t.flags|=8192;else throw Wi=nl,Cc}function _l(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?qd():536870912,t.lanes|=i,qs|=i)}function Hr(t,i){if(!Ce)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function qe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function ub(t,i,a){var o=i.pendingProps;switch(vc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return qe(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),qn($e),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ks(i)?Fn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bc())),qe(i),null;case 26:var f=i.type,h=i.memoizedState;return t===null?(Fn(i),h!==null?(qe(i),um(i,h)):(qe(i),uu(i,f,null,o,a))):h?h!==t.memoizedState?(Fn(i),qe(i),um(i,h)):(qe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Fn(i),qe(i),uu(i,f,t,o,a)),null;case 27:if(Ht(i),a=ae.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Fn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return qe(i),null}t=re.current,ks(i)?qh(i):(t=yg(f,o,a),i.stateNode=t,Fn(i))}return qe(i),null;case 5:if(Ht(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Fn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return qe(i),null}if(h=re.current,ks(i))qh(i);else{var v=Ll(ae.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[mt]=i,h[Nt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=h;e:switch(_t(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fn(i)}}return qe(i),uu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Fn(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ae.current,ks(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=gt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[mt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ag(t.nodeValue,a)),t||hi(i,!0)}else t=Ll(t).createTextNode(o),t[mt]=i,i.stateNode=t}return qe(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=ks(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[mt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),t=!1}else a=bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Ft(i),i):(Ft(i),null);if((i.flags&128)!==0)throw Error(r(558))}return qe(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ks(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[mt]=i}else Yi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),f=!1}else f=bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ft(i),i):(Ft(i),null)}return Ft(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_l(i,i.updateQueue),qe(i),null);case 4:return Me(),t===null&&Nu(i.stateNode.containerInfo),qe(i),null;case 10:return qn(i.type),qe(i),null;case 19:if(H(Ye),o=i.memoizedState,o===null)return qe(i),null;if(f=(i.flags&128)!==0,h=o.rendering,h===null)if(f)Hr(o,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=al(t),h!==null){for(i.flags|=128,Hr(o,!1),t=h.updateQueue,i.updateQueue=t,_l(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bh(a,t),a=a.sibling;return Z(Ye,Ye.current&1|2),Ce&&Vn(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&he()>wl&&(i.flags|=128,f=!0,Hr(o,!1),i.lanes=4194304)}else{if(!f)if(t=al(h),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,_l(i,t),Hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Ce)return qe(i),null}else 2*he()-o.renderingStartTime>wl&&a!==536870912&&(i.flags|=128,f=!0,Hr(o,!1),i.lanes=4194304);o.isBackwards?(h.sibling=i.child,i.child=h):(t=o.last,t!==null?t.sibling=h:i.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=he(),t.sibling=null,a=Ye.current,Z(Ye,f?a&1|2:a&1),Ce&&Vn(i,o.treeForkCount),t):(qe(i),null);case 22:case 23:return Ft(i),Mc(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),a=i.updateQueue,a!==null&&_l(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&H(Ji),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qn($e),qe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function fb(t,i){switch(vc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qn($e),Me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ht(i),null;case 31:if(i.memoizedState!==null){if(Ft(i),i.alternate===null)throw Error(r(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ft(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Yi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(Ye),null;case 4:return Me(),null;case 10:return qn(i.type),null;case 22:case 23:return Ft(i),Mc(),t!==null&&H(Ji),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qn($e),null;case 25:return null;default:return null}}function fm(t,i){switch(vc(i),i.tag){case 3:qn($e),Me();break;case 26:case 27:case 5:Ht(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&Ft(i);break;case 13:Ft(i);break;case 19:H(Ye);break;case 10:qn(i.type);break;case 22:case 23:Ft(i),Mc(),t!==null&&H(Ji);break;case 24:qn($e)}}function qr(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==f)}}catch(x){je(i,i.return,x)}}function bi(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var v=o.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,f=i;var A=a,B=x;try{B()}catch(K){je(f,A,K)}}}o=o.next}while(o!==h)}}catch(K){je(i,i.return,K)}}function dm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{np(i,a)}catch(o){je(t,t.return,o)}}}function hm(t,i,a){a.props=ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){je(t,i,o)}}function Gr(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){je(t,i,f)}}function An(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){je(t,i,f)}else a.current=null}function pm(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){je(t,t.return,f)}}function fu(t,i,a){try{var o=t.stateNode;Mb(o,t.type,a,i),o[Nt]=i}catch(f){je(t,t.return,f)}}function mm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bn));else if(o!==4&&(o===27&&Ci(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hu(t,i,a),t=t.sibling;t!==null;)hu(t,i,a),t=t.sibling}function bl(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bl(t,i,a),t=t.sibling;t!==null;)bl(t,i,a),t=t.sibling}function gm(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);_t(i,o,a),i[mt]=t,i[Nt]=a}catch(h){je(t,t.return,h)}}var Yn=!1,We=!1,pu=!1,ym=typeof WeakSet=="function"?WeakSet:Set,ct=null;function db(t,i){if(t=t.containerInfo,ju=Vl,t=Oh(t),lc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,x=-1,A=-1,B=0,K=0,X=t,P=null;t:for(;;){for(var q;X!==a||f!==0&&X.nodeType!==3||(x=v+f),X!==h||o!==0&&X.nodeType!==3||(A=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)P=X,X=q;for(;;){if(X===t)break t;if(P===a&&++B===f&&(x=v),P===h&&++K===o&&(A=v),(q=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=q}a=x===-1||A===-1?null:{start:x,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(zu={focusedElem:t,selectionRange:a},Vl=!1,ct=i;ct!==null;)if(i=ct,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ct=t;else for(;ct!==null;){switch(i=ct,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var le=ns(a.type,f);t=o.getSnapshotBeforeUpdate(le,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){je(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Uu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,ct=t;break}ct=i.return}}function vm(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$n(t,a),o&4&&qr(5,a);break;case 1:if($n(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){je(a,a.return,v)}else{var f=ns(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){je(a,a.return,v)}}o&64&&dm(a),o&512&&Gr(a,a.return);break;case 3:if($n(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{np(t,i)}catch(v){je(a,a.return,v)}}break;case 27:i===null&&o&4&&gm(a);case 26:case 5:$n(t,a),i===null&&o&4&&pm(a),o&512&&Gr(a,a.return);break;case 12:$n(t,a);break;case 31:$n(t,a),o&4&&Sm(t,a);break;case 13:$n(t,a),o&4&&xm(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sb.bind(null,a),Vb(t,a))));break;case 22:if(o=a.memoizedState!==null||Yn,!o){i=i!==null&&i.memoizedState!==null||We,f=Yn;var h=We;Yn=o,(We=i)&&!h?Jn(t,a,(a.subtreeFlags&8772)!==0):$n(t,a),Yn=f,We=h}break;case 30:break;default:$n(t,a)}}function _m(t){var i=t.alternate;i!==null&&(t.alternate=null,_m(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Go(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,Lt=!1;function Xn(t,i,a){for(a=a.child;a!==null;)bm(t,i,a),a=a.sibling}function bm(t,i,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:We||An(a,i),Xn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||An(a,i);var o=Ge,f=Lt;Ci(a.type)&&(Ge=a.stateNode,Lt=!1),Xn(t,i,a),Wr(a.stateNode),Ge=o,Lt=f;break;case 5:We||An(a,i);case 6:if(o=Ge,f=Lt,Ge=null,Xn(t,i,a),Ge=o,Lt=f,Ge!==null)if(Lt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(h){je(a,i,h)}else try{Ge.removeChild(a.stateNode)}catch(h){je(a,i,h)}break;case 18:Ge!==null&&(Lt?(t=Ge,dg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Js(t)):dg(Ge,a.stateNode));break;case 4:o=Ge,f=Lt,Ge=a.stateNode.containerInfo,Lt=!0,Xn(t,i,a),Ge=o,Lt=f;break;case 0:case 11:case 14:case 15:bi(2,a,i),We||bi(4,a,i),Xn(t,i,a);break;case 1:We||(An(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hm(a,i,o)),Xn(t,i,a);break;case 21:Xn(t,i,a);break;case 22:We=(o=We)||a.memoizedState!==null,Xn(t,i,a),We=o;break;default:Xn(t,i,a)}}function Sm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Js(t)}catch(a){je(i,i.return,a)}}}function xm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Js(t)}catch(a){je(i,i.return,a)}}function hb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ym),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ym),i;default:throw Error(r(435,t.tag))}}function Sl(t,i){var a=hb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=xb.bind(null,t,o);o.then(f,f)}})}function jt(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,v=i,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Ci(x.type)){Ge=x.stateNode,Lt=!1;break e}break;case 5:Ge=x.stateNode,Lt=!1;break e;case 3:case 4:Ge=x.stateNode.containerInfo,Lt=!0;break e}x=x.return}if(Ge===null)throw Error(r(160));bm(h,v,f),Ge=null,Lt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Em(i,t),i=i.sibling}var Sn=null;function Em(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jt(i,t),zt(t),o&4&&(bi(3,t,t.return),qr(3,t),bi(5,t,t.return));break;case 1:jt(i,t),zt(t),o&512&&(We||a===null||An(a,a.return)),o&64&&Yn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Sn;if(jt(i,t),zt(t),o&512&&(We||a===null||An(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[yr]||h[mt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),_t(h,o,a),h[mt]=t,ot(h),o=h;break e;case"link":var v=Eg("link","href",f).get(o+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(h=v[x],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}h=f.createElement(o),_t(h,o,a),f.head.appendChild(h);break;case"meta":if(v=Eg("meta","content",f).get(o+(a.content||""))){for(x=0;x<v.length;x++)if(h=v[x],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}h=f.createElement(o),_t(h,o,a),f.head.appendChild(h);break;default:throw Error(r(468,o))}h[mt]=t,ot(h),o=h}t.stateNode=o}else wg(f,t.type,t.stateNode);else t.stateNode=xg(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?wg(f,t.type,t.stateNode):xg(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&fu(t,t.memoizedProps,a.memoizedProps)}break;case 27:jt(i,t),zt(t),o&512&&(We||a===null||An(a,a.return)),a!==null&&o&4&&fu(t,t.memoizedProps,a.memoizedProps);break;case 5:if(jt(i,t),zt(t),o&512&&(We||a===null||An(a,a.return)),t.flags&32){f=t.stateNode;try{bs(f,"")}catch(le){je(t,t.return,le)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,fu(t,f,a!==null?a.memoizedProps:f)),o&1024&&(pu=!0);break;case 6:if(jt(i,t),zt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){je(t,t.return,le)}}break;case 3:if(Il=null,f=Sn,Sn=jl(i.containerInfo),jt(i,t),Sn=f,zt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Js(i.containerInfo)}catch(le){je(t,t.return,le)}pu&&(pu=!1,wm(t));break;case 4:o=Sn,Sn=jl(t.stateNode.containerInfo),jt(i,t),zt(t),Sn=o;break;case 12:jt(i,t),zt(t);break;case 31:jt(i,t),zt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Sl(t,o)));break;case 13:jt(i,t),zt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(El=he()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Sl(t,o)));break;case 22:f=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,B=Yn,K=We;if(Yn=B||f,We=K||A,jt(i,t),We=K,Yn=B,zt(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||A||Yn||We||is(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(h=A.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=A.stateNode;var X=A.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(le){je(A,A.return,le)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(le){je(A,A.return,le)}}}else if(i.tag===18){if(a===null){A=i;try{var q=A.stateNode;f?hg(q,!0):hg(A.stateNode,!1)}catch(le){je(A,A.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Sl(t,a))));break;case 19:jt(i,t),zt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Sl(t,o)));break;case 30:break;case 21:break;default:jt(i,t),zt(t)}}function zt(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(mm(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,h=du(t);bl(t,h,f);break;case 5:var v=a.stateNode;a.flags&32&&(bs(v,""),a.flags&=-33);var x=du(t);bl(t,x,v);break;case 3:case 4:var A=a.stateNode.containerInfo,B=du(t);hu(t,B,A);break;default:throw Error(r(161))}}catch(K){je(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $n(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vm(t,i.alternate,i),i=i.sibling}function is(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:bi(4,i,i.return),is(i);break;case 1:An(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hm(i,i.return,a),is(i);break;case 27:Wr(i.stateNode);case 26:case 5:An(i,i.return),is(i);break;case 22:i.memoizedState===null&&is(i);break;case 30:is(i);break;default:is(i)}t=t.sibling}}function Jn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(f,h,a),qr(4,h);break;case 1:if(Jn(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){je(o,o.return,B)}if(o=h,f=o.updateQueue,f!==null){var x=o.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)tp(A[f],x)}catch(B){je(o,o.return,B)}}a&&v&64&&dm(h),Gr(h,h.return);break;case 27:gm(h);case 26:case 5:Jn(f,h,a),a&&o===null&&v&4&&pm(h),Gr(h,h.return);break;case 12:Jn(f,h,a);break;case 31:Jn(f,h,a),a&&v&4&&Sm(f,h);break;case 13:Jn(f,h,a),a&&v&4&&xm(f,h);break;case 22:h.memoizedState===null&&Jn(f,h,a),Gr(h,h.return);break;case 30:break;default:Jn(f,h,a)}i=i.sibling}}function mu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&kr(a))}function gu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&kr(t))}function xn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tm(t,i,a,o),i=i.sibling}function Tm(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:xn(t,i,a,o),f&2048&&qr(9,i);break;case 1:xn(t,i,a,o);break;case 3:xn(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&kr(t)));break;case 12:if(f&2048){xn(t,i,a,o),t=i.stateNode;try{var h=i.memoizedProps,v=h.id,x=h.onPostCommit;typeof x=="function"&&x(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){je(i,i.return,A)}}else xn(t,i,a,o);break;case 31:xn(t,i,a,o);break;case 13:xn(t,i,a,o);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?xn(t,i,a,o):Kr(t,i):h._visibility&2?xn(t,i,a,o):(h._visibility|=2,Ps(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&mu(v,i);break;case 24:xn(t,i,a,o),f&2048&&gu(i.alternate,i);break;default:xn(t,i,a,o)}}function Ps(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,v=i,x=a,A=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ps(h,v,x,A,f),qr(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ps(h,v,x,A,f):Kr(h,v):(K._visibility|=2,Ps(h,v,x,A,f)),f&&B&2048&&mu(v.alternate,v);break;case 24:Ps(h,v,x,A,f),f&&B&2048&&gu(v.alternate,v);break;default:Ps(h,v,x,A,f)}i=i.sibling}}function Kr(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:Kr(a,o),f&2048&&mu(o.alternate,o);break;case 24:Kr(a,o),f&2048&&gu(o.alternate,o);break;default:Kr(a,o)}i=i.sibling}}var Qr=8192;function Vs(t,i,a){if(t.subtreeFlags&Qr)for(t=t.child;t!==null;)Rm(t,i,a),t=t.sibling}function Rm(t,i,a){switch(t.tag){case 26:Vs(t,i,a),t.flags&Qr&&t.memoizedState!==null&&Wb(a,Sn,t.memoizedState,t.memoizedProps);break;case 5:Vs(t,i,a);break;case 3:case 4:var o=Sn;Sn=jl(t.stateNode.containerInfo),Vs(t,i,a),Sn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Qr,Qr=16777216,Vs(t,i,a),Qr=o):Vs(t,i,a));break;default:Vs(t,i,a)}}function Cm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ct=o,Om(o,t)}Cm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:Fr(t),t.flags&2048&&bi(9,t,t.return);break;case 3:Fr(t);break;case 12:Fr(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xl(t)):Fr(t);break;default:Fr(t)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ct=o,Om(o,t)}Cm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:bi(8,i,i.return),xl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xl(i));break;default:xl(i)}t=t.sibling}}function Om(t,i){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:bi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:kr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ct=o;else e:for(a=t;ct!==null;){o=ct;var f=o.sibling,h=o.return;if(_m(o),o===a){ct=null;break e}if(f!==null){f.return=h,ct=f;break e}ct=h}}}var pb={getCacheForType:function(t){var i=yt($e),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return yt($e).controller.signal}},mb=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Pe=null,xe=null,we=0,Le=0,Yt=null,Si=!1,Hs=!1,yu=!1,Zn=0,Fe=0,xi=0,ss=0,vu=0,Xt=0,qs=0,Yr=null,It=null,_u=!1,El=0,km=0,wl=1/0,Tl=null,Ei=null,nt=0,wi=null,Gs=null,Wn=0,bu=0,Su=null,Dm=null,Xr=0,xu=null;function $t(){return(Ne&2)!==0&&we!==0?we&-we:M.T!==null?Au():Fd()}function Nm(){if(Xt===0)if((we&536870912)===0||Ce){var t=Ma;Ma<<=1,(Ma&3932160)===0&&(Ma=262144),Xt=t}else Xt=536870912;return t=Qt.current,t!==null&&(t.flags|=32),Xt}function Bt(t,i,a){(t===Pe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),Ti(t,we,Xt,!1)),gr(t,a),((Ne&2)===0||t!==Pe)&&(t===Pe&&((Ne&2)===0&&(ss|=a),Fe===4&&Ti(t,we,Xt,!1)),On(t))}function Mm(t,i,a){if((Ne&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||mr(t,i),f=o?vb(t,i):wu(t,i,!0),h=o;do{if(f===0){Hs&&!o&&Ti(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!gb(a)){f=wu(t,i,!1),h=!1;continue}if(f===2){if(h=i,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var x=t;f=Yr;var A=x.current.memoizedState.isDehydrated;if(A&&(Ks(x,v).flags|=256),v=wu(x,v,!1),v!==2){if(yu&&!A){x.errorRecoveryDisabledLanes|=h,ss|=h,f=4;break e}h=It,It=f,h!==null&&(It===null?It=h:It.push.apply(It,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){Ks(t,0),Ti(t,i,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ti(o,i,Xt,!Si);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=El+300-he(),10<f)){if(Ti(o,i,Xt,!Si),ja(o,0,!0)!==0)break e;Wn=i,o.timeoutHandle=ug(Lm.bind(null,o,a,It,Tl,_u,i,Xt,ss,qs,Si,h,"Throttled",-0,0),f);break e}Lm(o,a,It,Tl,_u,i,Xt,ss,qs,Si,h,null,-0,0)}}break}while(!0);On(t)}function Lm(t,i,a,o,f,h,v,x,A,B,K,X,P,q){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Rm(i,h,X);var le=(h&62914560)===h?El-he():(h&4194048)===h?km-he():0;if(le=eS(X,le),le!==null){Wn=h,t.cancelPendingCommit=le(Hm.bind(null,t,i,h,a,o,f,v,x,A,K,X,null,P,q)),Ti(t,h,v,!B);return}}Hm(t,i,h,a,o,f,v,x,A)}function gb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!Gt(h(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(t,i,a,o){i&=~vu,i&=~ss,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var h=31-qt(f),v=1<<h;o[h]=-1,f&=~v}a!==0&&Gd(t,a,i)}function Rl(){return(Ne&6)===0?($r(0),!1):!0}function Eu(){if(xe!==null){if(Le===0)var t=xe.return;else t=xe,Hn=Xi=null,Uc(t),js=null,Nr=0,t=xe;for(;t!==null;)fm(t.alternate,t),t=t.return;xe=null}}function Ks(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wn=0,Eu(),Pe=t,xe=a=Pn(t.current,null),we=i,Le=0,Yt=null,Si=!1,Hs=mr(t,i),yu=!1,qs=Xt=vu=ss=xi=Fe=0,It=Yr=null,_u=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-qt(o),h=1<<f;i|=t[f],o&=~h}return Zn=i,Fa(),a}function jm(t,i){ve=null,M.H=Pr,i===Ls||i===tl?(i=Jh(),Le=3):i===Cc?(i=Jh(),Le=4):Le=i===tu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yt=i,xe===null&&(Fe=1,ml(t,an(i,t.current)))}function zm(){var t=Qt.current;return t===null?!0:(we&4194048)===we?un===null:(we&62914560)===we||(we&536870912)!==0?t===un:!1}function Im(){var t=M.H;return M.H=Pr,t===null?Pr:t}function Bm(){var t=M.A;return M.A=pb,t}function Cl(){Fe=4,Si||(we&4194048)!==we&&Qt.current!==null||(Hs=!0),(xi&134217727)===0&&(ss&134217727)===0||Pe===null||Ti(Pe,we,Xt,!1)}function wu(t,i,a){var o=Ne;Ne|=2;var f=Im(),h=Bm();(Pe!==t||we!==i)&&(Tl=null,Ks(t,i)),i=!1;var v=Fe;e:do try{if(Le!==0&&xe!==null){var x=xe,A=Yt;switch(Le){case 8:Eu(),v=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(i=!0);var B=Le;if(Le=0,Yt=null,Qs(t,x,A,B),a&&Hs){v=0;break e}break;default:B=Le,Le=0,Yt=null,Qs(t,x,A,B)}}yb(),v=Fe;break}catch(K){jm(t,K)}while(!0);return i&&t.shellSuspendCounter++,Hn=Xi=null,Ne=o,M.H=f,M.A=h,xe===null&&(Pe=null,we=0,Fa()),v}function yb(){for(;xe!==null;)Um(xe)}function vb(t,i){var a=Ne;Ne|=2;var o=Im(),f=Bm();Pe!==t||we!==i?(Tl=null,wl=he()+500,Ks(t,i)):Hs=mr(t,i);e:do try{if(Le!==0&&xe!==null){i=xe;var h=Yt;t:switch(Le){case 1:Le=0,Yt=null,Qs(t,i,h,1);break;case 2:case 9:if(Xh(h)){Le=0,Yt=null,Pm(i);break}i=function(){Le!==2&&Le!==9||Pe!==t||(Le=7),On(t)},h.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Xh(h)?(Le=0,Yt=null,Pm(i)):(Le=0,Yt=null,Qs(t,i,h,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var x=xe;if(v?Tg(v):x.stateNode.complete){Le=0,Yt=null;var A=x.sibling;if(A!==null)xe=A;else{var B=x.return;B!==null?(xe=B,Al(B)):xe=null}break t}}Le=0,Yt=null,Qs(t,i,h,5);break;case 6:Le=0,Yt=null,Qs(t,i,h,6);break;case 8:Eu(),Fe=6;break e;default:throw Error(r(462))}}_b();break}catch(K){jm(t,K)}while(!0);return Hn=Xi=null,M.H=o,M.A=f,Ne=a,xe!==null?0:(Pe=null,we=0,Fa(),Fe)}function _b(){for(;xe!==null&&!Oe();)Um(xe)}function Um(t){var i=cm(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,i===null?Al(t):xe=i}function Pm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=im(a,i,i.pendingProps,i.type,void 0,we);break;case 11:i=im(a,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:Uc(i);default:fm(a,i),i=xe=Bh(i,Zn),i=cm(a,i,Zn)}t.memoizedProps=t.pendingProps,i===null?Al(t):xe=i}function Qs(t,i,a,o){Hn=Xi=null,Uc(i),js=null,Nr=0;var f=i.return;try{if(lb(t,f,i,a,we)){Fe=1,ml(t,an(a,t.current)),xe=null;return}}catch(h){if(f!==null)throw xe=f,h;Fe=1,ml(t,an(a,t.current)),xe=null;return}i.flags&32768?(Ce||o===1?t=!0:Hs||(we&536870912)!==0?t=!1:(Si=t=!0,(o===2||o===9||o===3||o===6)&&(o=Qt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vm(i,t)):Al(i)}function Al(t){var i=t;do{if((i.flags&32768)!==0){Vm(i,Si);return}t=i.return;var a=ub(i.alternate,i,Zn);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);Fe===0&&(Fe=5)}function Vm(t,i){do{var a=fb(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);Fe=6,xe=null}function Hm(t,i,a,o,f,h,v,x,A){t.cancelPendingCommit=null;do Ol();while(nt!==0);if((Ne&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(h=i.lanes|i.childLanes,h|=dc,Zv(t,a,h,v,x,A),t===Pe&&(xe=Pe=null,we=0),Gs=i,wi=t,Wn=a,bu=h,Su=f,Dm=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Eb(wn,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,f=Q.p,Q.p=2,v=Ne,Ne|=4;try{db(t,i,a)}finally{Ne=v,Q.p=f,M.T=o}}nt=1,qm(),Gm(),Km()}}function qm(){if(nt===1){nt=0;var t=wi,i=Gs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var o=Q.p;Q.p=2;var f=Ne;Ne|=4;try{Em(i,t);var h=zu,v=Oh(t.containerInfo),x=h.focusedElem,A=h.selectionRange;if(v!==x&&x&&x.ownerDocument&&Ah(x.ownerDocument.documentElement,x)){if(A!==null&&lc(x)){var B=A.start,K=A.end;if(K===void 0&&(K=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min(K,x.value.length);else{var X=x.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var q=P.getSelection(),le=x.textContent.length,pe=Math.min(A.start,le),Be=A.end===void 0?pe:Math.min(A.end,le);!q.extend&&pe>Be&&(v=Be,Be=pe,pe=v);var j=Ch(x,pe),k=Ch(x,Be);if(j&&k&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var I=X.createRange();I.setStart(j.node,j.offset),q.removeAllRanges(),pe>Be?(q.addRange(I),q.extend(k.node,k.offset)):(I.setEnd(k.node,k.offset),q.addRange(I))}}}}for(X=[],q=x;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<X.length;x++){var F=X[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Vl=!!ju,zu=ju=null}finally{Ne=f,Q.p=o,M.T=a}}t.current=i,nt=2}}function Gm(){if(nt===2){nt=0;var t=wi,i=Gs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var o=Q.p;Q.p=2;var f=Ne;Ne|=4;try{vm(t,i.alternate,i)}finally{Ne=f,Q.p=o,M.T=a}}nt=3}}function Km(){if(nt===4||nt===3){nt=0,Ue();var t=wi,i=Gs,a=Wn,o=Dm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nt=5:(nt=0,Gs=wi=null,Qm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ei=null),Ho(a),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(li,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=M.T,f=Q.p,Q.p=2,M.T=null;try{for(var h=t.onRecoverableError,v=0;v<o.length;v++){var x=o[v];h(x.value,{componentStack:x.stack})}}finally{M.T=i,Q.p=f}}(Wn&3)!==0&&Ol(),On(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===xu?Xr++:(Xr=0,xu=t):Xr=0,$r(0)}}function Qm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,kr(i)))}function Ol(){return qm(),Gm(),Km(),Fm()}function Fm(){if(nt!==5)return!1;var t=wi,i=bu;bu=0;var a=Ho(Wn),o=M.T,f=Q.p;try{Q.p=32>a?32:a,M.T=null,a=Su,Su=null;var h=wi,v=Wn;if(nt=0,Gs=wi=null,Wn=0,(Ne&6)!==0)throw Error(r(331));var x=Ne;if(Ne|=4,Am(h.current),Tm(h,h.current,v,a),Ne=x,$r(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(li,h)}catch{}return!0}finally{Q.p=f,M.T=o,Qm(t,i)}}function Ym(t,i,a){i=an(a,i),i=eu(t.stateNode,i,2),t=yi(t,i,2),t!==null&&(gr(t,2),On(t))}function je(t,i,a){if(t.tag===3)Ym(t,t,a);else for(;i!==null;){if(i.tag===3){Ym(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ei===null||!Ei.has(o))){t=an(a,t),a=Xp(2),o=yi(i,a,2),o!==null&&($p(a,o,i,t),gr(o,2),On(o));break}}i=i.return}}function Tu(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new mb;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(yu=!0,f.add(a),t=bb.bind(null,t,i,a),i.then(t,t))}function bb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Pe===t&&(we&a)===a&&(Fe===4||Fe===3&&(we&62914560)===we&&300>he()-El?(Ne&2)===0&&Ks(t,0):vu|=a,qs===we&&(qs=0)),On(t)}function Xm(t,i){i===0&&(i=qd()),t=Qi(t,i),t!==null&&(gr(t,i),On(t))}function Sb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Xm(t,a)}function xb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Xm(t,a)}function Eb(t,i){return hs(t,i)}var kl=null,Fs=null,Ru=!1,Dl=!1,Cu=!1,Ri=0;function On(t){t!==Fs&&t.next===null&&(Fs===null?kl=Fs=t:Fs=Fs.next=t),Dl=!0,Ru||(Ru=!0,Tb())}function $r(t,i){if(!Cu&&Dl){Cu=!0;do for(var a=!1,o=kl;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,x=o.pingedLanes;h=(1<<31-qt(42|t)+1)-1,h&=f&~(v&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Wm(o,h))}else h=we,h=ja(o,o===Pe?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||mr(o,h)||(a=!0,Wm(o,h));o=o.next}while(a);Cu=!1}}function wb(){$m()}function $m(){Dl=Ru=!1;var t=0;Ri!==0&&jb()&&(t=Ri);for(var i=he(),a=null,o=kl;o!==null;){var f=o.next,h=Jm(o,i);h===0?(o.next=null,a===null?kl=f:a.next=f,f===null&&(Fs=a)):(a=o,(t!==0||(h&3)!==0)&&(Dl=!0)),o=f}nt!==0&&nt!==5||$r(t),Ri!==0&&(Ri=0)}function Jm(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-qt(h),x=1<<v,A=f[v];A===-1?((x&a)===0||(x&o)!==0)&&(f[v]=Jv(x,i)):A<=i&&(t.expiredLanes|=x),h&=~x}if(i=Pe,a=we,a=ja(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fe(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fe(o),Ho(a)){case 2:case 8:a=zn;break;case 32:a=wn;break;case 268435456:a=St;break;default:a=wn}return o=Zm.bind(null,t),a=hs(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fe(o),t.callbackPriority=2,t.callbackNode=null,2}function Zm(t,i){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ol()&&t.callbackNode!==a)return null;var o=we;return o=ja(t,t===Pe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Mm(t,o,i),Jm(t,he()),t.callbackNode!=null&&t.callbackNode===a?Zm.bind(null,t):null)}function Wm(t,i){if(Ol())return null;Mm(t,i,!0)}function Tb(){Ib(function(){(Ne&6)!==0?hs(Dt,wb):$m()})}function Au(){if(Ri===0){var t=Ns;t===0&&(t=Na,Na<<=1,(Na&261888)===0&&(Na=256)),Ri=t}return Ri}function eg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ua(""+t)}function tg(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Rb(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var h=eg((f[Nt]||null).action),v=o.submitter;v&&(i=(i=v[Nt]||null)?eg(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var x=new qa("action","action",null,o,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ri!==0){var A=v?tg(f,v):new FormData(f);Yc(a,{pending:!0,data:A,method:f.method,action:h},null,A)}}else typeof h=="function"&&(x.preventDefault(),A=v?tg(f,v):new FormData(f),Yc(a,{pending:!0,data:A,method:f.method,action:h},h,A))},currentTarget:f}]})}}for(var Ou=0;Ou<fc.length;Ou++){var ku=fc[Ou],Cb=ku.toLowerCase(),Ab=ku[0].toUpperCase()+ku.slice(1);bn(Cb,"on"+Ab)}bn(Nh,"onAnimationEnd"),bn(Mh,"onAnimationIteration"),bn(Lh,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(G_,"onTransitionRun"),bn(K_,"onTransitionStart"),bn(Q_,"onTransitionCancel"),bn(jh,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function ng(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(i)for(var v=o.length-1;0<=v;v--){var x=o[v],A=x.instance,B=x.currentTarget;if(x=x.listener,A!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=B;try{h(f)}catch(K){Qa(K)}f.currentTarget=null,h=A}else for(v=0;v<o.length;v++){if(x=o[v],A=x.instance,B=x.currentTarget,x=x.listener,A!==h&&f.isPropagationStopped())break e;h=x,f.currentTarget=B;try{h(f)}catch(K){Qa(K)}f.currentTarget=null,h=A}}}}function Ee(t,i){var a=i[qo];a===void 0&&(a=i[qo]=new Set);var o=t+"__bubble";a.has(o)||(ig(i,t,2,!1),a.add(o))}function Du(t,i,a){var o=0;i&&(o|=4),ig(a,t,o,i)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Nu(t){if(!t[Nl]){t[Nl]=!0,$d.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||Du(a,!1,t),Du(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nl]||(i[Nl]=!0,Du("selectionchange",!1,i))}}function ig(t,i,a,o){switch(Ng(i)){case 2:var f=iS;break;case 8:f=sS;break;default:f=Fu}a=f.bind(null,i,a,t),f=void 0,!Zo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Mu(t,i,a,o,f){var h=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var x=o.stateNode.containerInfo;if(x===f)break;if(v===4)for(v=o.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;x!==null;){if(v=ms(x),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){o=h=v;continue e}x=x.parentNode}}o=o.return}oh(function(){var B=h,K=$o(a),X=[];e:{var P=zh.get(t);if(P!==void 0){var q=qa,le=t;switch(t){case"keypress":if(Va(a)===0)break e;case"keydown":case"keyup":q=x_;break;case"focusin":le="focus",q=nc;break;case"focusout":le="blur",q=nc;break;case"beforeblur":case"afterblur":q=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=T_;break;case Nh:case Mh:case Lh:q=h_;break;case jh:q=C_;break;case"scroll":case"scrollend":q=o_;break;case"wheel":q=O_;break;case"copy":case"cut":case"paste":q=m_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=hh;break;case"toggle":case"beforetoggle":q=D_}var pe=(i&4)!==0,Be=!pe&&(t==="scroll"||t==="scrollend"),j=pe?P!==null?P+"Capture":null:P;pe=[];for(var k=B,I;k!==null;){var F=k;if(I=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||I===null||j===null||(F=_r(k,j),F!=null&&pe.push(Zr(k,F,I))),Be)break;k=k.return}0<pe.length&&(P=new q(P,le,null,a,K),X.push({event:P,listeners:pe}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==Xo&&(le=a.relatedTarget||a.fromElement)&&(ms(le)||le[ps]))break e;if((q||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,q?(le=a.relatedTarget||a.toElement,q=B,le=le?ms(le):null,le!==null&&(Be=c(le),pe=le.tag,le!==Be||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=B),q!==le)){if(pe=fh,F="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(pe=hh,F="onPointerLeave",j="onPointerEnter",k="pointer"),Be=q==null?P:vr(q),I=le==null?P:vr(le),P=new pe(F,k+"leave",q,a,K),P.target=Be,P.relatedTarget=I,F=null,ms(K)===B&&(pe=new pe(j,k+"enter",le,a,K),pe.target=I,pe.relatedTarget=Be,F=pe),Be=F,q&&le)t:{for(pe=kb,j=q,k=le,I=0,F=j;F;F=pe(F))I++;F=0;for(var de=k;de;de=pe(de))F++;for(;0<I-F;)j=pe(j),I--;for(;0<F-I;)k=pe(k),F--;for(;I--;){if(j===k||k!==null&&j===k.alternate){pe=j;break t}j=pe(j),k=pe(k)}pe=null}else pe=null;q!==null&&sg(X,P,q,pe,!1),le!==null&&Be!==null&&sg(X,Be,le,pe,!0)}}e:{if(P=B?vr(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var ke=Sh;else if(_h(P))if(xh)ke=V_;else{ke=U_;var ue=B_}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Yo(B.elementType)&&(ke=Sh):ke=P_;if(ke&&(ke=ke(t,B))){bh(X,ke,a,K);break e}ue&&ue(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Fo(P,"number",P.value)}switch(ue=B?vr(B):window,t){case"focusin":(_h(ue)||ue.contentEditable==="true")&&(ws=ue,oc=B,Cr=null);break;case"focusout":Cr=oc=ws=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,kh(X,a,K);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":kh(X,a,K)}var _e;if(sc)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Es?yh(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(ph&&a.locale!=="ko"&&(Es||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Es&&(_e=ch()):(ui=K,Wo="value"in ui?ui.value:ui.textContent,Es=!0)),ue=Ml(B,Te),0<ue.length&&(Te=new dh(Te,t,null,a,K),X.push({event:Te,listeners:ue}),_e?Te.data=_e:(_e=vh(a),_e!==null&&(Te.data=_e)))),(_e=M_?L_(t,a):j_(t,a))&&(Te=Ml(B,"onBeforeInput"),0<Te.length&&(ue=new dh("onBeforeInput","beforeinput",null,a,K),X.push({event:ue,listeners:Te}),ue.data=_e)),Rb(X,t,B,a,K)}ng(X,i)})}function Zr(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ml(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=_r(t,a),f!=null&&o.unshift(Zr(t,f,h)),f=_r(t,i),f!=null&&o.push(Zr(t,f,h))),t.tag===3)return o;t=t.return}return[]}function kb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sg(t,i,a,o,f){for(var h=i._reactName,v=[];a!==null&&a!==o;){var x=a,A=x.alternate,B=x.stateNode;if(x=x.tag,A!==null&&A===o)break;x!==5&&x!==26&&x!==27||B===null||(A=B,f?(B=_r(a,h),B!=null&&v.unshift(Zr(a,B,A))):f||(B=_r(a,h),B!=null&&v.push(Zr(a,B,A)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Db=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function rg(t){return(typeof t=="string"?t:""+t).replace(Db,`
`).replace(Nb,"")}function ag(t,i){return i=rg(i),rg(t)===i}function Ie(t,i,a,o,f,h){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||bs(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&bs(t,""+o);break;case"className":Ia(t,"class",o);break;case"tabIndex":Ia(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ia(t,a,o);break;case"style":ah(t,o,h);break;case"data":if(i!=="object"){Ia(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ua(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&Ie(t,i,"name",f.name,f,null),Ie(t,i,"formEncType",f.formEncType,f,null),Ie(t,i,"formMethod",f.formMethod,f,null),Ie(t,i,"formTarget",f.formTarget,f,null)):(Ie(t,i,"encType",f.encType,f,null),Ie(t,i,"method",f.method,f,null),Ie(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ua(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"onScroll":o!=null&&Ee("scroll",t);break;case"onScrollEnd":o!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ua(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),za(t,"popover",o);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":za(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=a_.get(a)||a,za(t,a,o))}}function Lu(t,i,a,o,f,h){switch(a){case"style":ah(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bs(t,o):(typeof o=="number"||typeof o=="bigint")&&bs(t,""+o);break;case"onScroll":o!=null&&Ee("scroll",t);break;case"onScrollEnd":o!=null&&Ee("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),h=t[Nt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):za(t,a,o)}}}function _t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(t,i,h,v,a,null)}}f&&Ie(t,i,"srcSet",a.srcSet,a,null),o&&Ie(t,i,"src",a.src,a,null);return;case"input":Ee("invalid",t);var x=h=v=f=null,A=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":f=K;break;case"type":v=K;break;case"checked":A=K;break;case"defaultChecked":B=K;break;case"value":h=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:Ie(t,i,o,K,a,null)}}nh(t,h,x,A,B,v,f,!1);return;case"select":Ee("invalid",t),o=v=h=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":h=x;break;case"defaultValue":v=x;break;case"multiple":o=x;default:Ie(t,i,f,x,a,null)}i=h,a=v,t.multiple=!!o,i!=null?_s(t,!!o,i,!1):a!=null&&_s(t,!!o,a,!0);return;case"textarea":Ee("invalid",t),h=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":o=x;break;case"defaultValue":f=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ie(t,i,v,x,a,null)}sh(t,o,f,h);return;case"option":for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null)&&(A==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ie(t,i,A,o,a,null));return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(o=0;o<Jr.length;o++)Ee(Jr[o],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ie(t,i,B,o,a,null)}return;default:if(Yo(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Lu(t,i,K,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&Ie(t,i,x,o,a,null))}function Mb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,x=null,A=null,B=null,K=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=X;default:o.hasOwnProperty(q)||Ie(t,i,q,null,o,X)}}for(var P in o){var q=o[P];if(X=a[P],o.hasOwnProperty(P)&&(q!=null||X!=null))switch(P){case"type":h=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==X&&Ie(t,i,P,q,o,X)}}Qo(t,v,x,A,B,K,h,f);return;case"select":q=v=x=P=null;for(h in a)if(A=a[h],a.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":q=A;default:o.hasOwnProperty(h)||Ie(t,i,h,null,o,A)}for(f in o)if(h=o[f],A=a[f],o.hasOwnProperty(f)&&(h!=null||A!=null))switch(f){case"value":P=h;break;case"defaultValue":x=h;break;case"multiple":v=h;default:h!==A&&Ie(t,i,f,h,o,A)}i=x,a=v,o=q,P!=null?_s(t,!!a,P,!1):!!o!=!!a&&(i!=null?_s(t,!!a,i,!0):_s(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ie(t,i,x,null,o,f)}for(v in o)if(f=o[v],h=a[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":P=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==h&&Ie(t,i,v,f,o,h)}ih(t,P,q);return;case"option":for(var le in a)P=a[le],a.hasOwnProperty(le)&&P!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Ie(t,i,le,null,o,P));for(A in o)P=o[A],q=a[A],o.hasOwnProperty(A)&&P!==q&&(P!=null||q!=null)&&(A==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":Ie(t,i,A,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)P=a[pe],a.hasOwnProperty(pe)&&P!=null&&!o.hasOwnProperty(pe)&&Ie(t,i,pe,null,o,P);for(B in o)if(P=o[B],q=a[B],o.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:Ie(t,i,B,P,o,q)}return;default:if(Yo(i)){for(var Be in a)P=a[Be],a.hasOwnProperty(Be)&&P!==void 0&&!o.hasOwnProperty(Be)&&Lu(t,i,Be,void 0,o,P);for(K in o)P=o[K],q=a[K],!o.hasOwnProperty(K)||P===q||P===void 0&&q===void 0||Lu(t,i,K,P,o,q);return}}for(var j in a)P=a[j],a.hasOwnProperty(j)&&P!=null&&!o.hasOwnProperty(j)&&Ie(t,i,j,null,o,P);for(X in o)P=o[X],q=a[X],!o.hasOwnProperty(X)||P===q||P==null&&q==null||Ie(t,i,X,P,o,q)}function lg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,v=f.initiatorType,x=f.duration;if(h&&x&&lg(v)){for(v=0,x=f.responseEnd,o+=1;o<a.length;o++){var A=a[o],B=A.startTime;if(B>x)break;var K=A.transferSize,X=A.initiatorType;K&&lg(X)&&(A=A.responseEnd,v+=K*(A<x?1:(x-B)/(A-B)))}if(--o,i+=8*(h+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ju=null,zu=null;function Ll(t){return t.nodeType===9?t:t.ownerDocument}function og(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Iu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bu=null;function jb(){var t=window.event;return t&&t.type==="popstate"?t===Bu?!1:(Bu=t,!0):(Bu=null,!1)}var ug=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(t){return fg.resolve(null).then(t).catch(Bb)}:ug;function Bb(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function dg(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),Js(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Wr(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wr(a);for(var h=a.firstChild;h;){var v=h.nextSibling,x=h.nodeName;h[yr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Wr(t.ownerDocument.body);a=f}while(a);Js(i)}function hg(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Uu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uu(a),Go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ub(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function Pb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fn(t.nextSibling),t===null))return null;return t}function pg(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=fn(t.nextSibling),t===null))return null;return t}function Pu(t){return t.data==="$?"||t.data==="$~"}function Vu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Hu=null;function mg(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function gg(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function yg(t,i,a){switch(i=Ll(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wr(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Go(t)}var dn=new Map,vg=new Set;function jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=Q.d;Q.d={f:Hb,r:qb,D:Gb,C:Kb,L:Qb,m:Fb,X:Xb,S:Yb,M:$b};function Hb(){var t=ei.f(),i=Rl();return t||i}function qb(t){var i=gs(t);i!==null&&i.tag===5&&i.type==="form"?jp(i):ei.r(t)}var Ys=typeof document>"u"?null:document;function _g(t,i,a){var o=Ys;if(o&&typeof i=="string"&&i){var f=sn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vg.has(f)||(vg.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),_t(i,"link",t),ot(i),o.head.appendChild(i)))}}function Gb(t){ei.D(t),_g("dns-prefetch",t,null)}function Kb(t,i){ei.C(t,i),_g("preconnect",t,i)}function Qb(t,i,a){ei.L(t,i,a);var o=Ys;if(o&&t&&i){var f='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var h=f;switch(i){case"style":h=Xs(t);break;case"script":h=$s(t)}dn.has(h)||(t=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),dn.set(h,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ea(h))||i==="script"&&o.querySelector(ta(h))||(i=o.createElement("link"),_t(i,"link",t),ot(i),o.head.appendChild(i)))}}function Fb(t,i){ei.m(t,i);var a=Ys;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=$s(t)}if(!dn.has(h)&&(t=y({rel:"modulepreload",href:t},i),dn.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ta(h)))return}o=a.createElement("link"),_t(o,"link",t),ot(o),a.head.appendChild(o)}}}function Yb(t,i,a){ei.S(t,i,a);var o=Ys;if(o&&t){var f=ys(o).hoistableStyles,h=Xs(t);i=i||"default";var v=f.get(h);if(!v){var x={loading:0,preload:null};if(v=o.querySelector(ea(h)))x.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":i},a),(a=dn.get(h))&&qu(t,a);var A=v=o.createElement("link");ot(A),_t(A,"link",t),A._p=new Promise(function(B,K){A.onload=B,A.onerror=K}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,zl(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:x},f.set(h,v)}}}function Xb(t,i){ei.X(t,i);var a=Ys;if(a&&t){var o=ys(a).hoistableScripts,f=$s(t),h=o.get(f);h||(h=a.querySelector(ta(f)),h||(t=y({src:t,async:!0},i),(i=dn.get(f))&&Gu(t,i),h=a.createElement("script"),ot(h),_t(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function $b(t,i){ei.M(t,i);var a=Ys;if(a&&t){var o=ys(a).hoistableScripts,f=$s(t),h=o.get(f);h||(h=a.querySelector(ta(f)),h||(t=y({src:t,async:!0,type:"module"},i),(i=dn.get(f))&&Gu(t,i),h=a.createElement("script"),ot(h),_t(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function bg(t,i,a,o){var f=(f=ae.current)?jl(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xs(a.href),a=ys(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xs(a.href);var h=ys(f).hoistableStyles,v=h.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=f.querySelector(ea(t)))&&!h._p&&(v.instance=h,v.state.loading=5),dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(t,a),h||Jb(f,t,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$s(a),a=ys(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xs(t){return'href="'+sn(t)+'"'}function ea(t){return'link[rel="stylesheet"]['+t+"]"}function Sg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Jb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),_t(i,"link",a),ot(i),t.head.appendChild(i))}function $s(t){return'[src="'+sn(t)+'"]'}function ta(t){return"script[async]"+t}function xg(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,ot(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ot(o),_t(o,"style",f),zl(o,a.precedence,t),i.instance=o;case"stylesheet":f=Xs(a.href);var h=t.querySelector(ea(f));if(h)return i.state.loading|=4,i.instance=h,ot(h),h;o=Sg(a),(f=dn.get(f))&&qu(o,f),h=(t.ownerDocument||t).createElement("link"),ot(h);var v=h;return v._p=new Promise(function(x,A){v.onload=x,v.onerror=A}),_t(h,"link",o),i.state.loading|=4,zl(h,a.precedence,t),i.instance=h;case"script":return h=$s(a.src),(f=t.querySelector(ta(h)))?(i.instance=f,ot(f),f):(o=a,(f=dn.get(h))&&(o=y({},a),Gu(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),ot(f),_t(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,zl(o,a.precedence,t));return i.instance}function zl(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var x=o[v];if(x.dataset.precedence===i)h=x;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function qu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Il=null;function Eg(t,i,a){if(Il===null){var o=new Map,f=Il=new Map;f.set(a,o)}else f=Il,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[yr]||h[mt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=t+v;var x=o.get(v);x?x.push(h):o.set(v,[h])}}return o}function wg(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Zb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Wb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Xs(o.href),h=i.querySelector(ea(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Bl.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=h,ot(h);return}h=i.ownerDocument||i,o=Sg(o),(f=dn.get(f))&&qu(o,f),h=h.createElement("link"),ot(h);var v=h;v._p=new Promise(function(x,A){v.onload=x,v.onerror=A}),_t(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bl.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ku=0;function eS(t,i){return t.stylesheets&&t.count===0&&Pl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Pl(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&Ku===0&&(Ku=62500*Lb());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pl(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Ku?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ul=null;function Pl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ul=new Map,i.forEach(tS,t),Ul=null,Bl.call(t))}function tS(t,i){if(!(i.state.loading&4)){var a=Ul.get(t);if(a)var o=a.get(null);else{a=new Map,Ul.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=i.instance,v=f.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,f),a.set(v,f),this.count++,o=Bl.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var na={$$typeof:L,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function nS(t,i,a,o,f,h,v,x,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.hiddenUpdates=Po(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Rg(t,i,a,o,f,h,v,x,A,B,K,X){return t=new nS(t,i,a,v,A,B,K,X,x),i=1,h===!0&&(i|=24),h=Kt(3,null,null,i),t.current=h,h.stateNode=t,i=wc(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:i},Ac(h),t}function Cg(t){return t?(t=Cs,t):Cs}function Ag(t,i,a,o,f,h){f=Cg(f),o.context===null?o.context=f:o.pendingContext=f,o=gi(i),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=yi(t,o,i),a!==null&&(Bt(a,t,i),Lr(a,t,i))}function Og(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Qu(t,i){Og(t,i),(t=t.alternate)&&Og(t,i)}function kg(t){if(t.tag===13||t.tag===31){var i=Qi(t,67108864);i!==null&&Bt(i,t,67108864),Qu(t,67108864)}}function Dg(t){if(t.tag===13||t.tag===31){var i=$t();i=Vo(i);var a=Qi(t,i);a!==null&&Bt(a,t,i),Qu(t,i)}}var Vl=!0;function iS(t,i,a,o){var f=M.T;M.T=null;var h=Q.p;try{Q.p=2,Fu(t,i,a,o)}finally{Q.p=h,M.T=f}}function sS(t,i,a,o){var f=M.T;M.T=null;var h=Q.p;try{Q.p=8,Fu(t,i,a,o)}finally{Q.p=h,M.T=f}}function Fu(t,i,a,o){if(Vl){var f=Yu(o);if(f===null)Mu(t,i,o,Hl,a),Mg(t,o);else if(aS(f,t,i,a,o))o.stopPropagation();else if(Mg(t,o),i&4&&-1<rS.indexOf(t)){for(;f!==null;){var h=gs(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Vi(h.pendingLanes);if(v!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var A=1<<31-qt(v);x.entanglements[1]|=A,v&=~A}On(h),(Ne&6)===0&&(wl=he()+500,$r(0))}}break;case 31:case 13:x=Qi(h,2),x!==null&&Bt(x,h,2),Rl(),Qu(h,2)}if(h=Yu(o),h===null&&Mu(t,i,o,Hl,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Mu(t,i,o,null,a)}}function Yu(t){return t=$o(t),Xu(t)}var Hl=null;function Xu(t){if(Hl=null,t=ms(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=u(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hl=t,null}function Ng(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case Dt:return 2;case zn:return 8;case wn:case lt:return 32;case St:return 268435456;default:return 32}default:return 32}}var $u=!1,Ai=null,Oi=null,ki=null,ia=new Map,sa=new Map,Di=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mg(t,i){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":ia.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(i.pointerId)}}function ra(t,i,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},i!==null&&(i=gs(i),i!==null&&kg(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function aS(t,i,a,o,f){switch(i){case"focusin":return Ai=ra(Ai,t,i,a,o,f),!0;case"dragenter":return Oi=ra(Oi,t,i,a,o,f),!0;case"mouseover":return ki=ra(ki,t,i,a,o,f),!0;case"pointerover":var h=f.pointerId;return ia.set(h,ra(ia.get(h)||null,t,i,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,sa.set(h,ra(sa.get(h)||null,t,i,a,o,f)),!0}return!1}function Lg(t){var i=ms(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){t.blockedOn=i,Yd(t.priority,function(){Dg(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,Yd(t.priority,function(){Dg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Yu(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Xo=o,a.target.dispatchEvent(o),Xo=null}else return i=gs(a),i!==null&&kg(i),t.blockedOn=a,!1;i.shift()}return!0}function jg(t,i,a){ql(t)&&a.delete(i)}function lS(){$u=!1,Ai!==null&&ql(Ai)&&(Ai=null),Oi!==null&&ql(Oi)&&(Oi=null),ki!==null&&ql(ki)&&(ki=null),ia.forEach(jg),sa.forEach(jg)}function Gl(t,i){t.blockedOn===i&&(t.blockedOn=null,$u||($u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lS)))}var Kl=null;function zg(t){Kl!==t&&(Kl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kl===t&&(Kl=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(Xu(o||a)===null)continue;break}var h=gs(a);h!==null&&(t.splice(i,3),i-=3,Yc(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Js(t){function i(A){return Gl(A,t)}Ai!==null&&Gl(Ai,t),Oi!==null&&Gl(Oi,t),ki!==null&&Gl(ki,t),ia.forEach(i),sa.forEach(i);for(var a=0;a<Di.length;a++){var o=Di[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Lg(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],v=f[Nt]||null;if(typeof h=="function")v||zg(a);else if(v){var x=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Nt]||null)x=v.formAction;else if(Xu(f)!==null)continue}else x=v.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),zg(a)}}}function Ig(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Ju(t){this._internalRoot=t}Ql.prototype.render=Ju.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=$t();Ag(a,o,t,i,null,null)},Ql.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ag(t.current,2,null,t,null,null),Rl(),i[ps]=null}};function Ql(t){this._internalRoot=t}Ql.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Di.length&&i!==0&&i<Di[a].priority;a++);Di.splice(a,0,t),a===0&&Lg(t)}};var Bg=e.version;if(Bg!=="19.2.3")throw Error(r(527,Bg,"19.2.3"));Q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var oS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{li=Fl.inject(oS),pt=Fl}catch{}}return la.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=Kp,h=Qp,v=Fp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Rg(t,1,!1,null,null,a,o,null,f,h,v,Ig),t[ps]=i.current,Nu(t),new Ju(i)},la.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",h=Kp,v=Qp,x=Fp,A=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),i=Rg(t,1,!0,i,a??null,o,f,A,h,v,x,Ig),i.context=Cg(null),a=i.current,o=$t(),o=Vo(o),f=gi(o),f.callback=null,yi(a,f,o),a=o,i.current.lanes=a,gr(i,a),On(i),t[ps]=i.current,Nu(t),new Ql(i)},la.version="19.2.3",la}var Yg;function vS(){if(Yg)return ef.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ef.exports=yS(),ef.exports}var _S=vS(),Ra=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bS={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},SS=class{#e=bS;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},os=new SS;function xS(n){setTimeout(n,0)}var rr=typeof window>"u"||"Deno"in globalThis;function pn(){}function ES(n,e){return typeof n=="function"?n(e):n}function Ef(n){return typeof n=="number"&&n>=0&&n!==1/0}function _0(n,e){return Math.max(n+(e||0)-Date.now(),0)}function zi(n,e){return typeof n=="function"?n(e):n}function mn(n,e){return typeof n=="function"?n(e):n}function Xg(n,e){const{type:s="all",exact:r,fetchStatus:l,predicate:c,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==od(u,e.options))return!1}else if(!ya(e.queryKey,u))return!1}if(s!=="all"){const p=e.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||l&&l!==e.state.fetchStatus||c&&!c(e))}function $g(n,e){const{exact:s,status:r,predicate:l,mutationKey:c}=n;if(c){if(!e.options.mutationKey)return!1;if(s){if(ii(e.options.mutationKey)!==ii(c))return!1}else if(!ya(e.options.mutationKey,c))return!1}return!(r&&e.state.status!==r||l&&!l(e))}function od(n,e){return(e?.queryKeyHashFn||ii)(n)}function ii(n){return JSON.stringify(n,(e,s)=>Tf(s)?Object.keys(s).sort().reduce((r,l)=>(r[l]=s[l],r),{}):s)}function ya(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(s=>ya(n[s],e[s])):!1}var wS=Object.prototype.hasOwnProperty;function b0(n,e){if(n===e)return n;const s=Jg(n)&&Jg(e);if(!s&&!(Tf(n)&&Tf(e)))return e;const l=(s?n:Object.keys(n)).length,c=s?e:Object.keys(e),u=c.length,d=s?new Array(u):{};let p=0;for(let m=0;m<u;m++){const g=s?m:c[m],y=n[g],_=e[g];if(y===_){d[g]=y,(s?m<l:wS.call(n,g))&&p++;continue}if(y===null||_===null||typeof y!="object"||typeof _!="object"){d[g]=_;continue}const b=b0(y,_);d[g]=b,b===y&&p++}return l===u&&p===l?n:d}function wf(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const s in n)if(n[s]!==e[s])return!1;return!0}function Jg(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Tf(n){if(!Zg(n))return!1;const e=n.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Zg(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Zg(n){return Object.prototype.toString.call(n)==="[object Object]"}function TS(n){return new Promise(e=>{os.setTimeout(e,n)})}function Rf(n,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,e):s.structuralSharing!==!1?b0(n,e):e}function RS(n,e,s=0){const r=[...n,e];return s&&r.length>s?r.slice(1):r}function CS(n,e,s=0){const r=[e,...n];return s&&r.length>s?r.slice(0,-1):r}var cd=Symbol();function S0(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===cd?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function AS(n,e,s){let r=!1,l;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(l??=e(),r||(r=!0,l.aborted?s():l.addEventListener("abort",s,{once:!0})),l)}),n}var OS=class extends Ra{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!rr&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ud=new OS;function Cf(){let n,e;const s=new Promise((l,c)=>{n=l,e=c});s.status="pending",s.catch(()=>{});function r(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{r({status:"fulfilled",value:l}),n(l)},s.reject=l=>{r({status:"rejected",reason:l}),e(l)},s}var kS=xS;function DS(){let n=[],e=0,s=d=>{d()},r=d=>{d()},l=kS;const c=d=>{e?n.push(d):l(()=>{s(d)})},u=()=>{const d=n;n=[],d.length&&l(()=>{r(()=>{d.forEach(p=>{s(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||u()}return p},batchCalls:d=>(...p)=>{c(()=>{d(...p)})},schedule:c,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{l=d}}}var Tt=DS(),NS=class extends Ra{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!rr&&window.addEventListener){const e=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(s=>{s(n)}))}isOnline(){return this.#e}},co=new NS;function MS(n){return Math.min(1e3*2**n,3e4)}function x0(n){return(n??"online")==="online"?co.isOnline():!0}var Af=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function E0(n){let e=!1,s=0,r;const l=Cf(),c=()=>l.status!=="pending",u=E=>{if(!c()){const O=new Af(E);_(O),n.onCancel?.(O)}},d=()=>{e=!0},p=()=>{e=!1},m=()=>ud.isFocused()&&(n.networkMode==="always"||co.isOnline())&&n.canRun(),g=()=>x0(n.networkMode)&&n.canRun(),y=E=>{c()||(r?.(),l.resolve(E))},_=E=>{c()||(r?.(),l.reject(E))},b=()=>new Promise(E=>{r=O=>{(c()||m())&&E(O)},n.onPause?.()}).then(()=>{r=void 0,c()||n.onContinue?.()}),S=()=>{if(c())return;let E;const O=s===0?n.initialPromise:void 0;try{E=O??n.fn()}catch(D){E=Promise.reject(D)}Promise.resolve(E).then(y).catch(D=>{if(c())return;const U=n.retry??(rr?0:3),L=n.retryDelay??MS,z=typeof L=="function"?L(s,D):L,C=U===!0||typeof U=="number"&&s<U||typeof U=="function"&&U(s,D);if(e||!C){_(D);return}s++,n.onFail?.(s,D),TS(z).then(()=>m()?void 0:b()).then(()=>{e?_(D):S()})})};return{promise:l,status:()=>l.status,cancel:u,continue:()=>(r?.(),l),cancelRetry:d,continueRetry:p,canStart:g,start:()=>(g()?S():b().then(S),l)}}var w0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ef(this.gcTime)&&(this.#e=os.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(rr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(os.clearTimeout(this.#e),this.#e=void 0)}},LS=class extends w0{#e;#t;#n;#i;#s;#l;#a;constructor(n){super(),this.#a=!1,this.#l=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#i=n.client,this.#n=this.#i.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=ey(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){if(this.options={...this.#l,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=ey(this.options);e.data!==void 0&&(this.setState(Wg(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const s=Rf(this.state.data,n,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(n,e){this.#r({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#s?.promise;return this.#s?.cancel(n),e?e.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>mn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>zi(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!_0(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},l=()=>{const d=S0(this.options,e),m=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},u=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return r(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#r({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=E0({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Af&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(d,p)=>{this.#r({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Af){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#r({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#r(n){const e=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...T0(s.data,this.options),fetchMeta:n.meta??null};case"success":const r={...s,...Wg(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?r:void 0,r;case"error":const l=n.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=e(this.state),Tt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function T0(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Wg(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ey(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,s=e!==void 0,r=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var jS=class extends Ra{constructor(n,e){super(),this.options=e,this.#e=n,this.#r=null,this.#a=Cf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#s;#l;#a;#r;#m;#d;#h;#c;#u;#o;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ty(this.#t,this.options)?this.#f():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Of(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Of(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!wf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ny(this.#t,s,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==s||mn(this.options.enabled,this.#t)!==mn(e.enabled,this.#t)||zi(this.options.staleTime,this.#t)!==zi(e.staleTime,this.#t))&&this.#g();const l=this.#y();r&&(this.#t!==s||mn(this.options.enabled,this.#t)!==mn(e.enabled,this.#t)||l!==this.#o)&&this.#v(l)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),s=this.createResult(e,n);return IS(this,s)&&(this.#i=s,this.#l=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#i}trackResult(n,e){return new Proxy(n,{get:(s,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),s=this.#e.getQueryCache().build(this.#e,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(n){return this.#f({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(n){this.#x();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(pn)),e}#g(){this.#b();const n=zi(this.options.staleTime,this.#t);if(rr||this.#i.isStale||!Ef(n))return;const s=_0(this.#i.dataUpdatedAt,n)+1;this.#c=os.setTimeout(()=>{this.#i.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#S(),this.#o=n,!(rr||mn(this.options.enabled,this.#t)===!1||!Ef(this.#o)||this.#o===0)&&(this.#u=os.setInterval(()=>{(this.options.refetchIntervalInBackground||ud.isFocused())&&this.#f()},this.#o))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(os.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(os.clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const s=this.#t,r=this.options,l=this.#i,c=this.#s,u=this.#l,p=n!==s?n.state:this.#n,{state:m}=n;let g={...m},y=!1,_;if(e._optimisticResults){const $=this.hasListeners(),Y=!$&&ty(n,e),ne=$&&ny(n,s,e,r);(Y||ne)&&(g={...g,...T0(m.data,n.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:E}=g;_=g.data;let O=!1;if(e.placeholderData!==void 0&&_===void 0&&E==="pending"){let $;l?.isPlaceholderData&&e.placeholderData===u?.placeholderData?($=l.data,O=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,$!==void 0&&(E="success",_=Rf(l?.data,$,e),y=!0)}if(e.select&&_!==void 0&&!O)if(l&&_===c?.data&&e.select===this.#m)_=this.#d;else try{this.#m=e.select,_=e.select(_),_=Rf(l?.data,_,e),this.#d=_,this.#r=null}catch($){this.#r=$}this.#r&&(b=this.#r,_=this.#d,S=Date.now(),E="error");const D=g.fetchStatus==="fetching",U=E==="pending",L=E==="error",z=U&&D,C=_!==void 0,V={status:E,fetchStatus:g.fetchStatus,isPending:U,isSuccess:E==="success",isError:L,isInitialLoading:z,isLoading:z,data:_,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:D,isRefetching:D&&!U,isLoadingError:L&&!C,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:L&&C,isStale:fd(n,e),refetch:this.refetch,promise:this.#a,isEnabled:mn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const $=oe=>{V.status==="error"?oe.reject(V.error):V.data!==void 0&&oe.resolve(V.data)},Y=()=>{const oe=this.#a=V.promise=Cf();$(oe)},ne=this.#a;switch(ne.status){case"pending":n.queryHash===s.queryHash&&$(ne);break;case"fulfilled":(V.status==="error"||V.data!==ne.value)&&Y();break;case"rejected":(V.status!=="error"||V.error!==ne.reason)&&Y();break}}return V}updateResult(){const n=this.#i,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#l=this.options,this.#s.data!==void 0&&(this.#h=this.#t),wf(e,n))return;this.#i=e;const s=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!this.#p.size)return!0;const c=new Set(l??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#i).some(u=>{const d=u;return this.#i[d]!==n[d]&&c.has(d)})};this.#E({listeners:s()})}#x(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(n){Tt.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function zS(n,e){return mn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function ty(n,e){return zS(n,e)||n.state.data!==void 0&&Of(n,e,e.refetchOnMount)}function Of(n,e,s){if(mn(e.enabled,n)!==!1&&zi(e.staleTime,n)!=="static"){const r=typeof s=="function"?s(n):s;return r==="always"||r!==!1&&fd(n,e)}return!1}function ny(n,e,s,r){return(n!==e||mn(r.enabled,n)===!1)&&(!s.suspense||n.state.status!=="error")&&fd(n,s)}function fd(n,e){return mn(e.enabled,n)!==!1&&n.isStaleByTime(zi(e.staleTime,n))}function IS(n,e){return!wf(n.getCurrentResult(),e)}function iy(n){return{onFetch:(e,s)=>{const r=e.options,l=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let g=!1;const y=S=>{AS(S,()=>e.signal,()=>g=!0)},_=S0(e.options,e.fetchOptions),b=async(S,E,O)=>{if(g)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const U=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:E,direction:O?"backward":"forward",meta:e.options.meta};return y(N),N})(),L=await _(U),{maxPages:z}=e.options,C=O?CS:RS;return{pages:C(S.pages,L,z),pageParams:C(S.pageParams,E,z)}};if(l&&c.length){const S=l==="backward",E=S?BS:sy,O={pages:c,pageParams:u},D=E(r,O);d=await b(O,D,S)}else{const S=n??c.length;do{const E=p===0?u[0]??r.initialPageParam:sy(r,d);if(p>0&&E==null)break;d=await b(d,E),p++}while(p<S)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=m}}}function sy(n,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,s[r],s):void 0}function BS(n,{pages:e,pageParams:s}){return e.length>0?n.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var US=class extends w0{#e;#t;#n;#i;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||PS(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=E0({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",l=!this.#i.canStart();try{if(r)e();else{this.#s({type:"pending",variables:n,isPaused:l}),await this.#n.config.onMutate?.(n,this,s);const u=await this.options.onMutate?.(n,s);u!==this.state.context&&this.#s({type:"pending",context:u,variables:n,isPaused:l})}const c=await this.#i.start();return await this.#n.config.onSuccess?.(c,n,this.state.context,this,s),await this.options.onSuccess?.(c,n,this.state.context,s),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(c,null,n,this.state.context,s),this.#s({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,n,this.state.context,this,s)}catch(u){Promise.reject(u)}try{await this.options.onError?.(c,n,this.state.context,s)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,s)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,c,n,this.state.context,s)}catch(u){Promise.reject(u)}throw this.#s({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#s(n){const e=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Tt.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function PS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VS=class extends Ra{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,s){const r=new US({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:s});return this.add(r),r}add(n){this.#e.add(n);const e=Yl(n);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Yl(n);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}else s[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Yl(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(l=>l.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Yl(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tt.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(s=>$g(e,s))}findAll(n={}){return this.getAll().filter(e=>$g(n,e))}notify(n){Tt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Tt.batch(()=>Promise.all(n.map(e=>e.continue().catch(pn))))}};function Yl(n){return n.options.scope?.id}var HS=class extends Ra{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,s){const r=e.queryKey,l=e.queryHash??od(r,e);let c=this.get(l);return c||(c=new LS({client:n,queryKey:r,queryHash:l,options:n.defaultQueryOptions(e),state:s,defaultOptions:n.getQueryDefaults(r)}),this.add(c)),c}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Tt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(s=>Xg(e,s))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(s=>Xg(n,s)):e}notify(n){Tt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},qS=class{#e;#t;#n;#i;#s;#l;#a;#r;constructor(n={}){this.#e=n.queryCache||new HS,this.#t=n.mutationCache||new VS,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#a=ud.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=co.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#a?.(),this.#a=void 0,this.#r?.(),this.#r=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),s=this.#e.build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(zi(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(n,e,s){const r=this.defaultQueryOptions({queryKey:n}),c=this.#e.get(r.queryHash)?.state.data,u=ES(e,c);if(u!==void 0)return this.#e.build(this,r).setData(u,{...s,manual:!0})}setQueriesData(n,e,s){return Tt.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Tt.batch(()=>{e.findAll(n).forEach(s=>{e.remove(s)})})}resetQueries(n,e){const s=this.#e;return Tt.batch(()=>(s.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const s={revert:!0,...e},r=Tt.batch(()=>this.#e.findAll(n).map(l=>l.cancel(s)));return Promise.all(r).then(pn).catch(pn)}invalidateQueries(n,e={}){return Tt.batch(()=>(this.#e.findAll(n).forEach(s=>{s.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=Tt.batch(()=>this.#e.findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,s);return s.throwOnError||(c=c.catch(pn)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(pn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(zi(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(pn).catch(pn)}fetchInfiniteQuery(n){return n.behavior=iy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(pn).catch(pn)}ensureInfiniteQueryData(n){return n.behavior=iy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return co.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(ii(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],s={};return e.forEach(r=>{ya(n,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(n,e){this.#s.set(ii(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],s={};return e.forEach(r=>{ya(n,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=od(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cd&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},GS=G.createContext(void 0),KS=({client:n,children:e})=>(G.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),w.jsx(GS.Provider,{value:n,children:e}));class or{}class ar extends or{constructor(e,s){super(),this.collection=e,this.alias=s,this.type="collectionRef"}}class gn extends or{constructor(e,s){super(),this.query=e,this.alias=s,this.type="queryRef"}}class kt extends or{constructor(e){super(),this.path=e,this.type="ref"}}class Ut extends or{constructor(e){super(),this.value=e,this.type="val"}}class yn extends or{constructor(e,s){super(),this.name=e,this.args=s,this.type="func"}}class R0 extends or{constructor(e,s){super(),this.name=e,this.args=s,this.type="agg"}}function dd(n){return n instanceof R0||n instanceof yn||n instanceof kt||n instanceof Ut}function hd(n){return typeof n=="object"&&"expression"in n?n.expression:n}function ry(n){return typeof n=="object"&&"expression"in n?n.expression:n}function ay(n){return typeof n=="object"&&"expression"in n&&n.residual===!0}function QS(n){return{expression:n,residual:!0}}function FS(n,e){if(n.from.alias===e)return n.from;for(const s of n.join||[])if(s.from.alias===e)return s.from}function va(n,e,s){if(e.path.length!==0){if(e.path.length===1){const r=e.path[0];if(n.select){const l=n.select[r];if(l&&l.type==="ref")return va(n,l,s)}return{collection:s,path:[r]}}if(e.path.length>1){const[r,...l]=e.path,c=FS(n,r);return c?c.type==="queryRef"?va(c.query,new kt(l),s):{collection:c.collection,path:l}:void 0}}}class Zt extends Error{constructor(e){super(e),this.name="TanStackDBError"}}class ly extends Zt{constructor(e,s,r){const l=`${e==="insert"?"Insert":"Update"} validation failed: ${s.map(c=>`
- ${c.message} - path: ${c.path}`).join("")}`;super(r||l),this.name="SchemaValidationError",this.type=e,this.issues=s}}class Ca extends Zt{constructor(e){super(e),this.name="CollectionConfigurationError"}}class YS extends Ca{constructor(){super("Collection requires a config")}}class XS extends Ca{constructor(){super("Collection requires a sync config")}}class $S extends Ca{constructor(){super("Schema must implement the standard-schema interface")}}class oy extends Ca{constructor(){super("Schema validation must be synchronous")}}class Aa extends Zt{constructor(e){super(e),this.name="CollectionStateError"}}class JS extends Aa{constructor(e,s){super(`Cannot perform ${e} on collection "${s}" - collection is in error state. Try calling cleanup() and restarting the collection.`)}}class ZS extends Aa{constructor(e,s,r){super(`Invalid collection status transition from "${e}" to "${s}" for collection "${r}"`)}}class WS extends Aa{constructor(){super("Collection is in error state")}}class ex extends Aa{constructor(){super("Active subscribers count is negative - this should never happen")}}class Mn extends Zt{constructor(e){super(e),this.name="CollectionOperationError"}}class tx extends Mn{constructor(e){super(`An object was created without a defined key: ${JSON.stringify(e)}`)}}class nx extends Mn{constructor(e,s){const r=e===null?"null":typeof e;super(`getKey returned an invalid key type. Expected string or number, but got ${r}: ${JSON.stringify(e)}. Item: ${JSON.stringify(s)}`)}}class ix extends Mn{constructor(e){super(`Cannot insert document with ID "${e}" because it already exists in the collection`)}}class sx extends Mn{constructor(e,s,r){const l=`Cannot insert document with key "${e}" from sync because it already exists in the collection "${s}"`;r?.hasCustomGetKey&&r.hasJoins?super(`${l}. This collection uses a custom getKey with joined queries. Joined queries can produce multiple rows with the same key when relationships are not 1:1. Consider: (1) using a composite key in your getKey function (e.g., \`\${item.key1}-\${item.key2}\`), (2) ensuring your join produces unique rows per key, or (3) removing the custom getKey to use the default composite key behavior.`):super(l)}}class rx extends Mn{constructor(){super("The first argument to update is missing")}}class ax extends Mn{constructor(){super("No keys were passed to update")}}class lx extends Mn{constructor(e){super(`The key "${e}" was passed to update but an object for this key was not found in the collection`)}}class ox extends Mn{constructor(e,s){super(`Updating the key of an item is not allowed. Original key: "${e}", Attempted new key: "${s}". Please delete the old item and create a new one if a key change is necessary.`)}}class cx extends Mn{constructor(){super("No keys were passed to delete")}}class ux extends Mn{constructor(e){super(`Collection.delete was called with key '${e}' but there is no item in the collection with this key`)}}class pd extends Zt{constructor(e){super(e),this.name="MissingHandlerError"}}class fx extends pd{constructor(){super("Collection.insert called directly (not within an explicit transaction) but no 'onInsert' handler is configured.")}}class dx extends pd{constructor(){super("Collection.update called directly (not within an explicit transaction) but no 'onUpdate' handler is configured.")}}class hx extends pd{constructor(){super("Collection.delete called directly (not within an explicit transaction) but no 'onDelete' handler is configured.")}}class Bi extends Zt{constructor(e){super(e),this.name="TransactionError"}}class px extends Bi{constructor(){super("mutationFn is required when creating a transaction")}}class mx extends Bi{constructor(){super("You can no longer call .mutate() as the transaction is no longer pending")}}class gx extends Bi{constructor(){super("You can no longer call .rollback() as the transaction is already completed")}}class yx extends Bi{constructor(){super("You can no longer call .commit() as the transaction is no longer pending")}}class cy extends Bi{constructor(){super("No pending sync transaction to write to")}}class uy extends Bi{constructor(){super("The pending sync transaction is already committed, you can't still write to it.")}}class vx extends Bi{constructor(){super("No pending sync transaction to commit")}}class _x extends Bi{constructor(){super("The pending sync transaction is already committed, you can't commit it again.")}}class cr extends Zt{constructor(e){super(e),this.name="QueryBuilderError"}}class bx extends cr{constructor(e){super(`Only one source is allowed in the ${e}`)}}class Sx extends cr{constructor(e){super(`A sub query passed to a ${e} must have a from clause itself`)}}class xx extends cr{constructor(e){super(`Invalid source for live query: The value provided for alias "${e}" is not a Collection or subquery. Live queries only accept Collection instances or subqueries. Please ensure you're passing a valid Collection or QueryBuilder, not a plain array or other data type.`)}}class Xl extends cr{constructor(e,s){super(`Invalid source for ${e}: Expected an object with a single key-value pair like { alias: collection }. For example: .from({ todos: todosCollection }). Got: ${s}`)}}class Ex extends cr{constructor(){super("Join condition must be an equality expression")}}class wx extends cr{constructor(){super("Query must have a from clause")}}class Wt extends Zt{constructor(e){super(e),this.name="QueryCompilationError"}}class Tx extends Wt{constructor(){super("DISTINCT requires a SELECT clause.")}}class Rx extends Wt{constructor(){super("HAVING clause requires GROUP BY clause")}}class Cx extends Wt{constructor(){super("LIMIT and OFFSET require an ORDER BY clause to ensure deterministic results")}}class C0 extends Wt{constructor(e,s,r){const l=s?`alias "${e}" (collection "${s}")`:`collection "${e}"`,c=r?.length?`. Available keys: ${r.join(", ")}`:"";super(`Input for ${l} not found in inputs map${c}`)}}class Ax extends Wt{constructor(e,s){super(`Subquery uses alias "${e}" which is already used in the parent query. Each alias must be unique across parent and subquery contexts. Parent query aliases: ${s.join(", ")}. Please rename "${e}" in either the parent query or subquery to avoid conflicts.`)}}class Ox extends Wt{constructor(e){super(`Unsupported FROM type: ${e}`)}}class kx extends Wt{constructor(e){super(`Unknown expression type: ${e}`)}}class Dx extends Wt{constructor(){super("Reference path cannot be empty")}}class Nx extends Wt{constructor(e){super(`Unknown function: ${e}`)}}class fy extends Wt{constructor(e){super(`Collection "${e}" not found during compilation of join`)}}class us extends Zt{constructor(e){super(e),this.name="JoinError"}}class Mx extends us{constructor(e){super(`Unsupported join type: ${e}`)}}class Lx extends us{constructor(e){super(`Invalid join condition: both expressions refer to the same source "${e}"`)}}class jx extends us{constructor(){super("Invalid join condition: expressions must reference source aliases")}}class zx extends us{constructor(e){super(`Invalid join condition: left expression refers to an unavailable source "${e}"`)}}class Ix extends us{constructor(e){super(`Invalid join condition: right expression does not refer to the joined source "${e}"`)}}class Bx extends us{constructor(){super("Invalid join condition")}}class Ux extends us{constructor(e){super(`Unsupported join source type: ${e}`)}}class No extends Zt{constructor(e){super(e),this.name="GroupByError"}}class Px extends No{constructor(e){super(`Non-aggregate expression '${e}' in SELECT must also appear in GROUP BY clause`)}}class Vx extends No{constructor(e){super(`Unsupported aggregate function: ${e}`)}}class Hx extends No{constructor(e){super(`Aggregate function in HAVING clause must also be in SELECT clause: ${e}`)}}class qx extends No{constructor(e){super(`Unknown expression type in HAVING clause: ${e}`)}}class dy extends Zt{constructor(e,s){const r=s instanceof Error?s.message:String(s);super(`Collection "${e}" sync cleanup function threw an error: ${r}`),this.name="SyncCleanupError"}}class Gx extends Zt{constructor(e){super(e),this.name="QueryOptimizerError"}}class Kx extends Gx{constructor(){super("Cannot combine empty expression list")}}class Qx extends Wt{constructor(e,s,r,l){super(`Internal error: subscription for alias '${e}' (remapped from '${s}', collection '${r}') is missing in join pipeline. Available aliases: ${l.join(", ")}. This indicates a bug in alias tracking.`)}}class Fx extends Wt{constructor(e){super(`Internal error: compiler returned aliases without inputs: ${e.join(", ")}. This indicates a bug in query compilation. Please report this issue.`)}}class Yx extends Wt{constructor(){super("setWindow() can only be called on collections with an ORDER BY clause. Add .orderBy() to your query to enable window movement.")}}const rf=new WeakMap;let Xx=1;function hy(n){if(rf.has(n))return rf.get(n);const e=Xx++;return rf.set(n,e),e}const md=(n,e,s)=>{const{nulls:r}=s;if(n==null&&e==null)return 0;if(n==null)return r==="first"?-1:1;if(e==null)return r==="first"?1:-1;if(typeof n=="string"&&typeof e=="string"&&s.stringSort==="locale")return n.localeCompare(e,s.locale,s.localeOptions);if(Array.isArray(n)&&Array.isArray(e)){for(let u=0;u<Math.min(n.length,e.length);u++){const d=md(n[u],e[u],s);if(d!==0)return d}return n.length-e.length}if(n instanceof Date&&e instanceof Date)return n.getTime()-e.getTime();const l=typeof n=="object",c=typeof e=="object";if(l||c){if(l&&c){const u=hy(n),d=hy(e);return u-d}if(l)return 1;if(c)return-1}return n<e?-1:n>e?1:0},$x=(n,e,s)=>md(e,n,{...s,nulls:s.nulls==="first"?"last":"first"});function uo(n){return(e,s)=>n.direction==="asc"?md(e,s,n):$x(e,s,n)}const kf=uo({direction:"asc",nulls:"first",stringSort:"locale"});function Jx(n,e){if(n.byteLength!==e.byteLength)return!1;for(let s=0;s<n.byteLength;s++)if(n[s]!==e[s])return!1;return!0}const Zx=128;function ti(n){return n instanceof Date?n.getTime():(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)&&n.byteLength<=Zx?`__u8__${Array.from(n).join(",")}`:n}function Wx(n,e){if(n===e)return!0;const s=typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array,r=typeof Buffer<"u"&&e instanceof Buffer||e instanceof Uint8Array;return s&&r?Jx(n,e):!1}function ut(n){return n==null}function nr(n){return n===!0}function Pt(n,e=!1){return yd(n,e)}function gd(n){return yd(n,!0)}function yd(n,e){switch(n.type){case"val":{const s=n.value;return()=>s}case"ref":return e?t1(n):e1(n);case"func":return n1(n,e);default:throw new kx(n.type)}}function e1(n){const[e,...s]=n.path;if(!e)throw new Dx;if(s.length===0)return r=>r[e];if(s.length===1){const r=s[0];return l=>l[e]?.[r]}else return r=>{const l=r[e];if(l===void 0)return;let c=l;for(const u of s){if(c==null)return c;c=c[u]}return c}}function t1(n){const e=n.path;return s=>{let r=s;for(const l of e){if(r==null)return r;r=r[l]}return r}}function n1(n,e){const s=n.args.map(r=>yd(r,e));switch(n.name){case"eq":{const r=s[0],l=s[1];return c=>{const u=ti(r(c)),d=ti(l(c));return ut(u)||ut(d)?null:Wx(u,d)}}case"gt":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:u>d}}case"gte":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:u>=d}}case"lt":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:u<d}}case"lte":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:u<=d}}case"and":return r=>{let l=!1;for(const c of s){const u=c(r);if(u===!1)return!1;ut(u)&&(l=!0)}return l?null:!0};case"or":return r=>{let l=!1;for(const c of s){const u=c(r);if(u===!0)return!0;ut(u)&&(l=!0)}return l?null:!1};case"not":{const r=s[0];return l=>{const c=r(l);return ut(c)?null:!c}}case"in":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)?null:Array.isArray(d)?d.includes(u):!1}}case"like":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:py(u,d,!1)}}case"ilike":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return ut(u)||ut(d)?null:py(u,d,!0)}}case"upper":{const r=s[0];return l=>{const c=r(l);return typeof c=="string"?c.toUpperCase():c}}case"lower":{const r=s[0];return l=>{const c=r(l);return typeof c=="string"?c.toLowerCase():c}}case"length":{const r=s[0];return l=>{const c=r(l);return typeof c=="string"||Array.isArray(c)?c.length:0}}case"concat":return r=>s.map(l=>{const c=l(r);try{return String(c??"")}catch{try{return JSON.stringify(c)||""}catch{return"[object]"}}}).join("");case"coalesce":return r=>{for(const l of s){const c=l(r);if(c!=null)return c}return null};case"add":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return(u??0)+(d??0)}}case"subtract":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return(u??0)-(d??0)}}case"multiply":{const r=s[0],l=s[1];return c=>{const u=r(c),d=l(c);return(u??0)*(d??0)}}case"divide":{const r=s[0],l=s[1];return c=>{const u=r(c),p=l(c)??0;return p!==0?(u??0)/p:null}}case"isUndefined":{const r=s[0];return l=>r(l)===void 0}case"isNull":{const r=s[0];return l=>r(l)===null}default:throw new Nx(n.name)}}function py(n,e,s){if(typeof n!="string"||typeof e!="string")return!1;const r=s?n.toLowerCase():n;let c=(s?e.toLowerCase():e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return c=c.replace(/%/g,".*"),c=c.replace(/_/g,"."),new RegExp(`^${c}$`).test(r)}function En(n,e){return io(n,e,new Map)}function io(n,e,s){if(n===e)return!0;if(n==null||e==null||typeof n!=typeof e)return!1;if(n instanceof Date)return e instanceof Date?n.getTime()===e.getTime():!1;if(n instanceof RegExp)return e instanceof RegExp?n.source===e.source&&n.flags===e.flags:!1;if(n instanceof Map){if(!(e instanceof Map)||n.size!==e.size)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const l=Array.from(n.entries()).every(([c,u])=>e.has(c)&&io(u,e.get(c),s));return s.delete(n),l}if(n instanceof Set){if(!(e instanceof Set)||n.size!==e.size)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const r=Array.from(n),l=Array.from(e);if(r.every(u=>typeof u!="object"))return s.delete(n),r.every(u=>e.has(u));const c=r.length===l.length;return s.delete(n),c}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)&&!(n instanceof DataView)&&!(e instanceof DataView)){const r=n,l=e;if(r.length!==l.length)return!1;for(let c=0;c<r.length;c++)if(r[c]!==l[c])return!1;return!0}if(fo(n)&&fo(e)){const r=Df(n),l=Df(e);return r!==l?!1:typeof n.equals=="function"?n.equals(e):n.toString()===e.toString()}if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;if(s.has(n))return s.get(n)===e;s.set(n,e);const r=n.every((l,c)=>io(l,e[c],s));return s.delete(n),r}if(typeof n=="object"){if(s.has(n))return s.get(n)===e;s.set(n,e);const r=Object.keys(n),l=Object.keys(e);if(r.length!==l.length)return s.delete(n),!1;const c=r.every(u=>u in e&&io(n[u],e[u],s));return s.delete(n),c}return!1}const i1=["Temporal.Duration","Temporal.Instant","Temporal.PlainDate","Temporal.PlainDateTime","Temporal.PlainMonthDay","Temporal.PlainTime","Temporal.PlainYearMonth","Temporal.ZonedDateTime"];function Df(n){return n[Symbol.toStringTag]}function fo(n){const e=Df(n);return typeof e=="string"&&i1.includes(e)}const vd={direction:"asc",nulls:"first",stringSort:"locale"};class s1{constructor(e){this.originalIndex=e}lookup(e,s){const r=e==="gt"?"lt":e==="gte"?"lte":e==="lt"?"gt":e==="lte"?"gte":e;return this.originalIndex.lookup(r,s)}rangeQuery(e={}){return this.originalIndex.rangeQueryReversed(e)}rangeQueryReversed(e={}){return this.originalIndex.rangeQuery(e)}take(e,s,r){return this.originalIndex.takeReversed(e,s,r)}takeReversed(e,s,r){return this.originalIndex.take(e,s,r)}get orderedEntriesArray(){return this.originalIndex.orderedEntriesArrayReversed}get orderedEntriesArrayReversed(){return this.originalIndex.orderedEntriesArray}supports(e){return this.originalIndex.supports(e)}matchesField(e){return this.originalIndex.matchesField(e)}matchesCompareOptions(e){return this.originalIndex.matchesCompareOptions(e)}matchesDirection(e){return this.originalIndex.matchesDirection(e)}getStats(){return this.originalIndex.getStats()}add(e,s){this.originalIndex.add(e,s)}remove(e,s){this.originalIndex.remove(e,s)}update(e,s,r){this.originalIndex.update(e,s,r)}build(e){this.originalIndex.build(e)}clear(){this.originalIndex.clear()}get keyCount(){return this.originalIndex.keyCount}equalityLookup(e){return this.originalIndex.equalityLookup(e)}inArrayLookup(e){return this.originalIndex.inArrayLookup(e)}get indexedKeysSet(){return this.originalIndex.indexedKeysSet}get valueMapData(){return this.originalIndex.valueMapData}}function Oa(n,e,s){const r=s??{...vd,...n.compareOptions};for(const l of n.indexes.values())if(l.matchesField(e)&&l.matchesCompareOptions(r))return l.matchesDirection(r.direction)?l:new s1(l)}function r1(n){if(n.length===0)return new Set;if(n.length===1)return new Set(n[0]);let e=new Set(n[0]);for(let s=1;s<n.length;s++){const r=new Set;for(const l of e)n[s].has(l)&&r.add(l);e=r}return e}function a1(n){const e=new Set;for(const s of n)for(const r of s)e.add(r);return e}function l1(n,e){return _d(n,e)}function _d(n,e){if(n.type==="func")switch(n.name){case"eq":case"gt":case"gte":case"lt":case"lte":return c1(n,e);case"and":return u1(n,e);case"or":return f1(n,e);case"in":return d1(n,e)}return{canOptimize:!1,matchingKeys:new Set}}function o1(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=new Map;for(const r of n.args)if(r.type==="func"&&["gt","gte","lt","lte"].includes(r.name)){const l=r;if(l.args.length===2){const c=l.args[0],u=l.args[1];let d=null,p=null,m=l.name;if(c.type==="ref"&&u.type==="val")d=c,p=u;else if(c.type==="val"&&u.type==="ref")switch(d=u,p=c,m){case"gt":m="lt";break;case"gte":m="lte";break;case"lt":m="gt";break;case"lte":m="gte";break}if(d&&p){const y=d.path.join("."),_=p.value;s.has(y)||s.set(y,[]),s.get(y).push({operation:m,value:_})}}}for(const[r,l]of s)if(l.length>=2){const c=r.split("."),u=Oa(e,c);if(u&&u.supports("gt")&&u.supports("lt")){let d,p,m=!0,g=!0;for(const{operation:_,value:b}of l)switch(_){case"gt":(d===void 0||b>d)&&(d=b,m=!1);break;case"gte":(d===void 0||b>d)&&(d=b,m=!0);break;case"lt":(p===void 0||b<p)&&(p=b,g=!1);break;case"lte":(p===void 0||b<p)&&(p=b,g=!0);break}return{canOptimize:!0,matchingKeys:u.rangeQuery({from:d,to:p,fromInclusive:m,toInclusive:g})}}}return{canOptimize:!1,matchingKeys:new Set}}function c1(n,e){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];let l=null,c=null,u=n.name;if(s.type==="ref"&&r.type==="val")l=s,c=r;else if(s.type==="val"&&r.type==="ref")switch(l=r,c=s,u){case"gt":u="lt";break;case"gte":u="lte";break;case"lt":u="gt";break;case"lte":u="gte";break}if(l&&c){const d=l.path,p=Oa(e,d);if(p){const m=c.value,g=u;return p.supports(g)?{canOptimize:!0,matchingKeys:p.lookup(g,m)}:{canOptimize:!1,matchingKeys:new Set}}}return{canOptimize:!1,matchingKeys:new Set}}function u1(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=o1(n,e);if(s.canOptimize)return s;const r=[];for(const l of n.args){const c=_d(l,e);c.canOptimize&&r.push(c)}if(r.length>0){const l=r.map(u=>u.matchingKeys);return{canOptimize:!0,matchingKeys:r1(l)}}return{canOptimize:!1,matchingKeys:new Set}}function f1(n,e){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=[];for(const r of n.args){const l=_d(r,e);l.canOptimize&&s.push(l)}if(s.length>0){const r=s.map(c=>c.matchingKeys);return{canOptimize:!0,matchingKeys:a1(r)}}return{canOptimize:!1,matchingKeys:new Set}}function d1(n,e){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];if(s.type==="ref"&&r.type==="val"&&Array.isArray(r.value)){const l=s.path,c=r.value,u=Oa(e,l);if(u){if(u.supports("in"))return{canOptimize:!0,matchingKeys:u.lookup("in",c)};if(u.supports("eq")){const d=new Set;for(const p of c){const m=u.lookup("eq",p);for(const g of m)d.add(g)}return{canOptimize:!0,matchingKeys:d}}}}return{canOptimize:!1,matchingKeys:new Set}}class h1 extends Map{constructor(e,s){super(s),this.defaultValue=e}get(e){return this.has(e)?super.get(e):this.defaultValue()}update(e,s){const r=this.get(e),l=s(r);return this.set(e,l),l}}const af=3e4;function lf(n,e){if(e.length<=af)n.push(...e);else for(let s=0;s<e.length;s+=af){const r=e.slice(s,s+af);n.push(...r)}}function p1(n,e,s){let r=0,l=n.length;for(;r<l;){const c=Math.floor((r+l)/2),u=s(n[c],e);if(u<0)r=c+1;else if(u>0)l=c;else return c}return r}class m1{constructor(){this.objectIds=new WeakMap,this.nextId=0}getId(e){if(typeof e!="object"||e===null){const s=String(e);let r=0;for(let l=0;l<s.length;l++){const c=s.charCodeAt(l);r=(r<<5)-r+c,r=r&r}return r}return this.objectIds.has(e)||this.objectIds.set(e,this.nextId++),this.objectIds.get(e)}getStringId(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?`str_${String(e)}`:`obj_${this.getId(e)}`}}const of=new m1;function g1(n,e){const[s,r]=n,[l,c]=e,u=[...$l(s,Math.min(r,l)),...$l(Math.max(s,c),r)],d=[...$l(l,Math.min(c,s)),...$l(Math.max(l,r),c)];return{onlyInA:u,onlyInB:d}}function $l(n,e){const s=[];for(let r=n;r<e;r++)s.push(r);return s}function ho(n,e){return typeof n==typeof e?n<e?-1:n>e?1:0:typeof n=="string"?-1:1}const y1=bt(),v1=bt(),_1=bt(),b1=bt(),S1=bt();function bt(){return Math.random()*(2**31-1)>>>0}const A0=new ArrayBuffer(8),x1=new DataView(A0),Mi=new Uint8Array(A0);class Mo{constructor(){this.hash=y1,this.length=0,this.carry=0,this.carryBytes=0}_mix(e){e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e,this.hash=this.hash<<13|this.hash>>>19,this.hash=Math.imul(this.hash,5)+3864292196}writeByte(e){this.carry|=(e&255)<<8*this.carryBytes,this.carryBytes++,this.length++,this.carryBytes===4&&(this._mix(this.carry>>>0),this.carry=0,this.carryBytes=0)}update(e){switch(typeof e){case"symbol":{this.update(S1);const s=e.description;if(!s)return;for(let r=0;r<s.length;r++){const l=s.charCodeAt(r);this.writeByte(l&255),this.writeByte(l>>>8&255)}return}case"string":this.update(v1);for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);this.writeByte(r&255),this.writeByte(r>>>8&255)}return;case"number":x1.setFloat64(0,e,!0),this.writeByte(Mi[0]),this.writeByte(Mi[1]),this.writeByte(Mi[2]),this.writeByte(Mi[3]),this.writeByte(Mi[4]),this.writeByte(Mi[5]),this.writeByte(Mi[6]),this.writeByte(Mi[7]);return;case"bigint":{let s=e;for(s<0n?(s=-s,this.update(b1)):this.update(_1);s>0n;)this.writeByte(Number(s&0xffn)),s>>=8n;e===0n&&this.writeByte(0);return}default:throw new TypeError(`Unsupported input type: ${typeof e}`)}}digest(){if(this.carryBytes>0){let e=this.carry>>>0;e=Math.imul(e,3432918353),e=e<<15|e>>>17,e=Math.imul(e,461845907),this.hash^=e}return this.hash^=this.length,this.hash^=this.hash>>>16,this.hash=Math.imul(this.hash,2246822507),this.hash^=this.hash>>>13,this.hash=Math.imul(this.hash,3266489909),this.hash^=this.hash>>>16,this.hash>>>0}}const E1=bt(),w1=bt(),T1=bt(),R1=bt(),C1=bt(),A1=bt(),O1=bt(),k1=bt(),D1=bt(),N1=bt(),M1=bt(),L1=bt(),j1=128,_a=new WeakMap;function At(n){const e=new Mo;return O0(e,n),e.digest()}function z1(n){const e=_a.get(n);if(e!==void 0)return e;let s;if(n instanceof Date)s=I1(n);else if(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)if(n.byteLength<=j1)s=B1(n);else return Nf(n);else{if(n instanceof File)return Nf(n);{let r=n,l=k1;n instanceof Array&&(l=D1),n instanceof Map&&(l=N1,r=[...n.entries()]),n instanceof Set&&(l=M1,r=[...n.entries()]),s=U1(r,l)}}return _a.set(n,s),s}function I1(n){const e=new Mo;return e.update(O1),e.update(n.getTime()),e.digest()}function B1(n){const e=new Mo;e.update(L1),e.update(n.byteLength);for(let s=0;s<n.byteLength;s++)e.writeByte(n[s]);return e.digest()}function U1(n,e){const s=new Mo;s.update(e);const r=Object.keys(n);r.sort(V1);for(const l of r)s.update(C1),s.update(l),O0(s,n[l]);return s.digest()}function O0(n,e){if(e===null){n.update(T1);return}switch(typeof e){case"undefined":n.update(R1);return;case"boolean":n.update(e?E1:w1);return;case"number":n.update(isNaN(e)?NaN:e===0?0:e);return;case"bigint":case"string":case"symbol":n.update(e);return;case"object":n.update(P1(e));return;case"function":n.update(Nf(e));return;default:console.warn(`Ignored input during hashing because it is of type ${typeof e} which is not supported`)}}function P1(n){let e=_a.get(n);return e===void 0&&(e=z1(n)),e}let my=1;function Nf(n){let e=_a.get(n);return e===void 0&&(e=my^A1,my++,_a.set(n,e)),e}function V1(n,e){return n.localeCompare(e)}class st{#e;constructor(e=[]){this.#e=e}toString(e=!1){return`MultiSet(${JSON.stringify(this.#e,null,e?2:void 0)})`}toJSON(){return JSON.stringify(Array.from(this.getInner()))}static fromJSON(e){return new st(JSON.parse(e))}map(e){return new st(this.#e.map(([s,r])=>[e(s),r]))}filter(e){return new st(this.#e.filter(([s,r])=>e(s)))}negate(){return new st(this.#e.map(([e,s])=>[e,-s]))}concat(e){const s=[];return lf(s,this.#e),lf(s,e.getInner()),new st(s)}consolidate(){if(this.#e.length>0){const e=this.#e[0]?.[0];if(Array.isArray(e)&&e.length===2)return this.#t()}return this.#n()}#t(){const e=new Map,s=new Map,r=c=>{if(c.length!==2)throw new Error("Expected tuple of length 2");const[u,d]=c;return`${of.getStringId(u)}|${of.getStringId(d)}`};for(const[c,u]of this.#e){if(!Array.isArray(c)||c.length!==2)return this.#n();const[d,p]=c;if(typeof d!="string"&&typeof d!="number")return this.#n();let m;Array.isArray(p)&&p.length===2?m=r(p):m=of.getStringId(p);const g=d+"|"+m;e.set(g,(e.get(g)||0)+u),s.has(g)||s.set(g,c)}const l=[];for(const[c,u]of e)u!==0&&l.push([s.get(c),u]);return new st(l)}#n(){const e=new h1(()=>0),s=new Map;let r=!1,l=!1,c=!1;for(const[p,m]of this.#e)if(typeof p=="string")r=!0;else if(typeof p=="number")l=!0;else{c=!0;break}const u=c||r&&l;for(const[p,m]of this.#e){const g=u?At(p):p;u&&!s.has(g)&&s.set(g,p),e.update(g,y=>y+m)}const d=[];for(const[p,m]of e.entries())if(m!==0){const g=u?s.get(p):p;d.push([g,m])}return new st(d)}extend(e){const s=e instanceof st?e.getInner():e;lf(this.#e,s)}add(e,s){s!==0&&this.#e.push([e,s])}getInner(){return this.#e}}class H1{#e;constructor(e){this.#e=e}drain(){const e=[...this.#e].reverse();return this.#e.length=0,e}isEmpty(){return this.#e.length===0}}class Ln{#e=[];sendData(e){e instanceof st||(e=new st(e));for(const s of this.#e)s.unshift(e)}newReader(){const e=[];return this.#e.push(e),new H1(e)}}class k0{constructor(e,s,r){this.id=e,this.inputs=s,this.output=r}hasPendingWork(){return this.inputs.some(e=>!e.isEmpty())}}class ur extends k0{constructor(e,s,r){super(e,[s],r),this.id=e}inputMessages(){return this.inputs[0].drain()}}class q1 extends k0{constructor(e,s,r,l){super(e,[s,r],l),this.id=e}inputAMessages(){return this.inputs[0].drain()}inputBMessages(){return this.inputs[1].drain()}}class bd extends ur{run(){for(const e of this.inputMessages())this.output.sendData(this.inner(e))}}class G1{#e=[];#t=0;#n=!1;constructor(){}#i(){if(this.#n)throw new Error("Graph already finalized")}getNextOperatorId(){return this.#i(),this.#t++}newInput(){this.#i();const e=new Ln;return new K1(this,e)}addOperator(e){this.#i(),this.#e.push(e)}finalize(){this.#i(),this.#n=!0}step(){if(!this.#n)throw new Error("Graph not finalized");for(const e of this.#e)e.run()}pendingWork(){return this.#e.some(e=>e.hasPendingWork())}run(){for(;this.pendingWork();)this.step()}}class jn{#e;#t;constructor(e,s){this.#e=e,this.#t=s}connectReader(){return this.#t.newReader()}get writer(){return this.#t}get graph(){return this.#e}pipe(...e){return e.reduce((s,r)=>r(s),this)}}class K1 extends jn{sendData(e){this.writer.sendData(e)}}class Q1 extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return e.map(this.#e)}}function Ot(n){return e=>{const s=new jn(e.graph,new Ln),r=new Q1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}const ua=Symbol("NO_PREFIX");class gy extends Map{addValue(e,s){if(s===0)return this.size===0;const r=pa(e),l=this.get(r);if(so(l)){const[c,u]=l;if(pa(c)!==r)throw new Error("Mismatching prefixes, this should never happen");if(c===e||At(c)===At(e)){const p=u+s;p===0?this.delete(r):this.set(r,[e,p])}else{const p=new fa;p.set(At(c),l),p.set(At(e),[e,s]),this.set(r,p)}}else l===void 0?this.set(r,[e,s]):l.addValue(e,s)&&this.delete(r);return this.size===0}}class fa extends Map{addValue(e,s){if(s===0)return this.size===0;const r=At(e),l=this.get(r);if(l){const[,c]=l,u=c+s;u===0?this.delete(r):this.set(r,[e,u])}else this.set(r,[e,s]);return this.size===0}}class Li{#e;#t=new Map;constructor(){this.#e=new Map}static fromMultiSets(e){const s=new Li;for(const r of e)for(const[l,c]of r.getInner()){const[u,d]=l;s.addValue(u,[d,c])}return s}toString(e=!1){return`Index(${JSON.stringify([...this.entries()],void 0,e?2:void 0)})`}get size(){return this.#e.size}has(e){return this.#e.has(e)}hasPresence(e){return(this.#t.get(e)||0)!==0}getConsolidatedMultiplicity(e){return this.#t.get(e)||0}getPresenceKeys(){return this.#t.keys()}get(e){return[...this.getIterator(e)]}*getIterator(e){const s=this.#e.get(e);if(so(s))yield s;else{if(s===void 0)return;if(s instanceof fa)for(const r of s.values())yield r;else for(const r of s.values())if(so(r))yield r;else for(const l of r.values())yield l}}*entries(){for(const e of this.#e.keys())for(const s of this.getIterator(e))yield[e,s]}*entriesIterators(){for(const e of this.#e.keys())yield[e,this.getIterator(e)]}addValue(e,s){const[r,l]=s;if(l===0)return;const c=(this.#t.get(e)||0)+l;c===0?this.#t.delete(e):this.#t.set(e,c);const u=this.#e.get(e);if(u===void 0){this.#e.set(e,s);return}if(so(u)){this.#n(e,u,r,l);return}if(u instanceof fa){const d=pa(r);if(d!==ua){const p=new gy;p.set(ua,u),p.set(d,s),this.#e.set(e,p)}else u.addValue(r,l)&&this.#e.delete(e)}else u.addValue(r,l)&&this.#e.delete(e)}#n(e,s,r,l){const[c,u]=s;if(c===r){const m=u+l;m===0?this.#e.delete(e):this.#e.set(e,[r,m]);return}const d=pa(r),p=pa(c);if(p===d&&(c===r||At(c)===At(r))){const m=u+l;m===0?this.#e.delete(e):this.#e.set(e,[r,m]);return}if(p===ua&&d===ua){const m=new fa;m.set(At(c),s),m.set(At(r),[r,l]),this.#e.set(e,m)}else{const m=new gy;if(p===d){const g=new fa;g.set(At(c),s),g.set(At(r),[r,l]),m.set(p,g)}else m.set(p,s),m.set(d,[r,l]);this.#e.set(e,m)}}append(e){for(const[s,r]of e.entries())this.addValue(s,r)}join(e){const s=[];if(this.size<=e.size)for(const[r,l]of this.entriesIterators()){if(!e.has(r))continue;const c=e.get(r);for(const[u,d]of l)for(const[p,m]of c)d!==0&&m!==0&&s.push([[r,[u,p]],d*m])}else for(const[r,l]of e.entriesIterators()){if(!this.has(r))continue;const c=this.get(r);for(const[u,d]of l)for(const[p,m]of c)m!==0&&d!==0&&s.push([[r,[p,u]],m*d])}return new st(s)}}function pa(n){return Array.isArray(n)&&(typeof n[0]=="string"||typeof n[0]=="number"||typeof n[0]=="bigint")?n[0]:ua}function so(n){return Array.isArray(n)}class F1 extends ur{#e=new Li;#t=new Li;#n;constructor(e,s,r,l){super(e,s,r),this.#n=l}run(){const e=new Set;for(const r of this.inputMessages())for(const[l,c]of r.getInner()){const[u,d]=l;this.#e.addValue(u,[d,c]),e.add(u)}const s=[];for(const r of e){const l=this.#e.get(r),c=this.#t.get(r),u=this.#n(l),d=new Map,p=new Map;for(const[m,g]of u){const y=d.get(m)??0;d.set(m,y+g)}for(const[m,g]of c){const y=p.get(m)??0;p.set(m,y+g)}for(const[m,g]of p)d.has(m)||(s.push([[r,m],-g]),this.#t.addValue(r,[m,-g]));for(const[m,g]of d)p.has(m)||g!==0&&(s.push([[r,m],g]),this.#t.addValue(r,[m,g]));for(const[m,g]of d){const y=p.get(m);if(y!==void 0){const _=g-y;_!==0&&(s.push([[r,m],_]),this.#t.addValue(r,[m,_]))}}}s.length>0&&this.output.sendData(new st(s))}}function Y1(n){return e=>{const s=new jn(e.graph,new Ln),r=new F1(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}function yy(n){return"pipe"in n}function vy(n,e={}){const s=Object.fromEntries(Object.entries(e).filter(([r,l])=>!yy(l)));return Object.fromEntries(Object.entries(e).filter(([r,l])=>yy(l))),r=>{const l="__original_key__";return r.pipe(Ot(d=>{const p=n(d),m=JSON.stringify(p),g={};g[l]=p;for(const[y,_]of Object.entries(s))g[y]=_.preMap(d);return[m,g]})).pipe(Y1(d=>{let p=0;for(const[y,_]of d)p+=_;if(p<=0)return[];const m={},g=d[0]?.[0]?.[l];m[l]=g;for(const[y,_]of Object.entries(s)){const b=d.map(([S,E])=>[S[y],E]);m[y]=_.reduce(b)}return[[m,1]]})).pipe(Ot(([d,p])=>{const m=p[l],g={};Object.assign(g,m);for(const[y,_]of Object.entries(s))_.postMap?g[y]=_.postMap(p[y]):g[y]=p[y];return[d,g]}))}}function X1(n=e=>e){return{preMap:e=>n(e),reduce:e=>{let s=0;for(const[r,l]of e)s+=r*l;return s}}}function $1(n=e=>e){return{preMap:e=>n(e)==null?0:1,reduce:e=>{let s=0;for(const[r,l]of e)s+=r*l;return s}}}function J1(n=e=>e){return{preMap:e=>({sum:n(e),count:0}),reduce:e=>{let s=0,r=0;for(const[l,c]of e)s+=l.sum*c,r+=c;return{sum:s,count:r}},postMap:e=>e.sum/e.count}}function Z1(n){const e=n??(s=>s);return{preMap:s=>e(s),reduce:s=>{let r;for(const[l,c]of s)(!r||l&&l<r)&&(r=l);return r}}}function W1(n){const e=n??(s=>s);return{preMap:s=>e(s),reduce:s=>{let r;for(const[l,c]of s)(!r||l&&l>r)&&(r=l);return r}}}const eE={sum:X1,count:$1,avg:J1,min:Z1,max:W1};class tE extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return this.#e(e),e}}function nE(n){return e=>{const s=new jn(e.graph,new Ln),r=new tE(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class iE extends bd{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}inner(e){return e.filter(this.#e)}}function ji(n){return e=>{const s=new jn(e.graph,new Ln),r=new iE(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class sE extends ur{#e;constructor(e,s,r,l){super(e,s,r),this.#e=l}run(){for(const e of this.inputMessages())this.#e(e),this.output.sendData(e)}}function rE(n){return e=>{const s=new jn(e.graph,new Ln),r=new sE(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}class aE extends ur{run(){const e=this.inputMessages();if(e.length===0)return;const s=new st;for(const l of e)s.extend(l);const r=s.consolidate();r.getInner().length>0&&this.output.sendData(r)}}function lE(){return n=>{const e=new jn(n.graph,new Ln),s=new aE(n.graph.getNextOperatorId(),n.connectReader(),e.writer);return n.graph.addOperator(s),e}}class oE extends q1{#e=new Li;#t=new Li;#n;constructor(e,s,r,l,c="inner"){super(e,s,r,l),this.#n=c}run(){const e=Li.fromMultiSets(this.inputAMessages()),s=Li.fromMultiSets(this.inputBMessages());if(e.size===0&&s.size===0)return;const r=new st;this.#n!=="anti"&&this.emitInnerResults(e,s,r),(this.#n==="left"||this.#n==="full"||this.#n==="anti")&&this.emitLeftOuterResults(e,s,r),(this.#n==="right"||this.#n==="full")&&this.emitRightOuterResults(e,s,r),this.#e.append(e),this.#t.append(s),r.getInner().length>0&&this.output.sendData(r)}emitInnerResults(e,s,r){e.size>0&&r.extend(e.join(this.#t)),s.size>0&&r.extend(this.#e.join(s)),e.size>0&&s.size>0&&r.extend(e.join(s))}emitLeftOuterResults(e,s,r){if(e.size>0)for(const[l,c]of e.entriesIterators()){const u=this.#t.getConsolidatedMultiplicity(l),d=s.getConsolidatedMultiplicity(l);if(u+d===0)for(const[m,g]of c)g!==0&&r.add([l,[m,null]],g)}if(s.size>0)for(const l of s.getPresenceKeys()){const c=this.#t.getConsolidatedMultiplicity(l),u=s.getConsolidatedMultiplicity(l);if(u===0)continue;const d=c+u;if(c===0==(d===0))continue;const p=c===0;for(const[m,g]of this.#e.getIterator(l))g!==0&&r.add([l,[m,null]],p?-g:+g)}}emitRightOuterResults(e,s,r){if(s.size>0)for(const[l,c]of s.entriesIterators()){const u=this.#e.getConsolidatedMultiplicity(l),d=e.getConsolidatedMultiplicity(l);if(u+d===0)for(const[m,g]of c)g!==0&&r.add([l,[null,m]],g)}if(e.size>0)for(const l of e.getPresenceKeys()){const c=this.#e.getConsolidatedMultiplicity(l),u=e.getConsolidatedMultiplicity(l);if(u===0)continue;const d=c+u;if(c===0==(d===0))continue;const p=c===0;for(const[m,g]of this.#t.getIterator(l))g!==0&&r.add([l,[null,m]],p?-g:+g)}}}function cE(n,e="inner"){return s=>{if(s.graph!==n.graph)throw new Error("Cannot join streams from different graphs");const r=new jn(s.graph,new Ln),l=new oE(s.graph.getNextOperatorId(),s.connectReader(),n.connectReader(),r.writer,e);return s.graph.addOperator(l),r}}class uE extends ur{#e;#t;constructor(e,s,r,l=c=>c){super(e,s,r),this.#e=l,this.#t=new Map}run(){const e=new Map;for(const r of this.inputMessages())for(const[l,c]of r.getInner()){const u=At(this.#e(l)),p=(e.get(u)?.[0]??this.#t.get(u)??0)+c;e.set(u,[p,l])}const s=[];for(const[r,[l,c]]of e.entries()){const u=this.#t.get(r)??0;l===0?this.#t.delete(r):this.#t.set(r,l),u<=0&&l>0?s.push([[At(this.#e(c)),c[1]],1]):u>0&&l<=0&&s.push([[At(this.#e(c)),c[1]],-1])}s.length>0&&this.output.sendData(new st(s))}}function fE(n=e=>e){return e=>{const s=new jn(e.graph,new Ln),r=new uE(e.graph.getNextOperatorId(),e.connectReader(),s.writer,n);return e.graph.addOperator(r),s}}const dE="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Ws(n,e,s){const r=s[0];if(e!=null&&n>=e)throw new Error(n+" >= "+e);if(n.slice(-1)===r||e&&e.slice(-1)===r)throw new Error("trailing zero");if(e){let u=0;for(;(n[u]||r)===e[u];)u++;if(u>0)return e.slice(0,u)+Ws(n.slice(u),e.slice(u),s)}const l=n?s.indexOf(n[0]):0,c=e!=null?s.indexOf(e[0]):s.length;if(c-l>1){const u=Math.round(.5*(l+c));return s[u]}else return e&&e.length>1?e.slice(0,1):s[l]+Ws(n.slice(1),null,s)}function D0(n){if(n.length!==N0(n[0]))throw new Error("invalid integer part of order key: "+n)}function N0(n){if(n>="a"&&n<="z")return n.charCodeAt(0)-97+2;if(n>="A"&&n<="Z")return 90-n.charCodeAt(0)+2;throw new Error("invalid order key head: "+n)}function da(n){const e=N0(n[0]);if(e>n.length)throw new Error("invalid order key: "+n);return n.slice(0,e)}function _y(n,e){if(n==="A"+e[0].repeat(26))throw new Error("invalid order key: "+n);const s=da(n);if(n.slice(s.length).slice(-1)===e[0])throw new Error("invalid order key: "+n)}function by(n,e){D0(n);const[s,...r]=n.split("");let l=!0;for(let c=r.length-1;l&&c>=0;c--){const u=e.indexOf(r[c])+1;u===e.length?r[c]=e[0]:(r[c]=e[u],l=!1)}if(l){if(s==="Z")return"a"+e[0];if(s==="z")return null;const c=String.fromCharCode(s.charCodeAt(0)+1);return c>"a"?r.push(e[0]):r.pop(),c+r.join("")}else return s+r.join("")}function hE(n,e){D0(n);const[s,...r]=n.split("");let l=!0;for(let c=r.length-1;l&&c>=0;c--){const u=e.indexOf(r[c])-1;u===-1?r[c]=e.slice(-1):(r[c]=e[u],l=!1)}if(l){if(s==="a")return"Z"+e.slice(-1);if(s==="A")return null;const c=String.fromCharCode(s.charCodeAt(0)-1);return c<"Z"?r.push(e.slice(-1)):r.pop(),c+r.join("")}else return s+r.join("")}function pE(n,e,s=dE){if(n!=null&&_y(n,s),e!=null&&_y(e,s),n!=null&&e!=null&&n>=e)throw new Error(n+" >= "+e);if(n==null){if(e==null)return"a"+s[0];const p=da(e),m=e.slice(p.length);if(p==="A"+s[0].repeat(26))return p+Ws("",m,s);if(p<e)return p;const g=hE(p,s);if(g==null)throw new Error("cannot decrement any more");return g}if(e==null){const p=da(n),m=n.slice(p.length),g=by(p,s);return g??p+Ws(m,null,s)}const r=da(n),l=n.slice(r.length),c=da(e),u=e.slice(c.length);if(r===c)return r+Ws(l,u,s);const d=by(r,s);if(d==null)throw new Error("cannot increment any more");return d<e?d:r+Ws(l,null,s)}class Sy{#e=[];#t;#n;#i;constructor(e,s,r){this.#n=e,this.#i=e+s,this.#t=r}get size(){const e=this.#n,s=this.#i-this.#n,r=this.#e.length-e;return Math.max(0,Math.min(s,r))}move({offset:e,limit:s}){const r=this.#n,l=this.#i-this.#n,c=[this.#n,this.#i===1/0?this.#n+this.size:this.#i];this.#n=e??r,this.#i=this.#n+(s??l);const u=[this.#n,this.#i===1/0?Math.max(this.#n+this.size,c[1]):this.#i],{onlyInA:d,onlyInB:p}=g1(c,u),m=[];p.forEach(y=>{const _=this.#e[y];_&&m.push(_)});const g=[];return d.forEach(y=>{const _=this.#e[y];_&&g.push(_)}),{moveIns:m,moveOuts:g,changes:d.length+p.length>0}}insert(e){const s={moveIn:null,moveOut:null},r=this.#s(e),l=r===0?null:wy(this.#e[r-1]),c=r===this.#e.length?null:wy(this.#e[r]),u=pE(l,c),d=xy(e,u);if(this.#e.splice(r,0,d),r<this.#i){const p=Math.max(r,this.#n);p<this.#e.length&&(s.moveIn=this.#e[p],this.#i<this.#e.length&&(s.moveOut=this.#e[this.#i]))}return s}delete(e){const s={moveIn:null,moveOut:null},r=this.#s(e),[l]=this.#e.splice(r,1);if(r<this.#i){if(s.moveOut=l,r<this.#n){const u=this.#n-1;u<this.#e.length?s.moveOut=this.#e[u]:s.moveOut=null}const c=this.#i-1;c<this.#e.length&&(s.moveIn=this.#e[c])}return s}#s(e){return p1(this.#e,xy(e,""),(s,r)=>this.#t(Ey(s),Ey(r)))}}class mE extends ur{#e=new Map;#t;constructor(e,s,r,l,c){super(e,s,r);const u=c.limit??1/0,d=c.offset??0;this.#t=this.createTopK(d,u,yE(l)),c.setSizeCallback?.(()=>this.#t.size),c.setWindowFn?.(this.moveTopK.bind(this))}createTopK(e,s,r){return new Sy(e,s,r)}moveTopK({offset:e,limit:s}){if(!(this.#t instanceof Sy))throw new Error("Cannot move B+-tree implementation of TopK with fractional index");const r=[],l=this.#t.move({offset:e,limit:s});l.moveIns.forEach(c=>this.handleMoveIn(c,r)),l.moveOuts.forEach(c=>this.handleMoveOut(c,r)),l.changes&&this.output.sendData(new st(r))}run(){const e=[];for(const s of this.inputMessages())for(const[r,l]of s.getInner()){const[c,u]=r;this.processElement(c,u,l,e)}e.length>0&&this.output.sendData(new st(e))}processElement(e,s,r,l){const{oldMultiplicity:c,newMultiplicity:u}=this.addKey(e,r);let d={moveIn:null,moveOut:null};c<=0&&u>0?d=this.#t.insert([e,s]):c>0&&u<=0&&(d=this.#t.delete([e,s])),this.handleMoveIn(d.moveIn,l),this.handleMoveOut(d.moveOut,l)}handleMoveIn(e,s){if(e){const[[r,l],c]=e;s.push([[r,[l,c]],1])}}handleMoveOut(e,s){if(e){const[[r,l],c]=e;s.push([[r,[l,c]],-1])}}getMultiplicity(e){return this.#e.get(e)??0}addKey(e,s){const r=this.getMultiplicity(e),l=r+s;return l===0?this.#e.delete(e):this.#e.set(e,l),{oldMultiplicity:r,newMultiplicity:l}}}function gE(n,e){const s=e||{};return r=>{const l=new jn(r.graph,new Ln),c=new mE(r.graph.getNextOperatorId(),r.connectReader(),l.writer,n,s);return r.graph.addOperator(c),l}}function xy(n,e){return[n,e]}function Ey(n){return n[0]}function wy(n){return n[1]}function yE(n){return([e,s],[r,l])=>{const c=n(s,l);return c!==0?c:ho(e,r)}}function vE(n,e,s){const r=s?.limit??1/0,l=s?.offset??0,c=s?.setSizeCallback,u=s?.setWindowFn,d=s?.comparator??((p,m)=>p===m?0:p<m?-1:1);return p=>p.pipe(n((m,g)=>d(e(m),e(g)),{limit:r,offset:l,setSizeCallback:c,setWindowFn:u}),lE())}function _E(n,e){return vE(gE,n,e)}class bE{constructor(e,s,r){this._root=cf,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=e,s&&this.setPairs(s)}get size(){return this._size}get length(){return this._size}get isEmpty(){return this._size===0}clear(){this._root=cf,this._size=0}get(e,s){return this._root.get(e,s,this)}set(e,s,r){this._root.isShared&&(this._root=this._root.clone());const l=this._root.set(e,s,r,this);return l===!0||l===!1?l:(this._root=new Sd([this._root,l]),!0)}has(e){return this.forRange(e,e,!0,void 0)!==0}delete(e){return this.editRange(e,e,!0,xE)!==0}get maxNodeSize(){return this._maxNodeSize}minKey(){return this._root.minKey()}maxKey(){return this._root.maxKey()}keysArray(){const e=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,(s,r)=>{e.push(s)}),e}nextHigherPair(e,s){return s=s||[],e===void 0?this._root.minPair(s):this._root.getPairOrNextHigher(e,this._compare,!1,s)}nextHigherKey(e){const s=this.nextHigherPair(e,Ty);return s&&s[0]}nextLowerPair(e,s){return s=s||[],e===void 0?this._root.maxPair(s):this._root.getPairOrNextLower(e,this._compare,!1,s)}nextLowerKey(e){const s=this.nextLowerPair(e,Ty);return s&&s[0]}setPairs(e,s){let r=0;for(const l of e)this.set(l[0],l[1],s)&&r++;return r}forRange(e,s,r,l,c){const u=this._root.forRange(e,s,r,!1,this,c||0,l);return typeof u=="number"?u:u.break}editRange(e,s,r,l,c){let u=this._root;u.isShared&&(this._root=u=u.clone());try{const d=u.forRange(e,s,r,!0,this,c||0,l);return typeof d=="number"?d:d.break}finally{let d;for(;u.keys.length<=1&&!u.isLeaf;)d||=u.isShared,this._root=u=u.keys.length===0?cf:u.children[0];d&&(u.isShared=!0)}}}class ba{get isLeaf(){return this.children===void 0}constructor(e=[],s){this.keys=e,this.values=s||Et,this.isShared=void 0}maxKey(){return this.keys[this.keys.length-1]}indexOf(e,s,r){const l=this.keys;let c=0,u=l.length,d=u>>1;for(;c<u;){const p=r(l[d],e);if(p<0)c=d+1;else if(p>0)u=d;else{if(p===0)return d;if(e===e)return l.length;throw new Error("BTree: NaN was used as a key")}d=c+u>>1}return d^s}minKey(){return this.keys[0]}minPair(e){if(this.keys.length!==0)return e[0]=this.keys[0],e[1]=this.values[0],e}maxPair(e){if(this.keys.length===0)return;const s=this.keys.length-1;return e[0]=this.keys[s],e[1]=this.values[s],e}clone(){const e=this.values;return new ba(this.keys.slice(0),e===Et?e:e.slice(0))}get(e,s,r){const l=this.indexOf(e,-1,r._compare);return l<0?s:this.values[l]}getPairOrNextLower(e,s,r,l){const c=this.indexOf(e,-1,s),u=c<0?~c-1:r?c:c-1;if(u>=0)return l[0]=this.keys[u],l[1]=this.values[u],l}getPairOrNextHigher(e,s,r,l){const c=this.indexOf(e,-1,s),u=c<0?~c:r?c:c+1,d=this.keys;if(u<d.length)return l[0]=d[u],l[1]=this.values[u],l}set(e,s,r,l){let c=this.indexOf(e,-1,l._compare);if(c<0){if(c=~c,l._size++,this.keys.length<l._maxNodeSize)return this.insertInLeaf(c,e,s,l);{const u=this.splitOffRightSide();let d=this;return c>this.keys.length&&(c-=this.keys.length,d=u),d.insertInLeaf(c,e,s,l),u}}else return r!==!1&&(s!==void 0&&this.reifyValues(),this.keys[c]=e,this.values[c]=s),!1}reifyValues(){return this.values===Et?this.values=this.values.slice(0,this.keys.length):this.values}insertInLeaf(e,s,r,l){if(this.keys.splice(e,0,s),this.values===Et){for(;Et.length<l._maxNodeSize;)Et.push(void 0);if(r===void 0)return!0;this.values=Et.slice(0,this.keys.length-1)}return this.values.splice(e,0,r),!0}takeFromRight(e){let s=this.values;e.values===Et?s!==Et&&s.push(void 0):(s=this.reifyValues(),s.push(e.values.shift())),this.keys.push(e.keys.shift())}takeFromLeft(e){let s=this.values;e.values===Et?s!==Et&&s.unshift(void 0):(s=this.reifyValues(),s.unshift(e.values.pop())),this.keys.unshift(e.keys.pop())}splitOffRightSide(){const e=this.keys.length>>1,s=this.keys.splice(e),r=this.values===Et?Et:this.values.splice(e);return new ba(s,r)}forRange(e,s,r,l,c,u,d){const p=c._compare;let m,g;if(s===e){if(!r||(g=(m=this.indexOf(e,-1,p))+1,m<0))return u}else m=this.indexOf(e,0,p),g=this.indexOf(s,-1,p),g<0?g=~g:r===!0&&g++;const y=this.keys,_=this.values;if(d!==void 0)for(let b=m;b<g;b++){const S=y[b],E=d(S,_[b],u++);if(E!==void 0){if(l===!0){if(S!==y[b]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");E.delete?(this.keys.splice(b,1),this.values!==Et&&this.values.splice(b,1),c._size--,b--,g--):E.hasOwnProperty("value")&&(_[b]=E.value)}if(E.break!==void 0)return E}}else u+=g-m;return u}mergeSibling(e,s){if(this.keys.push.apply(this.keys,e.keys),this.values===Et){if(e.values===Et)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,e.reifyValues())}}class Sd extends ba{constructor(e,s){if(!s){s=[];for(let r=0;r<e.length;r++)s[r]=e[r].maxKey()}super(s),this.children=e}minKey(){return this.children[0].minKey()}minPair(e){return this.children[0].minPair(e)}maxPair(e){return this.children[this.children.length-1].maxPair(e)}get(e,s,r){const l=this.indexOf(e,0,r._compare),c=this.children;return l<c.length?c[l].get(e,s,r):void 0}getPairOrNextLower(e,s,r,l){const c=this.indexOf(e,0,s),u=this.children;if(c>=u.length)return this.maxPair(l);const d=u[c].getPairOrNextLower(e,s,r,l);return d===void 0&&c>0?u[c-1].maxPair(l):d}getPairOrNextHigher(e,s,r,l){const c=this.indexOf(e,0,s),u=this.children,d=u.length;if(c>=d)return;const p=u[c].getPairOrNextHigher(e,s,r,l);return p===void 0&&c<d-1?u[c+1].minPair(l):p}set(e,s,r,l){const c=this.children,u=l._maxNodeSize,d=l._compare;let p=Math.min(this.indexOf(e,0,d),c.length-1),m=c[p];if(m.isShared&&(c[p]=m=m.clone()),m.keys.length>=u){let y;p>0&&(y=c[p-1]).keys.length<u&&d(m.keys[0],e)<0?(y.isShared&&(c[p-1]=y=y.clone()),y.takeFromRight(m),this.keys[p-1]=y.maxKey()):(y=c[p+1])!==void 0&&y.keys.length<u&&d(m.maxKey(),e)<0&&(y.isShared&&(c[p+1]=y=y.clone()),y.takeFromLeft(m),this.keys[p]=c[p].maxKey())}const g=m.set(e,s,r,l);if(g===!1)return!1;if(this.keys[p]=m.maxKey(),g===!0)return!0;if(this.keys.length<u)return this.insert(p+1,g),!0;{const y=this.splitOffRightSide();let _=this;return d(g.maxKey(),this.maxKey())>0&&(_=y,p-=this.keys.length),_.insert(p+1,g),y}}insert(e,s){this.children.splice(e,0,s),this.keys.splice(e,0,s.maxKey())}splitOffRightSide(){const e=this.children.length>>1;return new Sd(this.children.splice(e),this.keys.splice(e))}takeFromRight(e){this.keys.push(e.keys.shift()),this.children.push(e.children.shift())}takeFromLeft(e){this.keys.unshift(e.keys.pop()),this.children.unshift(e.children.pop())}forRange(e,s,r,l,c,u,d){const p=c._compare,m=this.keys,g=this.children;let y=this.indexOf(e,0,p),_=y;const b=Math.min(s===e?y:this.indexOf(s,0,p),m.length-1);if(l){if(_<=b)try{for(;_<=b;_++){g[_].isShared&&(g[_]=g[_].clone());const S=g[_].forRange(e,s,r,l,c,u,d);if(m[_]=g[_].maxKey(),typeof S!="number")return S;u=S}}finally{const S=c._maxNodeSize>>1;for(y>0&&y--,_=b;_>=y;_--)g[_].keys.length<=S&&(g[_].keys.length!==0?this.tryMerge(_,c._maxNodeSize):(m.splice(_,1),g.splice(_,1)));g.length!==0&&g[0].keys.length===0&&EE(!1,"emptiness bug")}}else for(;_<=b;_++){const S=g[_].forRange(e,s,r,l,c,u,d);if(typeof S!="number")return S;u=S}return u}tryMerge(e,s){const r=this.children;return e>=0&&e+1<r.length&&r[e].keys.length+r[e+1].keys.length<=s?(r[e].isShared&&(r[e]=r[e].clone()),r[e].mergeSibling(r[e+1],s),r.splice(e+1,1),this.keys.splice(e+1,1),this.keys[e]=r[e].maxKey(),!0):!1}mergeSibling(e,s){const r=this.keys.length;this.keys.push.apply(this.keys,e.keys);const l=e.children;if(this.children.push.apply(this.children,l),e.isShared&&!this.isShared)for(const c of l)c.isShared=!0;this.tryMerge(r-1,s)}}const Et=[],SE={delete:!0},xE=()=>SE,cf=(function(){const n=new ba;return n.isShared=!0,n})(),Ty=[];function EE(n,...e){throw e.unshift("B+ tree"),new Error(e.join(" "))}function wE(){const n=new Map;function e(s){const r=s.join(".");if(n.has(r))return n.get(r);const l=new Proxy({},{get(c,u,d){if(u==="__refProxy")return!0;if(u==="__path")return s;if(u==="__type")return;if(typeof u=="symbol")return Reflect.get(c,u,d);const p=[...s,String(u)];return e(p)},has(c,u){return u==="__refProxy"||u==="__path"||u==="__type"?!0:Reflect.has(c,u)},ownKeys(c){return Reflect.ownKeys(c)},getOwnPropertyDescriptor(c,u){return u==="__refProxy"||u==="__path"||u==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(c,u)}});return n.set(r,l),l}return e([])}function Zs(n){const e=new Map;let s=0;function r(c){const u=c.join(".");if(e.has(u))return e.get(u);const d=new Proxy({},{get(p,m,g){if(m==="__refProxy")return!0;if(m==="__path")return c;if(m==="__type")return;if(typeof m=="symbol")return Reflect.get(p,m,g);const y=[...c,String(m)];return r(y)},has(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?!0:Reflect.has(p,m)},ownKeys(p){const m=++s,g=`__SPREAD_SENTINEL__${c.join(".")}__${m}`;return Object.prototype.hasOwnProperty.call(p,g)||Object.defineProperty(p,g,{enumerable:!0,configurable:!0,value:!0}),Reflect.ownKeys(p)},getOwnPropertyDescriptor(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(p,m)}});return e.set(u,d),d}return new Proxy({},{get(c,u,d){if(u==="__refProxy")return!0;if(u==="__path")return[];if(u==="__type")return;if(typeof u=="symbol")return Reflect.get(c,u,d);const p=String(u);if(n.includes(p))return r([p])},has(c,u){return u==="__refProxy"||u==="__path"||u==="__type"||typeof u=="string"&&n.includes(u)?!0:Reflect.has(c,u)},ownKeys(c){return[...n,"__refProxy","__path","__type"]},getOwnPropertyDescriptor(c,u){if(u==="__refProxy"||u==="__path"||u==="__type")return{enumerable:!1,configurable:!0};if(typeof u=="string"&&n.includes(u))return{enumerable:!0,configurable:!0}}})}function dt(n){return TE(n)?new kt(n.__path):n&&typeof n=="object"&&"type"in n&&(n.type==="func"||n.type==="ref"||n.type==="val"||n.type==="agg")?n:new Ut(n)}function TE(n){return n&&typeof n=="object"&&n.__refProxy===!0}function Mf(n,e){return new yn("eq",[dt(n),dt(e)])}function Ry(n,e){return new yn("gt",[dt(n),dt(e)])}function RE(n,e){return new yn("gte",[dt(n),dt(e)])}function Lf(n,e){return new yn("lt",[dt(n),dt(e)])}function jf(n,e,...s){const r=[n,e,...s];return new yn("and",r.map(l=>dt(l)))}function CE(n,e,...s){const r=[n,e,...s];return new yn("or",r.map(l=>dt(l)))}function AE(n,e){return new yn("in",[dt(n),dt(e)])}class OE{constructor(e,s,r,l){this.lookupCount=0,this.totalLookupTime=0,this.lastUpdated=new Date,this.id=e,this.expression=s,this.compareOptions=vd,this.name=r,this.initialize(l)}supports(e){return this.supportedOperations.has(e)}matchesField(e){return this.expression.type==="ref"&&this.expression.path.length===e.length&&this.expression.path.every((s,r)=>s===e[r])}matchesCompareOptions(e){const s={...this.compareOptions,direction:void 0},r={...e,direction:void 0};return En(s,r)}matchesDirection(e){return this.compareOptions.direction===e}getStats(){return{entryCount:this.keyCount,lookupCount:this.lookupCount,averageLookupTime:this.lookupCount>0?this.totalLookupTime/this.lookupCount:0,lastUpdated:this.lastUpdated}}evaluateIndexExpression(e){return gd(this.expression)(e)}trackLookup(e){const s=performance.now()-e;this.lookupCount++,this.totalLookupTime+=s}updateTimestamp(){this.lastUpdated=new Date}}class zf extends OE{constructor(e,s,r,l){super(e,s,r,l),this.supportedOperations=new Set(["eq","gt","gte","lt","lte","in"]),this.valueMap=new Map,this.indexedKeys=new Set,this.compareFn=kf,this.compareFn=l?.compareFn??kf,l?.compareOptions&&(this.compareOptions=l.compareOptions),this.orderedEntries=new bE(this.compareFn)}initialize(e){}add(e,s){let r;try{r=this.evaluateIndexExpression(s)}catch(c){throw new Error(`Failed to evaluate index expression for key ${e}: ${c}`)}const l=ti(r);if(this.valueMap.has(l))this.valueMap.get(l).add(e);else{const c=new Set([e]);this.valueMap.set(l,c),this.orderedEntries.set(l,void 0)}this.indexedKeys.add(e),this.updateTimestamp()}remove(e,s){let r;try{r=this.evaluateIndexExpression(s)}catch(c){console.warn(`Failed to evaluate index expression for key ${e} during removal:`,c);return}const l=ti(r);if(this.valueMap.has(l)){const c=this.valueMap.get(l);c.delete(e),c.size===0&&(this.valueMap.delete(l),this.orderedEntries.delete(l))}this.indexedKeys.delete(e),this.updateTimestamp()}update(e,s,r){this.remove(e,s),this.add(e,r)}build(e){this.clear();for(const[s,r]of e)this.add(s,r)}clear(){this.orderedEntries.clear(),this.valueMap.clear(),this.indexedKeys.clear(),this.updateTimestamp()}lookup(e,s){const r=performance.now();let l;switch(e){case"eq":l=this.equalityLookup(s);break;case"gt":l=this.rangeQuery({from:s,fromInclusive:!1});break;case"gte":l=this.rangeQuery({from:s,fromInclusive:!0});break;case"lt":l=this.rangeQuery({to:s,toInclusive:!1});break;case"lte":l=this.rangeQuery({to:s,toInclusive:!0});break;case"in":l=this.inArrayLookup(s);break;default:throw new Error(`Operation ${e} not supported by BTreeIndex`)}return this.trackLookup(r),l}get keyCount(){return this.indexedKeys.size}equalityLookup(e){const s=ti(e);return new Set(this.valueMap.get(s)??[])}rangeQuery(e={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:c=!0}=e,u=new Set,d=ti(s),p=ti(r),m=d??this.orderedEntries.minKey(),g=p??this.orderedEntries.maxKey();return this.orderedEntries.forRange(m,g,c,(y,_)=>{if(!l&&this.compareFn(y,s)===0)return;const b=this.valueMap.get(y);b&&b.forEach(S=>u.add(S))}),u}rangeQueryReversed(e={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:c=!0}=e;return this.rangeQuery({from:r??this.orderedEntries.maxKey(),to:s??this.orderedEntries.minKey(),fromInclusive:c,toInclusive:l})}takeInternal(e,s,r,l,c=!1){const u=new Set,d=[];let p,m=ti(r);for(;(p=s(m))!==void 0&&d.length<e;){m=p[0];const g=this.valueMap.get(m);if(g&&g.size>0){const y=Array.from(g).sort(ho);c&&y.reverse();for(const _ of y){if(d.length>=e)break;!u.has(_)&&(l?.(_)??!0)&&(d.push(_),u.add(_))}}}return d}take(e,s,r){const l=c=>this.orderedEntries.nextHigherPair(c);return this.takeInternal(e,l,s,r)}takeReversed(e,s,r){const l=c=>this.orderedEntries.nextLowerPair(c);return this.takeInternal(e,l,s,r,!0)}inArrayLookup(e){const s=new Set;for(const r of e){const l=ti(r),c=this.valueMap.get(l);c&&c.forEach(u=>s.add(u))}return s}get indexedKeysSet(){return this.indexedKeys}get orderedEntriesArray(){return this.orderedEntries.keysArray().map(e=>[e,this.valueMap.get(e)??new Set])}get orderedEntriesArrayReversed(){return this.takeReversed(this.orderedEntries.size).map(e=>[e,this.valueMap.get(e)??new Set])}get valueMapData(){return this.valueMap}}function M0(n){return n.config.autoIndex==="eager"}function Lo(n,e,s,r,l){if(!M0(s))return;const c=r??{...vd,...s.compareOptions};if(!Array.from(s.indexes.values()).find(d=>d.matchesField(e)&&d.matchesCompareOptions(c)))try{s.createIndex(d=>{let p=d;for(const m of e)p=p[m];return p},{name:`auto:${e.join(".")}`,indexType:zf,options:l?{compareFn:l,compareOptions:c}:{}})}catch(d){console.warn(`${s.id?`[${s.id}] `:""}Failed to create auto-index for field path "${e.join(".")}":`,d)}}function kE(n,e){if(!M0(e))return;const s=DE(n);for(const{fieldName:r,fieldPath:l}of s)Lo(r,l,e)}function DE(n){const e=[];function s(r){if(r.type!=="func")return;const l=r;if(l.name==="and"){for(const m of l.args)s(m);return}if(!["eq","gt","gte","lt","lte","in"].includes(l.name)||l.args.length<1||l.args[0].type!=="ref")return;const d=l.args[0].path;if(d.length===0)return;const p=d.join("_");e.push({fieldName:p,fieldPath:d})}return s(n),e}const{sum:NE,count:ME,avg:LE,min:jE,max:zE}=eE;function IE(n,e){const s=new Map,r=[...n];if(!e)return{selectToGroupByIndex:s,groupByExpressions:r};for(const[l,c]of Object.entries(e)){if(c.type==="agg")continue;const u=r.findIndex(d=>po(c,d));if(u===-1)throw new Px(l);s.set(l,u)}return{selectToGroupByIndex:s,groupByExpressions:r}}function Cy(n,e,s,r,l){if(e.length===0){const m={};if(r){for(const[y,_]of Object.entries(r))if(_.type==="agg"){const b=_;m[y]=Ay(b)}}const g=()=>({__singleGroup:!0});if(n=n.pipe(vy(g,m)),n=n.pipe(Ot(([,y])=>{const b={...y.__select_results||{}};if(r)for(const[S,E]of Object.entries(r))E.type==="agg"&&(b[S]=y[S]);return["single_group",{...y,__select_results:b}]})),s&&s.length>0)for(const y of s){const _=ry(y),b=mo(_,r||{}),S=Pt(b);n=n.pipe(ji(([,E])=>{const O={result:E.__select_results};return nr(S(O))}))}if(l&&l.length>0)for(const y of l)n=n.pipe(ji(([,_])=>{const b={result:_.__select_results};return nr(y(b))}));return n}const c=IE(e,r),u=e.map(m=>Pt(m)),d=([,m])=>{const g={...m};delete g.__select_results;const y={};for(let _=0;_<e.length;_++){const b=u[_],S=b(g);y[`__key_${_}`]=S}return y},p={};if(r){for(const[m,g]of Object.entries(r))if(g.type==="agg"){const y=g;p[m]=Ay(y)}}if(n=n.pipe(vy(d,p)),n=n.pipe(Ot(([,m])=>{const g=m.__select_results||{},y={};if(r)for(const[b,S]of Object.entries(r))if(S.type!=="agg"){const E=c.selectToGroupByIndex.get(b);E!==void 0?y[b]=m[`__key_${E}`]:y[b]=g[b]}else y[b]=m[b];else for(let b=0;b<e.length;b++)y[`__key_${b}`]=m[`__key_${b}`];let _;if(e.length===1)_=m.__key_0;else{const b=[];for(let S=0;S<e.length;S++)b.push(m[`__key_${S}`]);_=JSON.stringify(b)}return[_,{...m,__select_results:y}]})),s&&s.length>0)for(const m of s){const g=ry(m),y=mo(g,r||{}),_=Pt(y);n=n.pipe(ji(([,b])=>{const S={result:b.__select_results};return _(S)}))}if(l&&l.length>0)for(const m of l)n=n.pipe(ji(([,g])=>{const y={result:g.__select_results};return nr(m(y))}));return n}function po(n,e){if(!n||!e||n.type!==e.type)return!1;switch(n.type){case"ref":return!n.path||!e.path||n.path.length!==e.path.length?!1:n.path.every((s,r)=>s===e.path[r]);case"val":return n.value===e.value;case"func":return n.name===e.name&&n.args?.length===e.args?.length&&(n.args||[]).every((s,r)=>po(s,e.args[r]));case"agg":return n.name===e.name&&n.args?.length===e.args?.length&&(n.args||[]).every((s,r)=>po(s,e.args[r]));default:return!1}}function Ay(n){const e=Pt(n.args[0]),s=([,c])=>{const u=e(c);return typeof u=="number"?u:u!=null?Number(u):0},r=([,c])=>{const u=e(c);return typeof u=="number"||u instanceof Date?u:u!=null?Number(u):0},l=([,c])=>e(c);switch(n.name.toLowerCase()){case"sum":return NE(s);case"count":return ME(l);case"avg":return LE(s);case"min":return jE(r);case"max":return zE(r);default:throw new Vx(n.name)}}function mo(n,e,s="result"){switch(n.type){case"agg":{const r=n;for(const[l,c]of Object.entries(e))if(c.type==="agg"&&BE(r,c))return new kt([s,l]);throw new Hx(r.name)}case"func":{const r=n,l=r.args.map(c=>mo(c,e));return new yn(r.name,l)}case"ref":return n;case"val":return n;default:throw new qx(n.type)}}function BE(n,e){return n.name===e.name&&n.args.length===e.args.length&&n.args.every((s,r)=>po(s,e.args[r]))}function UE(n,e,s,r,l,c,u,d,p){const m=s.map(S=>{const E=mo(S.expression,r,"__select_results");return{compiledExpression:Pt(E),compareOptions:If(S,l)}}),g=S=>{const E=S;return s.length>1?m.map(O=>O.compiledExpression(E)):s.length===1?m[0].compiledExpression(E):null},y=(S,E)=>{if(s.length>1){const O=S,D=E;for(let U=0;U<s.length;U++){const L=m[U],C=uo(L.compareOptions)(O[U],D[U]);if(C!==0)return C}return O.length-D.length}if(s.length===1){const O=m[0];return uo(O.compareOptions)(S,E)}return kf(S,E)};let _,b;if(d){let S,E,O,D=n.from.alias;const U=s[0],L=U.expression;if(L.type==="ref"){const z=va(n,L,l);if(z){E=z.collection;const C=z.path[0],N=If(U,E);C&&Lo(C,z.path,E,N,y),O=Pt(new kt(z.path),!0),S=Oa(E,z.path,N),S?.supports("gt")||(S=void 0),D=L.path.length>1?String(L.path[0]):n.from.alias}}if(O){const C=s.every(Y=>Y.expression.type==="ref")?s.map(Y=>{const ne=Y.expression,oe=va(n,ne,l);return Pt(oe?new kt(oe.path):Y.expression,!0)}):void 0;b={alias:D,offset:p??0,limit:d,comparator:(Y,ne)=>{if(s.length===1){const oe=Y&&O(Y),ce=ne&&O(ne);return y(oe,ce)}if(C){const oe=ce=>ce&&C.map(Ae=>Ae(ce));return y(oe(Y),oe(ne))}return 0},valueExtractorForRawRow:Y=>{if(s.length===1)return O(Y);if(C)return C.map(ne=>ne(Y))},firstColumnValueExtractor:O,index:S,orderBy:s};const $=E?.id??l.id;c[$]=b,S&&(_=Y=>{c[$].dataNeeded=()=>{const ne=Y();return Math.max(0,b.limit-ne)}})}}return e.pipe(_E(g,{limit:d,offset:p,comparator:y,setSizeCallback:_,setWindowFn:S=>{u(E=>{S(E),b&&(b.offset=E.offset??b.offset,b.limit=E.limit??b.limit)})}}))}function If(n,e){return n.compareOptions.stringSort!==void 0?n.compareOptions:{...e.compareOptions,direction:n.compareOptions.direction,nulls:n.compareOptions.nulls}}function PE(n,e={}){const s=r=>{const l=[];for(const[c,u]of n.entries())(r?.(u)??!0)&&l.push({type:"insert",key:c,value:u});return l};if(e.limit!==void 0&&!e.orderBy)throw new Error("limit cannot be used without orderBy");if(e.orderBy){const r=e.where?ma(e.where):void 0,l=HE(n,e.orderBy,e.limit,r,e.optimizedOnly);if(l===void 0)return;const c=[];for(const u of l){const d=n.get(u);d!==void 0&&c.push({type:"insert",key:u,value:d})}return c}if(!e.where)return s();try{const r=e.where,l=l1(r,n);if(l.canOptimize){const c=[];for(const u of l.matchingKeys){const d=n.get(u);d!==void 0&&c.push({type:"insert",key:u,value:d})}return c}else{if(e.optimizedOnly)return;const c=ma(r);return s(c)}}catch(r){console.warn(`${n.id?`[${n.id}] `:""}Error processing where clause, falling back to full scan:`,r);const l=ma(e.where);return e.optimizedOnly?void 0:s(l)}}function ma(n){const e=gd(n);return s=>{try{const r=e(s);return nr(r)}catch{return!1}}}function VE(n,e){const s=ma(e.whereExpression);return r=>{const l=[];for(const c of r)if(c.type==="insert")s(c.value)&&l.push(c);else if(c.type==="update"){const u=s(c.value),d=c.previousValue?s(c.previousValue):!1;u&&d?l.push(c):u&&!d?l.push({...c,type:"insert"}):!u&&d&&l.push({...c,type:"delete",value:c.previousValue})}else s(c.value)&&l.push(c);(l.length>0||r.length===0)&&n(l)}}function HE(n,e,s,r,l){if(e.length===1){const p=e[0],m=p.expression;if(m.type==="ref"){const y=m.path,_=If(p,n);Lo(y[0],y,n,_);const b=Oa(n,y,_);if(b&&b.supports("gt")){const S=E=>{const O=n.get(E);return O===void 0?!1:r?.(O)??!0};return b.take(s??b.keyCount,void 0,S)}}}if(l)return;const c=[];for(const[p,m]of n.entries())(r?.(m)??!0)&&c.push({key:p,value:m});const u=(p,m)=>{for(const g of e){const y=uo(g.compareOptions),_=Oy(p.value,g.expression),b=Oy(m.value,g.expression),S=y(_,b);if(S!==0)return S}return 0};c.sort(u);const d=c.map(p=>p.key);return s!==void 0?d.slice(0,s):d}function Oy(n,e){if(e.type==="ref"){const s=e;let r=n;for(const l of s.path)r=r?.[l];return r}else return e.type==="val"?e.value:gd(e)(n)}class ky{constructor(e){this.map=new Map,this.sortedKeys=[],this.comparator=e}indexOf(e,s){let r=0,l=this.sortedKeys.length;if(!this.comparator){for(;r<l;){const c=Math.floor((r+l)/2),u=this.sortedKeys[c],d=ho(e,u);if(d<0)l=c;else if(d>0)r=c+1;else return c}return r}for(;r<l;){const c=Math.floor((r+l)/2),u=this.sortedKeys[c],d=this.map.get(u),p=this.comparator(s,d);if(p<0)l=c;else if(p>0)r=c+1;else{const m=ho(e,u);if(m<0)l=c;else if(m>0)r=c+1;else return c}}return r}set(e,s){if(this.map.has(e)){const l=this.map.get(e),c=this.indexOf(e,l);this.sortedKeys.splice(c,1)}const r=this.indexOf(e,s);return this.sortedKeys.splice(r,0,e),this.map.set(e,s),this}get(e){return this.map.get(e)}delete(e){if(this.map.has(e)){const s=this.map.get(e),r=this.indexOf(e,s);return this.sortedKeys.splice(r,1),this.map.delete(e)}return!1}has(e){return this.map.has(e)}clear(){this.map.clear(),this.sortedKeys=[]}get size(){return this.map.size}*[Symbol.iterator](){for(const e of this.sortedKeys)yield[e,this.map.get(e)]}entries(){return this[Symbol.iterator]()}keys(){return this.sortedKeys[Symbol.iterator]()}values(){return(function*(){for(const e of this.sortedKeys)yield this.map.get(e)}).call(this)}forEach(e){for(const s of this.sortedKeys)e(this.map.get(s),s,this.map)}}class qE{constructor(e){this.pendingSyncedTransactions=[],this.syncedMetadata=new Map,this.optimisticUpserts=new Map,this.optimisticDeletes=new Set,this.size=0,this.syncedKeys=new Set,this.preSyncVisibleState=new Map,this.recentlySyncedKeys=new Set,this.hasReceivedFirstCommit=!1,this.isCommittingSyncTransactions=!1,this.commitPendingTransactions=()=>{let s=!1;for(const u of this.transactions.values())if(u.state==="persisting"){s=!0;break}const{committedSyncedTransactions:r,uncommittedSyncedTransactions:l,hasTruncateSync:c}=this.pendingSyncedTransactions.reduce((u,d)=>(d.committed?(u.committedSyncedTransactions.push(d),d.truncate===!0&&(u.hasTruncateSync=!0)):u.uncommittedSyncedTransactions.push(d),u),{committedSyncedTransactions:[],uncommittedSyncedTransactions:[],hasTruncateSync:!1});if(!s||c){this.isCommittingSyncTransactions=!0;const u=c?r.find(_=>_.truncate)?.optimisticSnapshot:null,d=new Set;for(const _ of r)for(const b of _.operations)d.add(b.key);let p=this.preSyncVisibleState;if(p.size===0){p=new Map;for(const _ of d){const b=this.get(_);b!==void 0&&p.set(_,b)}}const m=[],g=this.config.sync.rowUpdateMode||"partial";for(const _ of r){if(_.truncate){const b=new Set([...this.syncedData.keys(),...u?.upserts.keys()||[]]);for(const S of b){if(u?.deletes.has(S))continue;const E=u?.upserts.get(S)||this.syncedData.get(S);E!==void 0&&m.push({type:"delete",key:S,value:E})}this.syncedData.clear(),this.syncedMetadata.clear(),this.syncedKeys.clear();for(const S of d)p.delete(S);this._events.emit("truncate",{type:"truncate",collection:this.collection})}for(const b of _.operations){const S=b.key;switch(this.syncedKeys.add(S),b.type){case"insert":this.syncedMetadata.set(S,b.metadata);break;case"update":this.syncedMetadata.set(S,Object.assign({},this.syncedMetadata.get(S),b.metadata));break;case"delete":this.syncedMetadata.delete(S);break}switch(b.type){case"insert":this.syncedData.set(S,b.value);break;case"update":{if(g==="partial"){const E=Object.assign({},this.syncedData.get(S),b.value);this.syncedData.set(S,E)}else this.syncedData.set(S,b.value);break}case"delete":this.syncedData.delete(S);break}}}if(c){const _=new Set;for(const E of r)for(const O of E.operations)(O.type==="insert"||O.type==="update")&&_.add(O.key);const b=new Map(u.upserts),S=new Set(u.deletes);for(const[E,O]of b)if(!S.has(E))if(_.has(E)){let D=!1;for(let U=m.length-1;U>=0;U--){const L=m[U];if(L.key===E&&L.type==="insert"){L.value=O,D=!0;break}}D||m.push({type:"insert",key:E,value:O})}else m.push({type:"insert",key:E,value:O});if(m.length>0&&S.size>0){const E=[];for(const O of m)O.type==="insert"&&S.has(O.key)||E.push(O);m.length=0,m.push(...E)}this.lifecycle.status!=="ready"&&this.lifecycle.markReady()}if(this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.isCommittingSyncTransactions=!1,c&&u){for(const[_,b]of u.upserts)this.optimisticUpserts.set(_,b);for(const _ of u.deletes)this.optimisticDeletes.add(_)}for(const _ of this.transactions.values())if(!["completed","failed"].includes(_.state)){for(const b of _.mutations)if(this.isThisCollection(b.collection)&&b.optimistic)switch(b.type){case"insert":case"update":this.optimisticUpserts.set(b.key,b.modified),this.optimisticDeletes.delete(b.key);break;case"delete":this.optimisticUpserts.delete(b.key),this.optimisticDeletes.add(b.key);break}}const y=new Map;for(const _ of this.transactions.values())if(_.state==="completed")for(const b of _.mutations)b.optimistic&&this.isThisCollection(b.collection)&&d.has(b.key)&&y.set(b.key,{type:b.type,value:b.modified});for(const _ of d){const b=p.get(_),S=this.get(_),E=y.get(_);let O=!1;E&&(E.type==="delete"&&b!==void 0&&S===void 0&&En(E.value,b)||S!==void 0&&En(E.value,S))&&(O=!0),O||(b===void 0&&S!==void 0?m.push({type:"insert",key:_,value:S}):b!==void 0&&S===void 0?m.push({type:"delete",key:_,value:b}):b!==void 0&&S!==void 0&&!En(b,S)&&m.push({type:"update",key:_,value:S,previousValue:b}))}this.size=this.calculateSize(),m.length>0&&this.indexes.updateIndexes(m),this.changes.emitEvents(m,!0),this.pendingSyncedTransactions=l,this.preSyncVisibleState.clear(),Promise.resolve().then(()=>{this.recentlySyncedKeys.clear()}),this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0)}},this.config=e,this.transactions=new ky((s,r)=>s.compareCreatedAt(r)),this.syncedData=new ky(e.compare)}setDeps(e){this.collection=e.collection,this.lifecycle=e.lifecycle,this.changes=e.changes,this.indexes=e.indexes,this._events=e.events}get(e){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;if(!s.has(e))return r.has(e)?r.get(e):l.get(e)}has(e){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;return s.has(e)?!1:r.has(e)?!0:l.has(e)}*keys(){const{syncedData:e,optimisticDeletes:s,optimisticUpserts:r}=this;for(const l of e.keys())s.has(l)||(yield l);for(const l of r.keys())!e.has(l)&&!s.has(l)&&(yield l)}*values(){for(const e of this.keys()){const s=this.get(e);s!==void 0&&(yield s)}}*entries(){for(const e of this.keys()){const s=this.get(e);s!==void 0&&(yield[e,s])}}*[Symbol.iterator](){for(const[e,s]of this.entries())yield[e,s]}forEach(e){let s=0;for(const[r,l]of this.entries())e(l,r,s++)}map(e){const s=[];let r=0;for(const[l,c]of this.entries())s.push(e(c,l,r++));return s}isThisCollection(e){return e===this.collection}recomputeOptimisticState(e=!1){if(this.isCommittingSyncTransactions&&!e)return;const s=new Map(this.optimisticUpserts),r=new Set(this.optimisticDeletes);this.optimisticUpserts.clear(),this.optimisticDeletes.clear();const l=[];for(const d of this.transactions.values())["completed","failed"].includes(d.state)||l.push(d);for(const d of l)for(const p of d.mutations)if(this.isThisCollection(p.collection)&&p.optimistic)switch(p.type){case"insert":case"update":this.optimisticUpserts.set(p.key,p.modified),this.optimisticDeletes.delete(p.key);break;case"delete":this.optimisticUpserts.delete(p.key),this.optimisticDeletes.add(p.key);break}this.size=this.calculateSize();const c=[];this.collectOptimisticChanges(s,r,c);const u=c.filter(d=>!!(!this.recentlySyncedKeys.has(d.key)||e));if(this.pendingSyncedTransactions.length>0&&!e){const d=new Set;for(const m of this.pendingSyncedTransactions)for(const g of m.operations)d.add(g.key);const p=u.filter(m=>!(m.type==="delete"&&d.has(m.key)&&!l.some(y=>y.mutations.some(_=>this.isThisCollection(_.collection)&&_.key===m.key))));p.length>0&&this.indexes.updateIndexes(p),this.changes.emitEvents(p,e)}else u.length>0&&this.indexes.updateIndexes(u),this.changes.emitEvents(u,e)}calculateSize(){const e=this.syncedData.size,s=Array.from(this.optimisticDeletes).filter(l=>this.syncedData.has(l)&&!this.optimisticUpserts.has(l)).length,r=Array.from(this.optimisticUpserts.keys()).filter(l=>!this.syncedData.has(l)).length;return e-s+r}collectOptimisticChanges(e,s,r){const l=new Set([...e.keys(),...this.optimisticUpserts.keys(),...s,...this.optimisticDeletes]);for(const c of l){const u=this.get(c),d=this.getPreviousValue(c,e,s);d!==void 0&&u===void 0?r.push({type:"delete",key:c,value:d}):d===void 0&&u!==void 0?r.push({type:"insert",key:c,value:u}):d!==void 0&&u!==void 0&&d!==u&&r.push({type:"update",key:c,value:u,previousValue:d})}}getPreviousValue(e,s,r){if(!r.has(e))return s.has(e)?s.get(e):this.syncedData.get(e)}scheduleTransactionCleanup(e){if(e.state==="completed"){this.transactions.delete(e.id);return}e.isPersisted.promise.then(()=>{this.transactions.delete(e.id)}).catch(()=>{})}capturePreSyncVisibleState(){if(this.pendingSyncedTransactions.length===0)return;const e=new Set;for(const s of this.pendingSyncedTransactions)for(const r of s.operations)e.add(r.key);for(const s of e)this.recentlySyncedKeys.add(s);for(const s of e)if(!this.preSyncVisibleState.has(s)){const r=this.get(s);r!==void 0&&this.preSyncVisibleState.set(s,r)}}onTransactionStateChange(){this.changes.shouldBatchEvents=this.pendingSyncedTransactions.length>0,this.capturePreSyncVisibleState(),this.recomputeOptimisticState(!1)}cleanup(){this.syncedData.clear(),this.syncedMetadata.clear(),this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.size=0,this.pendingSyncedTransactions=[],this.syncedKeys.clear(),this.hasReceivedFirstCommit=!1}}class L0{constructor(){this.listeners=new Map}on(e,s){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(s),()=>{this.listeners.get(e)?.delete(s)}}once(e,s){const r=this.on(e,l=>{s(l),r()});return r}off(e,s){this.listeners.get(e)?.delete(s)}waitFor(e,s){return new Promise((r,l)=>{let c;const u=this.on(e,d=>{c&&(clearTimeout(c),c=void 0),r(d),u()});s&&(c=setTimeout(()=>{c=void 0,u(),l(new Error(`Timeout waiting for event ${String(e)}`))},s))})}emitInner(e,s){this.listeners.get(e)?.forEach(r=>{try{r(s)}catch(l){queueMicrotask(()=>{throw l})}})}clearListeners(){this.listeners.clear()}}function GE(n,e){if(e.length===0||n.length===0)return;if(n.length===1){const{expression:r,compareOptions:l}=n[0];return(l.direction==="asc"?Ry:Lf)(r,new Ut(e[0]))}const s=[];for(let r=0;r<n.length&&r<e.length;r++){const l=n[r],c=e[r],u=[];for(let m=0;m<r;m++){const g=n[m],y=e[m];u.push(Mf(g.expression,new Ut(y)))}const p=(l.compareOptions.direction==="asc"?Ry:Lf)(l.expression,new Ut(c));if(u.length===0)s.push(p);else{const m=[...u,p];s.push(m.reduce((g,y)=>jf(g,y)))}}return s.length===1?s[0]:s.reduce((r,l)=>CE(r,l))}class KE extends L0{constructor(e,s,r){super(),this.collection=e,this.callback=s,this.options=r,this.loadedInitialState=!1,this.skipFiltering=!1,this.snapshotSent=!1,this.loadedSubsets=[],this.sentKeys=new Set,this.limitedSnapshotRowCount=0,this._status="ready",this.pendingLoadSubsetPromises=new Set,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches=new Set,r.onUnsubscribe&&this.on("unsubscribed",c=>r.onUnsubscribe(c)),r.whereExpression&&kE(r.whereExpression,this.collection);const l=c=>{s(c),this.trackSentKeys(c)};this.callback=l,this.filteredCallback=r.whereExpression?VE(this.callback,r):this.callback,this.truncateCleanup=this.collection.on("truncate",()=>{this.handleTruncate()})}get status(){return this._status}handleTruncate(){const e=[...this.loadedSubsets],s=this.collection._sync.syncLoadSubsetFn!==null;if(e.length===0||!s){this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[];return}this.isBufferingForTruncate=!0,this.truncateBuffer=[],this.pendingTruncateRefetches.clear(),this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[],queueMicrotask(()=>{if(this.isBufferingForTruncate){for(const r of e){const l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),this.trackLoadSubsetPromise(l),l instanceof Promise&&(this.pendingTruncateRefetches.add(l),l.catch(()=>{}).finally(()=>{this.pendingTruncateRefetches.delete(l),this.checkTruncateRefetchComplete()}))}this.pendingTruncateRefetches.size===0&&this.flushTruncateBuffer()}})}checkTruncateRefetchComplete(){this.pendingTruncateRefetches.size===0&&this.isBufferingForTruncate&&this.flushTruncateBuffer()}flushTruncateBuffer(){this.isBufferingForTruncate=!1;const e=this.truncateBuffer.flat();e.length>0&&this.filteredCallback(e),this.truncateBuffer=[]}setOrderByIndex(e){this.orderByIndex=e}setStatus(e){if(this._status===e)return;const s=this._status;this._status=e,this.emitInner("status:change",{type:"status:change",subscription:this,previousStatus:s,status:e});const r=`status:${e}`;this.emitInner(r,{type:r,subscription:this,previousStatus:s,status:e})}trackLoadSubsetPromise(e){e instanceof Promise&&(this.pendingLoadSubsetPromises.add(e),this.setStatus("loadingSubset"),e.finally(()=>{this.pendingLoadSubsetPromises.delete(e),this.pendingLoadSubsetPromises.size===0&&this.setStatus("ready")}))}hasLoadedInitialState(){return this.loadedInitialState}hasSentAtLeastOneSnapshot(){return this.snapshotSent}emitEvents(e){const s=this.filterAndFlipChanges(e);this.isBufferingForTruncate?s.length>0&&this.truncateBuffer.push(s):this.filteredCallback(s)}requestSnapshot(e){if(this.loadedInitialState)return!1;const s={where:this.options.whereExpression,optimizedOnly:e?.optimizedOnly??!1};if(e){if("where"in e){const p=e.where;if(s.where){const m=s.where,g=jf(m,p);s.where=g}else s.where=p}}else this.loadedInitialState=!0;const r={where:s.where,subscription:this,orderBy:e?.orderBy,limit:e?.limit},l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),(e?.trackLoadSubsetPromise??!0)&&this.trackLoadSubsetPromise(l);const u=this.collection.currentStateAsChanges(s);if(u===void 0)return!1;const d=u.filter(p=>!this.sentKeys.has(p.key));for(const p of d)this.sentKeys.add(p.key);return this.snapshotSent=!0,this.callback(d),!0}requestLimitedSnapshot({orderBy:e,limit:s,minValues:r,offset:l}){if(!s)throw new Error("limit is required");if(!this.orderByIndex)throw new Error("Ordered snapshot was requested but no index was found. You have to call setOrderByIndex before requesting an ordered snapshot.");const u=r?.[0],d=this.orderByIndex,p=this.options.whereExpression,m=p?ma(p):void 0,g=N=>{if(this.sentKeys.has(N))return!1;const V=this.collection.get(N);return V===void 0?!1:m?.(V)??!0};let y=u;const _=[];let b=[];if(u!==void 0){const{expression:N}=e[0],V=this.collection.currentStateAsChanges({where:Mf(N,new Ut(u))});if(V){const $=V.map(ne=>ne.key).filter(ne=>!this.sentKeys.has(ne)&&g(ne));b.push(...$);const Y=d.take(s-b.length,u,g);b.push(...Y)}else b=d.take(s,u,g)}else b=d.take(s,u,g);const S=()=>Math.max(s-_.length,0),E=()=>b.length===0,O=e[0].expression,D=O.type==="ref"?Pt(new kt(O.path),!0):null;for(;S()>0&&!E();){const N=new Set;for(const V of b){const $=this.collection.get(V);_.push({type:"insert",key:V,value:$}),y=D?D($):$,N.add(V)}b=d.take(S(),y,g)}const U=this.limitedSnapshotRowCount;for(const N of _)this.sentKeys.add(N.key);this.callback(_),this.limitedSnapshotRowCount+=_.length,_.length>0&&(this.lastSentKey=_[_.length-1].key);let L;if(r!==void 0&&r.length>0){const N=GE(e,r);if(N){const{expression:V}=e[0],$=r[0];let Y;if($ instanceof Date){const ne=new Date($.getTime()+1);Y=jf(RE(V,new Ut($)),Lf(V,new Ut(ne)))}else Y=Mf(V,new Ut($));L={whereFrom:N,whereCurrent:Y,lastKey:this.lastSentKey}}}const z={where:p,limit:s,orderBy:e,cursor:L,offset:l??U,subscription:this},C=this.collection._sync.loadSubset(z);this.loadedSubsets.push(z),this.trackLoadSubsetPromise(C)}filterAndFlipChanges(e){if(this.loadedInitialState||this.skipFiltering)return e;const s=this.isBufferingForTruncate,r=[];for(const l of e){let c=l;if(this.sentKeys.has(l.key)){if(l.type==="insert")continue;l.type==="delete"&&this.sentKeys.delete(l.key)}else{if(l.type==="update")c={...l,type:"insert",previousValue:void 0};else if(l.type==="delete"&&!s)continue;this.sentKeys.add(l.key)}r.push(c)}return r}trackSentKeys(e){if(!(this.loadedInitialState||this.skipFiltering))for(const s of e)s.type==="delete"?this.sentKeys.delete(s.key):this.sentKeys.add(s.key)}markAllStateAsSeen(){this.skipFiltering=!0}unsubscribe(){this.truncateCleanup?.(),this.truncateCleanup=void 0,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches.clear();for(const e of this.loadedSubsets)this.collection._sync.unloadSubset(e);this.loadedSubsets=[],this.emitInner("unsubscribed",{type:"unsubscribed",subscription:this}),this.clearListeners()}}class QE{constructor(){this.activeSubscribersCount=0,this.changeSubscriptions=new Set,this.batchedEvents=[],this.shouldBatchEvents=!1}setDeps(e){this.lifecycle=e.lifecycle,this.sync=e.sync,this.events=e.events,this.collection=e.collection}emitEmptyReadyEvent(){for(const e of this.changeSubscriptions)e.emitEvents([])}emitEvents(e,s=!1){if(this.shouldBatchEvents&&!s){this.batchedEvents.push(...e);return}let r=e;if(s&&(this.batchedEvents.length>0&&(r=[...this.batchedEvents,...e]),this.batchedEvents=[],this.shouldBatchEvents=!1),r.length!==0)for(const l of this.changeSubscriptions)l.emitEvents(r)}subscribeChanges(e,s={}){this.addSubscriber();const r=new KE(this.collection,e,{...s,onUnsubscribe:()=>{this.removeSubscriber(),this.changeSubscriptions.delete(r)}});return s.includeInitialState?r.requestSnapshot({trackLoadSubsetPromise:!1}):s.includeInitialState===!1&&r.markAllStateAsSeen(),this.changeSubscriptions.add(r),r}addSubscriber(){const e=this.activeSubscribersCount;this.activeSubscribersCount++,this.lifecycle.cancelGCTimer(),(this.lifecycle.status==="cleaned-up"||this.lifecycle.status==="idle")&&this.sync.startSync(),this.events.emitSubscribersChange(this.activeSubscribersCount,e)}removeSubscriber(){const e=this.activeSubscribersCount;if(this.activeSubscribersCount--,this.activeSubscribersCount===0)this.lifecycle.startGCTimer();else if(this.activeSubscribersCount<0)throw new ex;this.events.emitSubscribersChange(this.activeSubscribersCount,e)}cleanup(){this.batchedEvents=[],this.shouldBatchEvents=!1}}const FE=n=>setTimeout(()=>{n({didTimeout:!0,timeRemaining:()=>50})},0),YE=n=>{clearTimeout(n)},XE=typeof window<"u"&&"requestIdleCallback"in window?(n,e)=>window.requestIdleCallback(n,e):(n,e)=>FE(n),uf=typeof window<"u"&&"cancelIdleCallback"in window?n=>window.cancelIdleCallback(n):YE;class $E{constructor(e,s){this.status="idle",this.hasBeenReady=!1,this.hasReceivedFirstCommit=!1,this.onFirstReadyCallbacks=[],this.gcTimeoutId=null,this.idleCallbackId=null,this.config=e,this.id=s}setDeps(e){this.indexes=e.indexes,this.events=e.events,this.changes=e.changes,this.sync=e.sync,this.state=e.state}validateStatusTransition(e,s){if(e===s)return;if(!{idle:["loading","error","cleaned-up"],loading:["ready","error","cleaned-up"],ready:["cleaned-up","error"],error:["cleaned-up","idle"],"cleaned-up":["loading","error"]}[e].includes(s))throw new ZS(e,s,this.id)}setStatus(e,s=!1){if(e==="ready"&&!s)throw new Aa(`You can't directly call "setStatus('ready'). You must use markReady instead.`);this.validateStatusTransition(this.status,e);const r=this.status;this.status=e,e==="ready"&&!this.indexes.isIndexesResolved&&this.indexes.resolveAllIndexes().catch(l=>{console.warn(`${this.config.id?`[${this.config.id}] `:""}Failed to resolve indexes:`,l)}),this.events.emitStatusChange(e,r)}validateCollectionUsable(e){switch(this.status){case"error":throw new JS(e,this.id);case"cleaned-up":this.sync.startSync();break}}markReady(){if(this.validateStatusTransition(this.status,"ready"),this.status==="loading"){if(this.setStatus("ready",!0),!this.hasBeenReady){this.hasBeenReady=!0,this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0);const e=[...this.onFirstReadyCallbacks];this.onFirstReadyCallbacks=[],e.forEach(s=>s())}this.changes.changeSubscriptions.size>0&&this.changes.emitEmptyReadyEvent()}}startGCTimer(){this.gcTimeoutId&&clearTimeout(this.gcTimeoutId);const e=this.config.gcTime??3e5;e!==0&&(this.gcTimeoutId=setTimeout(()=>{this.changes.activeSubscribersCount===0&&this.scheduleIdleCleanup()},e))}cancelGCTimer(){this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.idleCallbackId!==null&&(uf(this.idleCallbackId),this.idleCallbackId=null)}scheduleIdleCleanup(){this.idleCallbackId!==null&&uf(this.idleCallbackId),this.idleCallbackId=XE(e=>{this.changes.activeSubscribersCount===0?this.performCleanup(e)&&(this.idleCallbackId=null):this.idleCallbackId=null},{timeout:1e3})}performCleanup(e){return!e||e.timeRemaining()>0||e.didTimeout?(this.sync.cleanup(),this.state.cleanup(),this.changes.cleanup(),this.indexes.cleanup(),this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.hasBeenReady=!1,this.onFirstReadyCallbacks=[],this.setStatus("cleaned-up"),this.events.cleanup(),!0):(this.scheduleIdleCleanup(),!1)}onFirstReady(e){if(this.hasBeenReady){e();return}this.onFirstReadyCallbacks.push(e)}cleanup(){this.idleCallbackId!==null&&(uf(this.idleCallbackId),this.idleCallbackId=null),this.performCleanup()}}const xd=Symbol("liveQueryInternal");class JE{constructor(e,s){this.preloadPromise=null,this.syncCleanupFn=null,this.syncLoadSubsetFn=null,this.syncUnloadSubsetFn=null,this.pendingLoadSubsetPromises=new Set,this.config=e,this.id=s,this.syncMode=e.syncMode??"eager"}setDeps(e){this.collection=e.collection,this.state=e.state,this.lifecycle=e.lifecycle,this._events=e.events}startSync(){if(!(this.lifecycle.status!=="idle"&&this.lifecycle.status!=="cleaned-up")){this.lifecycle.setStatus("loading");try{const e=ZE(this.config.sync.sync({collection:this.collection,begin:()=>{this.state.pendingSyncedTransactions.push({committed:!1,operations:[],deletedKeys:new Set})},write:s=>{const r=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!r)throw new cy;if(r.committed)throw new uy;let l;"key"in s?l=s.key:l=this.config.getKey(s.value);let c=s.type;if(s.type==="insert"){const d=this.state.syncedData.has(l),p=r.deletedKeys.has(l),m=r.truncate===!0;if(d&&!p&&!m){const g=this.state.syncedData.get(l);if(g!==void 0&&En(g,s.value))c="update";else{const _=this.config.utils[xd];throw new sx(l,this.id,{hasCustomGetKey:_?.hasCustomGetKey??!1,hasJoins:_?.hasJoins??!1})}}}const u={...s,type:c,key:l};r.operations.push(u),c==="delete"&&r.deletedKeys.add(l)},commit:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new vx;if(s.committed)throw new _x;s.committed=!0,this.state.commitPendingTransactions()},markReady:()=>{this.lifecycle.markReady()},truncate:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new cy;if(s.committed)throw new uy;s.operations=[],s.deletedKeys.clear(),s.truncate=!0,s.optimisticSnapshot={upserts:new Map(this.state.optimisticUpserts),deletes:new Set(this.state.optimisticDeletes)}}}));if(this.syncCleanupFn=e?.cleanup??null,this.syncLoadSubsetFn=e?.loadSubset??null,this.syncUnloadSubsetFn=e?.unloadSubset??null,this.syncMode==="on-demand"&&!this.syncLoadSubsetFn)throw new Ca(`Collection "${this.id}" is configured with syncMode "on-demand" but the sync function did not return a loadSubset handler. Either provide a loadSubset handler or use syncMode "eager".`)}catch(e){throw this.lifecycle.setStatus("error"),e}}}preload(){return this.preloadPromise?this.preloadPromise:(this.syncMode==="on-demand"&&console.warn(`${this.id?`[${this.id}] `:""}Calling .preload() on a collection with syncMode "on-demand" is a no-op. In on-demand mode, data is only loaded when queries request it. Instead, create a live query and call .preload() on that to load the specific data you need. See https://tanstack.com/blog/tanstack-db-0.5-query-driven-sync for more details.`),this.preloadPromise=new Promise((e,s)=>{if(this.lifecycle.status==="ready"){e();return}if(this.lifecycle.status==="error"){s(new WS);return}if(this.lifecycle.onFirstReady(()=>{e()}),this.lifecycle.status==="idle"||this.lifecycle.status==="cleaned-up")try{this.startSync()}catch(r){s(r);return}}),this.preloadPromise)}get isLoadingSubset(){return this.pendingLoadSubsetPromises.size>0}trackLoadPromise(e){const s=!this.isLoadingSubset;this.pendingLoadSubsetPromises.add(e),s&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!0,previousIsLoadingSubset:!1,loadingSubsetTransition:"start"}),e.finally(()=>{const r=this.pendingLoadSubsetPromises.size===1&&this.pendingLoadSubsetPromises.has(e);this.pendingLoadSubsetPromises.delete(e),r&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!1,previousIsLoadingSubset:!0,loadingSubsetTransition:"end"})})}loadSubset(e){if(this.syncMode==="eager")return!0;if(this.syncLoadSubsetFn){const s=this.syncLoadSubsetFn(e);if(s instanceof Promise)return this.trackLoadPromise(s),s}return!0}unloadSubset(e){this.syncUnloadSubsetFn&&this.syncUnloadSubsetFn(e)}cleanup(){try{this.syncCleanupFn&&(this.syncCleanupFn(),this.syncCleanupFn=null)}catch(e){queueMicrotask(()=>{if(e instanceof Error){const s=new dy(this.id,e);throw s.cause=e,s.stack=e.stack,s}else throw new dy(this.id,e)})}this.preloadPromise=null}}function ZE(n){if(typeof n=="function")return{cleanup:n};if(typeof n=="object")return n}function j0(n){return typeof n=="function"&&n.prototype!==void 0&&n.prototype.constructor===n}async function WE(n){return j0(n)?n:await n()}class ew{constructor(e,s,r,l,c,u){this.id=e,this.expression=s,this.name=r,this.resolver=l,this.options=c,this.collectionEntries=u,this.indexPromise=null,this.resolvedIndex=null,j0(this.resolver)&&(this.resolvedIndex=new this.resolver(this.id,this.expression,this.name,this.options),this.collectionEntries&&this.resolvedIndex.build(this.collectionEntries))}async resolve(){return this.resolvedIndex?this.resolvedIndex:(this.indexPromise||(this.indexPromise=this.createIndex()),this.resolvedIndex=await this.indexPromise,this.resolvedIndex)}isResolved(){return this.resolvedIndex!==null}getResolved(){if(!this.resolvedIndex)throw new Error(`Index ${this.id} has not been resolved yet. Ensure collection is synced.`);return this.resolvedIndex}getId(){return this.id}getName(){return this.name}getExpression(){return this.expression}async createIndex(){const e=await WE(this.resolver);return new e(this.id,this.expression,this.name,this.options)}}class tw{constructor(e,s){this.indexId=e,this.lazyIndex=s}get index(){return this.lazyIndex.getResolved()}get isReady(){return this.lazyIndex.isResolved()}async whenReady(){return await this.lazyIndex.resolve()}get id(){return this.indexId}get name(){return this.isReady?this.index.name:this.lazyIndex.getName()}get expression(){return this.lazyIndex.getExpression()}supports(e){return this.index.supports(e)}getStats(){return this.index.getStats()}matchesField(e){const s=this.expression;return s.type==="ref"&&s.path.length===e.length&&s.path.every((r,l)=>r===e[l])}get keyCount(){return this.index.keyCount}get indexedKeysSet(){return this.index.indexedKeysSet}get orderedEntriesArray(){return this.index.orderedEntriesArray}get valueMapData(){return this.index.valueMapData}equalityLookup(e){return this.index.equalityLookup?.(e)??new Set}rangeQuery(e){return this.index.rangeQuery?.(e)??new Set}inArrayLookup(e){return this.index.inArrayLookup?.(e)??new Set}_getLazyWrapper(){return this.lazyIndex}}class nw{constructor(){this.lazyIndexes=new Map,this.resolvedIndexes=new Map,this.isIndexesResolved=!1,this.indexCounter=0}setDeps(e){this.state=e.state,this.lifecycle=e.lifecycle}createIndex(e,s={}){this.lifecycle.validateCollectionUsable("createIndex");const r=++this.indexCounter,l=wE(),c=e(l),u=dt(c),d=s.indexType??zf,p=new ew(r,u,s.name,d,s.options,this.state.entries());if(this.lazyIndexes.set(r,p),d===zf)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch(m){console.warn("Failed to resolve BTreeIndex:",m)}else if(typeof d=="function"&&d.prototype)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch{this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)})}else this.isIndexesResolved&&this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)});return new tw(r,p)}async resolveAllIndexes(){if(this.isIndexesResolved)return;const e=Array.from(this.lazyIndexes.entries()).map(async([s,r])=>{const l=await r.resolve();return l.build(this.state.entries()),this.resolvedIndexes.set(s,l),{indexId:s,resolvedIndex:l}});await Promise.all(e),this.isIndexesResolved=!0}async resolveSingleIndex(e,s){const r=await s.resolve();return r.build(this.state.entries()),this.resolvedIndexes.set(e,r),r}get indexes(){return this.resolvedIndexes}updateIndexes(e){for(const s of this.resolvedIndexes.values())for(const r of e)switch(r.type){case"insert":s.add(r.key,r.value);break;case"update":r.previousValue?s.update(r.key,r.previousValue,r.value):s.add(r.key,r.value);break;case"delete":s.remove(r.key,r.value);break}}cleanup(){this.lazyIndexes.clear(),this.resolvedIndexes.clear()}}var iw={};const sw=new Set(["find","findLast","findIndex","findLastIndex","filter","map","flatMap","forEach","some","every","reduce","reduceRight"]),rw=new Set(["pop","push","shift","unshift","splice","sort","reverse","fill","copyWithin"]),aw=new Set(["set","delete","clear","add"]),lw=new Set(["entries","keys","values","forEach"]);function Ed(n){return n!==null&&typeof n=="object"&&!(n instanceof Date)&&!(n instanceof RegExp)&&!fo(n)}function ow(n,e,s,r){if(sw.has(n))return function(...l){const c=l[0];if(typeof c!="function")return e.apply(s.copy_,l);const u=(m,g)=>{if(Ed(m)){const y={tracker:s,prop:String(g)},{proxy:_}=r(m,y);return _}return m},d=function(m,g,y){const _=u(m,g);return c.call(this,_,g,y)};if(n==="reduce"||n==="reduceRight"){const m=function(g,y,_,b){const S=u(y,_);return c.call(this,g,S,_,b)};return e.apply(s.copy_,[m,...l.slice(1)])}const p=e.apply(s.copy_,[d,...l.slice(1)]);if((n==="find"||n==="findLast")&&p&&typeof p=="object"){const m=s.copy_.indexOf(p);if(m!==-1)return u(p,m)}return n==="filter"&&Array.isArray(p)?p.map(m=>{const g=s.copy_.indexOf(m);return g!==-1?u(m,g):m}):p}}function cw(n,e){return function(){const s=n.copy_;let r=0;return{next(){if(r>=s.length)return{done:!0,value:void 0};const l=s[r];let c=l;if(Ed(l)){const u={tracker:n,prop:String(r)},{proxy:d}=e(l,u);c=d}return r++,{done:!1,value:c}},[Symbol.iterator](){return this}}}}function Dy(n,e,s){return function(...r){const l=n.apply(e.copy_,r);return s(e),l}}function uw(n,e,s,r,l,c,u){if(lw.has(n)||e===Symbol.iterator)return function(...p){const m=s.apply(l.copy_,p);if(n==="forEach"){const y=p[0];if(typeof y=="function"){const _=function(b,S,E){const O=y.call(this,b,S,E);return u(l),O};return s.apply(r,[_,...p.slice(1)])}}if(n==="entries"||n==="values"||n===Symbol.iterator.toString()||e===Symbol.iterator){const y=m,_=new Map;if(n==="values"&&r instanceof Map)for(const[S,E]of l.copy_.entries())_.set(E,S);const b=new Map;if(r instanceof Set)for(const S of l.copy_.values())b.set(S,S);return{next(){const S=y.next();if(!S.done&&S.value&&typeof S.value=="object"){if(n==="entries"&&Array.isArray(S.value)&&S.value.length===2){if(S.value[1]&&typeof S.value[1]=="object"){const E=S.value[0],O={tracker:l,prop:E,updateMap:U=>{l.copy_ instanceof Map&&l.copy_.set(E,U)}},{proxy:D}=c(S.value[1],O);S.value[1]=D}}else if(n==="values"||n===Symbol.iterator.toString()||e===Symbol.iterator)if(n==="values"&&r instanceof Map){const E=_.get(S.value);if(E!==void 0){const O={tracker:l,prop:E,updateMap:U=>{l.copy_ instanceof Map&&l.copy_.set(E,U)}},{proxy:D}=c(S.value,O);S.value=D}}else if(r instanceof Set){const E=S.value,O={tracker:l,prop:E,updateSet:U=>{l.copy_ instanceof Set&&(l.copy_.delete(E),l.copy_.add(U),b.set(E,U))}},{proxy:D}=c(S.value,O);S.value=D}else{const E=Symbol("iterator-value"),{proxy:O}=c(S.value,{tracker:l,prop:E});S.value=O}}return S},[Symbol.iterator](){return this}}}return m}}function Re(...n){const e=typeof window<"u"&&typeof localStorage<"u";e&&localStorage.getItem("DEBUG")==="true"?console.log("[proxy]",...n):!e&&typeof process<"u"&&iw.DEBUG==="true"&&console.log("[proxy]",...n)}function ni(n,e=new WeakMap){if(n==null||typeof n!="object")return n;if(e.has(n))return e.get(n);if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return new RegExp(n.source,n.flags);if(Array.isArray(n)){const l=[];return e.set(n,l),n.forEach((c,u)=>{l[u]=ni(c,e)}),l}if(ArrayBuffer.isView(n)&&!(n instanceof DataView)){const l=Object.getPrototypeOf(n).constructor,c=new l(n.length);e.set(n,c);for(let u=0;u<n.length;u++)c[u]=n[u];return c}if(n instanceof Map){const l=new Map;return e.set(n,l),n.forEach((c,u)=>{l.set(u,ni(c,e))}),l}if(n instanceof Set){const l=new Set;return e.set(n,l),n.forEach(c=>{l.add(ni(c,e))}),l}if(fo(n))return n;const s={};e.set(n,s);for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=ni(n[l],e));const r=Object.getOwnPropertySymbols(n);for(const l of r)s[l]=ni(n[l],e);return s}let Ny=0;function fw(){return Ny+=1,Ny}function wd(n,e){const s=new Map;function r(y,_){if(Re("Object ID:",y.constructor.name),s.has(y))return s.get(y);{const b=wd(y,_);return s.set(y,b),b}}const l=new Map,c={copy_:ni(n),originalObject:ni(n),proxyCount:fw(),modified:!1,assigned_:{},parent:e,target:n};Re("createChangeProxy called for target",n,c.proxyCount);function u(y){y.modified||(y.modified=!0),y.parent&&(Re("propagating change to parent"),"updateMap"in y.parent?y.parent.updateMap(y.copy_):"updateSet"in y.parent?y.parent.updateSet(y.copy_):(y.parent.tracker.copy_[y.parent.prop]=y.copy_,y.parent.tracker.assigned_[y.parent.prop]=!0),u(y.parent.tracker))}function d(y){if(Re("checkIfReverted called with assigned keys:",Object.keys(y.assigned_)),Object.keys(y.assigned_).length===0&&Object.getOwnPropertySymbols(y.assigned_).length===0)return Re("No assigned properties, returning true"),!0;for(const b in y.assigned_)if(y.assigned_[b]===!0){const S=y.copy_[b],E=y.originalObject[b];if(Re(`Checking property ${String(b)}, current:`,S,"original:",E),!En(S,E))return Re(`Property ${String(b)} is different, returning false`),!1}else if(y.assigned_[b]===!1)return Re(`Property ${String(b)} was deleted, returning false`),!1;const _=Object.getOwnPropertySymbols(y.assigned_);for(const b of _)if(y.assigned_[b]===!0){const S=y.copy_[b],E=y.originalObject[b];if(!En(S,E))return Re("Symbol property is different, returning false"),!1}else if(y.assigned_[b]===!1)return Re("Symbol property was deleted, returning false"),!1;return Re("All properties match original values, returning true"),!0}function p(y,_){Re("checkParentStatus called for child prop:",_);const b=d(y);Re("Parent checkIfReverted returned:",b),b&&(Re("Parent is fully reverted, clearing tracking"),y.modified=!1,y.assigned_={},y.parent&&(Re("Continuing up the parent chain"),p(y.parent.tracker,y.parent.prop)))}function m(y){if(Re("createObjectProxy",y),l.has(y))return Re("proxyCache found match"),l.get(y);const _=new Proxy(y,{get(b,S){Re("get",b,S);const E=c.copy_[S]??c.originalObject[S],O=c.originalObject[S];if(Re("value (at top of proxy get)",E),Object.getOwnPropertyDescriptor(b,S)?.get)return E;if(typeof E=="function"){if(Array.isArray(b)){const U=S.toString();if(rw.has(U))return Dy(E,c,u);const L=ow(U,E,c,r);if(L)return L;if(S===Symbol.iterator)return cw(c,r)}if(b instanceof Map||b instanceof Set){const U=S.toString();if(aw.has(U))return Dy(E,c,u);const L=uw(U,S,E,b,c,r,u);if(L)return L}return E.bind(b)}if(Ed(E)){const U={tracker:c,prop:String(S)},{proxy:L}=r(O,U);return l.set(E,L),L}return E},set(b,S,E){const O=c.copy_[S];if(Re(`set called for property ${String(S)}, current:`,O,"new:",E),En(O,E))Re("Value unchanged, not tracking");else{const D=c.originalObject[S],U=En(E,D);if(Re("value:",E,"original:",D,"isRevertToOriginal:",U),U){Re(`Reverting property ${String(S)} to original value`),delete c.assigned_[S.toString()],Re(`Updating copy with original value for ${String(S)}`),c.copy_[S]=ni(D),Re("Checking if all properties reverted");const L=d(c);Re("All reverted:",L),L?(Re("All properties reverted, clearing tracking"),c.modified=!1,c.assigned_={},e&&(Re("Updating parent for property:",e.prop),p(e.tracker,e.prop))):(Re("Some properties still changed, keeping modified flag"),c.modified=!0)}else Re(`Setting new value for property ${String(S)}`),c.copy_[S]=E,c.assigned_[S.toString()]=!0,Re("Marking object and ancestors as modified",c),u(c)}return!0},defineProperty(b,S,E){const O=Reflect.defineProperty(b,S,E);return O&&"value"in E&&(c.copy_[S]=ni(E.value),c.assigned_[S.toString()]=!0,u(c)),O},getOwnPropertyDescriptor(b,S){return Reflect.getOwnPropertyDescriptor(b,S)},preventExtensions(b){return Reflect.preventExtensions(b)},isExtensible(b){return Reflect.isExtensible(b)},deleteProperty(b,S){Re("deleteProperty",b,S);const E=typeof S=="symbol"?S.toString():S;if(E in b){const O=E in c.originalObject,D=Reflect.deleteProperty(b,S);return D&&(O?(c.assigned_[E]=!1,u(c)):(delete c.assigned_[E],Object.keys(c.assigned_).length===0&&Object.getOwnPropertySymbols(c.assigned_).length===0?c.modified=!1:c.modified=!0)),D}return!0}});return l.set(y,_),_}return{proxy:m(c.copy_),getChanges:()=>{if(Re("getChanges called, modified:",c.modified),Re(c),!c.modified)return Re("Object not modified, returning empty object"),{};if(typeof c.copy_!="object"||Array.isArray(c.copy_)||Object.keys(c.assigned_).length===0)return c.copy_;const y={};for(const _ in c.copy_)c.assigned_[_]===!0&&_ in c.copy_&&(y[_]=c.copy_[_]);return Re("Returning copy:",y),y}}}function dw(n){const e=n.map(s=>wd(s));return{proxies:e.map(s=>s.proxy),getChanges:()=>e.map(s=>s.getChanges())}}function hw(n,e){const{proxy:s,getChanges:r}=wd(n);return e(s),r()}function pw(n,e){const{proxies:s,getChanges:r}=dw(n);return e(s),r()}function mw(){let n,e,s=!0;return{promise:new Promise((l,c)=>{n=u=>{s=!1,l(u)},e=u=>{s=!1,c(u)}}),resolve:n,reject:e,isPending:()=>s}}function gw(n){return typeof n=="object"&&n!==null&&typeof n.hasPendingGraphRun=="function"}class yw{constructor(){this.contexts=new Map,this.clearListeners=new Set}getOrCreateContext(e){let s=this.contexts.get(e);return s||(s={queue:[],jobs:new Map,dependencies:new Map,completed:new Set},this.contexts.set(e,s)),s}schedule({contextId:e,jobId:s,dependencies:r,run:l}){if(typeof e>"u"){l();return}const c=this.getOrCreateContext(e);if(c.jobs.has(s)||c.queue.push(s),c.jobs.set(s,l),r){const u=new Set(r);u.delete(s),c.dependencies.set(s,u)}else c.dependencies.has(s)||c.dependencies.set(s,new Set);c.completed.delete(s)}flush(e){const s=this.contexts.get(e);if(!s)return;const{queue:r,jobs:l,dependencies:c,completed:u}=s;for(;r.length>0;){let d=!1;const p=r.length;for(let m=0;m<p;m++){const g=r.shift(),y=l.get(g);if(!y){c.delete(g),u.delete(g);continue}const _=c.get(g);let b=!_;if(_){b=!0;for(const S of _){if(S===g)continue;const E=gw(S)&&S.hasPendingGraphRun(e);if(l.has(S)&&!u.has(S)||!l.has(S)&&E){b=!1;break}}}b?(l.delete(g),c.delete(g),y(),u.add(g),d=!0):r.push(g)}if(!d)throw new Error(`Scheduler detected unresolved dependencies for context ${String(e)}.`)}this.contexts.delete(e)}flushAll(){for(const e of Array.from(this.contexts.keys()))this.flush(e)}clear(e){this.contexts.delete(e),this.clearListeners.forEach(s=>s(e))}onClear(e){return this.clearListeners.add(e),()=>this.clearListeners.delete(e)}hasPendingJobs(e){const s=this.contexts.get(e);return!!s&&s.jobs.size>0}clearJob(e,s){const r=this.contexts.get(e);r&&(r.jobs.delete(s),r.dependencies.delete(s),r.completed.delete(s),r.queue=r.queue.filter(l=>l!==s),r.jobs.size===0&&this.contexts.delete(e))}}const go=new yw,yo=[];let Sa=[],vw=0;function _w(n,e){switch(`${n.type}-${e.type}`){case"insert-update":return{...n,type:"insert",original:{},modified:e.modified,changes:{...n.changes,...e.changes},key:n.key,globalKey:n.globalKey,metadata:e.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...e.syncMetadata},mutationId:e.mutationId,updatedAt:e.updatedAt};case"insert-delete":return null;case"update-delete":return e;case"update-update":return{...e,original:n.original,changes:{...n.changes,...e.changes},metadata:e.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...e.syncMetadata}};case"delete-delete":case"insert-insert":return e;default:{const s=`${n.type}-${e.type}`;throw new Error(`Unhandled mutation combination: ${s}`)}}}function Jl(n){const e=new Ew(n);return yo.push(e),e}function ro(){if(Sa.length>0)return Sa.slice(-1)[0]}function bw(n){go.clear(n.id),Sa.push(n)}function Sw(n){try{go.flush(n.id)}finally{Sa=Sa.filter(e=>e.id!==n.id)}}function xw(n){const e=yo.findIndex(s=>s.id===n.id);e!==-1&&yo.splice(e,1)}class Ew{constructor(e){if(typeof e.mutationFn>"u")throw new px;this.id=e.id??crypto.randomUUID(),this.mutationFn=e.mutationFn,this.state="pending",this.mutations=[],this.isPersisted=mw(),this.autoCommit=e.autoCommit??!0,this.createdAt=new Date,this.sequenceNumber=vw++,this.metadata=e.metadata??{}}setState(e){this.state=e,(e==="completed"||e==="failed")&&xw(this)}mutate(e){if(this.state!=="pending")throw new mx;bw(this);try{e()}finally{Sw(this)}return this.autoCommit&&this.commit().catch(()=>{}),this}applyMutations(e){for(const s of e){const r=this.mutations.findIndex(l=>l.globalKey===s.globalKey);if(r>=0){const l=this.mutations[r],c=_w(l,s);c===null?this.mutations.splice(r,1):this.mutations[r]=c}else this.mutations.push(s)}}rollback(e){const s=e?.isSecondaryRollback??!1;if(this.state==="completed")throw new gx;if(this.setState("failed"),!s){const r=new Set;this.mutations.forEach(l=>r.add(l.globalKey));for(const l of yo)l.state==="pending"&&l.mutations.some(c=>r.has(c.globalKey))&&l.rollback({isSecondaryRollback:!0})}return this.isPersisted.reject(this.error?.error),this.touchCollection(),this}touchCollection(){const e=new Set;for(const s of this.mutations)e.has(s.collection.id)||(s.collection._state.onTransactionStateChange(),s.collection._state.pendingSyncedTransactions.length>0&&s.collection._state.commitPendingTransactions(),e.add(s.collection.id))}async commit(){if(this.state!=="pending")throw new yx;if(this.setState("persisting"),this.mutations.length===0)return this.setState("completed"),this.isPersisted.resolve(this),this;try{await this.mutationFn({transaction:this}),this.setState("completed"),this.touchCollection(),this.isPersisted.resolve(this)}catch(e){const s=e instanceof Error?e:new Error(String(e));throw this.error={message:s.message,error:s},this.rollback(),s}return this}compareCreatedAt(e){const s=this.createdAt.getTime()-e.createdAt.getTime();return s!==0?s:this.sequenceNumber-e.sequenceNumber}}class ww{constructor(e,s){this.insert=(r,l)=>{this.lifecycle.validateCollectionUsable("insert");const c=this.state,u=ro();if(!u&&!this.config.onInsert)throw new fx;const d=Array.isArray(r)?r:[r],p=[],m=new Set;if(d.forEach(g=>{const y=this.validateData(g,"insert"),_=this.config.getKey(y);if(this.state.has(_)||m.has(_))throw new ix(_);m.add(_);const b=this.generateGlobalKey(_,g),S={mutationId:crypto.randomUUID(),original:{},modified:y,changes:Object.fromEntries(Object.keys(g).map(E=>[E,y[E]])),globalKey:b,key:_,metadata:l?.metadata,syncMetadata:this.config.sync.getSyncMetadata?.()||{},optimistic:l?.optimistic??!0,type:"insert",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(S)}),u)return u.applyMutations(p),c.transactions.set(u.id,u),c.scheduleTransactionCleanup(u),c.recomputeOptimisticState(!0),u;{const g=Jl({mutationFn:async y=>await this.config.onInsert({transaction:y.transaction,collection:this.collection})});return g.applyMutations(p),g.commit().catch(()=>{}),c.transactions.set(g.id,g),c.scheduleTransactionCleanup(g),c.recomputeOptimisticState(!0),g}},this.delete=(r,l)=>{const c=this.state;this.lifecycle.validateCollectionUsable("delete");const u=ro();if(!u&&!this.config.onDelete)throw new hx;if(Array.isArray(r)&&r.length===0)throw new cx;const d=Array.isArray(r)?r:[r],p=[];for(const g of d){if(!this.state.has(g))throw new ux(g);const y=this.generateGlobalKey(g,this.state.get(g)),_={mutationId:crypto.randomUUID(),original:this.state.get(g),modified:this.state.get(g),changes:this.state.get(g),globalKey:y,key:g,metadata:l?.metadata,syncMetadata:c.syncedMetadata.get(g)||{},optimistic:l?.optimistic??!0,type:"delete",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(_)}if(u)return u.applyMutations(p),c.transactions.set(u.id,u),c.scheduleTransactionCleanup(u),c.recomputeOptimisticState(!0),u;const m=Jl({autoCommit:!0,mutationFn:async g=>this.config.onDelete({transaction:g.transaction,collection:this.collection})});return m.applyMutations(p),m.commit().catch(()=>{}),c.transactions.set(m.id,m),c.scheduleTransactionCleanup(m),c.recomputeOptimisticState(!0),m},this.id=s,this.config=e}setDeps(e){this.lifecycle=e.lifecycle,this.state=e.state,this.collection=e.collection}ensureStandardSchema(e){if(e&&"~standard"in e)return e;throw new $S}validateData(e,s,r){if(!this.config.schema)return e;const l=this.ensureStandardSchema(this.config.schema);if(s==="update"&&r){const u=this.state.get(r);if(u&&e&&typeof e=="object"&&typeof u=="object"){const d=Object.assign({},u,e),p=l["~standard"].validate(d);if(p instanceof Promise)throw new oy;if("issues"in p&&p.issues){const _=p.issues.map(b=>({message:b.message,path:b.path?.map(S=>String(S))}));throw new ly(s,_)}const m=p.value,g=Object.keys(e);return Object.fromEntries(g.map(_=>[_,m[_]]))}}const c=l["~standard"].validate(e);if(c instanceof Promise)throw new oy;if("issues"in c&&c.issues){const u=c.issues.map(d=>({message:d.message,path:d.path?.map(p=>String(p))}));throw new ly(s,u)}return c.value}generateGlobalKey(e,s){if(typeof e!="string"&&typeof e!="number")throw typeof e>"u"?new tx(s):new nx(e,s);return`KEY::${this.id}/${e}`}update(e,s,r){if(typeof e>"u")throw new rx;const l=this.state;this.lifecycle.validateCollectionUsable("update");const c=ro();if(!c&&!this.config.onUpdate)throw new dx;const u=Array.isArray(e),d=u?e:[e];if(u&&d.length===0)throw new ax;const p=typeof s=="function"?s:r,m=typeof s=="function"?{}:s,g=d.map(S=>{const E=this.state.get(S);if(!E)throw new lx(S);return E});let y;u?y=pw(g,p):y=[hw(g[0],p)];const _=d.map((S,E)=>{const O=y[E];if(!O||Object.keys(O).length===0)return null;const D=g[E],U=this.validateData(O,"update",S),L=Object.assign({},D,U),z=this.config.getKey(D),C=this.config.getKey(L);if(z!==C)throw new ox(z,C);const N=this.generateGlobalKey(C,L);return{mutationId:crypto.randomUUID(),original:D,modified:L,changes:Object.fromEntries(Object.keys(O).map(V=>[V,L[V]])),globalKey:N,key:S,metadata:m.metadata,syncMetadata:l.syncedMetadata.get(S)||{},optimistic:m.optimistic??!0,type:"update",createdAt:new Date,updatedAt:new Date,collection:this.collection}}).filter(Boolean);if(_.length===0){const S=Jl({mutationFn:async()=>{}});return S.commit().catch(()=>{}),l.scheduleTransactionCleanup(S),S}if(c)return c.applyMutations(_),l.transactions.set(c.id,c),l.scheduleTransactionCleanup(c),l.recomputeOptimisticState(!0),c;const b=Jl({mutationFn:async S=>this.config.onUpdate({transaction:S.transaction,collection:this.collection})});return b.applyMutations(_),b.commit().catch(()=>{}),l.transactions.set(b.id,b),l.scheduleTransactionCleanup(b),l.recomputeOptimisticState(!0),b}}class Tw extends L0{constructor(){super()}setDeps(e){this.collection=e.collection}emit(e,s){this.emitInner(e,s)}emitStatusChange(e,s){this.emit("status:change",{type:"status:change",collection:this.collection,previousStatus:s,status:e});const r=`status:${e}`;this.emit(r,{type:r,collection:this.collection,previousStatus:s,status:e})}emitSubscribersChange(e,s){this.emit("subscribers:change",{type:"subscribers:change",collection:this.collection,previousSubscriberCount:s,subscriberCount:e})}cleanup(){this.clearListeners()}}function z0(n){const e=new Td(n);return n.utils?e.utils=n.utils:e.utils={},e}class Td{constructor(e){if(this.utils={},this.insert=(s,r)=>this._mutations.insert(s,r),this.delete=(s,r)=>this._mutations.delete(s,r),!e)throw new YS;if(!e.sync)throw new XS;e.id?this.id=e.id:this.id=crypto.randomUUID(),this.config={...e,autoIndex:e.autoIndex??"eager"},this._changes=new QE,this._events=new Tw,this._indexes=new nw,this._lifecycle=new $E(e,this.id),this._mutations=new ww(e,this.id),this._state=new qE(e),this._sync=new JE(e,this.id),this.comparisonOpts=Rw(e),this._changes.setDeps({collection:this,lifecycle:this._lifecycle,sync:this._sync,events:this._events}),this._events.setDeps({collection:this}),this._indexes.setDeps({state:this._state,lifecycle:this._lifecycle}),this._lifecycle.setDeps({changes:this._changes,events:this._events,indexes:this._indexes,state:this._state,sync:this._sync}),this._mutations.setDeps({collection:this,lifecycle:this._lifecycle,state:this._state}),this._state.setDeps({collection:this,lifecycle:this._lifecycle,changes:this._changes,indexes:this._indexes,events:this._events}),this._sync.setDeps({collection:this,state:this._state,lifecycle:this._lifecycle,events:this._events}),e.startSync===!0&&this._sync.startSync()}get status(){return this._lifecycle.status}get subscriberCount(){return this._changes.activeSubscribersCount}onFirstReady(e){return this._lifecycle.onFirstReady(e)}isReady(){return this._lifecycle.status==="ready"}get isLoadingSubset(){return this._sync.isLoadingSubset}startSyncImmediate(){this._sync.startSync()}preload(){return this._sync.preload()}get(e){return this._state.get(e)}has(e){return this._state.has(e)}get size(){return this._state.size}*keys(){yield*this._state.keys()}*values(){yield*this._state.values()}*entries(){yield*this._state.entries()}*[Symbol.iterator](){yield*this._state[Symbol.iterator]()}forEach(e){return this._state.forEach(e)}map(e){return this._state.map(e)}getKeyFromItem(e){return this.config.getKey(e)}createIndex(e,s={}){return this._indexes.createIndex(e,s)}get indexes(){return this._indexes.indexes}validateData(e,s,r){return this._mutations.validateData(e,s,r)}get compareOptions(){return{...this.comparisonOpts}}update(e,s,r){return this._mutations.update(e,s,r)}get state(){const e=new Map;for(const[s,r]of this.entries())e.set(s,r);return e}stateWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.state):this.preload().then(()=>this.state)}get toArray(){return Array.from(this.values())}toArrayWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.toArray):this.preload().then(()=>this.toArray)}currentStateAsChanges(e={}){return PE(this,e)}subscribeChanges(e,s={}){return this._changes.subscribeChanges(e,s)}on(e,s){return this._events.on(e,s)}once(e,s){return this._events.once(e,s)}off(e,s){this._events.off(e,s)}waitFor(e,s){return this._events.waitFor(e,s)}async cleanup(){return this._lifecycle.cleanup(),Promise.resolve()}}function Rw(n){if(n.defaultStringCollation){const e=n.defaultStringCollation;return{stringSort:e.stringSort??"locale",locale:e.stringSort==="locale"?e.locale:void 0,localeOptions:e.stringSort==="locale"?e.localeOptions:void 0}}else return{stringSort:"locale"}}class it{constructor(e={}){this.query={},this.query={...e}}_createRefForSource(e,s){let r;try{r=Object.keys(e)}catch{const d=e===null?"null":"undefined";throw new Xl(s,d)}if(Array.isArray(e))throw new Xl(s,"array");if(r.length!==1)throw r.length===0?new Xl(s,"empty object"):r.every(d=>!isNaN(Number(d)))?new Xl(s,"string"):new bx(s);const l=r[0],c=e[l];let u;if(c instanceof Td)u=new ar(c,l);else if(c instanceof it){const d=c._getQuery();if(!d.from)throw new Sx(s);u=new gn(d,l)}else throw new xx(l);return[l,u]}from(e){const[,s]=this._createRefForSource(e,"from clause");return new it({...this.query,from:s})}join(e,s,r="left"){const[l,c]=this._createRefForSource(e,"join clause"),d=[...this._getCurrentAliases(),l],p=Zs(d),m=s(p);let g,y;if(m.type==="func"&&m.name==="eq"&&m.args.length===2)g=m.args[0],y=m.args[1];else throw new Ex;const _={from:c,type:r,left:g,right:y},b=this.query.join||[];return new it({...this.query,join:[...b,_]})}leftJoin(e,s){return this.join(e,s,"left")}rightJoin(e,s){return this.join(e,s,"right")}innerJoin(e,s){return this.join(e,s,"inner")}fullJoin(e,s){return this.join(e,s,"full")}where(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),c=this.query.where||[];return new it({...this.query,where:[...c,l]})}having(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),c=this.query.having||[];return new it({...this.query,having:[...c,l]})}select(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),c=I0(l);return new it({...this.query,select:c,fnSelect:void 0})}orderBy(e,s="asc"){const r=this._getCurrentAliases(),l=Zs(r),c=e(l),u=typeof s=="string"?{direction:s,nulls:"first"}:{direction:s.direction??"asc",nulls:s.nulls??"first",stringSort:s.stringSort,locale:s.stringSort==="locale"?s.locale:void 0,localeOptions:s.stringSort==="locale"?s.localeOptions:void 0},d=g=>({expression:dt(g),compareOptions:u}),p=Array.isArray(c)?c.map(g=>d(g)):[d(c)],m=this.query.orderBy||[];return new it({...this.query,orderBy:[...m,...p]})}groupBy(e){const s=this._getCurrentAliases(),r=Zs(s),l=e(r),c=Array.isArray(l)?l.map(d=>dt(d)):[dt(l)],u=this.query.groupBy||[];return new it({...this.query,groupBy:[...u,...c]})}limit(e){return new it({...this.query,limit:e})}offset(e){return new it({...this.query,offset:e})}distinct(){return new it({...this.query,distinct:!0})}findOne(){return new it({...this.query,singleResult:!0})}_getCurrentAliases(){const e=[];if(this.query.from&&e.push(this.query.from.alias),this.query.join)for(const s of this.query.join)e.push(s.from.alias);return e}get fn(){const e=this;return{select(s){return new it({...e.query,select:void 0,fnSelect:s})},where(s){return new it({...e.query,fnWhere:[...e.query.fnWhere||[],s]})},having(s){return new it({...e.query,fnHaving:[...e.query.fnHaving||[],s]})}}}_getQuery(){if(!this.query.from)throw new wx;return this.query}}function Cw(n){return n===void 0?dt(null):n instanceof R0||n instanceof yn||n instanceof kt||n instanceof Ut?n:dt(n)}function Aw(n){return n!==null&&typeof n=="object"&&!dd(n)&&!n.__refProxy}function I0(n){if(!Aw(n))return Cw(n);const e={};for(const[s,r]of Object.entries(n)){if(typeof s=="string"&&s.startsWith("__SPREAD_SENTINEL__")){e[s]=r;continue}e[s]=I0(r)}return e}function Ow(n){const e=n(new it);return B0(e)}function B0(n){return n._getQuery()}function kw(n){const e=Dw(n);let s=n,r,l=0;const c=10;for(;l<c&&!En(s,r);)r=s,s=Bf(s),l++;return{optimizedQuery:U0(s),sourceWhereClauses:e}}function Dw(n){const e=new Map;if(!n.where||n.where.length===0)return e;const r=Pf(n.where).map(c=>P0(c)),l=V0(r);for(const[c,u]of l.singleSource)Nw(n,c)&&e.set(c,u);return e}function Nw(n,e){if(n.from.alias===e)return n.from.type==="collectionRef";if(n.join){for(const s of n.join)if(s.from.alias===e)return s.from.type==="collectionRef"}return!1}function Bf(n){const e={...n,from:n.from.type==="queryRef"?new gn(Bf(n.from.query),n.from.alias):n.from,join:n.join?.map(s=>({...s,from:s.from.type==="queryRef"?new gn(Bf(s.from.query),s.from.alias):s.from}))};return Mw(e)}function Mw(n){if(!n.where||n.where.length===0)return n;if(!n.join||n.join.length===0){if(n.where.length>1){const d=Pf(n.where),p=vo(d);return{...n,where:[p]}}return n}const e=n.where.filter(d=>!ay(d)),r=Pf(e).map(d=>P0(d)),l=V0(r),c=jw(n,l),u=n.where.filter(d=>ay(d));return u.length>0&&(c.where=[...c.where||[],...u]),c}function U0(n){return{...n,from:Uf(n.from),join:n.join?.map(e=>({...e,from:Uf(e.from)}))}}function Uf(n){if(n.type==="collectionRef")return n;const e=U0(n.query);if(Lw(e)){const s=Uf(e.from);return s.type==="collectionRef"?new ar(s.collection,n.alias):new gn(s.query,n.alias)}return new gn(e,n.alias)}function Lw(n){return(!n.where||n.where.length===0)&&!n.select&&(!n.groupBy||n.groupBy.length===0)&&(!n.having||n.having.length===0)&&(!n.orderBy||n.orderBy.length===0)&&(!n.join||n.join.length===0)&&n.limit===void 0&&n.offset===void 0&&!n.fnSelect&&(!n.fnWhere||n.fnWhere.length===0)&&(!n.fnHaving||n.fnHaving.length===0)}function Pf(n){const e=[];for(const s of n){const r=hd(s);e.push(...Rd(r))}return e}function Rd(n){if(n.type==="func"&&n.name==="and"){const e=[];for(const s of n.args)e.push(...Rd(s));return e}else return[n]}function P0(n){const e=new Set;let s=!1;function r(l){switch(l.type){case"ref":if(l.path&&l.path.length>0){const c=l.path[0];c&&(e.add(c),l.path.length===1&&(s=!0))}break;case"func":l.args&&l.args.forEach(r);break;case"val":break;case"agg":l.args&&l.args.forEach(r);break}}return r(n),{expression:n,touchedSources:e,hasNamespaceOnlyRef:s}}function V0(n){const e=new Map,s=[];for(const c of n)if(c.touchedSources.size===1&&!c.hasNamespaceOnlyRef){const u=Array.from(c.touchedSources)[0];e.has(u)||e.set(u,[]),e.get(u).push(c.expression)}else(c.touchedSources.size>1||c.hasNamespaceOnlyRef)&&s.push(c.expression);const r=new Map;for(const[c,u]of e)r.set(c,vo(u));const l=s.length>0?vo(s):void 0;return{singleSource:r,multiSource:l}}function jw(n,e){const s=new Set,r=My(n.from,e.singleSource,s),l=n.join?n.join.map(m=>({...m,from:My(m.from,e.singleSource,s)})):void 0,c=[];e.multiSource&&c.push(e.multiSource);const u=n.join&&n.join.some(m=>m.type==="left"||m.type==="right"||m.type==="full");for(const[m,g]of e.singleSource)s.has(m)?u&&c.push(QS(g)):c.push(g);const d=c.length>1?[vo(c.flatMap(m=>Rd(hd(m))))]:c;return{select:n.select,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,distinct:n.distinct,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0,from:r,join:l,where:d.length>0?d:[]}}function er(n){return{from:n.from.type==="collectionRef"?new ar(n.from.collection,n.from.alias):new gn(er(n.from.query),n.from.alias),select:n.select,join:n.join?n.join.map(e=>({type:e.type,left:e.left,right:e.right,from:e.from.type==="collectionRef"?new ar(e.from.collection,e.from.alias):new gn(er(e.from.query),e.from.alias)})):void 0,where:n.where?[...n.where]:void 0,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0}}function My(n,e,s){const r=e.get(n.alias);if(!r)return n.type==="collectionRef"?new ar(n.collection,n.alias):new gn(er(n.query),n.alias);if(n.type==="collectionRef"){const u={from:new ar(n.collection,n.alias),where:[r]};return s.add(n.alias),new gn(u,n.alias)}if(!Vw(n.query,r,n.alias))return new gn(er(n.query),n.alias);if(qw(n.query,r,n.alias))return new gn(er(n.query),n.alias);const l=n.query.where||[],c={...er(n.query),where:[...l,r]};return s.add(n.alias),new gn(c,n.alias)}function zw(n,e,s){return n.select?H0(n.select)||Hw(n.select,e,s):!1}function Iw(n){return n.groupBy&&n.groupBy.length>0}function Bw(n){return n.having&&n.having.length>0}function Uw(n){return n.orderBy&&n.orderBy.length>0&&(n.limit!==void 0||n.offset!==void 0)}function Pw(n){return n.fnSelect||n.fnWhere&&n.fnWhere.length>0||n.fnHaving&&n.fnHaving.length>0}function Vw(n,e,s){return!(zw(n,e,s)||Iw(n)||Bw(n)||Uw(n)||Pw(n))}function H0(n){for(const e of Object.values(n))if(typeof e=="object"){const s=e;if(s.type==="agg"||!("type"in s)&&H0(s))return!0}return!1}function Cd(n){const e=[];if(n==null||typeof n!="object")return e;switch(n.type){case"ref":e.push(n);break;case"func":case"agg":for(const s of n.args??[])e.push(...Cd(s));break}return e}function Hw(n,e,s){const r=new Set;for(const[c,u]of Object.entries(n))c.startsWith("__SPREAD_SENTINEL__")||u instanceof kt||r.add(c);const l=Cd(e);for(const c of l){const u=c.path;if(!Array.isArray(u)||u.length<2)continue;const d=u[0],p=u[1];if(d===s&&r.has(p))return!0}return!1}function qw(n,e,s){const r=Cd(e);if(r.every(c=>c.path[0]!==s))return!1;if(n.fnSelect)return!0;const l=n.select;if(!l)return!1;for(const c of r){const u=c.path;if(u.length<2||u[0]!==s)continue;const d=l[u[1]];if(!d)continue;if(!(d instanceof kt)||d.path.length<2)return!0;const[p,m]=d.path;if(p!==s&&p!==n.from.alias||m!==u[1])return!0}return!1}function vo(n){if(n.length===0)throw new Kx;return n.length===1?n[0]:new yn("and",n)}function Gw(n,e,s,r,l,c,u,d,p,m,g,y,_,b,S,E,O,D){let U=n;for(const L of e)U=Kw(U,L,s,r,l,c,u,d,p,m,g,y,_,b,S,E,O,D);return U}function Kw(n,e,s,r,l,c,u,d,p,m,g,y,_,b,S,E,O,D){const U=e.from.type==="collectionRef",{alias:L,input:z,collectionId:C}=Fw(e.from,c,p,m,g,y,_,b,u,d,E,O,D);s[L]=z,U&&(O[L]=C);const N=p[r],V=p[C];if(!N)throw new fy(r);if(!V)throw new fy(C);const{activeSource:$,lazySource:Y}=Xw(e.type,N,V),ne=Object.keys(s),{mainExpr:oe,joinedExpr:ce}=Qw(e.left,e.right,ne,L),Ae=Pt(oe),J=Pt(ce);let se=n.pipe(Ot(([Q,W])=>[Ae(W),[Q,W]])),M=z.pipe(Ot(([Q,W])=>{const ee={[L]:W};return[J(ee),[Q,ee]]}));if(!["inner","left","right","full"].includes(e.type))throw new Mx(e.type);if($){const Q=$==="main"?e.from:S.from,W=Q.type==="queryRef"&&(Q.query.limit||Q.query.offset),ee=oe.type==="func"||ce.type==="func";if(!W&&!ee){const ie=$==="main"?L:l;y.add(ie);const R=$==="main"?se:M,Z=va(S,$==="main"?ce:oe,Y),re=Z.collection,ge=Z.path[0];ge&&Lo(ge,Z.path,re);const ae=R.pipe(nE(me=>{const Se=D[ie]||ie,Me=m[Se];if(!Me)throw new Qx(Se,ie,Y.id,Object.keys(m));if(Me.hasLoadedInitialState())return;const en=me.getInner().map(([[si]])=>si),Ht=new kt(Z.path);Me.requestSnapshot({where:AE(Ht,en),optimizedOnly:!0})||Me.requestSnapshot()}));$==="main"?se=ae:M=ae}}return se.pipe(cE(M,e.type),Yw(e.type))}function Qw(n,e,s,r){const l=s.filter(d=>d!==r),c=Vf(n),u=Vf(e);if(c&&l.includes(c)&&u===r)return{mainExpr:n,joinedExpr:e};if(c===r&&u&&l.includes(u))return{mainExpr:e,joinedExpr:n};throw!c||!u?new jx:c===u?new Lx(c):l.includes(c)?u!==r?new Ix(r):new Bx:new zx(c)}function Vf(n){switch(n.type){case"ref":return n.path[0]||null;case"func":{const e=new Set;for(const s of n.args){const r=Vf(s);r&&e.add(r)}return e.size===1?Array.from(e)[0]:null}default:return null}}function Fw(n,e,s,r,l,c,u,d,p,m,g,y,_){switch(n.type){case"collectionRef":{const b=e[n.alias];if(!b)throw new C0(n.alias,n.collection.id,Object.keys(e));return y[n.alias]=n.collection.id,{alias:n.alias,input:b,collectionId:n.collection.id}}case"queryRef":{const b=m.get(n.query)||n.query,S=g(b,e,s,r,l,c,u,d,p,m);Object.assign(y,S.aliasToCollectionId),Object.assign(_,S.aliasRemapping);const E=Object.keys(S.aliasToCollectionId).find(U=>S.aliasToCollectionId[U]===S.collectionId);E&&E!==n.alias&&(_[n.alias]=E);const D=S.pipeline.pipe(Ot(U=>{const[L,[z,C]]=U;return[L,z]}));return{alias:n.alias,input:D,collectionId:S.collectionId}}default:throw new Ux(n.type)}}function Yw(n){return function(e){return e.pipe(ji(s=>{const[r,[l,c]]=s,u=l?.[1],d=c?.[1];return n==="inner"?!!(u&&d):n==="left"?!!u:n==="right"?!!d:!0}),Ot(s=>{const[r,[l,c]]=s,u=l?.[0],d=l?.[1],p=c?.[0],m=c?.[1],g={};return d&&Object.assign(g,d),m&&Object.assign(g,m),[`[${u},${p}]`,g]}))}}function Xw(n,e,s){switch(n){case"left":return{activeSource:"main",lazySource:s};case"right":return{activeSource:"joined",lazySource:e};case"inner":return e.size<s.size?{activeSource:"main",lazySource:s}:{activeSource:"joined",lazySource:e};default:return{activeSource:void 0,lazySource:void 0}}}function Hf(n){return n instanceof Ut?n.value:n}function $w(n,e,s){const r=n.source(e);if(r&&typeof r=="object"){let l=s;const c=n.targetPath;if(c.length===0)for(const[u,d]of Object.entries(r))s[u]=Hf(d);else for(let u=0;u<c.length;u++){const d=c[u];if(u===c.length-1){const p=l[d]??={};if(typeof p=="object")for(const[m,g]of Object.entries(r))p[m]=Hf(g)}else{const p=l[d];(p==null||typeof p!="object")&&(l[d]={}),l=l[d]}}}}function Jw(n,e,s){const r=n.alias.split(".");if(r.length===1)s[n.alias]=n.compiled(e);else{let l=s;for(let c=0;c<r.length-1;c++){const u=r[c],d=l[u];(d==null||typeof d!="object")&&(l[u]={}),l=l[u]}l[r[r.length-1]]=Hf(n.compiled(e))}}function Zw([n,e],s){const r={};for(const l of s)l.kind==="merge"?$w(l,e,r):Jw(l,e,r);return[n,{...e,__select_results:r}]}function Ww(n,e,s){const r=[];return q0([],e,r),n.pipe(Ot(l=>Zw(l,r)))}function eT(n){return n.type==="agg"}function tT(n){return n&&typeof n=="object"&&!dd(n)}function q0(n,e,s){for(const[r,l]of Object.entries(e)){if(r.startsWith("__SPREAD_SENTINEL__")){const u=r.slice(19),d=u.lastIndexOf("__"),p=d>=0?u.slice(0,d):u,m=l&&typeof l=="object"&&"type"in l&&l.type==="ref";if(p.includes(".")||m){const g=[...n],y=m?l:new kt(p.split(".")),_=Pt(y);s.push({kind:"merge",targetPath:g,source:_})}else{const g=p,y=[...n];s.push({kind:"merge",targetPath:y,source:_=>_[g]})}continue}const c=l;if(tT(c)){q0([...n,r],c,s);continue}if(eT(c))s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>null});else{if(c===void 0||!dd(c)){s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>c});continue}if(c instanceof Ut){const u=c.value;s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>u})}else s.push({kind:"field",alias:[...n,r].join("."),compiled:Pt(c)})}}}function Ad(n,e,s,r,l,c,u,d,p=new WeakMap,m=new WeakMap){const g=p.get(n);if(g)return g;qf(n);const{optimizedQuery:y,sourceWhereClauses:_}=kw(n);m.set(y,n),Kf(y,n,m);const b={...e},S={},E={},O={},{alias:D,input:U,collectionId:L}=iT(y.from,b,s,r,l,c,u,d,p,m,S,E);O[D]=U;let z=U.pipe(Ot(([$,Y])=>[$,{[D]:Y}]));if(y.join&&y.join.length>0&&(z=Gw(z,y.join,O,L,D,b,p,m,s,r,l,c,u,d,n,Ad,S,E)),y.where&&y.where.length>0)for(const $ of y.where){const Y=hd($),ne=Pt(Y);z=z.pipe(ji(([oe,ce])=>nr(ne(ce))))}if(y.fnWhere&&y.fnWhere.length>0)for(const $ of y.fnWhere)z=z.pipe(ji(([Y,ne])=>nr($(ne))));if(y.distinct&&!y.fnSelect&&!y.select)throw new Tx;if(y.fnSelect?z=z.pipe(Ot(([$,Y])=>{const ne=y.fnSelect(Y);return[$,{...Y,__select_results:ne}]})):y.select?z=Ww(z,y.select):z=z.pipe(Ot(([$,Y])=>{const ne=!y.join&&!y.groupBy?Y[D]:Y;return[$,{...Y,__select_results:ne}]})),y.groupBy&&y.groupBy.length>0?z=Cy(z,y.groupBy,y.having,y.select,y.fnHaving):y.select&&Object.values(y.select).some(Y=>Y.type==="agg")&&(z=Cy(z,[],y.having,y.select,y.fnHaving)),y.having&&(!y.groupBy||y.groupBy.length===0)&&!(y.select?Object.values(y.select).some(Y=>Y.type==="agg"):!1))throw new Rx;if(y.fnHaving&&y.fnHaving.length>0&&(!y.groupBy||y.groupBy.length===0))for(const $ of y.fnHaving)z=z.pipe(ji(([Y,ne])=>$(ne)));if(y.distinct&&(z=z.pipe(fE(([$,Y])=>Y.__select_results))),y.orderBy&&y.orderBy.length>0){const ne=UE(n,z,y.orderBy,y.select||{},s[L],u,d,y.limit,y.offset).pipe(Ot(([ce,[Ae,J]])=>{const se=Ae.__select_results,M=Gf(se);return[ce,[M,J]]})),oe={collectionId:L,pipeline:ne,sourceWhereClauses:_,aliasToCollectionId:S,aliasRemapping:E};return p.set(n,oe),oe}else if(y.limit!==void 0||y.offset!==void 0)throw new Cx;const N=z.pipe(Ot(([$,Y])=>{const ne=Y.__select_results,oe=Gf(ne);return[$,[oe,void 0]]})),V={collectionId:L,pipeline:N,sourceWhereClauses:_,aliasToCollectionId:S,aliasRemapping:E};return p.set(n,V),V}function nT(n){const e=new Set;if(n.from.type==="collectionRef"&&e.add(n.from.alias),n.join)for(const s of n.join)s.from.type==="collectionRef"&&e.add(s.from.alias);return e}function qf(n,e=new Set){const s=nT(n);for(const l of s)if(e.has(l))throw new Ax(l,Array.from(e));const r=new Set([...e,...s]);if(n.from.type==="queryRef"&&qf(n.from.query,r),n.join)for(const l of n.join)l.from.type==="queryRef"&&qf(l.from.query,r)}function iT(n,e,s,r,l,c,u,d,p,m,g,y){switch(n.type){case"collectionRef":{const _=e[n.alias];if(!_)throw new C0(n.alias,n.collection.id,Object.keys(e));return g[n.alias]=n.collection.id,{alias:n.alias,input:_,collectionId:n.collection.id}}case"queryRef":{const _=m.get(n.query)||n.query,b=Ad(_,e,s,r,l,c,u,d,p,m);Object.assign(g,b.aliasToCollectionId),Object.assign(y,b.aliasRemapping);const S=Object.keys(b.aliasToCollectionId).find(D=>b.aliasToCollectionId[D]===b.collectionId);S&&S!==n.alias&&(y[n.alias]=S);const O=b.pipeline.pipe(Ot(D=>{const[U,[L,z]]=D,C=Gf(L);return[U,C]}));return{alias:n.alias,input:O,collectionId:b.collectionId}}default:throw new Ox(n.type)}}function sT(n){return n instanceof Ut||n&&typeof n=="object"&&"type"in n&&n.type==="val"}function Gf(n){return sT(n)?n.value:n}function Kf(n,e,s){if(n.from.type==="queryRef"&&e.from.type==="queryRef"&&(s.set(n.from.query,e.from.query),Kf(n.from.query,e.from.query,s)),n.join&&e.join)for(let r=0;r<n.join.length&&r<e.join.length;r++){const l=n.join[r],c=e.join[r];l.from.type==="queryRef"&&c.from.type==="queryRef"&&(s.set(l.from.query,c.from.query),Kf(l.from.query,c.from.query,s))}}function Od(n,e){const s=n.type;if(s==="val")return new Ut(n.value);if(s==="ref"){const r=n.path;if(Array.isArray(r)){if(r[0]===e&&r.length>1)return new kt(r.slice(1));if(r.length===1&&r[0]!==void 0)return new kt([r[0]])}return new kt(Array.isArray(r)?r:[String(r)])}else{const r=[];for(const l of n.args){const c=Od(l,e);r.push(c)}return new yn(n.name,r)}}function Ly(n,e){return n.map(r=>{const l=Od(r.expression,e);return{...r,expression:l}})}const jy=Symbol.for("@tanstack/db.collection-config-builder");class rT{constructor(e,s,r,l){this.alias=e,this.collectionId=s,this.collection=r,this.collectionConfigBuilder=l,this.biggest=void 0,this.subscriptionLoadingPromises=new Map,this.sentToD2Keys=new Set}subscribe(){const e=this.getWhereClauseForAlias();if(e){const s=Od(e,this.alias);return this.subscribeToChanges(s)}return this.subscribeToChanges()}subscribeToChanges(e){let s;const r=this.getOrderByInfo();if(r)s=this.subscribeToOrderedChanges(e,r);else{const d=!this.collectionConfigBuilder.isLazyAlias(this.alias);s=this.subscribeToMatchingChanges(e,d)}const l=()=>{if(!this.subscriptionLoadingPromises.has(s)){let d;const p=new Promise(m=>{d=m});this.subscriptionLoadingPromises.set(s,{resolve:d}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(p)}};s.status==="loadingSubset"&&l();const c=s.on("status:change",d=>{if(d.status==="loadingSubset")l();else{const p=this.subscriptionLoadingPromises.get(s);p&&(this.subscriptionLoadingPromises.delete(s),p.resolve())}}),u=()=>{const d=this.subscriptionLoadingPromises.get(s);d&&(this.subscriptionLoadingPromises.delete(s),d.resolve()),c(),s.unsubscribe()};return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(u),s}sendChangesToPipeline(e,s){const r=Array.isArray(e)?e:[...e],l=[];for(const p of r){if(p.type==="insert"){if(this.sentToD2Keys.has(p.key))continue;this.sentToD2Keys.add(p.key)}else p.type==="delete"&&this.sentToD2Keys.delete(p.key);l.push(p)}const c=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],d=aT(c,l,this.collection.config.getKey)>0?s:void 0;this.collectionConfigBuilder.scheduleGraphRun(d,{alias:this.alias})}subscribeToMatchingChanges(e,s=!1){const r=c=>{this.sendChangesToPipeline(c)};return this.collection.subscribeChanges(r,{...s&&{includeInitialState:s},whereExpression:e})}subscribeToOrderedChanges(e,s){const{orderBy:r,offset:l,limit:c,index:u}=s,d=y=>{const _=lT(y);this.sendChangesToPipelineWithTracking(_,p)},p=this.collection.subscribeChanges(d,{whereExpression:e}),m=this.collection.on("truncate",()=>{this.biggest=void 0,this.sentToD2Keys.clear()});p.on("unsubscribed",()=>{m()});const g=Ly(r,this.alias);return u?(p.setOrderByIndex(u),p.requestLimitedSnapshot({limit:l+c,orderBy:g})):p.requestSnapshot({orderBy:g,limit:l+c}),p}loadMoreIfNeeded(e){const s=this.getOrderByInfo();if(!s)return!0;const{dataNeeded:r}=s;if(!r)return!0;const l=r();return l>0&&this.loadNextItems(l,e),!0}sendChangesToPipelineWithTracking(e,s){const r=this.getOrderByInfo();if(!r){this.sendChangesToPipeline(e);return}const l=this.trackSentValues(e,r.comparator),c=s;c[jy]??=this.loadMoreIfNeeded.bind(this,s),this.sendChangesToPipeline(l,c[jy])}loadNextItems(e,s){const r=this.getOrderByInfo();if(!r)return;const{orderBy:l,valueExtractorForRawRow:c,offset:u}=r,d=this.biggest,p=d?c(d):void 0,m=p!==void 0?Array.isArray(p)?p:[p]:void 0,g=Ly(l,this.alias);s.requestLimitedSnapshot({orderBy:g,limit:e,minValues:m,offset:u})}getWhereClauseForAlias(){const e=this.collectionConfigBuilder.sourceWhereClausesCache;if(e)return e.get(this.alias)}getOrderByInfo(){const e=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(e&&e.alias===this.alias)return e}*trackSentValues(e,s){for(const r of e)r.type!=="delete"&&(this.biggest?s(this.biggest,r.value)<0&&(this.biggest=r.value):this.biggest=r.value),yield r}}function aT(n,e,s){const r=[];for(const l of e){const c=s(l.value);l.type==="insert"?r.push([[c,l.value],1]):l.type==="update"?(r.push([[c,l.previousValue],-1]),r.push([[c,l.value],1])):r.push([[c,l.value],-1])}return r.length!==0&&n.sendData(new st(r)),r.length}function*lT(n){for(const e of n)e.type==="update"?(yield{type:"delete",key:e.key,value:e.previousValue},yield{type:"insert",key:e.key,value:e.value}):yield e}const G0=new WeakMap;function oT(n){return n.utils?.[xd]?.getBuilder?.()}function cT(n,e){G0.set(n,e)}function uT(n){return G0.get(n)}let fT=0;class dT{constructor(e){this.config=e,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=e.id||`live-query-${++fT}`,this.query=hT(e),this.collections=mT(this.query);const s=gT(this.query);this.collectionByAlias={};for(const[r,l]of s.entries()){const c=this.collections[r];if(c)for(const u of l)this.collectionByAlias[u]=c}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=pT(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??K0(this.query).compareOptions,this.compileBasePipeline()}hasJoins(e){return!!(e.join&&e.join.length>0||e.from.type==="queryRef"&&this.hasJoins(e.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(e=>this.resultKeys.get(e)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[xd]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(e){if(!this.windowFn)throw new Yx;return this.currentWindow=e,this.windowFn(e),this.maybeRunGraphFn?.(),this.liveQueryCollection?.isLoadingSubset?new Promise(s=>{const r=this.liveQueryCollection.on("loadingSubset:change",l=>{l.isLoadingSubset||(r(),s())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(e){const s=this.compiledAliasToCollectionId[e];if(s)return s;const r=this.collectionByAlias[e];if(r)return r.id;throw new Error(`Unknown source alias "${e}"`)}isLazyAlias(e){return this.lazySources.has(e)}maybeRunGraph(e){if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("maybeRunGraph called without active sync session. This should not happen.");this.isGraphRunning=!0;try{const{begin:s,commit:r}=this.currentSyncConfig,l=this.currentSyncState;if(this.isInErrorState)return;if(l.subscribedToAllCollections){for(;l.graph.pendingWork();)l.graph.run(),e?.();l.messagesCount===0&&(s(),r(),this.updateLiveQueryStatus(this.currentSyncConfig))}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(e,s){const r=s?.contextId??ro()?.id,l=s?.jobId??this,c=(()=>{if(s?.dependencies)return s.dependencies;const p=new Set(this.builderDependencies);if(s?.alias){const m=this.aliasDependencies[s.alias];if(m)for(const g of m)p.add(g)}return p.delete(this),Array.from(p)})();if(r)for(const p of c)typeof p.scheduleGraphRun=="function"&&p.scheduleGraphRun(void 0,{contextId:r});if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("scheduleGraphRun called without active sync session. This should not happen.");let u=r?this.pendingGraphRuns.get(r):void 0;u||(u={loadCallbacks:new Set},r&&this.pendingGraphRuns.set(r,u)),e&&u.loadCallbacks.add(e);const d=r?void 0:u;go.schedule({contextId:r,jobId:l,dependencies:c,run:()=>this.executeGraphRun(r,d)})}clearPendingGraphRun(e){this.pendingGraphRuns.delete(e)}hasPendingGraphRun(e){return this.pendingGraphRuns.has(e)}executeGraphRun(e,s){const r=s??(e?this.pendingGraphRuns.get(e):void 0);if(e&&this.pendingGraphRuns.delete(e),!r||!this.currentSyncConfig||!this.currentSyncState)return;this.incrementRunCount();const l=()=>{let c=!0,u;if(r.loadCallbacks.forEach(d=>{try{c=d()&&c}catch(p){c=!1,u??=p}}),u)throw u;return c};this.maybeRunGraph(l)}getSyncConfig(){return{rowUpdateMode:"full",sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(e){this.liveQueryCollection=e.collection,this.currentSyncConfig=e;const s={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},r=this.extendPipelineWithChangeProcessing(e,s);this.currentSyncState=r,this.unsubscribeFromSchedulerClears=go.onClear(c=>{this.clearPendingGraphRun(c)});const l=this.subscribeToAllCollections(e,r);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(l),this.scheduleGraphRun(l),()=>{s.unsubscribeCallbacks.forEach(c=>c()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(c=>delete this.subscriptions[c]),this.compiledAliasToCollectionId={},this.unsubscribeFromSchedulerClears?.(),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new G1,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(r=>[r,this.graphCache.newInput()]));const e=Ad(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,r=>{this.windowFn=r});this.pipelineCache=e.pipeline,this.sourceWhereClausesCache=e.sourceWhereClauses,this.compiledAliasToCollectionId=e.aliasToCollectionId;const s=Object.keys(this.compiledAliasToCollectionId).filter(r=>!Object.hasOwn(this.inputsCache,r));if(s.length>0)throw new Fx(s)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(e,s){const{begin:r,commit:l}=e,{graph:c,inputs:u,pipeline:d}=this.maybeCompileBasePipeline();return d.pipe(rE(p=>{const m=p.getInner();s.messagesCount+=m.length,r(),m.reduce(yT,new Map).forEach(this.applyChanges.bind(this,e)),l()})),c.finalize(),s.graph=c,s.inputs=u,s.pipeline=d,s}applyChanges(e,s,r){const{write:l,collection:c}=e,{deletes:u,inserts:d,value:p,orderByIndex:m}=s;if(this.resultKeys.set(p,r),m!==void 0&&this.orderByIndices.set(p,m),d&&u===0)l({value:p,type:"insert"});else if(d>u||d===u&&c.has(c.getKeyFromItem(p)))l({value:p,type:"update"});else if(u>0)l({value:p,type:"delete"});else throw new Error(`Could not apply changes: ${JSON.stringify(s)}. This should never happen.`)}handleSourceStatusChange(e,s,r){const{status:l}=r;if(l==="error"){this.transitionToError(`Source collection '${s}' entered error state`);return}if(l==="cleaned-up"){this.transitionToError(`Source collection '${s}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(e)}updateLiveQueryStatus(e){const{markReady:s}=e;this.isInErrorState||this.allCollectionsReady()&&s()}transitionToError(e){this.isInErrorState=!0,console.error(`[Live Query Error] ${e}`),this.liveQueryCollection?._lifecycle.setStatus("error")}allCollectionsReady(){return Object.values(this.collections).every(e=>e.isReady())}subscribeToAllCollections(e,s){const r=Object.entries(this.compiledAliasToCollectionId);if(r.length===0)throw new Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);const l=r.map(([u,d])=>{const p=this.collectionByAlias[u]??this.collections[d],m=uT(p);m&&m!==this?(this.aliasDependencies[u]=[m],this.builderDependencies.add(m)):this.aliasDependencies[u]=[];const g=new rT(u,d,p,this),y=p.on("status:change",S=>{this.handleSourceStatusChange(e,d,S)});s.unsubscribeCallbacks.add(y);const _=g.subscribe();return this.subscriptions[u]=_,g.loadMoreIfNeeded.bind(g,_)}),c=()=>(l.map(u=>u()),!0);return s.subscribedToAllCollections=!0,this.updateLiveQueryStatus(e),c}}function hT(n){return typeof n.query=="function"?Ow(n.query):B0(n.query)}function pT(n){return(e,s)=>{const r=n.get(e),l=n.get(s);return r&&l?r<l?-1:r>l?1:0:0}}function mT(n){const e={};function s(l){l.type==="collectionRef"?e[l.collection.id]=l.collection:l.type==="queryRef"&&r(l.query)}function r(l){if(l.from&&s(l.from),l.join&&Array.isArray(l.join))for(const c of l.join)c.from&&s(c.from)}return r(n),e}function K0(n){const e=n.from;if(e.type==="collectionRef")return e.collection;if(e.type==="queryRef")return K0(e.query);throw new Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(n)}`)}function gT(n){const e=new Map;function s(l){if(l)if(l.type==="collectionRef"){const{id:c}=l.collection,u=e.get(c);u?u.add(l.alias):e.set(c,new Set([l.alias]))}else l.type==="queryRef"&&r(l.query)}function r(l){if(l&&(s(l.from),l.join))for(const c of l.join)s(c.from)}return r(n),e}function yT(n,[[e,s],r]){const[l,c]=s,u=n.get(e)||{deletes:0,inserts:0,value:l,orderByIndex:c};return r<0?u.deletes+=Math.abs(r):r>0&&(u.inserts+=r,u.value=l,u.orderByIndex=c),n.set(e,u),n}function zy(n){return new dT(n).getConfig()}function ff(n){if(typeof n=="function"){const s=zy({query:n});return Iy(s)}else{const e=n,s=zy(e);return e.utils&&(s.utils={...s.utils,...e.utils}),Iy(s)}}function Iy(n){const e=z0(n),s=oT(n);return s&&cT(e,s),e}const df=1;function vT(n,e=[]){const s=n&&typeof n=="object"&&typeof n.subscribeChanges=="function"&&typeof n.startSyncImmediate=="function"&&typeof n.id=="string",r=G.useRef(null),l=G.useRef(null),c=G.useRef(null),u=G.useRef(0),d=G.useRef(null),p=!r.current||s&&c.current!==n||!s&&(l.current===null||l.current.length!==e.length||l.current.some((S,E)=>S!==e[E]));if(p)if(s)n.startSyncImmediate(),r.current=n,c.current=n;else if(typeof n=="function"){const S=new it,E=n(S);if(E==null)r.current=null;else if(E instanceof Td)E.startSyncImmediate(),r.current=E;else if(E instanceof it)r.current=ff({query:n,startSync:!0,gcTime:df});else if(E&&typeof E=="object")r.current=ff({startSync:!0,gcTime:df,...E});else throw new Error(`useLiveQuery callback must return a QueryBuilder, LiveQueryCollectionConfig, Collection, undefined, or null. Got: ${typeof E}`);l.current=[...e]}else r.current=ff({startSync:!0,gcTime:df,...n}),l.current=[...e];p&&(u.current=0,d.current=null);const m=G.useRef(null);(!m.current||p)&&(m.current=S=>{if(!r.current)return()=>{};const E=r.current.subscribeChanges(()=>{u.current+=1,S()});return r.current.status==="ready"&&(u.current+=1,S()),()=>{E.unsubscribe()}});const g=G.useRef(null);(!g.current||p)&&(g.current=()=>{const S=u.current,E=r.current;return(!d.current||d.current.version!==S||d.current.collection!==E)&&(d.current={collection:E,version:S}),d.current});const y=G.useSyncExternalStore(m.current,g.current),_=G.useRef(null),b=G.useRef(null);if(!_.current||_.current.version!==y.version||_.current.collection!==y.collection){if(!y.collection)b.current={state:void 0,data:void 0,collection:void 0,status:"disabled",isLoading:!1,isReady:!0,isIdle:!1,isError:!1,isCleanedUp:!1,isEnabled:!1};else{const S=Array.from(y.collection.entries()),O=y.collection.config.singleResult;let D=null,U=null;b.current={get state(){return D||(D=new Map(S)),D},get data(){return U||(U=S.map(([,L])=>L)),O?U[0]:U},collection:y.collection,status:y.collection.status,isLoading:y.collection.status==="loading",isReady:y.collection.status==="ready",isIdle:y.collection.status==="idle",isError:y.collection.status==="error",isCleanedUp:y.collection.status==="cleaned-up",isEnabled:!0}}_.current=y}return b.current}class Ui extends Zt{constructor(e){super(e),this.name="QueryCollectionError"}}class _T extends Ui{constructor(){super("[QueryCollection] queryKey must be provided."),this.name="QueryKeyRequiredError"}}class bT extends Ui{constructor(){super("[QueryCollection] queryFn must be provided."),this.name="QueryFnRequiredError"}}class ST extends Ui{constructor(){super("[QueryCollection] queryClient must be provided."),this.name="QueryClientRequiredError"}}class xT extends Ui{constructor(){super("[QueryCollection] getKey must be provided."),this.name="GetKeyRequiredError"}}class ET extends Ui{constructor(){super("Collection must be in 'ready' state for manual sync operations. Sync not initialized yet."),this.name="SyncNotInitializedError"}}class wT extends Ui{constructor(e){super(`Duplicate key '${e}' found within batch operations`),this.name="DuplicateKeyInBatchError"}}class TT extends Ui{constructor(e){super(`Update operation: Item with key '${e}' does not exist`),this.name="UpdateOperationItemNotFoundError"}}class RT extends Ui{constructor(e){super(`Delete operation: Item with key '${e}' does not exist`),this.name="DeleteOperationItemNotFoundError"}}const rs=new WeakMap;function CT(n,e){const s=Array.isArray(n)?n:[n],r=[];for(const l of s)if(l.type==="delete"){const c=Array.isArray(l.key)?l.key:[l.key];for(const u of c)r.push({type:"delete",key:u})}else{const c=Array.isArray(l.data)?l.data:[l.data];for(const u of c){let d;if(l.type==="update")d=e.getKey(u);else{const p=e.collection.validateData(u,l.type==="upsert"?"insert":l.type);d=e.getKey(p)}r.push({type:l.type,key:d,data:u})}}return r}function AT(n,e){const s=new Set;for(const r of n){if(s.has(r.key))throw new wT(r.key);if(s.add(r.key),r.type==="update"){if(!e.collection._state.syncedData.has(r.key))throw new TT(r.key)}else if(r.type==="delete"&&!e.collection._state.syncedData.has(r.key))throw new RT(r.key)}}function oa(n,e){const s=CT(n,e);AT(s,e),e.begin();for(const l of s)switch(l.type){case"insert":{const c=e.collection.validateData(l.data,"insert");e.write({type:"insert",value:c});break}case"update":{const u={...e.collection._state.syncedData.get(l.key),...l.data},d=e.collection.validateData(u,"update",l.key);e.write({type:"update",value:d});break}case"delete":{const c=e.collection._state.syncedData.get(l.key);e.write({type:"delete",value:c});break}case"upsert":{const c=e.collection._state.syncedData.has(l.key),u=e.collection.validateData(l.data,c?"update":"insert",l.key);c?e.write({type:"update",value:u}):e.write({type:"insert",value:u});break}}e.commit();const r=Array.from(e.collection._state.syncedData.values());e.updateCacheData?e.updateCacheData(r):e.queryClient.setQueryData(e.queryKey,r)}function OT(n){function e(){const s=n();if(!s)throw new ET;return s}return{writeInsert(s){const r={type:"insert",data:s},l=e(),c=rs.get(l);if(c?.isActive){c.operations.push(r);return}oa(r,l)},writeUpdate(s){const r={type:"update",data:s},l=e(),c=rs.get(l);if(c?.isActive){c.operations.push(r);return}oa(r,l)},writeDelete(s){const r={type:"delete",key:s},l=e(),c=rs.get(l);if(c?.isActive){c.operations.push(r);return}oa(r,l)},writeUpsert(s){const r={type:"upsert",data:s},l=e(),c=rs.get(l);if(c?.isActive){c.operations.push(r);return}oa(r,l)},writeBatch(s){const r=e();if(rs.get(r)?.isActive)throw new Error("Cannot nest writeBatch calls. Complete the current batch before starting a new one.");const c={operations:[],isActive:!0};rs.set(r,c);try{const u=s();if(u&&typeof u=="object"&&"then"in u&&typeof u.then=="function")throw new Error("writeBatch does not support async callbacks. The callback must be synchronous.");c.operations.length>0&&oa(c.operations,r)}finally{c.isActive=!1,rs.delete(r)}}}}function kT(n){if(!n)return;const e={};return n.where&&(e.where=Qf(n.where)),n.orderBy?.length&&(e.orderBy=n.orderBy.map(s=>{const r={expression:Qf(s.expression),direction:s.compareOptions.direction,nulls:s.compareOptions.nulls,stringSort:s.compareOptions.stringSort};return s.compareOptions.stringSort==="locale"?{...r,locale:s.compareOptions.locale,localeOptions:s.compareOptions.localeOptions}:r})),n.limit!==void 0&&(e.limit=n.limit),n.offset!==void 0&&(e.offset=n.offset),Object.keys(e).length===0?void 0:JSON.stringify(e)}function Qf(n){if(!n)return null;switch(n.type){case"val":return{type:"val",value:Ff(n.value)};case"ref":return{type:"ref",path:[...n.path]};case"func":return{type:"func",name:n.name,args:n.args.map(e=>Qf(e))};default:return null}}function Ff(n){if(n===void 0)return{__type:"undefined"};if(typeof n=="number"){if(Number.isNaN(n))return{__type:"nan"};if(n===Number.POSITIVE_INFINITY)return{__type:"infinity",sign:1};if(n===Number.NEGATIVE_INFINITY)return{__type:"infinity",sign:-1}}return n===null||typeof n=="string"||typeof n=="number"||typeof n=="boolean"?n:n instanceof Date?{__type:"date",value:n.toJSON()}:Array.isArray(n)?n.map(e=>Ff(e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([e,s])=>[e,Ff(s)])):n}class DT{constructor(e,s,r){this.state=e,this.refetchFn=s,this.refetch=s,this.writeInsert=r.writeInsert,this.writeUpdate=r.writeUpdate,this.writeDelete=r.writeDelete,this.writeUpsert=r.writeUpsert,this.writeBatch=r.writeBatch}async clearError(){this.state.lastError=void 0,this.state.errorCount=0,this.state.lastErrorUpdatedAt=0,await this.refetchFn({throwOnError:!0})}get lastError(){return this.state.lastError}get isError(){return!!this.state.lastError}get errorCount(){return this.state.errorCount}get isFetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isFetching)}get isRefetching(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isRefetching)}get isLoading(){return Array.from(this.state.observers.values()).some(e=>e.getCurrentResult().isLoading)}get dataUpdatedAt(){return Math.max(0,...Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().dataUpdatedAt))}get fetchStatus(){return Array.from(this.state.observers.values()).map(e=>e.getCurrentResult().fetchStatus)}}function NT(n){const{queryKey:e,queryFn:s,select:r,queryClient:l,enabled:c,refetchInterval:u,retry:d,retryDelay:p,staleTime:m,getKey:g,onInsert:y,onUpdate:_,onDelete:b,meta:S,...E}=n,O=E.syncMode??"eager";if(!e)throw new _T;if(!s)throw new bT;if(!l)throw new ST;if(!g)throw new xT;const D={lastError:void 0,errorCount:0,lastErrorUpdatedAt:0,observers:new Map},U=new Map,L=new Map,z=new Map,C=new Map,N=new Map,V=(ee,ie)=>{const R=z.get(ee)||new Set;R.add(ie),z.set(ee,R);const H=L.get(ie)||new Set;H.add(ee),L.set(ie,H)},$=(ee,ie)=>{const R=z.get(ee)||new Set;R.delete(ie),z.set(ee,R);const H=L.get(ie)||new Set;return H.delete(ee),L.set(ie,H),R.size===0},Y=ee=>{const{begin:ie,write:R,commit:H,markReady:Z,collection:re}=ee;let ge=!1;const ae=fe=>{if(typeof e=="function")return e(fe);if(O==="on-demand"){const Oe=kT(fe);return Oe!==void 0?[...e,Oe]:e}else return e},me=(fe={},Oe=s)=>{const Ue=ae(fe),he=ii(Ue),ht={...S,loadSubsetOptions:fe};if(D.observers.has(he)){N.set(he,(N.get(he)||0)+1);const lt=D.observers.get(he),St=lt.getCurrentResult();return St.isSuccess?!0:St.isError?Promise.reject(St.error):new Promise((Tn,ai)=>{const li=lt.subscribe(pt=>{pt.isSuccess?(li(),Tn()):pt.isError&&(li(),ai(pt.error))})})}const Dt={queryKey:Ue,queryFn:Oe,meta:ht,structuralSharing:!0,notifyOnChangeProps:"all",...c!==void 0&&{enabled:c},...u!==void 0&&{refetchInterval:u},...d!==void 0&&{retry:d},...p!==void 0&&{retryDelay:p},...m!==void 0&&{staleTime:m}},zn=new jS(l,Dt);U.set(he,Ue),D.observers.set(he,zn),N.set(he,(N.get(he)||0)+1);const wn=new Promise((lt,St)=>{const Tn=zn.subscribe(ai=>{ai.isSuccess?(Tn(),lt()):ai.isError&&(Tn(),St(ai.error))})});return(ge||re.subscriberCount>0)&&en(zn,he),wn},Se=fe=>{const Oe=ii(fe);return he=>{if(he.isSuccess){D.lastError=void 0,D.errorCount=0;const ht=he.data,Dt=r?r(ht):ht;if(!Array.isArray(Dt)||Dt.some(lt=>typeof lt!="object")){const lt=r?`@tanstack/query-db-collection: select() must return an array of objects. Got: ${typeof Dt} for queryKey ${JSON.stringify(fe)}`:`@tanstack/query-db-collection: queryFn must return an array of objects. Got: ${typeof Dt} for queryKey ${JSON.stringify(fe)}`;console.error(lt);return}const zn=new Map(re._state.syncedData.entries()),wn=new Map;Dt.forEach(lt=>{const St=g(lt);wn.set(St,lt)}),ie(),zn.forEach((lt,St)=>{const Tn=wn.get(St);Tn?En(lt,Tn)||R({type:"update",value:Tn}):$(St,Oe)&&R({type:"delete",value:lt})}),wn.forEach((lt,St)=>{V(St,Oe),zn.has(St)||R({type:"insert",value:lt})}),H(),Z()}else he.isError&&(he.errorUpdatedAt!==D.lastErrorUpdatedAt&&(D.lastError=he.error,D.errorCount++,D.lastErrorUpdatedAt=he.errorUpdatedAt),console.error(`[QueryCollection] Error observing query ${String(fe)}:`,he.error),Z())}},Me=fe=>C.has(fe),en=(fe,Oe)=>{if(!Me(Oe)){const Ue=U.get(Oe),he=Se(Ue),ht=fe.subscribe(he);C.set(Oe,ht);const Dt=fe.getCurrentResult();(Dt.isSuccess||Dt.isError)&&he(Dt)}},Ht=()=>{D.observers.forEach(en)},vn=()=>{C.forEach(fe=>{fe()}),C.clear()};ge=!0;const si=re.on("subscribers:change",({subscriberCount:fe})=>{fe>0?Ht():fe===0&&vn()});if(O==="eager"){const fe=me({});fe instanceof Promise&&fe.catch(()=>{})}else Z();Ht(),D.observers.forEach((fe,Oe)=>{const Ue=U.get(Oe);Se(Ue)(fe.getCurrentResult())});const tn=fe=>{C.get(fe)?.(),C.delete(fe);const Oe=L.get(fe)??new Set,Ue=[];Oe.forEach(he=>{const ht=z.get(he);ht&&(ht.delete(fe),ht.size===0&&(z.delete(he),re.has(he)&&Ue.push(re.get(he))))}),Ue.length>0&&(ie(),Ue.forEach(he=>{R({type:"delete",value:he})}),H()),D.observers.delete(fe),L.delete(fe),U.delete(fe),N.delete(fe)},ri=fe=>{const Oe=N.get(fe)||0,Ue=D.observers.get(fe);if(Oe<=0&&(C.get(fe)?.(),C.delete(fe)),Ue?.hasListeners()??!1){N.set(fe,0);return}Oe>0&&console.warn(`[cleanupQueryIfIdle] Invariant violation: refcount=${Oe} but no listeners. Cleaning up to prevent leak.`,{hashedQueryKey:fe}),tn(fe)},_n=fe=>{tn(fe)},hr=l.getQueryCache().subscribe(fe=>{const Oe=fe.query.queryHash;fe.type==="removed"&&U.has(Oe)&&ri(Oe)});return{loadSubset:O==="eager"?void 0:me,unloadSubset:O==="eager"?void 0:fe=>{const Oe=ae(fe),Ue=ii(Oe),ht=(N.get(Ue)||0)-1;ht<=0?(N.set(Ue,0),ri(Ue)):N.set(Ue,ht)},cleanup:async()=>{si(),vn();const fe=[...U.values()],Oe=[...D.observers.keys()];for(const Ue of Oe)_n(Ue);hr(),await Promise.all(fe.map(async Ue=>{await l.cancelQueries({queryKey:Ue,exact:!0}),l.removeQueries({queryKey:Ue,exact:!0})}))}}},ne=async ee=>{const R=[...U.values()].map(H=>D.observers.get(ii(H)).refetch({throwOnError:ee?.throwOnError}));await Promise.all(R)},oe=ee=>{const ie=typeof e=="function"?e({}):e;r?l.setQueryData(ie,R=>{if(!R||typeof R!="object")return R;if(Array.isArray(R))return ee;const H=r(R);if(Array.isArray(H)){for(const Z of Object.keys(R))if(R[Z]===H)return{...R,[Z]:ee}}if(Array.isArray(R.data))return{...R,data:ee};if(Array.isArray(R.items))return{...R,items:ee};if(Array.isArray(R.results))return{...R,results:ee};for(const Z of Object.keys(R))if(Array.isArray(R[Z]))return{...R,[Z]:ee};return R}):l.setQueryData(ie,ee)};let ce=null;const Ae=ee=>{const{begin:ie,write:R,commit:H,collection:Z}=ee,re=typeof e=="function"?e({}):e;return ce={collection:Z,queryClient:l,queryKey:re,getKey:g,begin:ie,write:R,commit:H,updateCacheData:oe},Y(ee)},J=OT(()=>ce),se=y?async ee=>{const ie=await y(ee)??{};return ie.refetch!==!1&&await ne(),ie}:void 0,M=_?async ee=>{const ie=await _(ee)??{};return ie.refetch!==!1&&await ne(),ie}:void 0,Q=b?async ee=>{const ie=await b(ee)??{};return ie.refetch!==!1&&await ne(),ie}:void 0,W=new DT(D,ne,J);return{...E,getKey:g,syncMode:O,sync:{sync:Ae},onInsert:se,onUpdate:M,onDelete:Q,utils:W}}async function MT(n){return new Promise((e,s)=>{const r=new FileReader;r.onloadend=()=>{const c=r.result.split(",")[1]||"";e(c)},r.onerror=s,r.readAsDataURL(n)})}function LT(n,e){const s=atob(n),r=new Uint8Array(s.length);for(let l=0;l<s.length;l++)r[l]=s.charCodeAt(l);return new Blob([r],{type:e})}async function By(n){let e=n.body;n.body.type==="form-data"?e={...n.body,data:n.body.data.map(r=>({...r,file:null}))}:n.body.type==="binary"&&(e={...n.body,file:null});let s=null;if(n.httpResponse){const r=n.httpResponse.body instanceof Blob?await MT(n.httpResponse.body):"",l=n.httpResponse.body instanceof Blob?n.httpResponse.body.type:"application/octet-stream";s={status:n.httpResponse.status,statusCode:n.httpResponse.statusCode,headers:n.httpResponse.headers,content:r,contentType:l,duration:n.httpResponse.duration,error:n.httpResponse.error}}return{id:n.id,name:n.name,protocol:n.protocol,method:n.method,url:n.url,query:n.query,headers:n.headers,body:e,variables:n.variables,creationTime:n.creationTime,executionTime:n.executionTime,httpRequest:n.httpRequest,httpResponse:s,executing:!1}}function jT(n){let e=null;if(n.httpResponse){const s=n.httpResponse.content?LT(n.httpResponse.content,n.httpResponse.contentType):new Blob([]);e={status:n.httpResponse.status,statusCode:n.httpResponse.statusCode,headers:n.httpResponse.headers,body:s,duration:n.httpResponse.duration,error:n.httpResponse.error}}return{id:n.id,name:n.name,protocol:n.protocol??"rest",method:n.method,url:n.url,query:n.query,headers:n.headers,body:n.body,variables:n.variables??[],creationTime:n.creationTime,executionTime:n.executionTime,httpRequest:n.httpRequest,httpResponse:e,executing:!1}}const _o="requests";async function zT(){const n=await fetch(`/data/${_o}`);if(!n.ok)throw new Error(`Failed to list entries: ${n.statusText}`);const e=await n.json();return(await Promise.all(e.map(async r=>{const l=await fetch(`/data/${_o}/${encodeURIComponent(r.id)}`);return l.ok?await l.json():null}))).filter(r=>r!==null)}async function Uy(n){const e=await fetch(`/data/${_o}/${encodeURIComponent(n.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error(`Failed to save request: ${e.statusText}`)}async function IT(n){const e=await fetch(`/data/${_o}/${encodeURIComponent(n)}`,{method:"DELETE"});if(!e.ok&&e.status!==404)throw new Error(`Failed to delete request: ${e.statusText}`)}const Q0=new qS({defaultOptions:{queries:{staleTime:1/0,refetchOnWindowFocus:!1}}}),Nn=z0(NT({queryKey:["requests"],queryFn:async()=>(await zT()).map(jT),getKey:n=>n.id,queryClient:Q0,onInsert:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.modified,r=await By(s);await Uy(r)}))},onUpdate:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.modified,r=await By(s);await Uy(r)}))},onDelete:async({transaction:n})=>{await Promise.all(n.mutations.map(async e=>{const s=e.original;await IT(s.id)}))}}));async function BT(){Array.from(Nn.state.keys()).forEach(e=>Nn.delete(e))}function bo(n,e,s={}){const{missingDataPlaceholder:r=""}=s;let l=n;const c=/\{\{(\w+):([^}]+)\}\}/g;let u;for(;(u=c.exec(n))!==null;){const[d,p,m]=u,g=e.find(_=>_.type===p&&_.id===m);let y="";switch(p){case"file_base64":case"base64":y=g?.data||r;break;case"file_dataurl":g?.data&&g?.mimeType?y=`data:${g.mimeType};base64,${g.data}`:g?.data?y=`data:application/octet-stream;base64,${g.data}`:y=r;break;case"timestamp":y=String(Date.now());break;case"uuid":typeof crypto<"u"&&crypto.randomUUID?y=crypto.randomUUID():y="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{const b=Math.random()*16|0;return(_==="x"?b:b&3|8).toString(16)});break;case"random_string":y=Math.random().toString(36).substring(2,18);break;default:y=d}l=l.replace(d,y)}return l}function ls(){return Math.random().toString(36).substring(2,9)}function Py(){return{id:ls(),enabled:!0,key:"",value:""}}function Yf(n){return{id:ls(),name:"New Request",protocol:"rest",method:"GET",url:"",headers:[Py()],query:[Py()],body:{type:"none"},variables:[],creationTime:Date.now(),executionTime:null,httpRequest:null,httpResponse:null,executing:!1}}const F0=G.createContext(null),UT={request:Yf(),sidebarCollapsed:!1};function PT({children:n}){const[e,s]=G.useState(UT),{data:r=[]}=vT(C=>C.from({req:Nn}).orderBy(({req:N})=>N.executionTime??N.creationTime,"desc")),l=G.useCallback(C=>{s(N=>({...N,request:{...N.request,...C}}))},[]),c=G.useCallback(C=>{l({protocol:C})},[l]),u=G.useCallback(C=>{l({method:C})},[l]),d=G.useCallback(C=>{l({url:C})},[l]),p=G.useCallback(C=>{l({headers:C})},[l]),m=G.useCallback(C=>{l({query:C})},[l]),g=G.useCallback(C=>{l({body:C})},[l]),y=G.useCallback(C=>{l({variables:C})},[l]),_=G.useCallback(C=>{s(N=>{const $={...N.request.httpRequest?.options??{insecure:!1,redirect:!0},...C};return{...N,request:{...N.request,httpRequest:N.request.httpRequest?{...N.request.httpRequest,options:$}:null}}})},[]),b=G.useCallback(()=>{l({httpResponse:null})},[l]),S=G.useCallback(async()=>{const C=e.request;l({executing:!0});try{const N={};if(C.headers.filter(ae=>ae.enabled&&ae.key).forEach(ae=>{N[ae.key]=ae.value}),C.protocol==="grpc"){const ae=C.url,me=ae.match(/^grpc:\/\/([^/]+)\/(.+)\/([^/]+)$/);if(!me)throw new Error("Invalid gRPC URL format. Expected: grpc://host:port/service/method");const[,Se,Me,en]=me;let Ht="",vn="";C.body.type==="json"?(Ht=bo(C.body.content,C.variables),vn=C.body.content):(Ht="{}",vn="{}"),N["Content-Type"]||(N["Content-Type"]="application/json");const si=`/proxy/grpc/${Se}/${Me}/${en}`,tn={method:"POST",url:ae,headers:N,query:{},body:vn,options:{insecure:!1,redirect:!1}},ri=performance.now(),_n=await fetch(si,{method:"POST",headers:N,body:Ht}),hr=Math.round(performance.now()-ri),pr=await _n.blob(),Pi={};_n.headers.forEach((he,ht)=>{Pi[ht]=he});const hs={status:_n.statusText||String(_n.status),statusCode:_n.status,headers:Pi,body:pr,duration:hr},fe=Date.now(),Oe={...C,executionTime:fe,httpRequest:tn,httpResponse:hs,executing:!1};r.find(he=>he.id===C.id)?Nn.update(C.id,he=>{Object.assign(he,Oe)}):Nn.insert(Oe),s(he=>({...he,request:Oe}));return}const V=new URLSearchParams;C.query.filter(ae=>ae.enabled&&ae.key).forEach(ae=>{V.append(ae.key,ae.value)});let $,Y="",ne=!1;switch(C.body.type){case"json":{$=bo(C.body.content,C.variables),Y=C.body.content,N["Content-Type"]||(N["Content-Type"]="application/json");break}case"form-urlencoded":{const ae=new URLSearchParams;C.body.data.filter(me=>me.enabled&&me.key).forEach(me=>{ae.append(me.key,me.value)}),$=ae.toString(),Y=ae.toString(),N["Content-Type"]||(N["Content-Type"]="application/x-www-form-urlencoded");break}case"form-data":{const ae=new FormData,me=[];C.body.data.filter(Se=>Se.enabled&&Se.key).forEach(Se=>{Se.type==="file"&&Se.file?(ae.append(Se.key,Se.file,Se.fileName),me.push(`${Se.key}: [File: ${Se.fileName}]`)):Se.type==="text"&&(ae.append(Se.key,Se.value),me.push(`${Se.key}: ${Se.value}`))}),$=ae,Y=me.join(`
`),ne=!0;break}case"binary":{C.body.file&&($=C.body.file,Y=`[Binary file: ${C.body.fileName}]`,N["Content-Type"]||(N["Content-Type"]=C.body.file.type||"application/octet-stream"));break}case"raw":$=C.body.content,Y=C.body.content,N["Content-Type"]||(N["Content-Type"]="text/plain");break}const oe=C.httpRequest?.options??{insecure:!1,redirect:!0};oe.insecure&&(N["X-Prism-Insecure"]="true"),oe.redirect&&(N["X-Prism-Redirect"]="true");const ce=new URL(C.url);let Ae="/proxy/"+ce.protocol.slice(0,-1)+"/"+ce.host+ce.pathname;const J=V.toString();J&&(Ae+="?"+J);const se={method:C.method,url:C.url,headers:N,query:Object.fromEntries(V),body:Y,options:oe},M={...N};ne&&delete M["Content-Type"];const Q=performance.now(),W=await fetch(Ae,{method:C.method,headers:M,body:$&&C.method!=="GET"&&C.method!=="HEAD"?$:void 0}),ee=Math.round(performance.now()-Q),ie=await W.blob(),R={};W.headers.forEach((ae,me)=>{R[me]=ae});const H={status:W.statusText||String(W.status),statusCode:W.status,headers:R,body:ie,duration:ee},Z=Date.now(),re={...C,executionTime:Z,httpRequest:se,httpResponse:H,executing:!1};r.find(ae=>ae.id===C.id)?Nn.update(C.id,ae=>{Object.assign(ae,re)}):Nn.insert(re),s(ae=>({...ae,request:re}))}catch(N){const V=Date.now(),$=N instanceof Error?N.message:"Unknown error",Y={status:"",statusCode:0,headers:{},body:new Blob,duration:0,error:$},ne={...C,executionTime:V,httpResponse:Y,executing:!1};r.find(ce=>ce.id===C.id)?Nn.update(C.id,ce=>{Object.assign(ce,ne)}):Nn.insert(ne),s(ce=>({...ce,request:ne}))}},[e.request,l,r]),E=G.useCallback(C=>{const N=Yf();N.id=C.id,N.name=C.name,N.protocol=C.protocol??"rest",N.method=C.method,N.url=C.url,N.headers=C.headers.map(V=>({...V,id:ls()})),N.query=C.query.map(V=>({...V,id:ls()})),N.variables=(C.variables??[]).map(V=>({...V,id:ls()})),C.body.type==="form-urlencoded"?N.body={type:"form-urlencoded",data:C.body.data.map(V=>({...V,id:ls()}))}:C.body.type==="form-data"?N.body={type:"form-data",data:C.body.data.map(V=>({...V,id:ls(),file:null}))}:C.body.type==="binary"?N.body={type:"binary",file:null,fileName:C.body.fileName}:N.body=C.body,C.httpRequest&&(N.httpRequest={...C.httpRequest}),C.httpResponse&&(N.httpResponse=C.httpResponse),s(V=>({...V,request:N}))},[]),O=G.useCallback(async()=>{await BT()},[]),D=G.useCallback(async C=>{Nn.delete(C)},[]),U=G.useCallback(()=>{s(C=>({...C,sidebarCollapsed:!C.sidebarCollapsed}))},[]),L=G.useCallback(()=>{s(C=>({...C,request:Yf()}))},[]),z={request:e.request,history:r,sidebarCollapsed:e.sidebarCollapsed,setProtocol:c,setMethod:u,setUrl:d,setHeaders:p,setQuery:m,setBody:g,setVariables:y,setOptions:_,executeRequest:S,clearResponse:b,newRequest:L,loadFromHistory:E,clearHistory:O,deleteHistoryEntry:D,toggleSidebar:U};return w.jsx(F0.Provider,{value:z,children:n})}function fs(){const n=G.useContext(F0);if(!n)throw new Error("useClient must be used within a ClientProvider");return n}const VT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Vy=n=>{const e=HT(n);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),qT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KT=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:u,...d},p)=>G.createElement("svg",{ref:p,...GT,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:Y0("lucide",l),...!c&&!qT(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>G.createElement(m,g)),...Array.isArray(c)?c:[c]]));const Ke=(n,e)=>{const s=G.forwardRef(({className:r,...l},c)=>G.createElement(KT,{ref:c,iconNode:e,className:Y0(`lucide-${VT(Vy(n))}`,`lucide-${n}`,r),...l}));return s.displayName=Vy(n),s};const QT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X0=Ke("check",QT);const FT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kd=Ke("chevron-down",FT);const YT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XT=Ke("chevron-right",YT);const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JT=Ke("circle-alert",$T);const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$0=Ke("circle-check",ZT);const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],J0=Ke("circle",WT);const eR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z0=Ke("clock",eR);const tR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W0=Ke("eye",tR);const nR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iR=Ke("file-text",nR);const sR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],So=Ke("file",sR);const rR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],aR=Ke("globe",rR);const lR=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ev=Ke("hash",lR);const oR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tv=Ke("loader-circle",oR);const cR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],uR=Ke("panel-right-close",cR);const fR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],dR=Ke("panel-right-open",fR);const hR=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Hy=Ke("paperclip",hR);const pR=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],mR=Ke("send-horizontal",pR);const gR=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],yR=Ke("server",gR);const vR=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],nv=Ke("shuffle",vR);const _R=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iv=Ke("sparkles",_R);const bR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dd=Ke("trash-2",bR);const SR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xR=Ke("upload",SR);const ER=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sv=Ke("x",ER),wR={GET:"text-green-600 dark:text-green-400",POST:"text-yellow-600 dark:text-yellow-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-red-600 dark:text-red-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"};function TR(n){const e=new Date(n),s=new Date;return e.toDateString()===s.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function RR(n){return n?n>=200&&n<300?"bg-green-500":n>=300&&n<400?"bg-yellow-500":n>=400&&n<500?"bg-orange-500":"bg-red-500":"bg-neutral-500"}function CR(n){try{return new URL(n.url).hostname}catch{return"Other"}}function AR(n){try{const e=new URL(n.url);return e.pathname+e.search}catch{return n.url}}function OR(n){return n.protocol==="grpc"?"gRPC":n.method}function kR(n){return n.protocol==="grpc"?"text-cyan-600 dark:text-cyan-400":wR[n.method]}function DR(n){const e=new Map;for(const s of n){const r=CR(s),l=e.get(r)||[];l.push(s),e.set(r,l)}return Array.from(e.entries()).map(([s,r])=>({hostname:s,entries:r,latestTimestamp:Math.max(...r.map(l=>l.executionTime??0))})).sort((s,r)=>r.latestTimestamp-s.latestTimestamp)}function NR(){const{history:n,sidebarCollapsed:e,loadFromHistory:s,deleteHistoryEntry:r,clearHistory:l,toggleSidebar:c}=fs(),u=G.useMemo(()=>DR(n),[n]);return n.length===0||e?null:w.jsxs("aside",{className:"w-64 bg-white dark:bg-[#1a1a1a]/60 dark:backdrop-blur-xl border border-neutral-200 dark:border-white/8 rounded-xl flex flex-col overflow-hidden dark:shadow-2xl",children:[w.jsxs("div",{className:"px-3 py-2.5 flex items-center justify-between gap-2",children:[w.jsx("h1",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200 pl-0.5",children:"Prism"}),w.jsxs("div",{className:"flex items-center gap-1",children:[n.length>0&&w.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Clear history",children:w.jsx(Dd,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"})}),w.jsx("button",{onClick:c,className:"p-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 transition-colors",title:"Hide sidebar",children:w.jsx(dR,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"})})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:n.length===0?w.jsx("div",{className:"px-2 py-8 text-center text-neutral-400 dark:text-neutral-600 text-xs",children:"No history yet"}):w.jsx("div",{className:"space-y-3 pb-2",children:u.map(d=>w.jsxs("div",{children:[w.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider truncate",title:d.hostname,children:d.hostname}),w.jsx("div",{className:"space-y-0.5",children:d.entries.map(p=>w.jsxs("div",{className:"group flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 dark:hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>s(p),children:[w.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${RR(p.httpResponse?.statusCode??null)}`}),w.jsx("span",{className:`text-[10px] font-semibold shrink-0 ${kR(p)}`,children:OR(p)}),w.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate flex-1",title:p.url,children:AR(p)}),w.jsxs("div",{className:"flex items-center justify-end text-[10px] text-neutral-400 dark:text-neutral-600 shrink-0 w-12 h-5",children:[w.jsx("span",{className:"group-hover:hidden",children:TR(p.executionTime??p.creationTime)}),w.jsx("button",{onClick:m=>{m.stopPropagation(),r(p.id)},className:"hidden group-hover:inline-flex items-center justify-center w-5 h-5 hover:bg-neutral-200 dark:hover:bg-white/8 rounded transition-colors",title:"Delete",children:w.jsx("svg",{className:"w-3 h-3 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},p.id))})]},d.hostname))})})]})}const MR=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],LR={GET:"text-emerald-600 dark:text-emerald-400",POST:"text-amber-600 dark:text-amber-400",PUT:"text-blue-600 dark:text-blue-400",PATCH:"text-purple-600 dark:text-purple-400",DELETE:"text-rose-600 dark:text-rose-400",OPTIONS:"text-neutral-500 dark:text-neutral-400",HEAD:"text-neutral-500 dark:text-neutral-400"},hf=[{value:"rest",label:"REST",icon:aR},{value:"grpc",label:"gRPC",icon:yR}];function jR(){const{request:n,setMethod:e,setProtocol:s}=fs(),r=n?.method??"GET",l=n?.protocol??"rest",[c,u]=G.useState(!1),d=G.useRef(null),p=hf.find(g=>g.value===l)??hf[0],m=p.icon;return G.useEffect(()=>{const g=y=>{d.current&&!d.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("div",{ref:d,className:"relative",children:[w.jsxs("button",{type:"button",onClick:()=>u(!c),className:"flex items-center gap-0.5 p-1.5 rounded-md hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors text-neutral-600 dark:text-neutral-400",title:p.label,children:[w.jsx(m,{className:"w-4 h-4"}),w.jsx(kd,{className:"w-3 h-3"})]}),c&&w.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 min-w-25",children:hf.map(g=>{const y=g.icon;return w.jsxs("button",{type:"button",onClick:()=>{s(g.value),u(!1)},className:`w-full flex items-center gap-2 px-3 py-1.5 text-sm transition-colors ${l===g.value?"bg-neutral-100 dark:bg-white/10 text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-white/5"}`,children:[w.jsx(y,{className:"w-4 h-4"}),g.label]},g.value)})})]}),l==="rest"&&w.jsx("select",{value:r,onChange:g=>e(g.target.value),className:`px-2 py-1 bg-transparent font-semibold text-xs focus:outline-none cursor-pointer ${LR[r]}`,children:MR.map(g=>w.jsx("option",{value:g,className:"bg-white dark:bg-[#1a1a1a]",children:g},g))})]})}function zR({value:n,onChange:e,placeholder:s,minWidth:r=60}){const l=G.useRef(null),[c,u]=G.useState(r);G.useEffect(()=>{if(l.current){const p=l.current.offsetWidth;u(Math.max(r,p+24))}},[n,s,r]);const d=n||s;return w.jsxs("div",{className:"relative",children:[w.jsx("span",{ref:l,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:d}),w.jsx("input",{type:"text",value:n,onChange:p=>e(p.target.value),placeholder:s,style:{width:`${c}px`},className:"px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"})]})}function qy({value:n,onChange:e,placeholder:s,fetchOptions:r,disabled:l,minWidth:c=60}){const[u,d]=G.useState(!1),[p,m]=G.useState([]),[g,y]=G.useState(!1),[_,b]=G.useState(null),S=G.useRef(null),E=G.useRef(null),O=G.useRef(null),[D,U]=G.useState(c);G.useEffect(()=>{if(O.current){const N=O.current.offsetWidth;U(Math.max(c,N+40))}},[n,s,c]);const L=n||s;G.useEffect(()=>{const N=V=>{S.current&&!S.current.contains(V.target)&&d(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const z=async()=>{if(!l){d(!0),y(!0),b(null);try{const N=await r();m(N)}catch(N){b(N instanceof Error?N.message:"Failed to fetch"),m([])}finally{y(!1)}}},C=p.filter(N=>N.toLowerCase().includes(n.toLowerCase()));return w.jsxs("div",{ref:S,className:"relative",style:{width:`${D}px`},children:[w.jsx("span",{ref:O,className:"absolute invisible whitespace-pre text-sm","aria-hidden":"true",children:L}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{ref:E,type:"text",value:n,onChange:N=>e(N.target.value),onFocus:z,placeholder:s,disabled:l,className:"flex-1 min-w-0 px-2 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none disabled:opacity-50"}),w.jsx("button",{type:"button",onClick:z,disabled:l,className:"p-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 disabled:opacity-50",children:g?w.jsx(tv,{className:"w-3 h-3 animate-spin"}):w.jsx(kd,{className:"w-3 h-3"})})]}),u&&w.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto min-w-full",children:[g&&w.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:"Loading..."}),_&&w.jsx("div",{className:"px-3 py-2 text-xs text-red-500",children:_}),!g&&!_&&C.length===0&&w.jsx("div",{className:"px-3 py-2 text-xs text-neutral-500",children:p.length===0?"No options available":"No matches"}),!g&&!_&&C.map(N=>w.jsx("button",{type:"button",onClick:()=>{e(N),d(!1)},className:"w-full px-3 py-1.5 text-left text-sm text-neutral-800 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors whitespace-nowrap",children:N},N))]})]})}function IR(){const{request:n,setUrl:e,executeRequest:s,sidebarCollapsed:r,toggleSidebar:l,history:c}=fs(),u=C=>{C.preventDefault(),s()},d=n?.protocol??"rest",p=n?.url??"",m=n?.executing??!1,g=C=>{const N=C.match(/^grpc:\/\/([^/]*)(?:\/([^/]*)(?:\/([^/]*))?)?$/);return N?{host:N[1]||"",service:N[2]||"",method:N[3]||""}:{host:"",service:"",method:""}},y=(C,N,V)=>C?N?V?`grpc://${C}/${N}/${V}`:`grpc://${C}/${N}`:`grpc://${C}`:"grpc://",{host:_,service:b,method:S}=g(p),E=C=>e(y(C,b,S)),O=C=>e(y(_,C,S)),D=C=>e(y(_,b,C)),U=d==="rest"?p.length>0:_.length>0&&b.length>0&&S.length>0,L=async()=>{if(!_)return[];const C=await fetch(`/proxy/grpc/${_}`);if(!C.ok)throw new Error("Failed to fetch services");return(await C.json()).services.map(V=>V.name)},z=async()=>{if(!_||!b)return[];const C=await fetch(`/proxy/grpc/${_}`);if(!C.ok)throw new Error("Failed to fetch methods");return(await C.json()).services.find($=>$.name===b)?.methods.map($=>$.name)??[]};return w.jsxs("form",{onSubmit:u,className:"flex items-center gap-2",children:[r&&c.length>0&&w.jsx("button",{type:"button",onClick:l,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Show sidebar",children:w.jsx(uR,{className:"w-4 h-4"})}),w.jsx(jR,{}),d==="rest"?w.jsx("input",{type:"text",value:p,onChange:C=>e(C.target.value),placeholder:"Enter request URL",className:"flex-1 px-3 py-1.5 bg-transparent text-neutral-800 dark:text-neutral-100 text-sm placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none"}):w.jsxs("div",{className:"flex-1 flex items-center gap-0 min-w-0",children:[w.jsx(zR,{value:_,onChange:E,placeholder:"host:port",minWidth:160}),w.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),w.jsx(qy,{value:b,onChange:O,placeholder:"service",fetchOptions:L,disabled:!_,minWidth:60}),w.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 px-1",children:"/"}),w.jsx(qy,{value:S,onChange:D,placeholder:"method",fetchOptions:z,disabled:!_||!b,minWidth:60})]}),w.jsx("button",{type:"submit",disabled:m||!U,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"Send request",children:m?w.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})}function Gy(){return Math.random().toString(36).substring(2,9)}function pf({items:n,onChange:e,keyPlaceholder:s="Key",valuePlaceholder:r="Value",keySuggestions:l=[]}){const[c,u]=G.useState(null),[d,p]=G.useState(""),m=(_,b,S)=>{const E=n.map(D=>D.id===_?{...D,[b]:S}:D),O=E[E.length-1];O&&(O.key||O.value)&&E.push({id:Gy(),enabled:!0,key:"",value:""}),e(E)},g=_=>{if(n.length===1){e([{id:Gy(),enabled:!0,key:"",value:""}]);return}e(n.filter(b=>b.id!==_))},y=_=>{const b=n.map(S=>S.key.toLowerCase());return l.filter(S=>S.toLowerCase().includes(_.toLowerCase())&&!b.includes(S.toLowerCase()))};return w.jsx("div",{children:w.jsx("table",{className:"w-full",children:w.jsx("tbody",{children:n.map(_=>w.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${_.enabled?"":"opacity-40"}`,children:[w.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:w.jsx("button",{type:"button",onClick:()=>m(_.id,"enabled",!_.enabled),className:"p-0.5 rounded transition-colors",children:_.enabled?w.jsx($0,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):w.jsx(J0,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),w.jsx("td",{className:"px-1.5 py-1.5",children:w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:_.key,onChange:b=>{m(_.id,"key",b.target.value),p(b.target.value)},onFocus:()=>{u(_.id),p(_.key)},onBlur:()=>{setTimeout(()=>u(null),150)},placeholder:s,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"}),l.length>0&&c===_.id&&(()=>{const b=y(d);return b.length===0?null:w.jsx("div",{className:"absolute z-50 left-0 right-0 top-full mt-1 bg-white dark:bg-[#1a1a1a] border border-neutral-200 dark:border-white/10 rounded-md shadow-lg max-h-48 overflow-y-auto",children:b.map(S=>w.jsx("button",{type:"button",onMouseDown:E=>{E.preventDefault(),m(_.id,"key",S),u(null)},className:"w-full px-2 py-1.5 text-left text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:S},S))})})()]})}),w.jsx("td",{className:"px-1.5 py-1.5",children:w.jsx("input",{type:"text",value:_.value,onChange:b=>m(_.id,"value",b.target.value),placeholder:r,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),w.jsx("td",{className:"w-8 pr-1.5 py-1.5",children:w.jsx("button",{type:"button",onClick:()=>g(_.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:w.jsx(Dd,{className:"w-3.5 h-3.5"})})})]},_.id))})})})}function BR(){return Math.random().toString(36).substring(2,9)}function Ky(){return{id:BR(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}function UR({items:n,onChange:e,keyPlaceholder:s="Field",valuePlaceholder:r="Value"}){const l=G.useRef({}),c=(g,y)=>{const _=n.map(S=>S.id===g?{...S,...y}:S),b=_[_.length-1];b&&(b.key||b.value||b.file)&&_.push(Ky()),e(_)},u=g=>{if(n.length===1){e([Ky()]);return}e(n.filter(y=>y.id!==g))},d=(g,y)=>{const _=y.target.files?.[0]??null;y.target.value="",_&&c(g,{type:"file",file:_,fileName:_.name,value:""})},p=g=>{c(g,{type:"text",file:null,fileName:""})},m=g=>g<1024?`${g} B`:g<1024*1024?`${(g/1024).toFixed(1)} KB`:`${(g/(1024*1024)).toFixed(1)} MB`;return w.jsx("div",{children:w.jsx("table",{className:"w-full",children:w.jsx("tbody",{children:n.map(g=>w.jsxs("tr",{className:`border-b border-neutral-100 dark:border-white/5 last:border-0 ${g.enabled?"":"opacity-40"}`,children:[w.jsx("td",{className:"w-8 pl-2.5 py-1.5",children:w.jsx("button",{type:"button",onClick:()=>c(g.id,{enabled:!g.enabled}),className:"p-0.5 rounded transition-colors",children:g.enabled?w.jsx($0,{className:"w-3.5 h-3.5 text-neutral-700 dark:text-neutral-300"}):w.jsx(J0,{className:"w-3.5 h-3.5 text-neutral-300 dark:text-neutral-600"})})}),w.jsx("td",{className:"px-1.5 py-1.5 w-36",children:w.jsx("input",{type:"text",value:g.key,onChange:y=>c(g.id,{key:y.target.value}),placeholder:s,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})}),w.jsxs("td",{className:"px-1.5 py-1.5",children:[w.jsx("input",{type:"file",ref:y=>{l.current[g.id]=y},onChange:y=>d(g.id,y),className:"hidden"}),g.type==="file"&&g.file?w.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-neutral-100 dark:bg-white/10 rounded text-xs text-neutral-600 dark:text-neutral-300",children:[w.jsx(Hy,{className:"w-3 h-3 shrink-0"}),w.jsx("span",{className:"truncate max-w-xs",children:g.fileName}),w.jsxs("span",{className:"text-neutral-400 shrink-0",children:["(",m(g.file.size),")"]}),w.jsx("button",{type:"button",onClick:()=>p(g.id),className:"p-0.5 ml-1 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors shrink-0",children:w.jsx(sv,{className:"w-3 h-3"})})]}):w.jsx("input",{type:"text",value:g.value,onChange:y=>c(g.id,{value:y.target.value}),placeholder:r,className:"w-full px-2 py-1 bg-white dark:bg-white/5 border border-neutral-300 dark:border-white/10 rounded text-xs text-neutral-800 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:border-neutral-400 dark:focus:border-white/20 transition-colors"})]}),w.jsx("td",{className:"w-16 pr-1.5 py-1.5",children:w.jsxs("div",{className:"flex items-center gap-0.5",children:[w.jsx("button",{type:"button",onClick:()=>l.current[g.id]?.click(),className:`p-1 rounded transition-colors ${g.type==="file"?"text-blue-500 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10":"text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-white/5"}`,title:"Attach file",children:w.jsx(Hy,{className:"w-3.5 h-3.5"})}),w.jsx("button",{type:"button",onClick:()=>u(g.id),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-100 dark:hover:bg-white/5 rounded transition-colors",children:w.jsx(Dd,{className:"w-3.5 h-3.5"})})]})})]},g.id))})})})}function PR({file:n,fileName:e,onFileChange:s}){const r=G.useRef(null),l=d=>{s(d,d?.name??"")},c=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KB`:d<1024*1024*1024?`${(d/(1024*1024)).toFixed(1)} MB`:`${(d/(1024*1024*1024)).toFixed(2)} GB`,u=d=>d.startsWith("image/")?"":d.startsWith("video/")?"":d.startsWith("audio/")?"":d.includes("pdf")?"":d.includes("zip")||d.includes("tar")||d.includes("gzip")?"":d.includes("json")||d.includes("xml")||d.includes("text")?"":"";return w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"file",ref:r,onChange:d=>l(d.target.files?.[0]??null),className:"hidden"}),n?w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:[w.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-white/10 rounded-lg text-xl",children:u(n.type)}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(iR,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400 shrink-0"}),w.jsx("p",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-100 truncate",children:e})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[w.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:c(n.size)}),w.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:""}),w.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:n.type||"application/octet-stream"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{type:"button",onClick:()=>r.current?.click(),className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:"Change"}),w.jsx("button",{type:"button",onClick:()=>s(null,""),className:"p-1 text-neutral-400 dark:text-neutral-500 hover:text-rose-500 dark:hover:text-rose-400 hover:bg-neutral-200 dark:hover:bg-white/10 rounded transition-colors",children:w.jsx(sv,{className:"w-4 h-4"})})]})]}):w.jsxs("div",{onClick:()=>r.current?.click(),className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-neutral-300 dark:border-white/20 rounded-lg cursor-pointer hover:border-neutral-400 dark:hover:border-white/30 hover:bg-neutral-50 dark:hover:bg-white/5 transition-colors",children:[w.jsx(xR,{className:"w-8 h-8 text-neutral-400 dark:text-neutral-500 mb-2"}),w.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-1",children:"Click to select a file"}),w.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"or drag and drop"})]}),w.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"The file will be sent as the raw request body. Content-Type will be set automatically based on the file type."})]})}function VR({value:n,onChange:e,placeholder:s}){const r=G.useRef(null);return G.useEffect(()=>{const l=r.current;if(!l)return;l.style.height="auto";const u=Math.min(l.scrollHeight,160);l.style.height=`${u}px`},[n]),w.jsx("textarea",{ref:r,value:n,onChange:l=>e(l.target.value),placeholder:s,spellCheck:!1,rows:3,className:"w-full font-mono text-xs text-neutral-800 dark:text-neutral-100 bg-transparent focus:outline-none placeholder-neutral-400 dark:placeholder-neutral-600 resize-none overflow-auto"})}function Qy(n){const e=[],s=/\{\{(\w+):([^{}]+)\}\}/g;let r;for(;(r=s.exec(n))!==null;)e.push({start:r.index,end:r.index+r[0].length,type:r[1],id:r[2],full:r[0]});return e}function ao(n){if(n.nodeType===Node.TEXT_NODE)return(n.textContent||"").replace(/\u200B/g,"");if(n.classList?.contains("variable-chip"))return n.dataset.marker||"";if(n.tagName==="BR")return`
`;let e="";const s=n.tagName==="DIV"||n.tagName==="P";for(const r of n.childNodes)e+=ao(r);return s&&e&&!e.endsWith(`
`)&&(e+=`
`),e}function rv(n,e){if(e.rangeCount===0)return"";const s=e.getRangeAt(0),r=s.startContainer,l=s.startOffset;let c="",u=!1;function d(p){if(!u){if(p===r)if(p.nodeType===Node.TEXT_NODE){c+=(p.textContent||"").slice(0,l).replace(/\u200B/g,""),u=!0;return}else{const m=p.childNodes;for(let g=0;g<l;g++)if(d(m[g]),u)return;u=!0;return}if(p.nodeType===Node.TEXT_NODE)c+=(p.textContent||"").replace(/\u200B/g,"");else if(p.nodeType===Node.ELEMENT_NODE){const m=p;if(m.classList.contains("variable-chip")){if(m.contains(r)){u=!0;return}c+=m.dataset.marker||""}else if(m.tagName==="BR")c+=`
`;else if(m.tagName==="DIV"||m.tagName==="P"){for(const g of Array.from(m.childNodes))if(d(g),u)return;c&&!c.endsWith(`
`)&&(c+=`
`)}else for(const g of Array.from(m.childNodes))if(d(g),u)return}}}return d(n),c}function HR(n){const e=window.getSelection();return!e||e.rangeCount===0||!n.contains(e.anchorNode)?null:rv(n,e).length}function qR(n,e){let s=0,r=!1;function l(c){if(!r){if(c.nodeType===Node.TEXT_NODE){const u=c.textContent||"",p=u.replace(/\u200B/g,"").length;if(s+p>=e){const m=e-s;let g=0,y=0;for(;y<m&&g<u.length;)u[g]!==""&&y++,g++;const _=document.createRange();_.setStart(c,g),_.setEnd(c,g);const b=window.getSelection();b?.removeAllRanges(),b?.addRange(_),r=!0;return}s+=p}else if(c.nodeType===Node.ELEMENT_NODE){const u=c;if(u.classList.contains("variable-chip")){const d=(u.dataset.marker||"").length;s+=d}else if(u.tagName==="BR")s+=1;else{const d=u.tagName==="DIV"||u.tagName==="P";for(const p of Array.from(c.childNodes))if(l(p),r)return;d&&s<e&&(s+=1)}}}}l(n)}function GR(n,e,s){switch(n){case"file_base64":case"file_dataurl":return s?.data?s.name||"file":"Select file...";default:return s?.name||n}}function KR(n){const e="w-3 h-3";switch(n){case"file_base64":case"file_dataurl":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>`;case"base64":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg>`;case"timestamp":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`;case"uuid":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H1"/></svg>`;case"random_string":return`<svg class="${e}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l14.2-12.6c.8-1.1 2-1.7 3.3-1.7H22"/><path d="M2 6h1.4c1.3 0 2.5.6 3.3 1.7l14.2 12.6c.8 1.1 2 1.7 3.3 1.7H22"/></svg>`;default:return""}}function Fy(n,e,s,r){const l=r.find(g=>g.type===n&&g.id===e),c=n==="file_base64"||n==="file_dataurl"||n==="base64",u=l&&l.data,d=document.createElement("span");d.contentEditable="false",d.className=`variable-chip inline-flex items-center gap-1 px-1.5 py-0.5 mx-0.5 rounded text-xs font-medium align-baseline select-none ${c&&!u?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-blue-500/20 text-blue-300 border border-blue-500/30"} ${c?"cursor-pointer hover:bg-blue-500/30":""}`,d.dataset.marker=s,d.dataset.variableType=n,d.dataset.variableId=e;const p=document.createElement("span");p.className="chip-icon",p.innerHTML=KR(n),d.appendChild(p);const m=document.createElement("span");return m.className="chip-label",m.textContent=GR(n,e,l),d.appendChild(m),d}function av({editorRef:n,value:e,onChange:s,variables:r,onVariablesChange:l,indentTriggers:c=["{","["]}){const u=G.useRef(""),d=G.useRef(!1),p=G.useRef(!1),m=G.useCallback(z=>{const C=ao(z);u.current=C,d.current=!0,s(C);const N=new Set(Qy(C).map($=>$.id)),V=r.filter($=>N.has($.id));V.length!==r.length&&(p.current=!0,l(V))},[s,r,l]),[g,y]=G.useState(!1),[_,b]=G.useState({top:0,left:0}),S=G.useCallback((z,C)=>{C.split(`
`).forEach((V,$)=>{$>0&&z.appendChild(document.createElement("br")),V&&z.appendChild(document.createTextNode(V))})},[]),E=G.useCallback(()=>{const z=n.current;if(!z)return;const C=HR(z),N=Qy(e);z.innerHTML="";let V=0;for(const Y of N){const ne=e.slice(V,Y.start);ne&&S(z,ne);const oe=Fy(Y.type,Y.id,Y.full,r);z.appendChild(oe),z.appendChild(document.createTextNode("")),V=Y.end}const $=e.slice(V);$&&S(z,$),z.childNodes.length===0&&z.appendChild(document.createElement("br")),u.current=e,C!==null&&qR(z,C)},[e,r,S,n]);G.useEffect(()=>{!d.current&&e!==u.current&&E(),d.current=!1},[e,E]),G.useEffect(()=>{p.current?p.current=!1:E()},[r,E]);const O=G.useCallback(()=>{const z=n.current;if(!z)return;const C=ao(z),N=window.getSelection();if(N&&N.rangeCount>0){const V=N.getRangeAt(0);if(V.startContainer.nodeType===Node.TEXT_NODE){const $=V.startContainer.textContent||"",Y=V.startOffset;if(Y>=2&&$.slice(Y-2,Y)==="{{"){const ne=V.getBoundingClientRect();b({top:ne.bottom+4,left:ne.left}),y(!0)}else y(!1)}}C!==u.current&&m(z)},[m,n]),D=G.useCallback(z=>{z.preventDefault();const C=z.clipboardData.getData("text/plain");document.execCommand("insertText",!1,C)},[]),U=G.useCallback(z=>{if(g){z.key==="Escape"&&(y(!1),z.preventDefault());return}if(z.key==="Backspace"){const C=window.getSelection();if(C&&C.rangeCount>0&&C.isCollapsed){const N=C.getRangeAt(0),V=N.startContainer,$=N.startOffset;if(V.nodeType===Node.TEXT_NODE&&$===1&&V.textContent?.charAt(0)===""){const Y=V.previousSibling;if(Y&&Y.classList?.contains("variable-chip")){z.preventDefault();const ne=Y,oe=ne.parentNode;oe?.removeChild(ne),oe?.removeChild(V);const ce=n.current;ce&&m(ce);return}}if($===0){let Y=V.previousSibling;if(Y?.nodeType===Node.TEXT_NODE&&Y.textContent===""&&(Y=Y.previousSibling),Y&&Y.classList?.contains("variable-chip")){z.preventDefault();const ne=Y,oe=ne.nextSibling,ce=ne.parentNode;ce?.removeChild(ne),oe?.nodeType===Node.TEXT_NODE&&oe.textContent===""&&ce?.removeChild(oe);const Ae=n.current;Ae&&m(Ae);return}}}}if(z.key==="Tab"&&(z.preventDefault(),document.execCommand("insertText",!1,"  ")),z.key==="Enter"){z.preventDefault();const C=n.current,N=window.getSelection();let V="";if(C&&N&&N.rangeCount>0){const ne=rv(C,N),oe=ne.lastIndexOf(`
`),ce=ne.slice(oe+1),Ae=ce.match(/^(\s*)/);V=Ae?Ae[1]:"";const se=ce.trimEnd().slice(-1);c.includes(se)&&(V+="  ")}const $=document.createElement("br"),Y=N?.getRangeAt(0);Y&&(Y.deleteContents(),Y.insertNode($),Y.setStartAfter($),Y.setEndAfter($),N?.removeAllRanges(),N?.addRange(Y),V&&document.execCommand("insertText",!1,V))}},[g,m,n,c]),L=G.useCallback(z=>{y(!1);const C=n.current;if(!C)return;const N=window.getSelection();if(!N||N.rangeCount===0)return;const V=N.getRangeAt(0);if(V.startContainer.nodeType!==Node.TEXT_NODE)return;const $=V.startContainer,Y=V.startOffset,ne=$.textContent||"";$.textContent=ne.slice(0,Y-2)+ne.slice(Y);const oe=Math.random().toString(36).substring(2,9),ce=z==="file_base64"||z==="file_dataurl"?"file":z,Ae=`{{${z}:${oe}}}`,J=Fy(z,oe,Ae,r),se=Y-2;V.setStart($,se),V.setEnd($,se),V.insertNode(J);const M=document.createTextNode("");J.after(M),V.setStart(M,1),V.setEnd(M,1),N.removeAllRanges(),N.addRange(V),p.current=!0,l([...r,{id:oe,type:z,name:ce}]);const Q=ao(C);return u.current=Q,d.current=!0,s(Q),oe},[r,l,s,n]);return{handleInput:O,handlePaste:D,handleKeyDown:U,insertVariable:L,showTypeMenu:g,setShowTypeMenu:y,typeMenuPosition:_,buildDOM:E}}const QR=[{type:"file_base64",label:"File (Base64)",description:"Select a file to encode",icon:w.jsx(So,{className:"w-3.5 h-3.5"})},{type:"file_dataurl",label:"File (Data URL)",description:"File as data:... URL",icon:w.jsx(So,{className:"w-3.5 h-3.5"})},{type:"base64",label:"Text (Base64)",description:"Text to encode",icon:w.jsx(ev,{className:"w-3.5 h-3.5"})},{type:"timestamp",label:"Timestamp",description:"Unix timestamp",icon:w.jsx(Z0,{className:"w-3.5 h-3.5"})},{type:"uuid",label:"UUID",description:"Random UUID",icon:w.jsx(iv,{className:"w-3.5 h-3.5"})},{type:"random_string",label:"Random String",description:"16-char random",icon:w.jsx(nv,{className:"w-3.5 h-3.5"})}];function FR({value:n,onChange:e,variables:s,onVariablesChange:r,placeholder:l}){const c=G.useRef(null),u=G.useRef(null),{handleInput:d,handlePaste:p,handleKeyDown:m,insertVariable:g,showTypeMenu:y,setShowTypeMenu:_,typeMenuPosition:b,buildDOM:S}=av({editorRef:c,value:n,onChange:e,variables:s,onVariablesChange:r,indentTriggers:["{","["]}),[E,O]=G.useState(null),[D,U]=G.useState(""),L=G.useRef(!1),z=G.useRef(null),C=G.useMemo(()=>{if(!n.trim())return{valid:!0,empty:!0};try{let J=n;return J=J.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),J=J.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(J),{valid:!0,empty:!1}}catch(J){return{valid:!1,empty:!1,error:J instanceof Error?J.message:"Invalid JSON"}}},[n]),[N,V]=G.useState(!1),$=G.useMemo(()=>bo(n,s,{missingDataPlaceholder:"[no data]"}),[n,s]);G.useEffect(()=>(z.current&&(clearTimeout(z.current),z.current=null),C.valid&&!C.empty&&L.current&&(z.current=setTimeout(()=>{try{let J=n;J=J.replace(/"\{\{[^{}]+\}\}"/g,'"__var__"'),J=J.replace(/\{\{[^{}]+\}\}/g,"null"),JSON.parse(J);const se=new Map;let M=n,Q=0;M=M.replace(/"\{\{[^{}]+\}\}"/g,ie=>{const R=`"__VAR_${Q++}__"`;return se.set(R,ie),R}),M=M.replace(/\{\{[^{}]+\}\}/g,ie=>{const R=`"__VAR_${Q++}__"`;return se.set(R,ie),R});const W=JSON.parse(M);let ee=JSON.stringify(W,null,2);ee=ee.replace(/\{\}/g,`{
}`),ee=ee.replace(/\[\]/g,`[
]`),se.forEach((ie,R)=>{ee=ee.replace(R,ie)}),ee!==n&&e(ee)}catch{}},500)),L.current=!C.valid,()=>{z.current&&clearTimeout(z.current)}),[C.valid,C.empty,n,e]),G.useEffect(()=>{N||S()},[N,S]);const Y=G.useCallback((J,se)=>{const M=document.createElement("input");M.type="file",M.onchange=Q=>{const W=Q.target.files?.[0];if(!W)return;const ee=new FileReader;ee.onload=()=>{const ie=ee.result.split(",")[1],R=s.find(H=>H.id===se);r(R?s.map(H=>H.id===R.id?{...H,data:ie,mimeType:W.type,name:W.name}:H):[...s,{id:se,type:J,name:W.name,data:ie,mimeType:W.type}])},ee.readAsDataURL(W)},M.click()},[s,r]),ne=G.useCallback(J=>{const M=J.target.closest(".variable-chip");if(M){const Q=M.dataset.variableType,W=M.dataset.variableId;if(Q==="file_base64"||Q==="file_dataurl")Y(Q,W),J.preventDefault(),J.stopPropagation();else if(Q==="base64"){const ee=M.getBoundingClientRect(),ie=s.find(R=>R.id===W);U(ie?.data||""),O({variableKey:`${Q}:${W}`,rect:ee}),J.preventDefault(),J.stopPropagation()}}else O(null)},[s,Y]),oe=G.useCallback(J=>{const se=g(J);se&&(J==="file_base64"||J==="file_dataurl")&&setTimeout(()=>Y(J,se),0)},[g,Y]),ce=G.useCallback(()=>{if(!E)return;const[J,se]=E.variableKey.split(":"),M=s.find(Q=>Q.id===se);r(M?s.map(Q=>Q.id===M.id?{...Q,data:D}:Q):[...s,{id:se,type:J,name:J,data:D}]),O(null),c.current?.focus()},[E,D,s,r]);G.useEffect(()=>{const J=M=>{M.key==="Escape"&&(_(!1),O(null))},se=M=>{u.current&&!u.current.contains(M.target)&&(_(!1),O(null))};return document.addEventListener("keydown",J),document.addEventListener("mousedown",se),()=>{document.removeEventListener("keydown",J),document.removeEventListener("mousedown",se)}},[_]);const Ae=G.useMemo(()=>{if(!E||!u.current)return{top:0,left:0};const J=u.current.getBoundingClientRect();return{top:E.rect.bottom-J.top+4,left:Math.max(0,E.rect.left-J.left)}},[E]);return w.jsxs("div",{ref:u,className:"flex flex-col h-full min-h-50 max-h-[60vh] relative overflow-hidden",children:[N?w.jsx("pre",{className:"flex-1 min-h-0 p-3 font-mono text-sm text-zinc-100 overflow-y-auto whitespace-pre-wrap wrap-break-word",children:$}):w.jsxs("div",{className:"flex-1 min-h-0 relative",children:[w.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:d,onPaste:p,onKeyDown:m,onClick:ne,className:"h-full p-3 font-mono text-sm text-zinc-100 outline-none overflow-y-auto whitespace-pre-wrap wrap-break-word"}),!n&&l&&w.jsx("div",{className:"absolute top-3 left-3 font-mono text-sm text-zinc-500 pointer-events-none whitespace-pre-wrap",children:l})]}),w.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 py-1.5 text-xs shrink-0",children:[w.jsx("button",{onClick:()=>V(!N),className:`transition-colors flex items-center gap-1 ${N?"text-blue-400 hover:text-blue-300":"text-zinc-500 hover:text-zinc-300"}`,title:N?"Show editor":"Show resolved JSON",children:w.jsx(W0,{className:"w-3.5 h-3.5"})}),C.valid?w.jsx("span",{className:"text-emerald-500",children:"Valid JSON"}):w.jsx("span",{className:"text-red-400",title:C.error,children:"Invalid JSON"})]}),y&&w.jsx("div",{className:"fixed z-50 w-56 bg-zinc-800 border border-zinc-600 rounded-lg shadow-xl py-1",style:{top:b.top,left:b.left},children:QR.map(J=>w.jsxs("button",{onClick:()=>oe(J.type),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors",children:[w.jsx("span",{className:"text-zinc-400",children:J.icon}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"text-sm text-zinc-200",children:J.label}),w.jsx("div",{className:"text-xs text-zinc-500",children:J.description})]})]},J.type))}),E&&(()=>{const[J]=E.variableKey.split(":");return w.jsx("div",{className:"absolute z-50 bg-zinc-800/95 border border-zinc-700/50 rounded shadow-lg p-1.5 w-44",style:Ae,children:J==="base64"?w.jsxs("div",{className:"flex gap-1",children:[w.jsx("input",{type:"text",value:D,onChange:se=>U(se.target.value),onKeyDown:se=>se.key==="Enter"&&ce(),placeholder:"Text to encode...",className:"flex-1 min-w-0 px-1.5 py-0.5 text-xs bg-transparent text-zinc-200 rounded border-none focus:outline-none placeholder:text-zinc-500",autoFocus:!0}),w.jsx("button",{onClick:ce,className:"p-1 text-zinc-400 hover:text-zinc-200 transition-colors",children:w.jsx(X0,{className:"w-3 h-3"})})]}):null})})()]})}const YR=[{type:"file_base64",label:"File (Base64)",description:"Select a file to encode",icon:w.jsx(So,{className:"w-3.5 h-3.5"})},{type:"file_dataurl",label:"File (Data URL)",description:"File as data:... URL",icon:w.jsx(So,{className:"w-3.5 h-3.5"})},{type:"base64",label:"Text (Base64)",description:"Text to encode",icon:w.jsx(ev,{className:"w-3.5 h-3.5"})},{type:"timestamp",label:"Timestamp",description:"Unix timestamp",icon:w.jsx(Z0,{className:"w-3.5 h-3.5"})},{type:"uuid",label:"UUID",description:"Random UUID",icon:w.jsx(iv,{className:"w-3.5 h-3.5"})},{type:"random_string",label:"Random String",description:"16-char random",icon:w.jsx(nv,{className:"w-3.5 h-3.5"})}];function XR(n){if(!n.trim())return{valid:!0};try{const r=new DOMParser().parseFromString(n,"application/xml").querySelector("parsererror");if(r){const l=r.textContent||"Invalid XML",c=l.match(/error[^:]*:\s*(.+)/i);return{valid:!1,error:c?c[1].trim():l.split(`
`)[0]}}return{valid:!0}}catch(e){return{valid:!1,error:e instanceof Error?e.message:"Invalid XML"}}}function $R(n){try{const s=new DOMParser().parseFromString(n,"application/xml");if(s.querySelector("parsererror"))return n;const l=new XMLSerializer().serializeToString(s);let c="",u=0;const d=l.replace(/></g,`>
<`).split(`
`);for(const p of d){const m=p.trim();m&&(m.startsWith("</")&&(u=Math.max(0,u-1)),c+="  ".repeat(u)+m+`
`,m.startsWith("<")&&!m.startsWith("</")&&!m.startsWith("<?")&&!m.endsWith("/>")&&u++)}return c.trim()}catch{return n}}function JR({value:n,onChange:e,variables:s,onVariablesChange:r,placeholder:l}){const c=G.useRef(null),u=G.useRef(null),{handleInput:d,handlePaste:p,handleKeyDown:m,insertVariable:g,showTypeMenu:y,setShowTypeMenu:_,typeMenuPosition:b,buildDOM:S}=av({editorRef:c,value:n,onChange:e,variables:s,onVariablesChange:r,indentTriggers:[">","{","["]}),[E,O]=G.useState(null),[D,U]=G.useState(""),L=G.useRef(!1),z=G.useRef(null),C=G.useMemo(()=>{if(!n.trim())return{valid:!0,empty:!0};let J=n;return J=J.replace(/\{\{[^{}]+\}\}/g,"PLACEHOLDER"),{...XR(J),empty:!1}},[n]),[N,V]=G.useState(!1),$=G.useMemo(()=>bo(n,s,{missingDataPlaceholder:"[no data]"}),[n,s]);G.useEffect(()=>(z.current&&(clearTimeout(z.current),z.current=null),C.valid&&!C.empty&&L.current&&(z.current=setTimeout(()=>{const J=new Map;let se=n,M=0;se=se.replace(/\{\{[^{}]+\}\}/g,W=>{const ee=`__VAR_${M++}__`;return J.set(ee,W),ee});let Q=$R(se);J.forEach((W,ee)=>{Q=Q.replace(ee,W)}),Q!==n&&e(Q)},500)),L.current=!C.valid,()=>{z.current&&clearTimeout(z.current)}),[C.valid,C.empty,n,e]),G.useEffect(()=>{N||S()},[N,S]);const Y=G.useCallback((J,se)=>{const M=document.createElement("input");M.type="file",M.onchange=Q=>{const W=Q.target.files?.[0];if(!W)return;const ee=new FileReader;ee.onload=()=>{const ie=ee.result.split(",")[1],R=s.find(H=>H.id===se);r(R?s.map(H=>H.id===R.id?{...H,data:ie,mimeType:W.type,name:W.name}:H):[...s,{id:se,type:J,name:W.name,data:ie,mimeType:W.type}])},ee.readAsDataURL(W)},M.click()},[s,r]),ne=G.useCallback(J=>{const M=J.target.closest(".variable-chip");if(M){const Q=M.dataset.variableType,W=M.dataset.variableId;if(Q==="file_base64"||Q==="file_dataurl")Y(Q,W),J.preventDefault(),J.stopPropagation();else if(Q==="base64"){const ee=M.getBoundingClientRect(),ie=s.find(R=>R.id===W);U(ie?.data||""),O({variableKey:`${Q}:${W}`,rect:ee}),J.preventDefault(),J.stopPropagation()}}else O(null)},[s,Y]),oe=G.useCallback(J=>{const se=g(J);se&&(J==="file_base64"||J==="file_dataurl")&&setTimeout(()=>Y(J,se),0)},[g,Y]),ce=G.useCallback(()=>{if(!E)return;const[J,se]=E.variableKey.split(":"),M=s.find(Q=>Q.id===se);r(M?s.map(Q=>Q.id===M.id?{...Q,data:D}:Q):[...s,{id:se,type:J,name:J,data:D}]),O(null),c.current?.focus()},[E,D,s,r]);G.useEffect(()=>{const J=M=>{M.key==="Escape"&&(_(!1),O(null))},se=M=>{u.current&&!u.current.contains(M.target)&&(_(!1),O(null))};return document.addEventListener("keydown",J),document.addEventListener("mousedown",se),()=>{document.removeEventListener("keydown",J),document.removeEventListener("mousedown",se)}},[_]);const Ae=G.useMemo(()=>{if(!E||!u.current)return{top:0,left:0};const J=u.current.getBoundingClientRect();return{top:E.rect.bottom-J.top+4,left:Math.max(0,E.rect.left-J.left)}},[E]);return w.jsxs("div",{ref:u,className:"flex flex-col h-full min-h-50 max-h-[60vh] relative overflow-hidden",children:[N?w.jsx("pre",{className:"flex-1 min-h-0 p-3 font-mono text-sm text-zinc-100 overflow-y-auto whitespace-pre-wrap wrap-break-word",children:$}):w.jsxs("div",{className:"flex-1 min-h-0 relative",children:[w.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:d,onPaste:p,onKeyDown:m,onClick:ne,className:"h-full p-3 font-mono text-sm text-zinc-100 outline-none overflow-y-auto whitespace-pre-wrap wrap-break-word"}),!n&&l&&w.jsx("div",{className:"absolute top-3 left-3 font-mono text-sm text-zinc-500 pointer-events-none whitespace-pre-wrap",children:l})]}),w.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 py-1.5 text-xs shrink-0",children:[w.jsx("button",{onClick:()=>V(!N),className:`transition-colors flex items-center gap-1 ${N?"text-blue-400 hover:text-blue-300":"text-zinc-500 hover:text-zinc-300"}`,title:N?"Show editor":"Show resolved XML",children:w.jsx(W0,{className:"w-3.5 h-3.5"})}),C.valid?w.jsx("span",{className:"text-emerald-500",children:"Valid XML"}):w.jsx("span",{className:"text-red-400",title:C.error,children:"Invalid XML"})]}),y&&w.jsx("div",{className:"fixed z-50 w-56 bg-zinc-800 border border-zinc-600 rounded-lg shadow-xl py-1",style:{top:b.top,left:b.left},children:YR.map(J=>w.jsxs("button",{onClick:()=>oe(J.type),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors",children:[w.jsx("span",{className:"text-zinc-400",children:J.icon}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"text-sm text-zinc-200",children:J.label}),w.jsx("div",{className:"text-xs text-zinc-500",children:J.description})]})]},J.type))}),E&&(()=>{const[J]=E.variableKey.split(":");return w.jsx("div",{className:"absolute z-50 bg-zinc-800/95 border border-zinc-700/50 rounded shadow-lg p-1.5 w-44",style:Ae,children:J==="base64"?w.jsxs("div",{className:"flex gap-1",children:[w.jsx("input",{type:"text",value:D,onChange:se=>U(se.target.value),onKeyDown:se=>se.key==="Enter"&&ce(),placeholder:"Text to encode...",className:"flex-1 min-w-0 px-1.5 py-0.5 text-xs bg-transparent text-zinc-200 rounded border-none focus:outline-none placeholder:text-zinc-500",autoFocus:!0}),w.jsx("button",{onClick:ce,className:"p-1 text-zinc-400 hover:text-zinc-200 transition-colors",children:w.jsx(X0,{className:"w-3 h-3"})})]}):null})})()]})}const Yy=[{value:"none",label:"None"},{value:"json",label:"JSON"},{value:"xml",label:"XML"},{value:"form-urlencoded",label:"Form"},{value:"form-data",label:"Form Data"},{value:"binary",label:"Binary"},{value:"raw",label:"Raw"}];function lv(){return Math.random().toString(36).substring(2,9)}function ZR(){return{id:lv(),enabled:!0,key:"",type:"text",value:"",file:null,fileName:""}}const WR=["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Authorization","Cache-Control","Connection","Content-Disposition","Content-Encoding","Content-Length","Content-Type","Cookie","Date","ETag","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","Trailer","Transfer-Encoding","Upgrade","User-Agent","Via","Warning","X-Api-Key","X-Correlation-ID","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","X-Request-ID","X-Requested-With"];function eC(){const[n,e]=G.useState("body"),{request:s,setHeaders:r,setQuery:l,setBody:c,setVariables:u}=fs(),d=s?.protocol??"rest",p=s?.headers??[],m=s?.query??[],g=s?.body??{type:"none"},y=s?.variables??[];G.useEffect(()=>{d==="grpc"&&g.type!=="json"&&c({type:"json",content:""})},[d,g.type,c]);const _=O=>{switch(O){case"none":c({type:"none"});break;case"json":c({type:"json",content:g.type==="json"?g.content:""});break;case"xml":c({type:"xml",content:g.type==="xml"?g.content:""});break;case"raw":c({type:"raw",content:g.type==="raw"?g.content:""});break;case"form-urlencoded":c({type:"form-urlencoded",data:g.type==="form-urlencoded"?g.data:[{id:lv(),enabled:!0,key:"",value:""}]});break;case"form-data":c({type:"form-data",data:g.type==="form-data"?g.data:[ZR()]});break;case"binary":c({type:"binary",file:g.type==="binary"?g.file:null,fileName:g.type==="binary"?g.fileName:""});break}},b=d==="grpc"?[{id:"headers",label:"Headers",count:p.filter(O=>O.key).length},{id:"body",label:"Body"}]:[{id:"params",label:"Params",count:m.filter(O=>O.key).length},{id:"headers",label:"Headers",count:p.filter(O=>O.key).length},{id:"body",label:"Body"}],S=d==="grpc"?Yy.filter(O=>O.value==="json"):Yy,E=G.useMemo(()=>d==="grpc"&&n==="params"?"body":n,[d,n]);return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{role:"tablist",className:"inline-flex gap-1",children:b.map(O=>w.jsxs("button",{role:"tab",onClick:()=>e(O.id),className:`px-2 py-1 text-[11px] font-medium rounded-md transition-all ${E===O.id?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-white/5"}`,children:[O.label,O.count!==void 0&&O.count>0&&w.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 text-[9px] bg-neutral-200 dark:bg-white/10 text-neutral-600 dark:text-neutral-300 rounded-full",children:O.count})]},O.id))}),E==="body"&&S.length>1&&w.jsx("select",{value:g.type,onChange:O=>_(O.target.value),className:"h-6 px-2 text-[11px] font-medium bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 rounded-md shadow-sm border-0 focus:outline-none focus:ring-2 focus:ring-neutral-300 dark:focus:ring-white/20 cursor-pointer transition-all min-w-30",children:S.map(O=>w.jsx("option",{value:O.value,className:"bg-white dark:bg-[#1a1a1a]",children:O.label},O.value))})]}),w.jsxs("div",{children:[E==="params"&&w.jsx(pf,{items:m,onChange:l,keyPlaceholder:"Parameter",valuePlaceholder:"Value"}),E==="headers"&&w.jsx(pf,{items:p,onChange:r,keyPlaceholder:"Header",valuePlaceholder:"Value",keySuggestions:WR}),E==="body"&&g.type!=="none"&&w.jsxs(w.Fragment,{children:[g.type==="json"&&w.jsx(FR,{value:g.content,onChange:O=>c({...g,content:O}),variables:y,onVariablesChange:u,placeholder:`{
  "key": "value"
}`}),g.type==="xml"&&w.jsx(JR,{value:g.content,onChange:O=>c({...g,content:O}),variables:y,onVariablesChange:u,placeholder:`<?xml version="1.0" encoding="UTF-8"?>
<root>
  <element>value</element>
</root>`}),g.type==="raw"&&w.jsx(VR,{value:g.content,onChange:O=>c({...g,content:O}),language:"text",placeholder:"Enter raw body content"}),g.type==="form-urlencoded"&&w.jsx(pf,{items:g.data,onChange:O=>c({...g,data:O}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),g.type==="form-data"&&w.jsx(UR,{items:g.data,onChange:O=>c({...g,data:O}),keyPlaceholder:"Field",valuePlaceholder:"Value"}),g.type==="binary"&&w.jsx(PR,{file:g.file,fileName:g.fileName,onFileChange:(O,D)=>c({...g,file:O,fileName:D})})]})]})]})}const tC="modulepreload",nC=function(n){return"/"+n},Xy={},T=function(e,s,r){let l=Promise.resolve();if(s&&s.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=m(s.map(g=>{if(g=nC(g),g in Xy)return;Xy[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":tC,y||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((S,E)=>{b.addEventListener("load",S),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})};let tt=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function iC(n){return Nd(n)}function Nd(n){return Array.isArray(n)?sC(n):n instanceof RegExp?n:typeof n=="object"?rC(n):n}function sC(n){let e=[];for(let s=0,r=n.length;s<r;s++)e[s]=Nd(n[s]);return e}function rC(n){let e={};for(let s in n)e[s]=Nd(n[s]);return e}function ov(n,...e){return e.forEach(s=>{for(let r in s)n[r]=s[r]}),n}function cv(n){const e=~n.lastIndexOf("/")||~n.lastIndexOf("\\");return e===0?n:~e===n.length-1?cv(n.substring(0,n.length-1)):n.substr(~e+1)}var mf=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Zl=class{static hasCaptures(n){return n===null?!1:(mf.lastIndex=0,mf.test(n))}static replaceCaptures(n,e,s){return n.replace(mf,(r,l,c,u)=>{let d=s[parseInt(l||c,10)];if(d){let p=e.substring(d.start,d.end);for(;p[0]===".";)p=p.substring(1);switch(u){case"downcase":return p.toLowerCase();case"upcase":return p.toUpperCase();default:return p}}else return r})}};function uv(n,e){return n<e?-1:n>e?1:0}function fv(n,e){if(n===null&&e===null)return 0;if(!n)return-1;if(!e)return 1;let s=n.length,r=e.length;if(s===r){for(let l=0;l<s;l++){let c=uv(n[l],e[l]);if(c!==0)return c}return 0}return s-r}function $y(n){return!!(/^#[0-9a-f]{6}$/i.test(n)||/^#[0-9a-f]{8}$/i.test(n)||/^#[0-9a-f]{3}$/i.test(n)||/^#[0-9a-f]{4}$/i.test(n))}function dv(n){return n.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var hv=class{constructor(n){this.fn=n}cache=new Map;get(n){if(this.cache.has(n))return this.cache.get(n);const e=this.fn(n);return this.cache.set(n,e),e}},xo=class{constructor(n,e,s){this._colorMap=n,this._defaults=e,this._root=s}static createFromRawTheme(n,e){return this.createFromParsedTheme(oC(n),e)}static createFromParsedTheme(n,e){return uC(n,e)}_cachedMatchRoot=new hv(n=>this._root.match(n));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(n){if(n===null)return this._defaults;const e=n.scopeName,r=this._cachedMatchRoot.get(e).find(l=>aC(n.parent,l.parentScopes));return r?new pv(r.fontStyle,r.foreground,r.background):null}},gf=class lo{constructor(e,s){this.parent=e,this.scopeName=s}static push(e,s){for(const r of s)e=new lo(e,r);return e}static from(...e){let s=null;for(let r=0;r<e.length;r++)s=new lo(s,e[r]);return s}push(e){return new lo(this,e)}getSegments(){let e=this;const s=[];for(;e;)s.push(e.scopeName),e=e.parent;return s.reverse(),s}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const s=[];let r=this;for(;r&&r!==e;)s.push(r.scopeName),r=r.parent;return r===e?s.reverse():void 0}};function aC(n,e){if(e.length===0)return!0;for(let s=0;s<e.length;s++){let r=e[s],l=!1;if(r===">"){if(s===e.length-1)return!1;r=e[++s],l=!0}for(;n&&!lC(n.scopeName,r);){if(l)return!1;n=n.parent}if(!n)return!1;n=n.parent}return!0}function lC(n,e){return e===n||n.startsWith(e)&&n[e.length]==="."}var pv=class{constructor(n,e,s){this.fontStyle=n,this.foregroundId=e,this.backgroundId=s}};function oC(n){if(!n)return[];if(!n.settings||!Array.isArray(n.settings))return[];let e=n.settings,s=[],r=0;for(let l=0,c=e.length;l<c;l++){let u=e[l];if(!u.settings)continue;let d;if(typeof u.scope=="string"){let y=u.scope;y=y.replace(/^[,]+/,""),y=y.replace(/[,]+$/,""),d=y.split(",")}else Array.isArray(u.scope)?d=u.scope:d=[""];let p=-1;if(typeof u.settings.fontStyle=="string"){p=0;let y=u.settings.fontStyle.split(" ");for(let _=0,b=y.length;_<b;_++)switch(y[_]){case"italic":p=p|1;break;case"bold":p=p|2;break;case"underline":p=p|4;break;case"strikethrough":p=p|8;break}}let m=null;typeof u.settings.foreground=="string"&&$y(u.settings.foreground)&&(m=u.settings.foreground);let g=null;typeof u.settings.background=="string"&&$y(u.settings.background)&&(g=u.settings.background);for(let y=0,_=d.length;y<_;y++){let S=d[y].trim().split(" "),E=S[S.length-1],O=null;S.length>1&&(O=S.slice(0,S.length-1),O.reverse()),s[r++]=new cC(E,O,l,p,m,g)}}return s}var cC=class{constructor(n,e,s,r,l,c){this.scope=n,this.parentScopes=e,this.index=s,this.fontStyle=r,this.foreground=l,this.background=c}},Rt=(n=>(n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline",n[n.Strikethrough=8]="Strikethrough",n))(Rt||{});function uC(n,e){n.sort((p,m)=>{let g=uv(p.scope,m.scope);return g!==0||(g=fv(p.parentScopes,m.parentScopes),g!==0)?g:p.index-m.index});let s=0,r="#000000",l="#ffffff";for(;n.length>=1&&n[0].scope==="";){let p=n.shift();p.fontStyle!==-1&&(s=p.fontStyle),p.foreground!==null&&(r=p.foreground),p.background!==null&&(l=p.background)}let c=new fC(e),u=new pv(s,c.getId(r),c.getId(l)),d=new hC(new Xf(0,null,-1,0,0),[]);for(let p=0,m=n.length;p<m;p++){let g=n[p];d.insert(0,g.scope,g.parentScopes,g.fontStyle,c.getId(g.foreground),c.getId(g.background))}return new xo(c,u,d)}var fC=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(n){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(n)){this._isFrozen=!0;for(let e=0,s=n.length;e<s;e++)this._color2id[n[e]]=e,this._id2color[e]=n[e]}else this._isFrozen=!1}getId(n){if(n===null)return 0;n=n.toUpperCase();let e=this._color2id[n];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${n}`);return e=++this._lastColorId,this._color2id[n]=e,this._id2color[e]=n,e}getColorMap(){return this._id2color.slice(0)}},dC=Object.freeze([]),Xf=class mv{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,s,r,l,c){this.scopeDepth=e,this.parentScopes=s||dC,this.fontStyle=r,this.foreground=l,this.background=c}clone(){return new mv(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let s=[];for(let r=0,l=e.length;r<l;r++)s[r]=e[r].clone();return s}acceptOverwrite(e,s,r,l){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,s!==-1&&(this.fontStyle=s),r!==0&&(this.foreground=r),l!==0&&(this.background=l)}},hC=class $f{constructor(e,s=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=s}_rulesWithParentScopes;static _cmpBySpecificity(e,s){if(e.scopeDepth!==s.scopeDepth)return s.scopeDepth-e.scopeDepth;let r=0,l=0;for(;e.parentScopes[r]===">"&&r++,s.parentScopes[l]===">"&&l++,!(r>=e.parentScopes.length||l>=s.parentScopes.length);){const c=s.parentScopes[l].length-e.parentScopes[r].length;if(c!==0)return c;r++,l++}return s.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),l,c;if(r===-1?(l=e,c=""):(l=e.substring(0,r),c=e.substring(r+1)),this._children.hasOwnProperty(l))return this._children[l].match(c)}const s=this._rulesWithParentScopes.concat(this._mainRule);return s.sort($f._cmpBySpecificity),s}insert(e,s,r,l,c,u){if(s===""){this._doInsertHere(e,r,l,c,u);return}let d=s.indexOf("."),p,m;d===-1?(p=s,m=""):(p=s.substring(0,d),m=s.substring(d+1));let g;this._children.hasOwnProperty(p)?g=this._children[p]:(g=new $f(this._mainRule.clone(),Xf.cloneArr(this._rulesWithParentScopes)),this._children[p]=g),g.insert(e+1,m,r,l,c,u)}_doInsertHere(e,s,r,l,c){if(s===null){this._mainRule.acceptOverwrite(e,r,l,c);return}for(let u=0,d=this._rulesWithParentScopes.length;u<d;u++){let p=this._rulesWithParentScopes[u];if(fv(p.parentScopes,s)===0){p.acceptOverwrite(e,r,l,c);return}}r===-1&&(r=this._mainRule.fontStyle),l===0&&(l=this._mainRule.foreground),c===0&&(c=this._mainRule.background),this._rulesWithParentScopes.push(new Xf(e,s,r,l,c))}},lr=class hn{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const s=hn.getLanguageId(e),r=hn.getTokenType(e),l=hn.getFontStyle(e),c=hn.getForeground(e),u=hn.getBackground(e);console.log({languageId:s,tokenType:r,fontStyle:l,foreground:c,background:u})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,s,r,l,c,u,d){let p=hn.getLanguageId(e),m=hn.getTokenType(e),g=hn.containsBalancedBrackets(e)?1:0,y=hn.getFontStyle(e),_=hn.getForeground(e),b=hn.getBackground(e);return s!==0&&(p=s),r!==8&&(m=r),l!==null&&(g=l?1:0),c!==-1&&(y=c),u!==0&&(_=u),d!==0&&(b=d),(p<<0|m<<8|g<<10|y<<11|_<<15|b<<24)>>>0}};function Eo(n,e){const s=[],r=pC(n);let l=r.next();for(;l!==null;){let p=0;if(l.length===2&&l.charAt(1)===":"){switch(l.charAt(0)){case"R":p=1;break;case"L":p=-1;break;default:console.log(`Unknown priority ${l} in scope selector`)}l=r.next()}let m=u();if(s.push({matcher:m,priority:p}),l!==",")break;l=r.next()}return s;function c(){if(l==="-"){l=r.next();const p=c();return m=>!!p&&!p(m)}if(l==="("){l=r.next();const p=d();return l===")"&&(l=r.next()),p}if(Jy(l)){const p=[];do p.push(l),l=r.next();while(Jy(l));return m=>e(p,m)}return null}function u(){const p=[];let m=c();for(;m;)p.push(m),m=c();return g=>p.every(y=>y(g))}function d(){const p=[];let m=u();for(;m&&(p.push(m),l==="|"||l===",");){do l=r.next();while(l==="|"||l===",");m=u()}return g=>p.some(y=>y(g))}}function Jy(n){return!!n&&!!n.match(/[\w\.:]+/)}function pC(n){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,s=e.exec(n);return{next:()=>{if(!s)return null;const r=s[0];return s=e.exec(n),r}}}function gv(n){typeof n.dispose=="function"&&n.dispose()}var xa=class{constructor(n){this.scopeName=n}toKey(){return this.scopeName}},mC=class{constructor(n,e){this.scopeName=n,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},gC=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(n){const e=n.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(n))}},yC=class{constructor(n,e){this.repo=n,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new xa(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const n=this.Q;this.Q=[];const e=new gC;for(const s of n)vC(s,this.initialScopeName,this.repo,e);for(const s of e.references)if(s instanceof xa){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};function vC(n,e,s,r){const l=s.lookup(n.scopeName);if(!l){if(n.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const c=s.lookup(e);n instanceof xa?oo({baseGrammar:c,selfGrammar:l},r):Jf(n.ruleName,{baseGrammar:c,selfGrammar:l,repository:l.repository},r);const u=s.injections(n.scopeName);if(u)for(const d of u)r.add(new xa(d))}function Jf(n,e,s){if(e.repository&&e.repository[n]){const r=e.repository[n];wo([r],e,s)}}function oo(n,e){n.selfGrammar.patterns&&Array.isArray(n.selfGrammar.patterns)&&wo(n.selfGrammar.patterns,{...n,repository:n.selfGrammar.repository},e),n.selfGrammar.injections&&wo(Object.values(n.selfGrammar.injections),{...n,repository:n.selfGrammar.repository},e)}function wo(n,e,s){for(const r of n){if(s.visitedRule.has(r))continue;s.visitedRule.add(r);const l=r.repository?ov({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&wo(r.patterns,{...e,repository:l},s);const c=r.include;if(!c)continue;const u=yv(c);switch(u.kind){case 0:oo({...e,selfGrammar:e.baseGrammar},s);break;case 1:oo(e,s);break;case 2:Jf(u.ruleName,{...e,repository:l},s);break;case 3:case 4:const d=u.scopeName===e.selfGrammar.scopeName?e.selfGrammar:u.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(d){const p={baseGrammar:e.baseGrammar,selfGrammar:d,repository:l};u.kind===4?Jf(u.ruleName,p,s):oo(p,s)}else u.kind===4?s.add(new mC(u.scopeName,u.ruleName)):s.add(new xa(u.scopeName));break}}}var _C=class{kind=0},bC=class{kind=1},SC=class{constructor(n){this.ruleName=n}kind=2},xC=class{constructor(n){this.scopeName=n}kind=3},EC=class{constructor(n,e){this.scopeName=n,this.ruleName=e}kind=4};function yv(n){if(n==="$base")return new _C;if(n==="$self")return new bC;const e=n.indexOf("#");if(e===-1)return new xC(n);if(e===0)return new SC(n.substring(1));{const s=n.substring(0,e),r=n.substring(e+1);return new EC(s,r)}}var wC=/\\(\d+)/,Zy=/\\(\d+)/g,TC=-1,vv=-2;var ka=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(n,e,s,r){this.$location=n,this.id=e,this._name=s||null,this._nameIsCapturing=Zl.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Zl.hasCaptures(this._contentName)}get debugName(){const n=this.$location?`${cv(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${n}`}getName(n,e){return!this._nameIsCapturing||this._name===null||n===null||e===null?this._name:Zl.replaceCaptures(this._name,n,e)}getContentName(n,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Zl.replaceCaptures(this._contentName,n,e)}},RC=class extends ka{retokenizeCapturedWithRuleId;constructor(n,e,s,r,l){super(n,e,s,r),this.retokenizeCapturedWithRuleId=l}dispose(){}collectPatterns(n,e){throw new Error("Not supported!")}compile(n,e){throw new Error("Not supported!")}compileAG(n,e,s,r){throw new Error("Not supported!")}},CC=class extends ka{_match;captures;_cachedCompiledPatterns;constructor(n,e,s,r,l){super(n,e,s,null),this._match=new Ea(r,this.id),this.captures=l,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(n,e){e.push(this._match)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new wa,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Wy=class extends ka{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(n,e,s,r,l){super(n,e,s,r),this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(n,e){for(const s of this.patterns)n.getRule(s).collectPatterns(n,e)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new wa,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Zf=class extends ka{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(n,e,s,r,l,c,u,d,p,m){super(n,e,s,r),this._begin=new Ea(l,this.id),this.beginCaptures=c,this._end=new Ea(u||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=d,this.applyEndPatternLast=p||!1,this.patterns=m.patterns,this.hasMissingPatterns=m.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(n,e){return this._end.resolveBackReferences(n,e)}collectPatterns(n,e){e.push(this._begin)}compile(n,e){return this._getCachedCompiledPatterns(n,e).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n,e).compileAG(n,s,r)}_getCachedCompiledPatterns(n,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new wa;for(const s of this.patterns)n.getRule(s).collectPatterns(n,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},To=class extends ka{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(n,e,s,r,l,c,u,d,p){super(n,e,s,r),this._begin=new Ea(l,this.id),this.beginCaptures=c,this.whileCaptures=d,this._while=new Ea(u,vv),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=p.patterns,this.hasMissingPatterns=p.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(n,e){return this._while.resolveBackReferences(n,e)}collectPatterns(n,e){e.push(this._begin)}compile(n,e){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,e,s,r){return this._getCachedCompiledPatterns(n).compileAG(n,s,r)}_getCachedCompiledPatterns(n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new wa;for(const e of this.patterns)n.getRule(e).collectPatterns(n,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(n,e){return this._getCachedCompiledWhilePatterns(n,e).compile(n)}compileWhileAG(n,e,s,r){return this._getCachedCompiledWhilePatterns(n,e).compileAG(n,s,r)}_getCachedCompiledWhilePatterns(n,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new wa,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},_v=class wt{static createCaptureRule(e,s,r,l,c){return e.registerRule(u=>new RC(s,u,r,l,c))}static getCompiledRuleId(e,s,r){return e.id||s.registerRule(l=>{if(e.id=l,e.match)return new CC(e.$vscodeTextmateLocation,e.id,e.name,e.match,wt._compileCaptures(e.captures,s,r));if(typeof e.begin>"u"){e.repository&&(r=ov({},r,e.repository));let c=e.patterns;return typeof c>"u"&&e.include&&(c=[{include:e.include}]),new Wy(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,wt._compilePatterns(c,s,r))}return e.while?new To(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,wt._compileCaptures(e.beginCaptures||e.captures,s,r),e.while,wt._compileCaptures(e.whileCaptures||e.captures,s,r),wt._compilePatterns(e.patterns,s,r)):new Zf(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,wt._compileCaptures(e.beginCaptures||e.captures,s,r),e.end,wt._compileCaptures(e.endCaptures||e.captures,s,r),e.applyEndPatternLast,wt._compilePatterns(e.patterns,s,r))}),e.id}static _compileCaptures(e,s,r){let l=[];if(e){let c=0;for(const u in e){if(u==="$vscodeTextmateLocation")continue;const d=parseInt(u,10);d>c&&(c=d)}for(let u=0;u<=c;u++)l[u]=null;for(const u in e){if(u==="$vscodeTextmateLocation")continue;const d=parseInt(u,10);let p=0;e[u].patterns&&(p=wt.getCompiledRuleId(e[u],s,r)),l[d]=wt.createCaptureRule(s,e[u].$vscodeTextmateLocation,e[u].name,e[u].contentName,p)}}return l}static _compilePatterns(e,s,r){let l=[];if(e)for(let c=0,u=e.length;c<u;c++){const d=e[c];let p=-1;if(d.include){const m=yv(d.include);switch(m.kind){case 0:case 1:p=wt.getCompiledRuleId(r[d.include],s,r);break;case 2:let g=r[m.ruleName];g&&(p=wt.getCompiledRuleId(g,s,r));break;case 3:case 4:const y=m.scopeName,_=m.kind===4?m.ruleName:null,b=s.getExternalGrammar(y,r);if(b)if(_){let S=b.repository[_];S&&(p=wt.getCompiledRuleId(S,s,b.repository))}else p=wt.getCompiledRuleId(b.repository.$self,s,b.repository);break}}else p=wt.getCompiledRuleId(d,s,r);if(p!==-1){const m=s.getRule(p);let g=!1;if((m instanceof Wy||m instanceof Zf||m instanceof To)&&m.hasMissingPatterns&&m.patterns.length===0&&(g=!0),g)continue;l.push(p)}}return{patterns:l,hasMissingPatterns:(e?e.length:0)!==l.length}}},Ea=class bv{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,s){if(e&&typeof e=="string"){const r=e.length;let l=0,c=[],u=!1;for(let d=0;d<r;d++)if(e.charAt(d)==="\\"&&d+1<r){const m=e.charAt(d+1);m==="z"?(c.push(e.substring(l,d)),c.push("$(?!\\n)(?<!\\n)"),l=d+2):(m==="A"||m==="G")&&(u=!0),d++}this.hasAnchor=u,l===0?this.source=e:(c.push(e.substring(l,r)),this.source=c.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,typeof this.source=="string"?this.hasBackReferences=wC.test(this.source):this.hasBackReferences=!1}clone(){return new bv(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,s){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=s.map(l=>e.substring(l.start,l.end));return Zy.lastIndex=0,this.source.replace(Zy,(l,c)=>dv(r[parseInt(c,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],s=[],r=[],l=[],c,u,d,p;for(c=0,u=this.source.length;c<u;c++)d=this.source.charAt(c),e[c]=d,s[c]=d,r[c]=d,l[c]=d,d==="\\"&&c+1<u&&(p=this.source.charAt(c+1),p==="A"?(e[c+1]="",s[c+1]="",r[c+1]="A",l[c+1]="A"):p==="G"?(e[c+1]="",s[c+1]="G",r[c+1]="",l[c+1]="G"):(e[c+1]=p,s[c+1]=p,r[c+1]=p,l[c+1]=p),c++);return{A0_G0:e.join(""),A0_G1:s.join(""),A1_G0:r.join(""),A1_G1:l.join("")}}resolveAnchors(e,s){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},wa=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(n){this._items.push(n),this._hasAnchors=this._hasAnchors||n.hasAnchor}unshift(n){this._items.unshift(n),this._hasAnchors=this._hasAnchors||n.hasAnchor}length(){return this._items.length}setSource(n,e){this._items[n].source!==e&&(this._disposeCaches(),this._items[n].setSource(e))}compile(n){if(!this._cached){let e=this._items.map(s=>s.source);this._cached=new e0(n,e,this._items.map(s=>s.ruleId))}return this._cached}compileAG(n,e,s){return this._hasAnchors?e?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(n,e,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(n,e,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(n,e,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(n,e,s)),this._anchorCache.A0_G0):this.compile(n)}_resolveAnchors(n,e,s){let r=this._items.map(l=>l.resolveAnchors(e,s));return new e0(n,r,this._items.map(l=>l.ruleId))}},e0=class{constructor(n,e,s){this.regExps=e,this.rules=s,this.scanner=n.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const n=[];for(let e=0,s=this.rules.length;e<s;e++)n.push("   - "+this.rules[e]+": "+this.regExps[e]);return n.join(`
`)}findNextMatchSync(n,e,s){const r=this.scanner.findNextMatchSync(n,e,s);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},yf=class{constructor(n,e){this.languageId=n,this.tokenType=e}},AC=class Wf{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,s){this._defaultAttributes=new yf(e,8),this._embeddedLanguagesMatcher=new OC(Object.entries(s||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Wf._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new yf(0,0);_getBasicScopeAttributes=new hv(e=>{const s=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new yf(s,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const s=e.match(Wf.STANDARD_TOKEN_TYPE_REGEXP);if(!s)return 8;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},OC=class{values;scopesRegExp;constructor(n){if(n.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(n);const e=n.map(([s,r])=>dv(s));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(n){if(!this.scopesRegExp)return;const e=n.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},t0=class{constructor(n,e){this.stack=n,this.stoppedEarly=e}};function Sv(n,e,s,r,l,c,u,d){const p=e.content.length;let m=!1,g=-1;if(u){const b=kC(n,e,s,r,l,c);l=b.stack,r=b.linePos,s=b.isFirstLine,g=b.anchorPosition}const y=Date.now();for(;!m;){if(d!==0&&Date.now()-y>d)return new t0(l,!0);_()}return new t0(l,!1);function _(){const b=DC(n,e,s,r,l,g);if(!b){c.produce(l,p),m=!0;return}const S=b.captureIndices,E=b.matchedRuleId,O=S&&S.length>0?S[0].end>r:!1;if(E===TC){const D=l.getRule(n);c.produce(l,S[0].start),l=l.withContentNameScopesList(l.nameScopesList),ha(n,e,s,l,c,D.endCaptures,S),c.produce(l,S[0].end);const U=l;if(l=l.parent,g=U.getAnchorPos(),!O&&U.getEnterPos()===r){l=U,c.produce(l,p),m=!0;return}}else{const D=n.getRule(E);c.produce(l,S[0].start);const U=l,L=D.getName(e.content,S),z=l.contentNameScopesList.pushAttributed(L,n);if(l=l.push(E,r,g,S[0].end===p,null,z,z),D instanceof Zf){const C=D;ha(n,e,s,l,c,C.beginCaptures,S),c.produce(l,S[0].end),g=S[0].end;const N=C.getContentName(e.content,S),V=z.pushAttributed(N,n);if(l=l.withContentNameScopesList(V),C.endHasBackReferences&&(l=l.withEndRule(C.getEndWithResolvedBackReferences(e.content,S))),!O&&U.hasSameRuleAs(l)){l=l.pop(),c.produce(l,p),m=!0;return}}else if(D instanceof To){const C=D;ha(n,e,s,l,c,C.beginCaptures,S),c.produce(l,S[0].end),g=S[0].end;const N=C.getContentName(e.content,S),V=z.pushAttributed(N,n);if(l=l.withContentNameScopesList(V),C.whileHasBackReferences&&(l=l.withEndRule(C.getWhileWithResolvedBackReferences(e.content,S))),!O&&U.hasSameRuleAs(l)){l=l.pop(),c.produce(l,p),m=!0;return}}else if(ha(n,e,s,l,c,D.captures,S),c.produce(l,S[0].end),l=l.pop(),!O){l=l.safePop(),c.produce(l,p),m=!0;return}}S[0].end>r&&(r=S[0].end,s=!1)}}function kC(n,e,s,r,l,c){let u=l.beginRuleCapturedEOL?0:-1;const d=[];for(let p=l;p;p=p.pop()){const m=p.getRule(n);m instanceof To&&d.push({rule:m,stack:p})}for(let p=d.pop();p;p=d.pop()){const{ruleScanner:m,findOptions:g}=LC(p.rule,n,p.stack.endRule,s,r===u),y=m.findNextMatchSync(e,r,g);if(y){if(y.ruleId!==vv){l=p.stack.pop();break}y.captureIndices&&y.captureIndices.length&&(c.produce(p.stack,y.captureIndices[0].start),ha(n,e,s,p.stack,c,p.rule.whileCaptures,y.captureIndices),c.produce(p.stack,y.captureIndices[0].end),u=y.captureIndices[0].end,y.captureIndices[0].end>r&&(r=y.captureIndices[0].end,s=!1))}else{l=p.stack.pop();break}}return{stack:l,linePos:r,anchorPosition:u,isFirstLine:s}}function DC(n,e,s,r,l,c){const u=NC(n,e,s,r,l,c),d=n.getInjections();if(d.length===0)return u;const p=MC(d,n,e,s,r,l,c);if(!p)return u;if(!u)return p;const m=u.captureIndices[0].start,g=p.captureIndices[0].start;return g<m||p.priorityMatch&&g===m?p:u}function NC(n,e,s,r,l,c){const u=l.getRule(n),{ruleScanner:d,findOptions:p}=xv(u,n,l.endRule,s,r===c),m=d.findNextMatchSync(e,r,p);return m?{captureIndices:m.captureIndices,matchedRuleId:m.ruleId}:null}function MC(n,e,s,r,l,c,u){let d=Number.MAX_VALUE,p=null,m,g=0;const y=c.contentNameScopesList.getScopeNames();for(let _=0,b=n.length;_<b;_++){const S=n[_];if(!S.matcher(y))continue;const E=e.getRule(S.ruleId),{ruleScanner:O,findOptions:D}=xv(E,e,null,r,l===u),U=O.findNextMatchSync(s,l,D);if(!U)continue;const L=U.captureIndices[0].start;if(!(L>=d)&&(d=L,p=U.captureIndices,m=U.ruleId,g=S.priority,d===l))break}return p?{priorityMatch:g===-1,captureIndices:p,matchedRuleId:m}:null}function xv(n,e,s,r,l){return{ruleScanner:n.compileAG(e,s,r,l),findOptions:0}}function LC(n,e,s,r,l){return{ruleScanner:n.compileWhileAG(e,s,r,l),findOptions:0}}function ha(n,e,s,r,l,c,u){if(c.length===0)return;const d=e.content,p=Math.min(c.length,u.length),m=[],g=u[0].end;for(let y=0;y<p;y++){const _=c[y];if(_===null)continue;const b=u[y];if(b.length===0)continue;if(b.start>g)break;for(;m.length>0&&m[m.length-1].endPos<=b.start;)l.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop();if(m.length>0?l.produceFromScopes(m[m.length-1].scopes,b.start):l.produce(r,b.start),_.retokenizeCapturedWithRuleId){const E=_.getName(d,u),O=r.contentNameScopesList.pushAttributed(E,n),D=_.getContentName(d,u),U=O.pushAttributed(D,n),L=r.push(_.retokenizeCapturedWithRuleId,b.start,-1,!1,null,O,U),z=n.createOnigString(d.substring(0,b.end));Sv(n,z,s&&b.start===0,b.start,L,l,!1,0),gv(z);continue}const S=_.getName(d,u);if(S!==null){const O=(m.length>0?m[m.length-1].scopes:r.contentNameScopesList).pushAttributed(S,n);m.push(new jC(O,b.end))}}for(;m.length>0;)l.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop()}var jC=class{scopes;endPos;constructor(n,e){this.scopes=n,this.endPos=e}};function zC(n,e,s,r,l,c,u,d){return new BC(n,e,s,r,l,c,u,d)}function n0(n,e,s,r,l){const c=Eo(e,Ro),u=_v.getCompiledRuleId(s,r,l.repository);for(const d of c)n.push({debugSelector:e,matcher:d.matcher,ruleId:u,grammar:l,priority:d.priority})}function Ro(n,e){if(e.length<n.length)return!1;let s=0;return n.every(r=>{for(let l=s;l<e.length;l++)if(IC(e[l],r))return s=l+1,!0;return!1})}function IC(n,e){if(!n)return!1;if(n===e)return!0;const s=e.length;return n.length>s&&n.substr(0,s)===e&&n[s]==="."}var BC=class{constructor(n,e,s,r,l,c,u,d){if(this._rootScopeName=n,this.balancedBracketSelectors=c,this._onigLib=d,this._basicScopeAttributesProvider=new AC(s,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=u,this._grammar=i0(e,null),this._injections=null,this._tokenTypeMatchers=[],l)for(const p of Object.keys(l)){const m=Eo(p,Ro);for(const g of m)this._tokenTypeMatchers.push({matcher:g.matcher,type:l[p]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const n of this._ruleId2desc)n&&n.dispose()}createOnigScanner(n){return this._onigLib.createOnigScanner(n)}createOnigString(n){return this._onigLib.createOnigString(n)}getMetadataForScope(n){return this._basicScopeAttributesProvider.getBasicScopeAttributes(n)}_collectInjections(){const n={lookup:l=>l===this._rootScopeName?this._grammar:this.getExternalGrammar(l),injections:l=>this._grammarRepository.injections(l)},e=[],s=this._rootScopeName,r=n.lookup(s);if(r){const l=r.injections;if(l)for(let u in l)n0(e,u,l[u],this,r);const c=this._grammarRepository.injections(s);c&&c.forEach(u=>{const d=this.getExternalGrammar(u);if(d){const p=d.injectionSelector;p&&n0(e,p,d,this,d)}})}return e.sort((l,c)=>l.priority-c.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(n){const e=++this._lastRuleId,s=n(e);return this._ruleId2desc[e]=s,s}getRule(n){return this._ruleId2desc[n]}getExternalGrammar(n,e){if(this._includedGrammars[n])return this._includedGrammars[n];if(this._grammarRepository){const s=this._grammarRepository.lookup(n);if(s)return this._includedGrammars[n]=i0(s,e&&e.$base),this._includedGrammars[n]}}tokenizeLine(n,e,s=0){const r=this._tokenize(n,e,!1,s);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(n,e,s=0){const r=this._tokenize(n,e,!0,s);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(n,e,s,r){this._rootId===-1&&(this._rootId=_v.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let l;if(!e||e===ed.NULL){l=!0;const m=this._basicScopeAttributesProvider.getDefaultAttributes(),g=this.themeProvider.getDefaults(),y=lr.set(0,m.languageId,m.tokenType,null,g.fontStyle,g.foregroundId,g.backgroundId),_=this.getRule(this._rootId).getName(null,null);let b;_?b=ga.createRootAndLookUpScopeName(_,y,this):b=ga.createRoot("unknown",y),e=new ed(null,this._rootId,-1,-1,!1,null,b,b)}else l=!1,e.reset();n=n+`
`;const c=this.createOnigString(n),u=c.content.length,d=new PC(s,n,this._tokenTypeMatchers,this.balancedBracketSelectors),p=Sv(this,c,l,0,e,d,!0,r);return gv(c),{lineLength:u,lineTokens:d,ruleStack:p.stack,stoppedEarly:p.stoppedEarly}}};function i0(n,e){return n=iC(n),n.repository=n.repository||{},n.repository.$self={$vscodeTextmateLocation:n.$vscodeTextmateLocation,patterns:n.patterns,name:n.scopeName},n.repository.$base=e||n.repository.$self,n}var ga=class kn{constructor(e,s,r){this.parent=e,this.scopePath=s,this.tokenAttributes=r}static fromExtension(e,s){let r=e,l=e?.scopePath??null;for(const c of s)l=gf.push(l,c.scopeNames),r=new kn(r,l,c.encodedTokenAttributes);return r}static createRoot(e,s){return new kn(null,new gf(null,e),s)}static createRootAndLookUpScopeName(e,s,r){const l=r.getMetadataForScope(e),c=new gf(null,e),u=r.themeProvider.themeMatch(c),d=kn.mergeAttributes(s,l,u);return new kn(null,c,d)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return kn.equals(this,e)}static equals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.scopeName!==s.scopeName||e.tokenAttributes!==s.tokenAttributes)return!1;e=e.parent,s=s.parent}while(!0)}static mergeAttributes(e,s,r){let l=-1,c=0,u=0;return r!==null&&(l=r.fontStyle,c=r.foregroundId,u=r.backgroundId),lr.set(e,s.languageId,s.tokenType,null,l,c,u)}pushAttributed(e,s){if(e===null)return this;if(e.indexOf(" ")===-1)return kn._pushAttributed(this,e,s);const r=e.split(/ /g);let l=this;for(const c of r)l=kn._pushAttributed(l,c,s);return l}static _pushAttributed(e,s,r){const l=r.getMetadataForScope(s),c=e.scopePath.push(s),u=r.themeProvider.themeMatch(c),d=kn.mergeAttributes(e.tokenAttributes,l,u);return new kn(e,c,d)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const s=[];let r=this;for(;r&&r!==e;)s.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?s.reverse():void 0}},ed=class as{constructor(e,s,r,l,c,u,d,p){this.parent=e,this.ruleId=s,this.beginRuleCapturedEOL=c,this.endRule=u,this.nameScopesList=d,this.contentNameScopesList=p,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=l}_stackElementBrand=void 0;static NULL=new as(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:as._equals(this,e)}static _equals(e,s){return e===s?!0:this._structuralEquals(e,s)?ga.equals(e.contentNameScopesList,s.contentNameScopesList):!1}static _structuralEquals(e,s){do{if(e===s||!e&&!s)return!0;if(!e||!s||e.depth!==s.depth||e.ruleId!==s.ruleId||e.endRule!==s.endRule)return!1;e=e.parent,s=s.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){as._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,s,r,l,c,u,d){return new as(this,e,s,r,l,c,u,d)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,s){return this.parent&&(s=this.parent._writeString(e,s)),e[s++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,s}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new as(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let s=this;for(;s&&s._enterPos===e._enterPos;){if(s.ruleId===e.ruleId)return!0;s=s.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,s){const r=ga.fromExtension(e?.nameScopesList??null,s.nameScopesList);return new as(e,s.ruleId,s.enterPos??-1,s.anchorPos??-1,s.beginRuleCapturedEOL,s.endRule,r,ga.fromExtension(r,s.contentNameScopesList))}},UC=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(n,e){this.balancedBracketScopes=n.flatMap(s=>s==="*"?(this.allowAny=!0,[]):Eo(s,Ro).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(s=>Eo(s,Ro).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(n){for(const e of this.unbalancedBracketScopes)if(e(n))return!1;for(const e of this.balancedBracketScopes)if(e(n))return!0;return this.allowAny}},PC=class{constructor(n,e,s,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=n,this._tokenTypeOverrides=s,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(n,e){this.produceFromScopes(n.contentNameScopesList,e)}produceFromScopes(n,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=n?.tokenAttributes??0,l=!1;if(this.balancedBracketSelectors?.matchesAlways&&(l=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const c=n?.getScopeNames()??[];for(const u of this._tokenTypeOverrides)u.matcher(c)&&(r=lr.set(r,0,u.type,null,-1,0,0));this.balancedBracketSelectors&&(l=this.balancedBracketSelectors.match(c))}if(l&&(r=lr.set(r,0,8,l,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const s=n?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:s}),this._lastTokenEndIndex=e}getResult(n,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(n,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(n,e),this._binaryTokens[this._binaryTokens.length-2]=0);const s=new Uint32Array(this._binaryTokens.length);for(let r=0,l=this._binaryTokens.length;r<l;r++)s[r]=this._binaryTokens[r];return s}},VC=class{constructor(n,e){this._onigLib=e,this._theme=n}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const n of this._grammars.values())n.dispose()}setTheme(n){this._theme=n}getColorMap(){return this._theme.getColorMap()}addGrammar(n,e){this._rawGrammars.set(n.scopeName,n),e&&this._injectionGrammars.set(n.scopeName,e)}lookup(n){return this._rawGrammars.get(n)}injections(n){return this._injectionGrammars.get(n)}getDefaults(){return this._theme.getDefaults()}themeMatch(n){return this._theme.match(n)}grammarForScopeName(n,e,s,r,l){if(!this._grammars.has(n)){let c=this._rawGrammars.get(n);if(!c)return null;this._grammars.set(n,zC(n,c,e,s,r,l,this,this._onigLib))}return this._grammars.get(n)}},HC=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new VC(xo.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,s){this._syncRegistry.setTheme(xo.createFromRawTheme(e,s))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,s,r){return this.loadGrammarWithConfiguration(e,s,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,s,r){return this._loadGrammar(e,s,r.embeddedLanguages,r.tokenTypes,new UC(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,s,r,l,c){const u=new yC(this._syncRegistry,e);for(;u.Q.length>0;)u.Q.map(d=>this._loadSingleGrammar(d.scopeName)),u.processQueue();return this._grammarForScopeName(e,s,r,l,c)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const s=this._options.loadGrammar(e);if(s){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(s,r)}}addGrammar(e,s=[],r=0,l=null){return this._syncRegistry.addGrammar(e,s),this._grammarForScopeName(e.scopeName,r,l)}_grammarForScopeName(e,s=0,r=null,l=null,c=null){return this._syncRegistry.grammarForScopeName(e,s,r,l,c)}},td=ed.NULL;const qC=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Da{constructor(e,s,r){this.normal=s,this.property=e,r&&(this.space=r)}}Da.prototype.normal={};Da.prototype.property={};Da.prototype.space=void 0;function Ev(n,e){const s={},r={};for(const l of n)Object.assign(s,l.property),Object.assign(r,l.normal);return new Da(s,r,e)}function nd(n){return n.toLowerCase()}class Vt{constructor(e,s){this.attribute=s,this.property=e}}Vt.prototype.attribute="";Vt.prototype.booleanish=!1;Vt.prototype.boolean=!1;Vt.prototype.commaOrSpaceSeparated=!1;Vt.prototype.commaSeparated=!1;Vt.prototype.defined=!1;Vt.prototype.mustUseProperty=!1;Vt.prototype.number=!1;Vt.prototype.overloadedBoolean=!1;Vt.prototype.property="";Vt.prototype.spaceSeparated=!1;Vt.prototype.space=void 0;let GC=0;const be=ds(),et=ds(),id=ds(),te=ds(),Ve=ds(),ir=ds(),Jt=ds();function ds(){return 2**++GC}const sd=Object.freeze(Object.defineProperty({__proto__:null,boolean:be,booleanish:et,commaOrSpaceSeparated:Jt,commaSeparated:ir,number:te,overloadedBoolean:id,spaceSeparated:Ve},Symbol.toStringTag,{value:"Module"})),vf=Object.keys(sd);class Md extends Vt{constructor(e,s,r,l){let c=-1;if(super(e,s),s0(this,"space",l),typeof r=="number")for(;++c<vf.length;){const u=vf[c];s0(this,vf[c],(r&sd[u])===sd[u])}}}Md.prototype.defined=!0;function s0(n,e,s){s&&(n[e]=s)}function fr(n){const e={},s={};for(const[r,l]of Object.entries(n.properties)){const c=new Md(r,n.transform(n.attributes||{},r),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(c.mustUseProperty=!0),e[r]=c,s[nd(r)]=r,s[nd(c.attribute)]=r}return new Da(e,s,n.space)}const wv=fr({properties:{ariaActiveDescendant:null,ariaAtomic:et,ariaAutoComplete:null,ariaBusy:et,ariaChecked:et,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Ve,ariaCurrent:null,ariaDescribedBy:Ve,ariaDetails:null,ariaDisabled:et,ariaDropEffect:Ve,ariaErrorMessage:null,ariaExpanded:et,ariaFlowTo:Ve,ariaGrabbed:et,ariaHasPopup:null,ariaHidden:et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ve,ariaLevel:te,ariaLive:null,ariaModal:et,ariaMultiLine:et,ariaMultiSelectable:et,ariaOrientation:null,ariaOwns:Ve,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:et,ariaReadOnly:et,ariaRelevant:null,ariaRequired:et,ariaRoleDescription:Ve,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:et,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Tv(n,e){return e in n?n[e]:e}function Rv(n,e){return Tv(n,e.toLowerCase())}const KC=fr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ir,acceptCharset:Ve,accessKey:Ve,action:null,allow:null,allowFullScreen:be,allowPaymentRequest:be,allowUserMedia:be,alt:null,as:null,async:be,autoCapitalize:null,autoComplete:Ve,autoFocus:be,autoPlay:be,blocking:Ve,capture:null,charSet:null,checked:be,cite:null,className:Ve,cols:te,colSpan:null,content:null,contentEditable:et,controls:be,controlsList:Ve,coords:te|ir,crossOrigin:null,data:null,dateTime:null,decoding:null,default:be,defer:be,dir:null,dirName:null,disabled:be,download:id,draggable:et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:be,formTarget:null,headers:Ve,height:te,hidden:id,high:te,href:null,hrefLang:null,htmlFor:Ve,httpEquiv:Ve,id:null,imageSizes:null,imageSrcSet:null,inert:be,inputMode:null,integrity:null,is:null,isMap:be,itemId:null,itemProp:Ve,itemRef:Ve,itemScope:be,itemType:Ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:be,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:be,muted:be,name:null,nonce:null,noModule:be,noValidate:be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:be,optimum:te,pattern:null,ping:Ve,placeholder:null,playsInline:be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:be,referrerPolicy:null,rel:Ve,required:be,reversed:be,rows:te,rowSpan:te,sandbox:Ve,scope:null,scoped:be,seamless:be,selected:be,shadowRootClonable:be,shadowRootDelegatesFocus:be,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:be,useMap:null,value:et,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ve,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:be,declare:be,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:be,noHref:be,noShade:be,noWrap:be,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:et,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:be,disableRemotePlayback:be,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:Rv}),QC=fr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jt,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:be,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ir,g2:ir,glyphName:ir,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jt,rev:Jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jt,requiredFeatures:Jt,requiredFonts:Jt,requiredFormats:Jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jt,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Tv}),Cv=fr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),Av=fr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rv}),Ov=fr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),FC=/[A-Z]/g,r0=/-[a-z]/g,YC=/^data[-\w.:]+$/i;function XC(n,e){const s=nd(e);let r=e,l=Vt;if(s in n.normal)return n.property[n.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&YC.test(e)){if(e.charAt(4)==="-"){const c=e.slice(5).replace(r0,JC);r="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=e.slice(4);if(!r0.test(c)){let u=c.replace(FC,$C);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}l=Md}return new l(r,e)}function $C(n){return"-"+n.toLowerCase()}function JC(n){return n.charAt(1).toUpperCase()}const ZC=Ev([wv,KC,Cv,Av,Ov],"html"),kv=Ev([wv,QC,Cv,Av,Ov],"svg"),a0={}.hasOwnProperty;function WC(n,e){const s=e||{};function r(l,...c){let u=r.invalid;const d=r.handlers;if(l&&a0.call(l,n)){const p=String(l[n]);u=a0.call(d,p)?d[p]:r.unknown}if(u)return u.call(this,l,...c)}return r.handlers=s.handlers||{},r.invalid=s.invalid,r.unknown=s.unknown,r}const eA=/["&'<>`]/g,tA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nA=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,iA=/[|\\{}()[\]^$+*?.]/g,l0=new WeakMap;function sA(n,e){if(n=n.replace(e.subset?rA(e.subset):eA,r),e.subset||e.escapeOnly)return n;return n.replace(tA,s).replace(nA,r);function s(l,c,u){return e.format((l.charCodeAt(0)-55296)*1024+l.charCodeAt(1)-56320+65536,u.charCodeAt(c+2),e)}function r(l,c,u){return e.format(l.charCodeAt(0),u.charCodeAt(c+1),e)}}function rA(n){let e=l0.get(n);return e||(e=aA(n),l0.set(n,e)),e}function aA(n){const e=[];let s=-1;for(;++s<n.length;)e.push(n[s].replace(iA,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const lA=/[\dA-Fa-f]/;function oA(n,e,s){const r="&#x"+n.toString(16).toUpperCase();return s&&e&&!lA.test(String.fromCharCode(e))?r:r+";"}const cA=/\d/;function uA(n,e,s){const r="&#"+String(n);return s&&e&&!cA.test(String.fromCharCode(e))?r:r+";"}const fA=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],_f={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},dA=["cent","copy","divide","gt","lt","not","para","times"],Dv={}.hasOwnProperty,rd={};let Wl;for(Wl in _f)Dv.call(_f,Wl)&&(rd[_f[Wl]]=Wl);const hA=/[^\dA-Za-z]/;function pA(n,e,s,r){const l=String.fromCharCode(n);if(Dv.call(rd,l)){const c=rd[l],u="&"+c;return s&&fA.includes(c)&&!dA.includes(c)&&(!r||e&&e!==61&&hA.test(String.fromCharCode(e)))?u:u+";"}return""}function mA(n,e,s){let r=oA(n,e,s.omitOptionalSemicolons),l;if((s.useNamedReferences||s.useShortestReferences)&&(l=pA(n,e,s.omitOptionalSemicolons,s.attribute)),(s.useShortestReferences||!l)&&s.useShortestReferences){const c=uA(n,e,s.omitOptionalSemicolons);c.length<r.length&&(r=c)}return l&&(!s.useShortestReferences||l.length<r.length)?l:r}function sr(n,e){return sA(n,Object.assign({format:mA},e))}const gA=/^>|^->|<!--|-->|--!>|<!-$/g,yA=[">"],vA=["<",">"];function _A(n,e,s,r){return r.settings.bogusComments?"<?"+sr(n.value,Object.assign({},r.settings.characterReferences,{subset:yA}))+">":"<!--"+n.value.replace(gA,l)+"-->";function l(c){return sr(c,Object.assign({},r.settings.characterReferences,{subset:vA}))}}function bA(n,e,s,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function o0(n,e){const s=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,l=s.indexOf(e);for(;l!==-1;)r++,l=s.indexOf(e,l+e.length);return r}function SA(n,e){const s=e||{};return(n[n.length-1]===""?[...n,""]:n).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}function xA(n){return n.join(" ").trim()}const EA=/[ \t\n\f\r]/g;function Ld(n){return typeof n=="object"?n.type==="text"?c0(n.value):!1:c0(n)}function c0(n){return n.replace(EA,"")===""}const at=Mv(1),Nv=Mv(-1),wA=[];function Mv(n){return e;function e(s,r,l){const c=s?s.children:wA;let u=(r||0)+n,d=c[u];if(!l)for(;d&&Ld(d);)u+=n,d=c[u];return d}}const TA={}.hasOwnProperty;function Lv(n){return e;function e(s,r,l){return TA.call(n,s.tagName)&&n[s.tagName](s,r,l)}}const jd=Lv({body:CA,caption:bf,colgroup:bf,dd:DA,dt:kA,head:bf,html:RA,li:OA,optgroup:NA,option:MA,p:AA,rp:u0,rt:u0,tbody:jA,td:f0,tfoot:zA,th:f0,thead:LA,tr:IA});function bf(n,e,s){const r=at(s,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Ld(r.value.charAt(0)))}function RA(n,e,s){const r=at(s,e);return!r||r.type!=="comment"}function CA(n,e,s){const r=at(s,e);return!r||r.type!=="comment"}function AA(n,e,s){const r=at(s,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function OA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&r.tagName==="li"}function kA(n,e,s){const r=at(s,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function DA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function u0(n,e,s){const r=at(s,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function NA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function MA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function LA(n,e,s){const r=at(s,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function jA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function zA(n,e,s){return!at(s,e)}function IA(n,e,s){const r=at(s,e);return!r||r.type==="element"&&r.tagName==="tr"}function f0(n,e,s){const r=at(s,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const BA=Lv({body:VA,colgroup:HA,head:PA,html:UA,tbody:qA});function UA(n){const e=at(n,-1);return!e||e.type!=="comment"}function PA(n){const e=new Set;for(const r of n.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const s=n.children[0];return!s||s.type==="element"}function VA(n){const e=at(n,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Ld(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function HA(n,e,s){const r=Nv(s,e),l=at(n,-1,!0);return s&&r&&r.type==="element"&&r.tagName==="colgroup"&&jd(r,s.children.indexOf(r),s)?!1:!!(l&&l.type==="element"&&l.tagName==="col")}function qA(n,e,s){const r=Nv(s,e),l=at(n,-1);return s&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&jd(r,s.children.indexOf(r),s)?!1:!!(l&&l.type==="element"&&l.tagName==="tr")}const eo={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function GA(n,e,s,r){const l=r.schema,c=l.space==="svg"?!1:r.settings.omitOptionalTags;let u=l.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(n.tagName.toLowerCase());const d=[];let p;l.space==="html"&&n.tagName==="svg"&&(r.schema=kv);const m=KA(r,n.properties),g=r.all(l.space==="html"&&n.tagName==="template"?n.content:n);return r.schema=l,g&&(u=!1),(m||!c||!BA(n,e,s))&&(d.push("<",n.tagName,m?" "+m:""),u&&(l.space==="svg"||r.settings.closeSelfClosing)&&(p=m.charAt(m.length-1),(!r.settings.tightSelfClosing||p==="/"||p&&p!=='"'&&p!=="'")&&d.push(" "),d.push("/")),d.push(">")),d.push(g),!u&&(!c||!jd(n,e,s))&&d.push("</"+n.tagName+">"),d.join("")}function KA(n,e){const s=[];let r=-1,l;if(e){for(l in e)if(e[l]!==null&&e[l]!==void 0){const c=QA(n,l,e[l]);c&&s.push(c)}}for(;++r<s.length;){const c=n.settings.tightAttributes?s[r].charAt(s[r].length-1):void 0;r!==s.length-1&&c!=='"'&&c!=="'"&&(s[r]+=" ")}return s.join("")}function QA(n,e,s){const r=XC(n.schema,e),l=n.settings.allowParseErrors&&n.schema.space==="html"?0:1,c=n.settings.allowDangerousCharacters?0:1;let u=n.quote,d;if(r.overloadedBoolean&&(s===r.attribute||s==="")?s=!0:(r.boolean||r.overloadedBoolean)&&(typeof s!="string"||s===r.attribute||s==="")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const p=sr(r.attribute,Object.assign({},n.settings.characterReferences,{subset:eo.name[l][c]}));return s===!0||(s=Array.isArray(s)?(r.commaSeparated?SA:xA)(s,{padLeft:!n.settings.tightCommaSeparatedLists}):String(s),n.settings.collapseEmptyAttributes&&!s)?p:(n.settings.preferUnquoted&&(d=sr(s,Object.assign({},n.settings.characterReferences,{attribute:!0,subset:eo.unquoted[l][c]}))),d!==s&&(n.settings.quoteSmart&&o0(s,u)>o0(s,n.alternative)&&(u=n.alternative),d=u+sr(s,Object.assign({},n.settings.characterReferences,{subset:(u==="'"?eo.single:eo.double)[l][c],attribute:!0}))+u),p+(d&&"="+d))}const FA=["<","&"];function jv(n,e,s,r){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?n.value:sr(n.value,Object.assign({},r.settings.characterReferences,{subset:FA}))}function YA(n,e,s,r){return r.settings.allowDangerousHtml?n.value:jv(n,e,s,r)}function XA(n,e,s,r){return r.all(n)}const $A=WC("type",{invalid:JA,unknown:ZA,handlers:{comment:_A,doctype:bA,element:GA,raw:YA,root:XA,text:jv}});function JA(n){throw new Error("Expected node, not `"+n+"`")}function ZA(n){const e=n;throw new Error("Cannot compile unknown node `"+e.type+"`")}const WA={},eO={},tO=[];function nO(n,e){const s=e||WA,r=s.quote||'"',l=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:iO,all:sO,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||qC,characterReferences:s.characterReferences||eO,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?kv:ZC,quote:r,alternative:l}.one(Array.isArray(n)?{type:"root",children:n}:n,void 0,void 0)}function iO(n,e,s){return $A(n,e,s,this)}function sO(n){const e=[],s=n&&n.children||tO;let r=-1;for(;++r<s.length;)e[r]=this.one(s[r],r,n);return e.join("")}function Co(n,e){const s=typeof n=="string"?{}:{...n.colorReplacements},r=typeof n=="string"?n:n.name;for(const[l,c]of Object.entries(e?.colorReplacements||{}))typeof c=="string"?s[l]=c:l===r&&Object.assign(s,c);return s}function Ii(n,e){return n&&(e?.[n?.toLowerCase()]||n)}function rO(n){return Array.isArray(n)?n:[n]}async function zv(n){return Promise.resolve(typeof n=="function"?n():n).then(e=>e.default||e)}function zd(n){return!n||["plaintext","txt","text","plain"].includes(n)}function Iv(n){return n==="ansi"||zd(n)}function Id(n){return n==="none"}function Bv(n){return Id(n)}function Uv(n,e){if(!e)return n;n.properties||={},n.properties.class||=[],typeof n.properties.class=="string"&&(n.properties.class=n.properties.class.split(/\s+/g)),Array.isArray(n.properties.class)||(n.properties.class=[]);const s=Array.isArray(e)?e:e.split(/\s+/g);for(const r of s)r&&!n.properties.class.includes(r)&&n.properties.class.push(r);return n}function jo(n,e=!1){if(n.length===0)return[["",0]];const s=n.split(/(\r?\n)/g);let r=0;const l=[];for(let c=0;c<s.length;c+=2){const u=e?s[c]+(s[c+1]||""):s[c];l.push([u,r]),r+=s[c].length,r+=s[c+1]?.length||0}return l}function aO(n){const e=jo(n,!0).map(([l])=>l);function s(l){if(l===n.length)return{line:e.length-1,character:e[e.length-1].length};let c=l,u=0;for(const d of e){if(c<d.length)break;c-=d.length,u++}return{line:u,character:c}}function r(l,c){let u=0;for(let d=0;d<l;d++)u+=e[d].length;return u+=c,u}return{lines:e,indexToPos:s,posToIndex:r}}function lO(n,e,s){const r=new Set;for(const c of n.matchAll(/:?lang=["']([^"']+)["']/g)){const u=c[1].toLowerCase().trim();u&&r.add(u)}for(const c of n.matchAll(/(?:```|~~~)([\w-]+)/g)){const u=c[1].toLowerCase().trim();u&&r.add(u)}for(const c of n.matchAll(/\\begin\{([\w-]+)\}/g)){const u=c[1].toLowerCase().trim();u&&r.add(u)}for(const c of n.matchAll(/<script\s+(?:type|lang)=["']([^"']+)["']/gi)){const u=c[1].toLowerCase().trim(),d=u.includes("/")?u.split("/").pop():u;d&&r.add(d)}if(!s)return Array.from(r);const l=s.getBundledLanguages();return Array.from(r).filter(c=>c&&l[c])}const Bd="light-dark()",oO=["color","background-color"];function cO(n,e){let s=0;const r=[];for(const l of e)l>s&&r.push({...n,content:n.content.slice(s,l),offset:n.offset+s}),s=l;return s<n.content.length&&r.push({...n,content:n.content.slice(s),offset:n.offset+s}),r}function uO(n,e){const s=Array.from(e instanceof Set?e:new Set(e)).sort((r,l)=>r-l);return s.length?n.map(r=>r.flatMap(l=>{const c=s.filter(u=>l.offset<u&&u<l.offset+l.content.length).map(u=>u-l.offset).sort((u,d)=>u-d);return c.length?cO(l,c):l})):n}function fO(n,e,s,r,l="css-vars"){const c={content:n.content,explanation:n.explanation,offset:n.offset},u=e.map(g=>Ao(n.variants[g])),d=new Set(u.flatMap(g=>Object.keys(g))),p={},m=(g,y)=>{const _=y==="color"?"":y==="background-color"?"-bg":`-${y}`;return s+e[g]+(y==="color"?"":_)};return u.forEach((g,y)=>{for(const _ of d){const b=g[_]||"inherit";if(y===0&&r&&oO.includes(_))if(r===Bd&&u.length>1){const S=e.findIndex(U=>U==="light"),E=e.findIndex(U=>U==="dark");if(S===-1||E===-1)throw new tt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const O=u[S][_]||"inherit",D=u[E][_]||"inherit";p[_]=`light-dark(${O}, ${D})`,l==="css-vars"&&(p[m(y,_)]=b)}else p[_]=b;else l==="css-vars"&&(p[m(y,_)]=b)}}),c.htmlStyle=p,c}function Ao(n){const e={};if(n.color&&(e.color=n.color),n.bgColor&&(e["background-color"]=n.bgColor),n.fontStyle){n.fontStyle&Rt.Italic&&(e["font-style"]="italic"),n.fontStyle&Rt.Bold&&(e["font-weight"]="bold");const s=[];n.fontStyle&Rt.Underline&&s.push("underline"),n.fontStyle&Rt.Strikethrough&&s.push("line-through"),s.length&&(e["text-decoration"]=s.join(" "))}return e}function ad(n){return typeof n=="string"?n:Object.entries(n).map(([e,s])=>`${e}:${s}`).join(";")}const Pv=new WeakMap;function zo(n,e){Pv.set(n,e)}function Ta(n){return Pv.get(n)}class dr{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,s){return new dr(Object.fromEntries(rO(s).map(r=>[r,td])),e)}constructor(...e){if(e.length===2){const[s,r]=e;this.lang=r,this._stacks=s}else{const[s,r,l]=e;this.lang=r,this._stacks={[l]:s}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return dO(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function dO(n){const e=[],s=new Set;function r(l){if(s.has(l))return;s.add(l);const c=l?.nameScopesList?.scopeName;c&&e.push(c),l.parent&&r(l.parent)}return r(n),e}function hO(n,e){if(!(n instanceof dr))throw new tt("Invalid grammar state");return n.getInternalStack(e)}function pO(){const n=new WeakMap;function e(s){if(!n.has(s.meta)){let r=function(u){if(typeof u=="number"){if(u<0||u>s.source.length)throw new tt(`Invalid decoration offset: ${u}. Code length: ${s.source.length}`);return{...l.indexToPos(u),offset:u}}else{const d=l.lines[u.line];if(d===void 0)throw new tt(`Invalid decoration position ${JSON.stringify(u)}. Lines length: ${l.lines.length}`);let p=u.character;if(p<0&&(p=d.length+p),p<0||p>d.length)throw new tt(`Invalid decoration position ${JSON.stringify(u)}. Line ${u.line} length: ${d.length}`);return{...u,character:p,offset:l.posToIndex(u.line,p)}}};const l=aO(s.source),c=(s.options.decorations||[]).map(u=>({...u,start:r(u.start),end:r(u.end)}));mO(c),n.set(s.meta,{decorations:c,converter:l,source:s.source})}return n.get(s.meta)}return{name:"shiki:decorations",tokens(s){if(!this.options.decorations?.length)return;const l=e(this).decorations.flatMap(u=>[u.start.offset,u.end.offset]);return uO(s,l)},code(s){if(!this.options.decorations?.length)return;const r=e(this),l=Array.from(s.children).filter(g=>g.type==="element"&&g.tagName==="span");if(l.length!==r.converter.lines.length)throw new tt(`Number of lines in code element (${l.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function c(g,y,_,b){const S=l[g];let E="",O=-1,D=-1;if(y===0&&(O=0),_===0&&(D=0),_===Number.POSITIVE_INFINITY&&(D=S.children.length),O===-1||D===-1)for(let L=0;L<S.children.length;L++)E+=Vv(S.children[L]),O===-1&&E.length===y&&(O=L+1),D===-1&&E.length===_&&(D=L+1);if(O===-1)throw new tt(`Failed to find start index for decoration ${JSON.stringify(b.start)}`);if(D===-1)throw new tt(`Failed to find end index for decoration ${JSON.stringify(b.end)}`);const U=S.children.slice(O,D);if(!b.alwaysWrap&&U.length===S.children.length)d(S,b,"line");else if(!b.alwaysWrap&&U.length===1&&U[0].type==="element")d(U[0],b,"token");else{const L={type:"element",tagName:"span",properties:{},children:U};d(L,b,"wrapper"),S.children.splice(O,U.length,L)}}function u(g,y){l[g]=d(l[g],y,"line")}function d(g,y,_){const b=y.properties||{},S=y.transform||(E=>E);return g.tagName=y.tagName||"span",g.properties={...g.properties,...b,class:g.properties.class},y.properties?.class&&Uv(g,y.properties.class),g=S(g,_)||g,g}const p=[],m=r.decorations.sort((g,y)=>y.start.offset-g.start.offset||g.end.offset-y.end.offset);for(const g of m){const{start:y,end:_}=g;if(y.line===_.line)c(y.line,y.character,_.character,g);else if(y.line<_.line){c(y.line,y.character,Number.POSITIVE_INFINITY,g);for(let b=y.line+1;b<_.line;b++)p.unshift(()=>u(b,g));c(_.line,0,_.character,g)}}p.forEach(g=>g())}}}function mO(n){for(let e=0;e<n.length;e++){const s=n[e];if(s.start.offset>s.end.offset)throw new tt(`Invalid decoration range: ${JSON.stringify(s.start)} - ${JSON.stringify(s.end)}`);for(let r=e+1;r<n.length;r++){const l=n[r],c=s.start.offset<=l.start.offset&&l.start.offset<s.end.offset,u=s.start.offset<l.end.offset&&l.end.offset<=s.end.offset,d=l.start.offset<=s.start.offset&&s.start.offset<l.end.offset,p=l.start.offset<s.end.offset&&s.end.offset<=l.end.offset;if(c||u||d||p){if(c&&u||d&&p||d&&s.start.offset===s.end.offset||u&&l.start.offset===l.end.offset)continue;throw new tt(`Decorations ${JSON.stringify(s.start)} and ${JSON.stringify(l.start)} intersect.`)}}}}function Vv(n){return n.type==="text"?n.value:n.type==="element"?n.children.map(Vv).join(""):""}const gO=[pO()];function Oo(n){const e=yO(n.transformers||[]);return[...e.pre,...e.normal,...e.post,...gO]}function yO(n){const e=[],s=[],r=[];for(const l of n)switch(l.enforce){case"pre":e.push(l);break;case"post":s.push(l);break;default:r.push(l)}return{pre:e,post:s,normal:r}}var cs=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Sf={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function vO(n,e){const s=n.indexOf("\x1B",e);if(s!==-1&&n[s+1]==="["){const r=n.indexOf("m",s);if(r!==-1)return{sequence:n.substring(s+2,r).split(";"),startPosition:s,position:r+1}}return{position:n.length}}function d0(n){const e=n.shift();if(e==="2"){const s=n.splice(0,3).map(r=>Number.parseInt(r));return s.length!==3||s.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:s}}else if(e==="5"){const s=n.shift();if(s)return{type:"table",index:Number(s)}}}function _O(n){const e=[];for(;n.length>0;){const s=n.shift();if(!s)continue;const r=Number.parseInt(s);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)Sf[r]&&e.push({type:"setDecoration",value:Sf[r]});else if(r<=29){const l=Sf[r-20];l&&(e.push({type:"resetDecoration",value:l}),l==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:cs[r-30]}});else if(r===38){const l=d0(n);l&&e.push({type:"setForegroundColor",value:l})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:cs[r-40]}});else if(r===48){const l=d0(n);l&&e.push({type:"setBackgroundColor",value:l})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:cs[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:cs[r-100+8]}})}return e}function bO(){let n=null,e=null,s=new Set;return{parse(r){const l=[];let c=0;do{const u=vO(r,c),d=u.sequence?r.substring(c,u.startPosition):r.substring(c);if(d.length>0&&l.push({value:d,foreground:n,background:e,decorations:new Set(s)}),u.sequence){const p=_O(u.sequence);for(const m of p)m.type==="resetAll"?(n=null,e=null,s.clear()):m.type==="resetForegroundColor"?n=null:m.type==="resetBackgroundColor"?e=null:m.type==="resetDecoration"&&s.delete(m.value);for(const m of p)m.type==="setForegroundColor"?n=m.value:m.type==="setBackgroundColor"?e=m.value:m.type==="setDecoration"&&s.add(m.value)}c=u.position}while(c<r.length);return l}}}var SO={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function xO(n=SO){function e(d){return n[d]}function s(d){return`#${d.map(p=>Math.max(0,Math.min(p,255)).toString(16).padStart(2,"0")).join("")}`}let r;function l(){if(r)return r;r=[];for(let m=0;m<cs.length;m++)r.push(e(cs[m]));let d=[0,95,135,175,215,255];for(let m=0;m<6;m++)for(let g=0;g<6;g++)for(let y=0;y<6;y++)r.push(s([d[m],d[g],d[y]]));let p=8;for(let m=0;m<24;m++,p+=10)r.push(s([p,p,p]));return r}function c(d){return l()[d]}function u(d){switch(d.type){case"named":return e(d.name);case"rgb":return s(d.rgb);case"table":return c(d.index)}}return{value:u}}const EO={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function wO(n,e,s){const r=Co(n,s),l=jo(e),c=Object.fromEntries(cs.map(p=>{const m=`terminal.ansi${p[0].toUpperCase()}${p.substring(1)}`,g=n.colors?.[m];return[p,g||EO[p]]})),u=xO(c),d=bO();return l.map(p=>d.parse(p[0]).map(m=>{let g,y;m.decorations.has("reverse")?(g=m.background?u.value(m.background):n.bg,y=m.foreground?u.value(m.foreground):n.fg):(g=m.foreground?u.value(m.foreground):n.fg,y=m.background?u.value(m.background):void 0),g=Ii(g,r),y=Ii(y,r),m.decorations.has("dim")&&(g=TO(g));let _=Rt.None;return m.decorations.has("bold")&&(_|=Rt.Bold),m.decorations.has("italic")&&(_|=Rt.Italic),m.decorations.has("underline")&&(_|=Rt.Underline),m.decorations.has("strikethrough")&&(_|=Rt.Strikethrough),{content:m.value,offset:p[1],color:g,bgColor:y,fontStyle:_}}))}function TO(n){const e=n.match(/#([0-9a-f]{3,8})/i);if(e){const r=e[1];if(r.length===8){const l=Math.round(Number.parseInt(r.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${r.slice(0,6)}${l}`}else{if(r.length===6)return`#${r}80`;if(r.length===4){const l=r[0],c=r[1],u=r[2],d=r[3],p=Math.round(Number.parseInt(`${d}${d}`,16)/2).toString(16).padStart(2,"0");return`#${l}${l}${c}${c}${u}${u}${p}`}else if(r.length===3){const l=r[0],c=r[1],u=r[2];return`#${l}${l}${c}${c}${u}${u}80`}}}const s=n.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return s?`var(${s[1]}-dim)`:n}function Ud(n,e,s={}){const{theme:r=n.getLoadedThemes()[0]}=s,l=n.resolveLangAlias(s.lang||"text");if(zd(l)||Id(r))return jo(e).map(p=>[{content:p[0],offset:p[1]}]);const{theme:c,colorMap:u}=n.setTheme(r);if(l==="ansi")return wO(c,e,s);const d=n.getLanguage(s.lang||"text");if(s.grammarState){if(s.grammarState.lang!==d.name)throw new tt(`Grammar state language "${s.grammarState.lang}" does not match highlight language "${d.name}"`);if(!s.grammarState.themes.includes(c.name))throw new tt(`Grammar state themes "${s.grammarState.themes}" do not contain highlight theme "${c.name}"`)}return CO(e,d,c,u,s)}function RO(...n){if(n.length===2)return Ta(n[1]);const[e,s,r={}]=n,{lang:l="text",theme:c=e.getLoadedThemes()[0]}=r;if(zd(l)||Id(c))throw new tt("Plain language does not have grammar state");if(l==="ansi")throw new tt("ANSI language does not have grammar state");const{theme:u,colorMap:d}=e.setTheme(c),p=e.getLanguage(l);return new dr(Pd(s,p,u,d,r).stateStack,p.name,u.name)}function CO(n,e,s,r,l){const c=Pd(n,e,s,r,l),u=new dr(c.stateStack,e.name,s.name);return zo(c.tokens,u),c.tokens}function Pd(n,e,s,r,l){const c=Co(s,l),{tokenizeMaxLineLength:u=0,tokenizeTimeLimit:d=500}=l,p=jo(n);let m=l.grammarState?hO(l.grammarState,s.name)??td:l.grammarContextCode!=null?Pd(l.grammarContextCode,e,s,r,{...l,grammarState:void 0,grammarContextCode:void 0}).stateStack:td,g=[];const y=[];for(let _=0,b=p.length;_<b;_++){const[S,E]=p[_];if(S===""){g=[],y.push([]);continue}if(u>0&&S.length>=u){g=[],y.push([{content:S,offset:E,color:"",fontStyle:0}]);continue}let O,D,U;l.includeExplanation&&(O=e.tokenizeLine(S,m,d),D=O.tokens,U=0);const L=e.tokenizeLine2(S,m,d),z=L.tokens.length/2;for(let C=0;C<z;C++){const N=L.tokens[2*C],V=C+1<z?L.tokens[2*C+2]:S.length;if(N===V)continue;const $=L.tokens[2*C+1],Y=Ii(r[lr.getForeground($)],c),ne=lr.getFontStyle($),oe={content:S.substring(N,V),offset:E+N,color:Y,fontStyle:ne};if(l.includeExplanation){const ce=[];if(l.includeExplanation!=="scopeName")for(const J of s.settings){let se;switch(typeof J.scope){case"string":se=J.scope.split(/,/).map(M=>M.trim());break;case"object":se=J.scope;break;default:continue}ce.push({settings:J,selectors:se.map(M=>M.split(/ /))})}oe.explanation=[];let Ae=0;for(;N+Ae<V;){const J=D[U],se=S.substring(J.startIndex,J.endIndex);Ae+=se.length,oe.explanation.push({content:se,scopes:l.includeExplanation==="scopeName"?AO(J.scopes):OO(ce,J.scopes)}),U+=1}}g.push(oe)}y.push(g),g=[],m=L.ruleStack}return{tokens:y,stateStack:m}}function AO(n){return n.map(e=>({scopeName:e}))}function OO(n,e){const s=[];for(let r=0,l=e.length;r<l;r++){const c=e[r];s[r]={scopeName:c,themeMatches:DO(n,c,e.slice(0,r))}}return s}function h0(n,e){return n===e||e.substring(0,n.length)===n&&e[n.length]==="."}function kO(n,e,s){if(!h0(n[n.length-1],e))return!1;let r=n.length-2,l=s.length-1;for(;r>=0&&l>=0;)h0(n[r],s[l])&&(r-=1),l-=1;return r===-1}function DO(n,e,s){const r=[];for(const{selectors:l,settings:c}of n)for(const u of l)if(kO(u,e,s)){r.push(c);break}return r}function Hv(n,e,s){const r=Object.entries(s.themes).filter(p=>p[1]).map(p=>({color:p[0],theme:p[1]})),l=r.map(p=>{const m=Ud(n,e,{...s,theme:p.theme}),g=Ta(m),y=typeof p.theme=="string"?p.theme:p.theme.name;return{tokens:m,state:g,theme:y}}),c=NO(...l.map(p=>p.tokens)),u=c[0].map((p,m)=>p.map((g,y)=>{const _={content:g.content,variants:{},offset:g.offset};return"includeExplanation"in s&&s.includeExplanation&&(_.explanation=g.explanation),c.forEach((b,S)=>{const{content:E,explanation:O,offset:D,...U}=b[m][y];_.variants[r[S].color]=U}),_})),d=l[0].state?new dr(Object.fromEntries(l.map(p=>[p.theme,p.state?.getInternalStack(p.theme)])),l[0].state.lang):void 0;return d&&zo(u,d),u}function NO(...n){const e=n.map(()=>[]),s=n.length;for(let r=0;r<n[0].length;r++){const l=n.map(p=>p[r]),c=e.map(()=>[]);e.forEach((p,m)=>p.push(c[m]));const u=l.map(()=>0),d=l.map(p=>p[0]);for(;d.every(p=>p);){const p=Math.min(...d.map(m=>m.content.length));for(let m=0;m<s;m++){const g=d[m];g.content.length===p?(c[m].push(g),u[m]+=1,d[m]=l[m][u[m]]):(c[m].push({...g,content:g.content.slice(0,p)}),d[m]={...g,content:g.content.slice(p),offset:g.offset+p})}}}return e}function ko(n,e,s){let r,l,c,u,d,p;if("themes"in s){const{defaultColor:m="light",cssVariablePrefix:g="--shiki-",colorsRendering:y="css-vars"}=s,_=Object.entries(s.themes).filter(D=>D[1]).map(D=>({color:D[0],theme:D[1]})).sort((D,U)=>D.color===m?-1:U.color===m?1:0);if(_.length===0)throw new tt("`themes` option must not be empty");const b=Hv(n,e,s);if(p=Ta(b),m&&Bd!==m&&!_.find(D=>D.color===m))throw new tt(`\`themes\` option must contain the defaultColor key \`${m}\``);const S=_.map(D=>n.getTheme(D.theme)),E=_.map(D=>D.color);c=b.map(D=>D.map(U=>fO(U,E,g,m,y))),p&&zo(c,p);const O=_.map(D=>Co(D.theme,s));l=p0(_,S,O,g,m,"fg",y),r=p0(_,S,O,g,m,"bg",y),u=`shiki-themes ${S.map(D=>D.name).join(" ")}`,d=m?void 0:[l,r].join(";")}else if("theme"in s){const m=Co(s.theme,s);c=Ud(n,e,s);const g=n.getTheme(s.theme);r=Ii(g.bg,m),l=Ii(g.fg,m),u=g.name,p=Ta(c)}else throw new tt("Invalid options, either `theme` or `themes` must be provided");return{tokens:c,fg:l,bg:r,themeName:u,rootStyle:d,grammarState:p}}function p0(n,e,s,r,l,c,u){return n.map((d,p)=>{const m=Ii(e[p][c],s[p])||"inherit",g=`${r+d.color}${c==="bg"?"-bg":""}:${m}`;if(p===0&&l){if(l===Bd&&n.length>1){const y=n.findIndex(E=>E.color==="light"),_=n.findIndex(E=>E.color==="dark");if(y===-1||_===-1)throw new tt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const b=Ii(e[y][c],s[y])||"inherit",S=Ii(e[_][c],s[_])||"inherit";return`light-dark(${b}, ${S});${g}`}return m}return u==="css-vars"?g:null}).filter(d=>!!d).join(";")}function Do(n,e,s,r={meta:{},options:s,codeToHast:(l,c)=>Do(n,l,c),codeToTokens:(l,c)=>ko(n,l,c)}){let l=e;for(const S of Oo(s))l=S.preprocess?.call(r,l,s)||l;let{tokens:c,fg:u,bg:d,themeName:p,rootStyle:m,grammarState:g}=ko(n,l,s);const{mergeWhitespaces:y=!0,mergeSameStyleTokens:_=!1}=s;y===!0?c=LO(c):y==="never"&&(c=jO(c)),_&&(c=zO(c));const b={...r,get source(){return l}};for(const S of Oo(s))c=S.tokens?.call(b,c)||c;return MO(c,{...s,fg:u,bg:d,themeName:p,rootStyle:s.rootStyle===!1?!1:s.rootStyle??m},b,g)}function MO(n,e,s,r=Ta(n)){const l=Oo(e),c=[],u={type:"root",children:[]},{structure:d="classic",tabindex:p="0"}=e,m={class:`shiki ${e.themeName||""}`};e.rootStyle!==!1&&(e.rootStyle!=null?m.style=e.rootStyle:m.style=`background-color:${e.bg};color:${e.fg}`),p!==!1&&p!=null&&(m.tabindex=p.toString());for(const[E,O]of Object.entries(e.meta||{}))E.startsWith("_")||(m[E]=O);let g={type:"element",tagName:"pre",properties:m,children:[]},y={type:"element",tagName:"code",properties:{},children:c};const _=[],b={...s,structure:d,addClassToHast:Uv,get source(){return s.source},get tokens(){return n},get options(){return e},get root(){return u},get pre(){return g},get code(){return y},get lines(){return _}};if(n.forEach((E,O)=>{O&&(d==="inline"?u.children.push({type:"element",tagName:"br",properties:{},children:[]}):d==="classic"&&c.push({type:"text",value:`
`}));let D={type:"element",tagName:"span",properties:{class:"line"},children:[]},U=0;for(const L of E){let z={type:"element",tagName:"span",properties:{...L.htmlAttrs},children:[{type:"text",value:L.content}]};const C=ad(L.htmlStyle||Ao(L));C&&(z.properties.style=C);for(const N of l)z=N?.span?.call(b,z,O+1,U,D,L)||z;d==="inline"?u.children.push(z):d==="classic"&&D.children.push(z),U+=L.content.length}if(d==="classic"){for(const L of l)D=L?.line?.call(b,D,O+1)||D;_.push(D),c.push(D)}else d==="inline"&&_.push(D)}),d==="classic"){for(const E of l)y=E?.code?.call(b,y)||y;g.children.push(y);for(const E of l)g=E?.pre?.call(b,g)||g;u.children.push(g)}else if(d==="inline"){const E=[];let O={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const L of u.children)L.type==="element"&&L.tagName==="br"?(E.push(O),O={type:"element",tagName:"span",properties:{class:"line"},children:[]}):(L.type==="element"||L.type==="text")&&O.children.push(L);E.push(O);let U={type:"element",tagName:"code",properties:{},children:E};for(const L of l)U=L?.code?.call(b,U)||U;u.children=[];for(let L=0;L<U.children.length;L++){L>0&&u.children.push({type:"element",tagName:"br",properties:{},children:[]});const z=U.children[L];z.type==="element"&&u.children.push(...z.children)}}let S=u;for(const E of l)S=E?.root?.call(b,S)||S;return r&&zo(S,r),S}function LO(n){return n.map(e=>{const s=[];let r="",l;return e.forEach((c,u)=>{const p=!(c.fontStyle&&(c.fontStyle&Rt.Underline||c.fontStyle&Rt.Strikethrough));p&&c.content.match(/^\s+$/)&&e[u+1]?(l===void 0&&(l=c.offset),r+=c.content):r?(p?s.push({...c,offset:l,content:r+c.content}):s.push({content:r,offset:l},c),l=void 0,r=""):s.push(c)}),s})}function jO(n){return n.map(e=>e.flatMap(s=>{if(s.content.match(/^\s+$/))return s;const r=s.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return s;const[,l,c,u]=r;if(!l&&!u)return s;const d=[{...s,offset:s.offset+l.length,content:c}];return l&&d.unshift({content:l,offset:s.offset}),u&&d.push({content:u,offset:s.offset+l.length+c.length}),d}))}function zO(n){return n.map(e=>{const s=[];for(const r of e){if(s.length===0){s.push({...r});continue}const l=s[s.length-1],c=ad(l.htmlStyle||Ao(l)),u=ad(r.htmlStyle||Ao(r)),d=l.fontStyle&&(l.fontStyle&Rt.Underline||l.fontStyle&Rt.Strikethrough),p=r.fontStyle&&(r.fontStyle&Rt.Underline||r.fontStyle&Rt.Strikethrough);!d&&!p&&c===u?l.content+=r.content:s.push({...r})}return s})}const IO=nO;function BO(n,e,s){const r={meta:{},options:s,codeToHast:(c,u)=>Do(n,c,u),codeToTokens:(c,u)=>ko(n,c,u)};let l=IO(Do(n,e,s,r));for(const c of Oo(s))l=c.postprocess?.call(r,l,s)||l;return l}const m0={light:"#333333",dark:"#bbbbbb"},g0={light:"#fffffe",dark:"#1e1e1e"},y0="__shiki_resolved";function Vd(n){if(n?.[y0])return n;const e={...n};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:s,fg:r}=e;if(!s||!r){const d=e.settings?e.settings.find(p=>!p.name&&!p.scope):void 0;d?.settings?.foreground&&(r=d.settings.foreground),d?.settings?.background&&(s=d.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!s&&e?.colors?.["editor.background"]&&(s=e.colors["editor.background"]),r||(r=e.type==="light"?m0.light:m0.dark),s||(s=e.type==="light"?g0.light:g0.dark),e.fg=r,e.bg=s}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let l=0;const c=new Map;function u(d){if(c.has(d))return c.get(d);l+=1;const p=`#${l.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${p}`]?u(d):(c.set(d,p),p)}e.settings=e.settings.map(d=>{const p=d.settings?.foreground&&!d.settings.foreground.startsWith("#"),m=d.settings?.background&&!d.settings.background.startsWith("#");if(!p&&!m)return d;const g={...d,settings:{...d.settings}};if(p){const y=u(d.settings.foreground);e.colorReplacements[y]=d.settings.foreground,g.settings.foreground=y}if(m){const y=u(d.settings.background);e.colorReplacements[y]=d.settings.background,g.settings.background=y}return g});for(const d of Object.keys(e.colors||{}))if((d==="editor.foreground"||d==="editor.background"||d.startsWith("terminal.ansi"))&&!e.colors[d]?.startsWith("#")){const p=u(e.colors[d]);e.colorReplacements[p]=e.colors[d],e.colors[d]=p}return Object.defineProperty(e,y0,{enumerable:!1,writable:!1,value:!0}),e}async function qv(n){return Array.from(new Set((await Promise.all(n.filter(e=>!Iv(e)).map(async e=>await zv(e).then(s=>Array.isArray(s)?s:[s])))).flat()))}async function Gv(n){return(await Promise.all(n.map(async s=>Bv(s)?null:Vd(await zv(s))))).filter(s=>!!s)}let UO=3;function PO(n,e=3){e>UO||console.trace(`[SHIKI DEPRECATE]: ${n}`)}let tr=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function Kv(n,e){if(!e)return n;if(e[n]){const s=new Set([n]);for(;e[n];){if(n=e[n],s.has(n))throw new tr(`Circular alias \`${Array.from(s).join(" -> ")} -> ${n}\``);s.add(n)}}return n}class VO extends HC{constructor(e,s,r,l={}){super(e),this._resolver=e,this._themes=s,this._langs=r,this._alias=l,this._themes.map(c=>this.loadTheme(c)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const s=Vd(e);return s.name&&(this._resolvedThemes.set(s.name,s),this._loadedThemesCache=null),s}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let s=this._textmateThemeCache.get(e);s||(s=xo.createFromRawTheme(e),this._textmateThemeCache.set(e,s)),this._syncRegistry.setTheme(s)}getGrammar(e){return e=Kv(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const s=new Set([...this._langMap.values()].filter(c=>c.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const l=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(l.name=e.name,this._resolvedGrammars.set(e.name,l),e.aliases&&e.aliases.forEach(c=>{this._alias[c]=e.name}),this._loadedLanguagesCache=null,s.size)for(const c of s)this._resolvedGrammars.delete(c.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(c.scopeName),this._syncRegistry?._grammars?.delete(c.scopeName),this.loadLanguage(this._langMap.get(c.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const l of e)this.resolveEmbeddedLanguages(l);const s=Array.from(this._langGraph.entries()),r=s.filter(([l,c])=>!c);if(r.length){const l=s.filter(([c,u])=>u?(u.embeddedLanguages||u.embeddedLangs)?.some(p=>r.map(([m])=>m).includes(p)):!1).filter(c=>!r.includes(c));throw new tr(`Missing languages ${r.map(([c])=>`\`${c}\``).join(", ")}, required by ${l.map(([c])=>`\`${c}\``).join(", ")}`)}for(const[l,c]of s)this._resolver.addLanguage(c);for(const[l,c]of s)this.loadLanguage(c)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);const s=e.embeddedLanguages??e.embeddedLangs;if(s)for(const r of s)this._langGraph.set(r,this._langMap.get(r))}}class HO{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,s){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},s.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(s=>{this._langs.set(s,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(s=>{this._injections.get(s)||this._injections.set(s,[]),this._injections.get(s).push(e.scopeName)})}getInjections(e){const s=e.split(".");let r=[];for(let l=1;l<=s.length;l++){const c=s.slice(0,l).join(".");r=[...r,...this._injections.get(c)||[]]}return r}}let ca=0;function qO(n){ca+=1,n.warnings!==!1&&ca>=10&&ca%10===0&&console.warn(`[Shiki] ${ca} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!n.engine)throw new tr("`engine` option is required for synchronous mode");const s=(n.langs||[]).flat(1),r=(n.themes||[]).flat(1).map(Vd),l=new HO(n.engine,s),c=new VO(l,r,s,n.langAlias);let u;function d(L){return Kv(L,n.langAlias)}function p(L){D();const z=c.getGrammar(typeof L=="string"?L:L.name);if(!z)throw new tr(`Language \`${L}\` not found, you may need to load it first`);return z}function m(L){if(L==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};D();const z=c.getTheme(L);if(!z)throw new tr(`Theme \`${L}\` not found, you may need to load it first`);return z}function g(L){D();const z=m(L);u!==L&&(c.setTheme(z),u=L);const C=c.getColorMap();return{theme:z,colorMap:C}}function y(){return D(),c.getLoadedThemes()}function _(){return D(),c.getLoadedLanguages()}function b(...L){D(),c.loadLanguages(L.flat(1))}async function S(...L){return b(await qv(L))}function E(...L){D();for(const z of L.flat(1))c.loadTheme(z)}async function O(...L){return D(),E(await Gv(L))}function D(){if(e)throw new tr("Shiki instance has been disposed")}function U(){e||(e=!0,c.dispose(),ca-=1)}return{setTheme:g,getTheme:m,getLanguage:p,getLoadedThemes:y,getLoadedLanguages:_,resolveLangAlias:d,loadLanguage:S,loadLanguageSync:b,loadTheme:O,loadThemeSync:E,dispose:U,[Symbol.dispose]:U}}async function GO(n){n.engine||PO("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,s,r]=await Promise.all([Gv(n.themes||[]),qv(n.langs||[]),n.engine]);return qO({...n,themes:e,langs:s,engine:r})}async function KO(n){const e=await GO(n);return{getLastGrammarState:(...s)=>RO(e,...s),codeToTokensBase:(s,r)=>Ud(e,s,r),codeToTokensWithThemes:(s,r)=>Hv(e,s,r),codeToTokens:(s,r)=>ko(e,s,r),codeToHast:(s,r)=>Do(e,s,r),codeToHtml:(s,r)=>BO(e,s,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function QO(n){const e=n.langs,s=n.themes,r=n.engine;async function l(c){function u(y){if(typeof y=="string"){if(y=c.langAlias?.[y]||y,Iv(y))return[];const _=e[y];if(!_)throw new tt(`Language \`${y}\` is not included in this bundle. You may want to load it from external source.`);return _}return y}function d(y){if(Bv(y))return"none";if(typeof y=="string"){const _=s[y];if(!_)throw new tt(`Theme \`${y}\` is not included in this bundle. You may want to load it from external source.`);return _}return y}const p=(c.themes??[]).map(y=>d(y)),m=(c.langs??[]).map(y=>u(y)),g=await KO({engine:c.engine??r(),...c,themes:p,langs:m});return{...g,loadLanguage(...y){return g.loadLanguage(...y.map(u))},loadTheme(...y){return g.loadTheme(...y.map(d))},getBundledLanguages(){return e},getBundledThemes(){return s}}}return l}function FO(n){let e;async function s(r={}){if(e){const l=await e;return await Promise.all([l.loadTheme(...r.themes||[]),l.loadLanguage(...r.langs||[])]),l}else{e=n({...r,themes:[],langs:[]});const l=await e;return await Promise.all([l.loadTheme(...r.themes||[]),l.loadLanguage(...r.langs||[])]),l}}return s}function YO(n,e){const s=FO(n);async function r(l,c){const u=await s({langs:[c.lang],themes:"theme"in c?[c.theme]:Object.values(c.themes)}),d=await e?.guessEmbeddedLanguages?.(l,c.lang,u);return d&&await u.loadLanguage(...d),u}return{getSingletonHighlighter(l){return s(l)},async codeToHtml(l,c){return(await r(l,c)).codeToHtml(l,c)},async codeToHast(l,c){return(await r(l,c)).codeToHast(l,c)},async codeToTokens(l,c){return(await r(l,c)).codeToTokens(l,c)},async codeToTokensBase(l,c){return(await r(l,c)).codeToTokensBase(l,c)},async codeToTokensWithThemes(l,c){return(await r(l,c)).codeToTokensWithThemes(l,c)},async getLastGrammarState(l,c){return(await s({langs:[c.lang],themes:[c.theme]})).getLastGrammarState(l,c)}}}const Qv=[{id:"abap",name:"ABAP",import:(()=>T(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>T(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>T(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>T(()=>import("./angular-html-CU67Zn6k.js").then(n=>n.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>T(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>T(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>T(()=>import("./apex-DDbsPZ6N.js"),[]))},{id:"apl",name:"APL",import:(()=>T(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>T(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>T(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>T(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>T(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>T(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>T(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>T(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>T(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>T(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>T(()=>import("./berry-uYugtg8r.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>T(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>T(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>T(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>T(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>T(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>T(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>T(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>T(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>T(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>T(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>T(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>T(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>T(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>T(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>T(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>T(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>T(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>T(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>T(()=>import("./csharp-K5feNrxe.js"),[]))},{id:"css",name:"CSS",import:(()=>T(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>T(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>T(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>T(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>T(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>T(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>T(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>T(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>T(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>T(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>T(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>T(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>T(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>T(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>T(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>T(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>T(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>T(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>T(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>T(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>T(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>T(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>T(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>T(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>T(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>T(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>T(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>T(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>T(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>T(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>T(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>T(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>T(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>T(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>T(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>T(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>T(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>T(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>T(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>T(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>T(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>T(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>T(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>T(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>T(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>T(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>T(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>T(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>T(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>T(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>T(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>T(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>T(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>T(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>T(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>T(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>T(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>T(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>T(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>T(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>T(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>T(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>T(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>T(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>T(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>T(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>T(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>T(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>T(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>T(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>T(()=>import("./latex-BdAV_C_H.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>T(()=>import("./lean-Bc6EcWN3.js"),[]))},{id:"less",name:"Less",import:(()=>T(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>T(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>T(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>T(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>T(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>T(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>T(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>T(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>T(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>T(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>T(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>T(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>T(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>T(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>T(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>T(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>T(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>T(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>T(()=>import("./nextflow-BrzmwbiE.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>T(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>T(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>T(()=>import("./nix-c8nO5XWb.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>T(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>T(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>T(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>T(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:(()=>T(()=>import("./openscad-C4EeE6gA.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>T(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>T(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>T(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>T(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>T(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>T(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>T(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>T(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>T(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>T(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>T(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>T(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>T(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>T(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>T(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>T(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>T(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>T(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>T(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>T(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>T(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>T(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>T(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>T(()=>import("./razor-CE9lU5zL.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>T(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>T(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>T(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>T(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>T(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>T(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>T(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>T(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>T(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>T(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>T(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>T(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>T(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>T(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>T(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>T(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>T(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>T(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>T(()=>import("./solidity-rGO070M0.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>T(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>T(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>T(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>T(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>T(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>T(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>T(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>T(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>T(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>T(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>T(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>T(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>T(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>T(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>T(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>T(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>T(()=>import("./tex-CxkMU7Pf.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>T(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>T(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>T(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>T(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>T(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>T(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>T(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>T(()=>import("./typespec-BGHnOYBU.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>T(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>T(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>T(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>T(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>T(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>T(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>T(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>T(()=>import("./vue-DnHKYNfI.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>T(()=>import("./vue-html-CChd_i61.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>T(()=>import("./vue-vine-8moa0y9V.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>T(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>T(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>T(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>T(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>T(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>T(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>T(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>T(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>T(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>T(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>T(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>T(()=>import("./zig-VOosw3JB.js"),[]))}],XO=Object.fromEntries(Qv.map(n=>[n.id,n.import])),$O=Object.fromEntries(Qv.flatMap(n=>n.aliases?.map(e=>[e,n.import])||[])),JO={...XO,...$O},ZO=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>T(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>T(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>T(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>T(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>T(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>T(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>T(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>T(()=>import("./dark-plus-C3mMm8J8.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>T(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>T(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>T(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>T(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>T(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>T(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>T(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>T(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>T(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>T(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>T(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>T(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>T(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>T(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>T(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>T(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>T(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>T(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>T(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>T(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>T(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>T(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>T(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>T(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>T(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>T(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>T(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>T(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>T(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>T(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>T(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>T(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>T(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>T(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>T(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>T(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>T(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>T(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>T(()=>import("./rose-pine-qdsjHGoJ.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>T(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>T(()=>import("./rose-pine-moon-D4_iv3hh.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>T(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>T(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>T(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>T(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>T(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>T(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>T(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>T(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>T(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>T(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>T(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],WO=Object.fromEntries(ZO.map(n=>[n.id,n.import]));class Hd extends Error{constructor(e){super(e),this.name="ShikiError"}}function e2(){return 2147483648}function t2(){return typeof performance<"u"?performance.now():Date.now()}const n2=(n,e)=>n+(e-n%e)%e;async function i2(n){let e,s;const r={};function l(b){s=b,r.HEAPU8=new Uint8Array(b),r.HEAPU32=new Uint32Array(b)}function c(b,S,E){r.HEAPU8.copyWithin(b,S,S+E)}function u(b){try{return e.grow(b-s.byteLength+65535>>>16),l(e.buffer),1}catch{}}function d(b){const S=r.HEAPU8.length;b=b>>>0;const E=e2();if(b>E)return!1;for(let O=1;O<=4;O*=2){let D=S*(1+.2/O);D=Math.min(D,b+100663296);const U=Math.min(E,n2(Math.max(b,D),65536));if(u(U))return!0}return!1}const p=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function m(b,S,E=1024){const O=S+E;let D=S;for(;b[D]&&!(D>=O);)++D;if(D-S>16&&b.buffer&&p)return p.decode(b.subarray(S,D));let U="";for(;S<D;){let L=b[S++];if(!(L&128)){U+=String.fromCharCode(L);continue}const z=b[S++]&63;if((L&224)===192){U+=String.fromCharCode((L&31)<<6|z);continue}const C=b[S++]&63;if((L&240)===224?L=(L&15)<<12|z<<6|C:L=(L&7)<<18|z<<12|C<<6|b[S++]&63,L<65536)U+=String.fromCharCode(L);else{const N=L-65536;U+=String.fromCharCode(55296|N>>10,56320|N&1023)}}return U}function g(b,S){return b?m(r.HEAPU8,b,S):""}const y={emscripten_get_now:t2,emscripten_memcpy_big:c,emscripten_resize_heap:d,fd_write:()=>0};async function _(){const S=await n({env:y,wasi_snapshot_preview1:y});e=S.memory,l(e.buffer),Object.assign(r,S),r.UTF8ToString=g}return await _(),r}var s2=Object.defineProperty,r2=(n,e,s)=>e in n?s2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,rt=(n,e,s)=>r2(n,typeof e!="symbol"?e+"":e,s);let ft=null;function a2(n){throw new Hd(n.UTF8ToString(n.getLastOnigError()))}class Io{constructor(e){rt(this,"utf16Length"),rt(this,"utf8Length"),rt(this,"utf16Value"),rt(this,"utf8Value"),rt(this,"utf16OffsetToUtf8"),rt(this,"utf8OffsetToUtf16");const s=e.length,r=Io._utf8ByteLength(e),l=r!==s,c=l?new Uint32Array(s+1):null;l&&(c[s]=r);const u=l?new Uint32Array(r+1):null;l&&(u[r]=s);const d=new Uint8Array(r);let p=0;for(let m=0;m<s;m++){const g=e.charCodeAt(m);let y=g,_=!1;if(g>=55296&&g<=56319&&m+1<s){const b=e.charCodeAt(m+1);b>=56320&&b<=57343&&(y=(g-55296<<10)+65536|b-56320,_=!0)}l&&(c[m]=p,_&&(c[m+1]=p),y<=127?u[p+0]=m:y<=2047?(u[p+0]=m,u[p+1]=m):y<=65535?(u[p+0]=m,u[p+1]=m,u[p+2]=m):(u[p+0]=m,u[p+1]=m,u[p+2]=m,u[p+3]=m)),y<=127?d[p++]=y:y<=2047?(d[p++]=192|(y&1984)>>>6,d[p++]=128|(y&63)>>>0):y<=65535?(d[p++]=224|(y&61440)>>>12,d[p++]=128|(y&4032)>>>6,d[p++]=128|(y&63)>>>0):(d[p++]=240|(y&1835008)>>>18,d[p++]=128|(y&258048)>>>12,d[p++]=128|(y&4032)>>>6,d[p++]=128|(y&63)>>>0),_&&m++}this.utf16Length=s,this.utf8Length=r,this.utf16Value=e,this.utf8Value=d,this.utf16OffsetToUtf8=c,this.utf8OffsetToUtf16=u}static _utf8ByteLength(e){let s=0;for(let r=0,l=e.length;r<l;r++){const c=e.charCodeAt(r);let u=c,d=!1;if(c>=55296&&c<=56319&&r+1<l){const p=e.charCodeAt(r+1);p>=56320&&p<=57343&&(u=(c-55296<<10)+65536|p-56320,d=!0)}u<=127?s+=1:u<=2047?s+=2:u<=65535?s+=3:s+=4,d&&r++}return s}createString(e){const s=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,s),s}}const Bo=class Dn{constructor(e){if(rt(this,"id",++Dn.LAST_ID),rt(this,"_onigBinding"),rt(this,"content"),rt(this,"utf16Length"),rt(this,"utf8Length"),rt(this,"utf16OffsetToUtf8"),rt(this,"utf8OffsetToUtf16"),rt(this,"ptr"),!ft)throw new Hd("Must invoke loadWasm first.");this._onigBinding=ft,this.content=e;const s=new Io(e);this.utf16Length=s.utf16Length,this.utf8Length=s.utf8Length,this.utf16OffsetToUtf8=s.utf16OffsetToUtf8,this.utf8OffsetToUtf16=s.utf8OffsetToUtf16,this.utf8Length<1e4&&!Dn._sharedPtrInUse?(Dn._sharedPtr||(Dn._sharedPtr=ft.omalloc(1e4)),Dn._sharedPtrInUse=!0,ft.HEAPU8.set(s.utf8Value,Dn._sharedPtr),this.ptr=Dn._sharedPtr):this.ptr=s.createString(ft)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Dn._sharedPtr?Dn._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};rt(Bo,"LAST_ID",0);rt(Bo,"_sharedPtr",0);rt(Bo,"_sharedPtrInUse",!1);let Fv=Bo;class l2{constructor(e){if(rt(this,"_onigBinding"),rt(this,"_ptr"),!ft)throw new Hd("Must invoke loadWasm first.");const s=[],r=[];for(let d=0,p=e.length;d<p;d++){const m=new Io(e[d]);s[d]=m.createString(ft),r[d]=m.utf8Length}const l=ft.omalloc(4*e.length);ft.HEAPU32.set(s,l/4);const c=ft.omalloc(4*e.length);ft.HEAPU32.set(r,c/4);const u=ft.createOnigScanner(l,c,e.length);for(let d=0,p=e.length;d<p;d++)ft.ofree(s[d]);ft.ofree(c),ft.ofree(l),u===0&&a2(ft),this._onigBinding=ft,this._ptr=u}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,s,r){let l=0;if(typeof r=="number"&&(l=r),typeof e=="string"){e=new Fv(e);const c=this._findNextMatchSync(e,s,!1,l);return e.dispose(),c}return this._findNextMatchSync(e,s,!1,l)}_findNextMatchSync(e,s,r,l){const c=this._onigBinding,u=c.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(s),l);if(u===0)return null;const d=c.HEAPU32;let p=u/4;const m=d[p++],g=d[p++],y=[];for(let _=0;_<g;_++){const b=e.convertUtf8OffsetToUtf16(d[p++]),S=e.convertUtf8OffsetToUtf16(d[p++]);y[_]={start:b,end:S,length:S-b}}return{index:m,captureIndices:y}}}function o2(n){return typeof n.instantiator=="function"}function c2(n){return typeof n.default=="function"}function u2(n){return typeof n.data<"u"}function f2(n){return typeof Response<"u"&&n instanceof Response}function d2(n){return typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||ArrayBuffer.isView(n))||typeof Buffer<"u"&&Buffer.isBuffer?.(n)||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&n instanceof Uint32Array}let to;function h2(n){if(to)return to;async function e(){ft=await i2(async s=>{let r=n;return r=await r,typeof r=="function"&&(r=await r(s)),typeof r=="function"&&(r=await r(s)),o2(r)?r=await r.instantiator(s):c2(r)?r=await r.default(s):(u2(r)&&(r=r.data),f2(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await p2(r)(s):r=await m2(r)(s):d2(r)?r=await xf(r)(s):r instanceof WebAssembly.Module?r=await xf(r)(s):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await xf(r.default)(s))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return to=e(),to}function xf(n){return e=>WebAssembly.instantiate(n,e)}function p2(n){return e=>WebAssembly.instantiateStreaming(n,e)}function m2(n){return async e=>{const s=await n.arrayBuffer();return WebAssembly.instantiate(s,e)}}async function g2(n){return n&&await h2(n),{createScanner(e){return new l2(e.map(s=>typeof s=="string"?s:s.source))},createString(e){return new Fv(e)}}}const y2=QO({langs:JO,themes:WO,engine:()=>g2(T(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{codeToHtml:Uo}=YO(y2,{guessEmbeddedLanguages:lO});function v2(){const[n,e]=G.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return G.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function _2({content:n}){const[e,s]=G.useState(""),r=v2(),l=c=>{try{const u=JSON.parse(c);return JSON.stringify(u,null,2)}catch{return c}};return G.useEffect(()=>{(async()=>{try{const u=await n.text(),d=l(u),p=await Uo(d,{lang:"json",theme:r?"github-dark":"github-light"});s(p)}catch{const u=await n.text();s(`<pre>${l(u)}</pre>`)}})()},[n,r]),w.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function b2(){const[n,e]=G.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return G.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function S2({content:n}){const[e,s]=G.useState(""),r=b2(),l=c=>{try{const d=/(>)(<)(\/*)/g,p=c.replace(d,`$1
$2$3`);let m=0;return p.split(`
`).map(g=>{let y=0;g.match(/.+<\/\w[^>]*>$/)?y=0:g.match(/^<\/\w/)&&m>0?m-=1:g.match(/^<\w[^>]*[^/]>.*$/)?y=1:y=0;const _="  ".repeat(m);return m+=y,_+g}).join(`
`)}catch{return c}};return G.useEffect(()=>{(async()=>{try{const u=await n.text(),d=l(u),p=await Uo(d,{lang:"xml",theme:r?"github-dark":"github-light"});s(p)}catch{const u=await n.text();s(`<pre>${l(u)}</pre>`)}})()},[n,r]),w.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function x2(){const[n,e]=G.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return G.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function E2({content:n}){const[e,s]=G.useState(""),r=x2();return G.useEffect(()=>{(async()=>{try{const c=await n.text(),u=await Uo(c,{lang:"yaml",theme:r?"github-dark":"github-light"});s(u)}catch{const c=await n.text();s(`<pre>${c}</pre>`)}})()},[n,r]),w.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:e}})}function v0({content:n}){const[e,s]=G.useState("");return G.useEffect(()=>{n.text().then(s)},[n]),w.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:e})}function w2({content:n}){const e=s=>s<1024?`${s} B`:s<1048576?`${(s/1024).toFixed(2)} KB`:`${(s/1048576).toFixed(2)} MB`;return w.jsx("div",{className:"flex flex-col items-center justify-center p-12 bg-neutral-100 dark:bg-white/5 rounded-lg border border-neutral-200 dark:border-white/10",children:w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Binary content"}),w.jsx("div",{className:"text-2xl font-semibold text-neutral-700 dark:text-neutral-200",children:e(n.size)}),w.jsx("div",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"Cannot preview binary data"})]})})}function T2({content:n}){const e=G.useMemo(()=>URL.createObjectURL(n),[n]);return w.jsx("div",{className:"h-full",children:w.jsx("img",{src:e,alt:"Response",className:"max-w-full max-h-full object-contain"})})}function R2(){const[n,e]=G.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);return G.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),r=l=>e(l.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[]),n}function C2(n){const e=[],s=n.split(/\n\n+/);for(const r of s){if(!r.trim())continue;const l={data:"",raw:r},c=r.split(`
`);for(const u of c)u.startsWith("id:")?l.id=u.slice(3).trim():u.startsWith("event:")?l.event=u.slice(6).trim():u.startsWith("data:")?l.data+=(l.data?`
`:"")+u.slice(5).trim():u.startsWith("retry:")&&(l.retry=parseInt(u.slice(6).trim(),10));(l.data||l.event||l.id)&&e.push(l)}return e}function A2(n){try{return JSON.parse(n)}catch{return null}}function O2({event:n,index:e,prefersDark:s}){const[r,l]=G.useState(!0),[c,u]=G.useState(""),d=G.useMemo(()=>A2(n.data),[n.data]);return G.useEffect(()=>{(async()=>{if(d)try{const m=JSON.stringify(d,null,2),g=await Uo(m,{lang:"json",theme:s?"github-dark":"github-light"});u(g)}catch{u(`<pre>${JSON.stringify(d,null,2)}</pre>`)}})()},[d,s]),w.jsxs("div",{className:"border border-neutral-200 dark:border-white/10 rounded-lg overflow-hidden",children:[w.jsxs("button",{onClick:()=>l(!r),className:"w-full flex items-center gap-2 px-3 py-2 bg-neutral-50 dark:bg-white/5 hover:bg-neutral-100 dark:hover:bg-white/10 transition-colors",children:[r?w.jsx(kd,{className:"w-4 h-4 text-neutral-400"}):w.jsx(XT,{className:"w-4 h-4 text-neutral-400"}),w.jsxs("span",{className:"text-xs font-mono text-neutral-500 dark:text-neutral-400",children:["#",e+1]}),n.event&&w.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 rounded",children:n.event}),n.id&&w.jsxs("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:["id: ",n.id]}),d&&w.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 rounded",children:"JSON"})]}),r&&w.jsx("div",{className:"p-3 bg-white dark:bg-transparent",children:d&&c?w.jsx("div",{className:"text-xs [&_pre]:bg-transparent! [&_pre]:p-0! [&_pre]:m-0! [&_pre]:overflow-visible! [&_code]:bg-transparent! [&_code]:block!",dangerouslySetInnerHTML:{__html:c}}):w.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:n.data})})]})}function k2({content:n}){const[e,s]=G.useState([]),[r,l]=G.useState(""),c=R2();return G.useEffect(()=>{n.text().then(u=>{l(u),s(C2(u))})},[n]),e.length===0?w.jsx("pre",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-200 whitespace-pre-wrap",children:r}):w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"flex items-center gap-2 mb-3",children:w.jsxs("span",{className:"text-xs font-medium text-neutral-500 dark:text-neutral-400",children:[e.length," event",e.length!==1?"s":""]})}),e.map((u,d)=>w.jsx(O2,{event:u,index:d,prefersDark:c},d))]})}const D2=["video/","audio/","application/pdf","application/octet-stream","application/zip","application/gzip","application/x-tar","application/x-rar","application/x-7z","application/vnd.ms-","application/vnd.openxmlformats","application/x-executable","application/x-sharedlib","application/x-mach-binary","application/wasm","font/"],N2=["image/png","image/jpeg","image/gif","image/webp","image/svg+xml","image/bmp","image/x-icon","image/ico","image/avif","image/apng"],M2=["text/","application/json","application/xml","application/javascript","application/ecmascript","application/x-javascript","application/ld+json","application/manifest+json","application/schema+json","application/x-www-form-urlencoded","application/xhtml+xml","application/rss+xml","application/atom+xml","application/soap+xml","application/x-yaml","application/yaml","+json","+xml"];function L2(n){const e=n["content-type"]?.toLowerCase()||"";return e.includes("text/event-stream")?"sse":N2.some(s=>e.includes(s))?"image":D2.some(s=>e.includes(s))?"binary":e.includes("json")||e.endsWith("+json")?"json":e.includes("xml")||e.endsWith("+xml")?"xml":e.includes("yaml")||e.includes("yml")?"yaml":(M2.some(s=>e.includes(s)),"text")}function j2(){const{request:n}=fs(),[e,s]=G.useState("pretty"),[r,l]=G.useState(!1),c=n?.httpResponse,u=n?.executing??!1,d=c?.error;if(u)return w.jsx("div",{className:"flex items-center justify-center p-12",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(tv,{className:"w-5 h-5 animate-spin text-blue-500 dark:text-blue-400"}),w.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Sending request..."})]})});if(d)return w.jsx("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-4",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(JT,{className:"w-5 h-5 text-rose-500 dark:text-rose-400"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-rose-500 dark:text-rose-400",children:"Error"}),w.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:d})]})]})});if(!c)return w.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[w.jsx(mR,{className:"w-12 h-12 text-neutral-300 dark:text-neutral-600 mb-4"}),w.jsx("p",{className:"text-sm text-neutral-400 dark:text-neutral-500",children:"Hit Send to see what happens"})]});const p=L2(c.headers),m=()=>{if(e==="raw"&&p!=="image"&&p!=="binary")return w.jsx(v0,{content:c.body});switch(p){case"json":return w.jsx(_2,{content:c.body});case"xml":return w.jsx(S2,{content:c.body});case"yaml":return w.jsx(E2,{content:c.body});case"sse":return w.jsx(k2,{content:c.body});case"image":return w.jsx(T2,{content:c.body});case"binary":return w.jsx(w2,{content:c.body});default:return w.jsx(v0,{content:c.body})}};return w.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[w.jsxs("div",{className:"flex gap-2 shrink-0 mb-4",children:[p!=="binary"&&p!=="image"&&w.jsxs("div",{className:"flex gap-1 p-1 bg-neutral-100 dark:bg-white/5 rounded-lg",children:[w.jsx("button",{onClick:()=>s("pretty"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e==="pretty"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Pretty"}),w.jsx("button",{onClick:()=>s("raw"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e==="raw"?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:"Raw"})]}),w.jsxs("button",{onClick:()=>l(!r),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all ${r?"bg-white dark:bg-white/10 text-neutral-800 dark:text-neutral-100 shadow-sm":"bg-neutral-100 dark:bg-white/5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200"}`,children:["Headers (",Object.keys(c.headers).length,")"]})]}),r&&w.jsx("div",{className:"bg-neutral-100 dark:bg-white/5 rounded-xl border border-neutral-200 dark:border-white/10 overflow-hidden shrink-0 mb-4",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b border-neutral-200 dark:border-white/10",children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Header"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"Value"})]})}),w.jsx("tbody",{children:Object.entries(c.headers).map(([g,y])=>w.jsxs("tr",{className:"border-b border-neutral-100 dark:border-white/5 last:border-0",children:[w.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-600 dark:text-neutral-300",children:g}),w.jsx("td",{className:"px-4 py-2 font-mono text-xs text-neutral-500 dark:text-neutral-400",children:y})]},g))})]})}),w.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:m()})]})}function z2(){const{request:n,newRequest:e}=fs();return n?w.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[w.jsxs("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 flex items-center gap-2 shrink-0",children:[w.jsx("div",{className:"flex-1",children:w.jsx(IR,{})}),w.jsx("button",{onClick:e,className:"p-1.5 hover:bg-neutral-100 dark:hover:bg-white/10 rounded-md transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200",title:"New request",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),w.jsx("div",{className:"pl-2 pr-3 py-2 border-b border-neutral-200 dark:border-white/5 overflow-visible shrink-0",children:w.jsx(eC,{})}),w.jsxs("div",{className:"flex-1 pl-2 pr-3 py-2 flex flex-col min-h-0 overflow-hidden",children:[n.httpResponse&&w.jsx("h2",{className:"text-[10px] font-medium text-neutral-400 dark:text-neutral-500 uppercase tracking-wider mb-2 shrink-0",children:"Response"}),w.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:w.jsx(j2,{})})]})]}):w.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-400 dark:text-neutral-500",children:"No active request"})}function I2(n){return n>=200&&n<300?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":n>=300&&n<400?"bg-amber-500/20 text-amber-400 border-amber-500/30":n>=400&&n<500?"bg-orange-500/20 text-orange-400 border-orange-500/30":n>=500?"bg-rose-500/20 text-rose-400 border-rose-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}function B2(n){return n<1024?`${n} B`:n<1024*1024?`${(n/1024).toFixed(2)} KB`:`${(n/(1024*1024)).toFixed(2)} MB`}function U2(){const{request:n}=fs();if(!n?.httpResponse)return null;const e=n.httpResponse;return w.jsxs("div",{className:"px-3 py-2 flex items-center gap-4 text-xs shrink-0",children:[w.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-semibold border ${I2(e.statusCode)}`,children:e.statusCode>0?e.status:"Error"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Time:"}),w.jsxs("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:[e.duration,"ms"]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Size:"}),w.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-medium",children:B2(e.body.size)})]})]})}function P2(){return w.jsxs("div",{className:"h-screen flex bg-neutral-50 dark:bg-[#0d0d0d] py-2 pr-2 pl-1 gap-2",children:[w.jsx(NR,{}),w.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden gap-2",children:[w.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:w.jsx(z2,{})}),w.jsx(U2,{})]})]})}function V2(){return w.jsx(PT,{children:w.jsx(P2,{})})}let no={};async function H2(){try{const n=await fetch("/config.json");if(n.ok){const e=await n.json();no={...no,...e}}else console.warn("Failed to load config.json, using defaults");return no}catch(n){return console.warn("Error loading config:",n),no}}H2().then(()=>{_S.createRoot(document.getElementById("root")).render(w.jsx(G.StrictMode,{children:w.jsx(KS,{client:Q0,children:w.jsx(V2,{})})}))});
